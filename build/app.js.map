{"version":3,"sources":["webpack://stalk/./src/app.css","webpack://stalk/./src/components/app-toolbar/app-toolbar.css","webpack://stalk/./src/components/app-toolbar/menu-list.css","webpack://stalk/./src/components/customization/form-modal-content.css","webpack://stalk/./src/components/datasource/datasource-form-modal-content.css","webpack://stalk/./src/components/span-logs/span-log-item.css","webpack://stalk/./src/components/span-logs/span-logs.css","webpack://stalk/./src/components/span-process-tags/span-process-tags.css","webpack://stalk/./src/components/span-summary/span-summary.css","webpack://stalk/./src/components/span-tags/span-tags.css","webpack://stalk/./src/components/span-tooltip/span-tooltip.css","webpack://stalk/./src/components/spans-table/spans-table.css","webpack://stalk/./src/components/stage-traces/stage-traces-modal-content.css","webpack://stalk/./src/components/stage-traces/stage-traces-table.css","webpack://stalk/./src/components/timeline-wrapper/timeline-wrapper.css","webpack://stalk/./src/components/trace-search/jaeger-search.css","webpack://stalk/./src/components/trace-search/trace-search-results-table.css","webpack://stalk/./src/components/trace-search/zipkin-search.css","webpack://stalk/./src/components/trace-tooltip/trace-tooltip.css","webpack://stalk/./src/components/ui/context-menu/context-menu.css","webpack://stalk/./src/components/ui/tooltip/tooltip.css","webpack://stalk/./src/components/ui/widget-toolbar/widget-toolbar-multi-select.css","webpack://stalk/./src/components/ui/widget-toolbar/widget-toolbar-select.css","webpack://stalk/./src/components/ui/widget-toolbar/widget-toolbar.css","webpack://stalk/./src/global-styles/dock-panel.css","webpack://stalk/./src/global-styles/flatpickr.css","webpack://stalk/./src/global-styles/form.css","webpack://stalk/./src/global-styles/noty.css","webpack://stalk/./src/components/app-toolbar/menu-list.css?1590","webpack://stalk/./src/components/app-toolbar/menu-list.ts","webpack://stalk/./src/model/datasource/interfaces.ts","webpack://stalk/./src/model/jaeger.ts","webpack://stalk/./src/model/zipkin.ts","webpack://stalk/./src/model/db.ts","webpack://stalk/./src/model/datasource/manager.ts","webpack://stalk/./src/model/span-group/span-group-node.ts","webpack://stalk/./src/model/span-group/span-group.ts","webpack://stalk/./src/model/stage.ts","webpack://stalk/./src/utils/interval-helper.ts","webpack://stalk/./src/components/ui/tooltip/tooltip-manager.ts","webpack://stalk/./src/components/ui/tooltip/tooltip.css?da4e","webpack://stalk/./src/components/ui/modal/modal.ts","webpack://stalk/./src/components/ui/modal/modal-manager.ts","webpack://stalk/./src/components/datasource/datasource-form-modal-content.css?a076","webpack://stalk/./src/components/datasource/datasource-form-modal-content.ts","webpack://stalk/./src/utils/format-microseconds.ts","webpack://stalk/./src/components/stage-traces/stage-traces-table.css?621b","webpack://stalk/./src/components/stage-traces/stage-traces-table.ts","webpack://stalk/./src/components/stage-traces/stage-traces-modal-content.css?c646","webpack://stalk/./src/components/stage-traces/stage-traces-modal-content.ts","webpack://stalk/./src/components/app-toolbar/app-toolbar.css?76e5","webpack://stalk/./src/components/app-toolbar/app-toolbar.ts","webpack://stalk/./src/model/span-grouping/trace.ts","webpack://stalk/./src/model/span-grouping/process.ts","webpack://stalk/./src/model/span-grouping/service-name.ts","webpack://stalk/./src/components/customization/typescript-manager.ts","webpack://stalk/./src/model/interfaces.ts","webpack://stalk/./src/model/span-grouping/manager.ts","webpack://stalk/./src/components/ui/color-assigner-mpn65.ts","webpack://stalk/./src/model/span-coloring-manager.ts","webpack://stalk/./src/model/span-labelling-manager.ts","webpack://stalk/./src/model/trace.ts","webpack://stalk/./src/components/ui/color-helper.ts","webpack://stalk/./src/components/timeline/interaction.ts","webpack://stalk/./src/model/error-detection.ts","webpack://stalk/./src/components/timeline/span-view.ts","webpack://stalk/./src/components/timeline/span-group-view.ts","webpack://stalk/./src/utils/ticks.ts","webpack://stalk/./src/components/timeline/axis.ts","webpack://stalk/./src/components/timeline/mouse-handler.ts","webpack://stalk/./src/model/span-grouping/span-grouping.ts","webpack://stalk/./src/components/timeline/decorations/base.ts","webpack://stalk/./src/components/timeline/decorations/span-connection.ts","webpack://stalk/./src/components/timeline/decorations/interval-highlight.ts","webpack://stalk/./src/components/timeline/selection-view.ts","webpack://stalk/./src/components/span-tooltip/span-tooltip.css?128b","webpack://stalk/./src/components/span-tooltip/span-tooltip-content.ts","webpack://stalk/./src/components/timeline/decorations/vertical-line.ts","webpack://stalk/./src/components/ui/widget-toolbar/widget-toolbar.css?666f","webpack://stalk/./src/components/ui/widget-toolbar/widget-toolbar-select.css?64ac","webpack://stalk/./src/components/ui/widget-toolbar/widget-toolbar-select.ts","webpack://stalk/./src/components/ui/context-menu/context-menu-manager.ts","webpack://stalk/./src/components/ui/context-menu/context-menu.css?093b","webpack://stalk/./src/utils/copy-to-clipboard.ts","webpack://stalk/./src/components/timeline/timeline-view.ts","webpack://stalk/./src/components/ui/widget-toolbar/widget-toolbar-multi-select.css?86f9","webpack://stalk/./src/components/ui/widget-toolbar/widget-toolbar-multi-select.ts","webpack://stalk/./src/components/customization/form-modal-content.css?f51c","webpack://stalk/./src/components/customization/span-coloring-form-modal-content.ts","webpack://stalk/./src/components/customization/span-grouping-form-modal-content.ts","webpack://stalk/./src/components/customization/span-labelling-form-modal-content.ts","webpack://stalk/./src/components/timeline-wrapper/timeline-wrapper.css?5976","webpack://stalk/./src/components/timeline-wrapper/timeline-wrapper.ts","webpack://stalk/./src/components/ui/widget-wrapper.ts","webpack://stalk/./src/components/customization/span-filtering-form-modal-content.ts","webpack://stalk/./src/components/spans-table/spans-table.css?d0cf","webpack://stalk/./src/components/spans-table/spans-table.ts","webpack://stalk/./src/components/span-summary/span-summary.css?d471","webpack://stalk/./src/components/span-summary/span-summary.ts","webpack://stalk/./src/utils/create-element.ts","webpack://stalk/./src/components/span-tags/span-tags.css?4d5d","webpack://stalk/./src/components/span-tags/span-tags.ts","webpack://stalk/./src/components/span-process-tags/span-process-tags.css?bb89","webpack://stalk/./src/components/span-process-tags/span-process-tags.ts","webpack://stalk/./src/components/span-logs/span-log-item.css?f2eb","webpack://stalk/./src/components/span-logs/span-log-item.ts","webpack://stalk/./src/components/span-logs/span-logs.css?b11a","webpack://stalk/./src/components/span-logs/span-logs.ts","webpack://stalk/./src/model/settings-manager.ts","webpack://stalk/./src/components/trace-search/trace-search-results-table.css?4ce7","webpack://stalk/./src/components/trace-search/trace-search-results-table.ts","webpack://stalk/./src/utils/map.ts","webpack://stalk/./src/components/trace-tooltip/trace-tooltip.css?c4b0","webpack://stalk/./src/components/trace-tooltip/trace-tooltip-content.ts","webpack://stalk/./src/components/traces-scatter-plot/traces-scatter-plot.ts","webpack://stalk/./src/utils/to.ts","webpack://stalk/./src/components/trace-search/jaeger-search.css?6aee","webpack://stalk/./src/components/trace-search/jaeger-search.ts","webpack://stalk/./src/components/trace-search/zipkin-search.css?be02","webpack://stalk/./src/components/trace-search/zipkin-search.ts","webpack://stalk/./src/app.css?a672","webpack://stalk/./src/global-styles/dock-panel.css?0dd2","webpack://stalk/./src/global-styles/noty.css?e05f","webpack://stalk/./src/global-styles/flatpickr.css?95e8","webpack://stalk/./src/global-styles/form.css?0a9b","webpack://stalk/./src/app.ts"],"names":["___CSS_LOADER_EXPORT___","push","module","id","ToolbarMenuList","options","element","document","createElement","items","width","this","style","headerEl","appendChild","emptyEl","forEach","addItem","slice","parentElement","removeChild","el","item","classList","add","textEl","onTextClick","textContent","text","buttonsContainer","buttons","button","buttonEl","innerHTML","pencil","delete","close","plus","icon","setAttribute","onClickHandler","onItemClick","bind","addEventListener","index","length","removedItem","splice","removeEventListener","removeItemAt","e","indexOf","targetEl","target","closest","buttonId","getAttribute","onButtonClick","DataSourceType","JaegerAPI","headers","baseUrl","Error","trim","username","password","encoded","Buffer","from","toString","query","tags","tagKey","JSON","stringify","response","get","data","map","convertFromJaegerTrace","getServices","serviceName","traceId","traceID","path","queryParams","res","request","method","ok","status","statusText","json","url","Object","keys","URL","search","URLSearchParams","fetch","rawTrace","rawTrace_","spans","processes","rawSpan","spanID","startTime","duration","span","operationName","finishTime","references","logs","refTypeMapping","CHILD_OF","FOLLOWS_FROM","ref","type","refType","spanId","tag","key","value","rawLog","log","timestamp","fields","field","processID","process","ZipkinAPI","convertFromZipkinTrace","rawSpans","console","error","name","localEndpoint","parentId","annotations","anno","annotation","AppDatabase","super","version","stores","dataSources","spanGroupings","spanLabellings","spanColorings","settings","table","DataSourceManagerEvent","singletonIns","DataSourceManager","datasources","apis","db","open","toArray","Promise","all","ds","doNotPersistToDatabase","api","createAPI","put","sort","a","b","toLowerCase","localeCompare","emit","ADDED","x","update","UPDATED","dsOrId","getIndex","REMOVED","JAEGER","ZIPKIN","SpanGroupNode","children","parent","follows","SpanGroup","spansById","_startTimestamp","Infinity","_finishTimestamp","missingNodeDependents","nodes","rootNodes","sets","set","Array","Math","min","max","setupNode","spanOrId","isStartTimeInvalid","isFinishTimeInvalid","node","nodeOf","parentNode","nodeIndex","rootNodeIndex","childNode","undefined","Set","child","dependencies","has","size","refSpanId","refNode","createNew","StageEvent","_singletonIns","Stage","traces","mainSpanGroup","spanTags","logFields","processTags","spanSelfTimes","window","stage","values","trace","currentTrace","spanCount","removeTrace","childrenTime","intervals","sorted","acc","interval","lastInterval","union","filter","n","reduce","selfTime","updateSpanSelfTimeStats","TRACE_ADDED","Countly","add_event","count","segmentation","remove","TRACE_REMOVED","selfTimesArr","spanSelfTimeStats","getAll","startTimestamp","finishTimestamp","TooltipManager","tippyOptions","tippyInstances","disposeAllTooltips","props","t","singletonTippyInstance","delay","updateDuration","theme","placement","elements","destroy","ModalCloseTriggerType","ModalEvent","Modal","shortid","generate","container","overlayContainer","contentContainer","lastElementBlurTimeStamp","binded","onOverlayClick","onContentContainerKeyDown","onBlur","position","top","left","right","bottom","background","display","justifyContent","alignItems","borderRadius","zIndex","contentContainerClassName","content","shouldCloseOnOverlayClick","capture","shouldCloseOnEscPress","body","triggerType","ESC_KEY","shouldAutoFocusFirstElement","focusTrap","escapeDeactivates","allowOutsideClick","activate","removeAttribute","err","initialFocus","deactivate","which","HTMLInputElement","HTMLSelectElement","HTMLButtonElement","HTMLTextAreaElement","stopPropagation","blur","timeStamp","OVERLAY_CLICK","onClose","CLOSE_METHOD_CALL","CLOSE","removeFocusTrap","removeAllListeners","ModalManager","onKeyDown","modal","handleEscKeyPress","modalEl","on","onModalClose","mount","setupFocusTrap","unmount","dispose","DataSourceFormModalContent","form","typeSelect","nameInput","baseUrlLabel","baseUrlInfoIconContainer","baseUrlInput","basicAuthCheckbox","usernameRow","usernameInput","passwordRow","passwordInput","cancelButton","saveButton","testButton","baseUrlInfoTooltipContent","onCancelButtonClick","onFormSubmit","onTestButtonClick","onBasicAuthCheckboxChange","onTypeSelectChange","els","initForm","baseUrlInfoTooltipTippy","multiple","maxWidth","preventDefault","getSingleton","findModalFromElement","action","formEl","dataSource","test","disabled","timeout","show","message","titleText","isBasicAuthEnabled","typeRow","nameRow","required","placeholder","baseUrlRow","baseUrlLabelContainer","basicAuthRow","checked","warningContainer","leftButtons","rightButtons","formatMicroseconds","microseconds","bestScale","scales","unit","scale","maximumFractionDigits","floor","num","Number","toFixed","StageTracesTableViewEvent","StageTracesTableView","traceRows","tableContainer","viewPropertiesCache","height","formatTimestamp","formatDuration","formatServices","rowSelectionChanged","onStageTraceAdded","onStageTraceRemoved","columnDefinitions","title","formatter","errorCount","services","headerSort","getAllTraces","trace2RowData","autoResize","layout","movableColumns","selectable","columns","initialSort","column","dir","selectableRangeMode","keybindings","footerElement","placeholderElement","replaceData","rows","SELECTIONS_UPDATED","spanCountsByService","cell","format","getValue","TraceRowData","getRow","getData","html","ctrlKey","metaKey","getSelectedRows","deselectAll","selectRow","updateTraces","force","forceRerender","firstCells","querySelectorAll","randomCells","widthOfFirstCell","offsetWidth","every","redraw","deselectRow","parentEl","setHeight","redrawTable","removeListener","StageTracesModalContent","tracesTable","selectedTraceIds","topContainer","tracesTablePlaceholder","selectionText","removeFromStageButton","inited","onWindowResize","onTableSelectionUpdated","onRemoveFromStageButtonClick","onTraceAdded","onTraceRemoved","elsTP","leftContainer","rightContainer","w","offsetHeight","h","init","resize","selectedTraces","traceIds","AppToolbar","btn","newDataSource","stageTraces","clearStage","tracesBadgeCount","dataSourceMenuList","header","empty","removePopConfirmContainer","removePopConfirmButton","clearStagePopConfirmContainer","clearStagePopConfirmButton","stageTracesModalContent","onDataSourceManagerAdded","onDataSourceManagerUpdated","onDataSourceManagerRemoved","onDataSourceMenuListButtonClick","onDataSourceMenuListTextClick","onStageTracesButtonClick","onNewDataSourceButtonClick","onNewDataSourceModalClose","onDataSourceRemovePopConfirmButtonClick","onDataSourceSearchModalClosed","onStageTracesModalClose","onClearStagePopConfirmButtonClick","dsManager","dataSourcesMenuList","leftPane","middlePane","rightPane","divider","initTooltips","initTippyInstances","initBadgeCounts","dsHeaderText","updateDataSourceList","bindEvents","addToSingleton","tippyInstaces","appendTo","trigger","interactive","dataSourceRemovePopConfirm","lazy","arrow","instance","popperInstance","reference","clientWidth","clientHeight","getBoundingClientRect","clearStagePopConfirm","removeAllItems","dataSourceFormModalContent","getElement","hide","itemBBRect","getItems","parentMenuBBRect","tippyIns","assign","showDataSourceSearchModal","onDataSourceClick","dsId","updateTracesBadgeCount","onShow","addTrace","removeFromSingleton","tippy","unbindEvents","groupBy","processId","processName","ipv4","port","serviceNameOf","TypeScriptManager","allowNonTsExtensions","defaultInterfacesDisposable","uri","worker","client","input","getEmitOutput","outputFiles","code","functionName","Function","languageFeatures","DiagnostcsAdapter","prototype","_doValidate","resource","_worker","then","promises","noSyntaxValidation","noSemanticValidation","_defaults","getDiagnosticsOptions","getSyntacticDiagnostics","getSemanticDiagnostics","diagnostics","markers","p","c","concat","d","diagnosticCodesToIgnore","_convertDiagnostics","_selector","SpanGroupingManagerEvent","SpanGroupingManager","builtInSpanGroupings","customSpanGroupings","rawOptions","raw","allGroupingClasses","generateFunction","compiledCode","groupingKey","removeds","MPN65ColorAssigner","colors","keyColorIndexMap","rawColors","shuffle","excludeColors","SpanColoringManagerEvent","SpanColoringManager","builtInOptions","operationColoringOptions","serviceColoringOptions","selfTimeColoringOptions","customOptions","allOptions","colorBy","coloringKey","operationColorAssigner","colorFor","serviceColorAssigner","selfTimeColoringScale","chroma","padding","getSpanSelfTime","selfTimeStats","getSpanSelfTimeStats","hex","ratio","SpanLabellingManagerEvent","SpanLabellingManager","operationLabellingOptions","serviceOperationLabellingOptions","labelBy","labellingKey","Trace","rootSpan","hasOwnProperty","WHITE","BLACK","textColorFor","color","TimelineInteractableElementAttribute","TimelineInteractableElementType","checkSpan","checkLogField","SVG_NS","SpanView","createElementNS","barRect","labelText","clipPath","clipPathRect","errorTriangle","logViews","sharedOptions","barRadius","barHeight","barMinWidth","barMarginVertical","labelFontSize","labelOffsetLeft","labelSnappedOffsetLeft","labelOffsetTop","errorTriangleColor","errorTriangleSize","computedStyles","y","rowHeight","barColorDefault","barColorHover","labelColor","borderColor","cursor","svgDefs","parent1","parent2","baseColor","alpha","css","textColor","darken","updateColorStyle","updateLabelText","hideLabel","SPAN_VIEW_CONTAINER","l","line","logAdjustmentX","logX","axis","input2output","newSharedOptions","labelFor","barColor","labelTextColor","strokeWidth","strokeColor","rowIndex","dontApplyTransform","logView","startX","logId","absoluteX","threshold","distance","abs","SpanGroupLayoutType","SpanGroupView","spanViews","spansContainer","seperatorLine","layoutType","FILL","rowsAndSpanIntervals","spanIdToRowIndex","spanGroup","group","label","spansContainerMarginTop","spansContainerMarginBottom","labelOffsetX","labelOffsetY","seperatorLineColor","seperatorLineWidth","isCollapsed","defineProperty","getComputedStyles","prefixChar","GROUP_VIEW_LABEL_TEXT","timelinePanel","groupNamePanel","spanView","spanViewSharedOptions","reuse","parent3","v","newOptions","s","setSharedOptions","nodeQueue","orphanNodes","spanA","spanB","i","shift","availableRowIndex","getAvailableRow","COMPACT","minRowIndex","parentOrFollows","parentRowIndex","WATERFALL","showLabel","updateWidth","updateVerticalPosition","updateHorizontalPosition","reverse","unshift","spanIntervals","f","e10","sqrt","e5","e2","start","stop","ticks","step","power","LN10","pow","tickIncrement","isFinite","ceil","Axis","inputRange","outputRange","reset","offset","minScale","preventTranslatingOutOfRange","factor","anchorOutputPoint","newScale","delta","minInput","minOutput","maxInput","maxOutput","originInput","output2input","inputRelative","output","send","cancel","MouseHandlerEvent","MouseHandler","machine","Machine","initial","context","firstDown","secondDown","states","idle","entry","MOUSE_DOWN","actions","MOUSE_UP","MOUSE_MOVE","MOUSE_LEAVE","waitForInitialUp","cond","with","to","waitForSecondDown","DOUBLE_CLICK_TIMEOUT","waitForSecondUp","pan","exit","clearFirstDown","event","clearSecondDown","saveEventAsFirstDown","mouseEvent","saveEventAsSecondDown","emitdIdleMove","IDLE_MOVE","emitdIdleLeave","IDLE_LEAVE","emitClickForFirstDown","CLICK","emitClickForSecondDown","emitDoubleClick","DOUBLE_CLICK","setDoubleClickTimeout","clearDoubleClickTimeout","emitPanStart","PAN_START","emitPanEnd","PAN_END","emitPanMove","PAN_MOVE","guards","isDifferentButton","refMouseEvent","isTooLateForDoubleClick","isNearby","deltaX","offsetX","deltaY","offsetY","service","onMouseDown","onMouseMove","onMouseUp","onMouseLeave","onWheel","onContextMenu","WHEEL","SpanGrouping","groups","spanIdToGroupId","result","groupId","groupName","BaseDecoration","timelineView","underlayElements","overlayElements","args","decorationUnderlayPanel","decorationOverlayPanel","SpanConnectionDecoration","spanId1","spanId2","strokeDasharray","hoverStrokeWidth","hoverStrokeColor","groupView1","spanView1","groupView2","spanView2","findSpanView","SPAN_CONNECTION","spanView1Props","groupView1Props","spanView2Props","groupView2Props","halfBarHeight","shouldHide","fromX","fromY","toX","toY","angle","atan2","PI","isVertical","fromControlX","fromControlY","toControlX","toControlY","toControlXOffset","verticalDistance","distanceX","fromSpanId","toSpanId","IntervalHighlightDecoration","lineColor","lineWidth","lineDashArray","fillColor","lineLeft","lineRight","rect","timelineComputedStyles","contentHeight","xStart","xFinish","isNaN","SelectionView","startPos","currentPos","durationText","backgroundColor","borderWidth","textSize","xLeft","yTop","mouseX","mouseY","calculateRect","SpanTooltipContent","headerTime","headerOperationName","headerRight","serviceNameContainer","nearbyLogsCacheId","showNearbyLogs","showServiceName","spanTagsToShow","processTagsToShow","headerLeft","serviceNameLeft","updateSpan","setupTags","setupProcessTags","totalTime","timeText","tagKeysSorted","displayedTagCount","tagEl","previousLogsCacheId","nearbyLogs","getNearbyLogViews","join","time","getInputRange","logContainer","extraClass","VerticalLineDecoration","displayTime","timeOffsetToBottom","timeOffsetToLine","timeFontColor","timeFontSize","relativeTimeFromStart","isOnLeftSide","textX","textY","panelTranslateY","WidgetToolbarSelect","selectedItemId","onClick","render","newItems","iconHtml","textHtml","altTextHtml","altText","itemEl","querySelector","currentSelectedItem","itemId","onSelect","ContextMenuEvent","ContextMenuManager","_isShowing","onMenuItemClick","menuItems","menu","onHide","updateItems","selectItem","menuItem","onSelected","emitEvent","copyToClipboard","str","select","execCommand","TimelineViewEvent","TimelineTool","TimelineView","svg","defs","tickContainer","tickElements","bodyContainer","bodyClipPath","bodyClipPathRect","decorations","logVerticalLine","selectedSpanIntervalHighlight","selectedSpanConnections","hoveredSpanConnections","mouseHandler","groupViews","groupLayoutMode","hoveredElements","selectionView","_tool","MOVE","spanTooltipContent","spanTooltipStuffCache","svgBBTop","idleMouseClientX","contextMenuManager","onMouseIdleMove","onMouseIdleLeave","onMousePanStart","onMousePanMove","onMousePanEnd","timeRulerHeight","timeRulerTickLength","timeRulerTickLineColor","timeRulerTickTextOffsetTop","timeRulerTickTextColor","timeRulerTickTextSize","initialSpanMarginToViewport","setAttributeNS","tooltipShadowFilter","arrowMarker","spanGrouping","setupPanels","spanTooltipTippy","updateOutputRange","g","handleAxisUpdate","updateAllDecorations","updateTicks","updateSeperatorLineWidths","keepPanelTraslateYInScreen","svgRect","forceReprepare","decoration","prepare","matches","hasAttribute","groupLayoutType","setLayoutType","updateGroupVerticalPositions","spanGroupingOptions","addSpan","setSpanViewSharedOptions","getAllSpanViews","updateColors","tool","isSelectedSpanRemoved","removeSpan","selectedSpanId","selectSpan","groupView","getSpanViewById","predicate","getAllGroups","groupNameCounter","groupLabel","setPanelTranslateY","updatePosition","translate","handleAxisTranslate","bodyHeight","newTranslateY","newPanelTranslateY","offsetSnapToBottom","scaleFactor","anchorPosX","zoom","handleAxisZoom","silent","previousSelectedSpanView","hideLogs","showLogs","bringSpanViewToTop","showSelectedSpanConnections","SPAN_SELECTED","spanIds","minStartTime","maxFinishTime","minY","maxY","spanStyles","yBottom","focus","spanYTop","spanYBottom","viewportTopY","viewportBottomY","spanXLeft","spanXRight","viewportLeftX","viewportRightX","getOutputRange","translateX","isShowing","updateMousePos","clientX","getInteractedElementsFromMouseEvent","previousHoveredElements","removed","added","getPropsFromContainer","spanConnectionId","getPropsFromPathElement","spanConnection","updateStyle","spanViewProp","groupViewProp","showHoveredSpanConnections","RULER","movementX","translateY","movementY","isMouseLeaveBeforeUp","clickedSpanId","clickedGroupLabelId","clickedSpanConnectionTargetSpanId","getPropsFromLabelText","findGroupView","toggleView","translateToSpanIfNotInViewport","clientY","SHOW_SPAN_IN_TABLE_VIEW","focusSpans","copySpanToClipboard","tickCount","round","tick","that","handleParentConnection","parentRef","refGroupView","refSpanView","findSpanViews","r","WidgetToolbarMultiSelect","itemsContainer","searchInput","onSearchInput","onItemContainerClick","overflow","maxItemContainerHeight","overflowY","maxHeight","fuse","selected","emptyMessage","searchQuery","results","itemElement","itemsByCategories","category","categories","categoryHeaderElement","onUnselect","SpanColoringFormModalContent","monacoContainer","testResultContainer","tsManager","onSaveButtonClick","onMonacoEditorContentChange","initMonacoEditor","rawCode","model","editor","minimap","enabled","setModel","addCommand","activeElement","editorContentChangeListener","onDidChangeContent","testedSpans","showTestResult","rv","description","success","warning","tsCode","compiledJSCode","compile","colorByFn","customErr","spansToTest","SpanGroupingFormModalContent","groupByFn","SpanLabellingFormModalContent","labelByFn","TimelineWrapper","timeline","toolbar","toolbarBtn","moveTool","rulerTool","groupingMode","spanLabellingMode","spanColoringMode","spanTooltipCustomization","timelineContainer","sampleTraceButtonHotrod","sampleTraceButtonRaftConsensus","spanGroupingMode","onSpanGroupingModeMenuItemClick","onCustomSpanGroupingModalClose","onSpanLabellingMenuItemClick","onCustomSpanLabellingModalClose","onSpanColoringMenuItemClick","onCustomSpanColoringModalClose","onGroupLayoutMenuItemClick","onMoveToolClick","onRulerToolClick","onSpanTooltipCustomizationMultiSelectSelect","onSpanTooltipCustomizationMultiSelectUnselect","onSpanTooltipCustomizationMultiSelectSearchInput","onKeyUp","onSampleTraceButtonHotrodClick","onSampleTraceButtonRaftConcensusClick","spanGroupingModeMenu","spanLabellingModeMenu","spanColoringModeMenu","groupLayoutModeMenu","spanTooltipCustomizationMultiSelect","prepareToolbar","prepareEmptyMessage","innerContainer","dragDropText","dataSourcesText","sampleTraceText","createTextNode","raftConsensusSimulation","toolbarEl","initDropdowns","updateSelectedTool","tooltipManager","dropdowns","getSelectedSpanId","getMainSpanGroup","timelineToolBeforeTemporarySwitchToRulerTool","updateTool","customSpanGroupingFormModalContent","customSpanGroupingRawOptions","getOptions","updateSpanGrouping","customSpanLabellingFormModalContent","customSpanLabellingRawOptions","spanLabellingOptions","updateSpanLabelling","customSpanColoringFormModalContent","customSpanColoringRawOptions","spanColoringOptions","updateSpanColoring","updateGroupLayoutMode","getSpanTooltipContent","setShowServiceName","setShowNearbyLogs","replace","newTags","setSpanTagsToShow","setProcessTagsToShow","warn","unselect","toolButtons","selectedTool","tooltipOptions","getAllSpanTags","getAllProcessTags","default","updateSpanTooltipCustomizationMultiSelect","getTraces","WidgetWrapper","Widget","closable","msg","onResize","onCloseRequest","onAfterShow","SpanFilteringFormModalContent","filterByFn","getAllSpans","filterBy","SpansTableViewEvent","SpansTableView","spanRows","removeFilter","onColumnsMultiSelectSelect","onColumnsMultiSelectUnselect","onColumnsMultiSelectSearchInput","onFilterButtonClick","onRemoveFilterButtonClick","onSpanFilteringModalClose","formatTags","formatProcessTags","onRowClick","onRowContext","columnsMultiSelect","span2RowData","rowClick","rowContext","updateColumnsMultiSelectItems","columnsSelection","includesErrorTag","currentColumns","getColumnDefinitions","col","getColumnFieldSelectorByTag","addColumnGracefullyBeforeTagsOrProcessTagsColumn","getColumnIdByTag","updateTableData","spanRow","def","getColumnFieldSelectorByProcessTag","getColumnIdByProcessTag","TAG_ID_PREFIX","PROCESS_TAG_ID_PREFIX","columnDefinition","columnDef","addColumn","fieldToDelete","deleteColumn","spanCopy","spanOriginal","spanRowData","filterFn","spanFilteringFn","updateRowSelectionGracefully","spanFilteringFormModalContent","spanFilteringRawOptions","showFilterModal","row","scrollToRow","columnCount","columnNo","cells","SHOW_SPAN_IN_TIMELINE_VIEW","SpanSummaryView","onTimelineSpanSelected","onSpansTableSpanSelected","spansTable","referencesBody","refSpan","createElementFromHTML","htmlString","COMMENT_PSEUDO_COMMENT_OR_LT_BANG","RegExp","div","firstChild","SpanTagsView","tagItems","inputContainer","renderTagItems","SpanProcessTagsView","processTagItems","SpanLogItemView","onHeaderClick","isExpanded","timeStr","renderExpanded","renderCollapsed","hasError","inlineLogFieldsHtml","logFieldsHtml","logObject","SpanLogsView","logItemViews","expandAll","collapseAll","onExpandAllClick","onCollapseAllClick","onScroll","renderLogItems","unhighlight","logItemView","expand","collapse","hideLogVerticalLine","logItemEl","timestampStr","showLogVerticalLine","SettingsKey","SettingsManager","TraceSearchResultsTableEvent","TraceSearchResultsTable","loadingContainer","formatInStage","rowDblClick","rowFormatter","inStage","toggleLoading","showInStageColumn","TRACE_DOUBLE_CLICKED","traceRowData","traceInStage","rowEl","indicateTracesOverlappingWithStage","end","fontWeight","selectTrace","shouldShow","start1","stop1","start2","stop2","newval","constrain","low","high","TraceTooltipContent","TracesScatterPlotEvent","TracesScatterPlot","chartContainer","xAxisLine","yAxisLine","stageRect","colorAssigner","traceTooltipContent","traceTooltipStuffCache","svgBBLeft","points","xAxisTicks","yAxisTicks","onStageUpdated","xAxisTickInterval","yAxisTickInterval","axisTickLength","axisTickWidth","axisTickLabelColor","axisTickLabelSize","axisTickLabelOffset","axisMarginTop","axisMarginBottom","axisMarginLeft","axisMarginRight","axisLineColor","axisLineWidth","pointFillOpacity","pointFillOpacityHover","pointRadius","pointsMarginLeft","pointsMarginTop","pointsMarginRight","pointsMarginBottom","showStageBoundaries","traceTooltipTippy","minDuration","maxDuration","maxStartTime","sceneStats","circle","getX","getY","tickLine","xAxisTickTimestamps","areTicksSameDay","firstDate","Date","date","isSameDay","ts","updateStageRect","updateAxises","updatePoints","newHoveredPoint","getPointFromMouseEvent","hoveredPoint","unhoveredPoint","POINT_UNHOVERED","updateTrace","POINT_HOVERED","clickedPoint","POINT_CLICKED","stageInterval","rectStartTime","rectFinishTime","x1","x2","promise","JaegerLookbackValue","JaegerSearch","tracesScatterPlot","traceResults","isSearchFormHidden","statusContainer","statusContent","mainContainer","scatterPlotContainer","footer","addToStageButton","searchByTraceId","searchFormToggle","serviceSelect","operationSelect","tagsInput","lookbackSelect","customLookbackInput","minDurationInput","maxDurationInput","limitInput","onDataSourceManagerUpdate","onSearchByTraceIdFormSubmit","onSearcFormSubmit","onSearchFormSubmit","onServiceSelectChange","onLookbackSelectChange","onTableTraceDoubleClicked","onAddToStageButtonClick","onTraceScatterPointClick","onStatusClick","onSearchFormToggleClick","apiFor","toggleRightPanelOverlay","titleContainer","serviceContainer","serviceTitleContainer","operationContainer","operationTitleContainer","tagsContainer","tagsTitleContainer","lookbackContainer","lookbackTitleContainer","LAST_HOUR","LAST_2_HOURS","LAST_3_HOURS","LAST_6_HOURS","LAST_12_HOURS","LAST_24_HOURS","LAST_2_DAYS","LAST_7_DAYS","CUSTOM","minDurationContainer","minDurationTitleContainer","maxDurationContainer","maxDurationTitleContainer","limitContainer","limitTitleContainer","customLookbackFlatpickr","mode","enableTime","time_24hr","dateFormat","altInput","altFormat","locale","rangeSeparator","firstDayOfWeek","testErr","getErr","serviceNames","currentValue","updateOperationsSelect","testApiAndFetchServices","operationNames","getOperations","o","traceSpans","getTrace","setTraces","resultCount","operation","parts","split","getTime","now","limitIntValue","parseInt","limit","onTracesAdd","reloadTableData","focusTrace","reloadData","errorMessage","ZipkinLookbackValue","ZipkinSearch","getSpans","spanName","annotationQuery","endTs","lookback","AppWidgetType","App","settingsManager","spanSummary","spanProcessTags","spanLogs","dockPanel","DockPanel","widgets","dropZoneEl","dataSourceSearchWidgets","onDrop","onDragOver","onDragLeave","showSpanInTableView","showSpanInTimelineView","onToolbarDataSourceClick","initDockPanelAndWidgets","timelineWidgetEl","TIMELINE","w1","h1","spansTableWidgetEl","SPANS_TABLE","w4","h4","spanSummaryWidgetEl","SPAN_SUMMARY","spanTagsWidgetEl","SPAN_TAGS","spanProcessTagsWidgetEl","SPAN_PROCESS_TAGS","spanLogsWidgetEl","SPAN_LOGS","initDropZone","loadingEl","getElementById","once","matchMedia","showTouchDeviceWarningModal","opener","tracesObj","parse","traceCount","postMessage","onTimelineWidgetResize","restoreLayout","getDockPanelLayout","component","focusSpan","errorMessages","tasks","dataTransfer","kind","file","getAsFile","parsedJson","fileContent","resolve","reject","fileReader","FileReader","onerror","onload","readAsText","readFile","openDroppedJSONFiles","m","firstTrace","isJaegerJSON","firstTraceSpans","firstSpan","isZipkinJSON","activateWidget","setTimeout","widgetWrapper","addWidget","main","currentIndex","orientation","sizes","okButton"],"mappings":"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","file":"app.js","sourcesContent":["// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../node_modules/css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"/* Main layout */\\n#app {\\n  width: 100%;\\n  height: 100%;\\n}\\n#app-toolbar {\\n  height: 3.2em;\\n}\\n#app-dock-panel {\\n  position: absolute;\\n  top: 3.2em;\\n  right: 0;\\n  bottom: 0;\\n  left: 0;\\n  padding: 0.5em;\\n}\\n\\n/* Fix tippy's fixed font-size */\\n.tippy-tooltip {\\n  font-size: inherit;\\n}\\n\\n/* Drop zone */\\n#drop-zone {\\n  display: none;\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  right: 0;\\n  bottom: 0;\\n  background: rgba(255, 255, 255, 0.85);\\n}\\n\\n#drop-zone .border {\\n  position: absolute;\\n  border: 5px dashed #ccc;\\n  top: 25px;\\n  right: 25px;\\n  bottom: 25px;\\n  left: 25px;\\n}\\n\\n#drop-zone .overlay-text {\\n  position: relative; /* This forces to render OVER .border element, because border is absolute positioned */\\n  width: 100%;\\n  height: 100%;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  font-size: 2.5em;\\n  color: #333;\\n}\\n\\n/* Touch device warning modal */\\n.touch-device-warning {\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  padding: 1em;\\n  text-align: center;\\n  width: 300px;\\n}\\n\\n.touch-device-warning svg {\\n  width: 6em;\\n  height: 6em;\\n  fill: #faad14;\\n}\\n\\n.touch-device-warning .message {\\n  font-size: 1.75em;\\n}\\n\\n.touch-device-warning button {\\n  font-size: 1.25em;\\n  margin-top: 1em;\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/app.css\"],\"names\":[],\"mappings\":\"AAAA,gBAAgB;AAChB;EACE,WAAW;EACX,YAAY;AACd;AACA;EACE,aAAa;AACf;AACA;EACE,kBAAkB;EAClB,UAAU;EACV,QAAQ;EACR,SAAS;EACT,OAAO;EACP,cAAc;AAChB;;AAEA,gCAAgC;AAChC;EACE,kBAAkB;AACpB;;AAEA,cAAc;AACd;EACE,aAAa;EACb,kBAAkB;EAClB,MAAM;EACN,OAAO;EACP,QAAQ;EACR,SAAS;EACT,qCAAqC;AACvC;;AAEA;EACE,kBAAkB;EAClB,uBAAuB;EACvB,SAAS;EACT,WAAW;EACX,YAAY;EACZ,UAAU;AACZ;;AAEA;EACE,kBAAkB,EAAE,sFAAsF;EAC1G,WAAW;EACX,YAAY;EACZ,aAAa;EACb,mBAAmB;EACnB,uBAAuB;EACvB,gBAAgB;EAChB,WAAW;AACb;;AAEA,+BAA+B;AAC/B;EACE,aAAa;EACb,uBAAuB;EACvB,mBAAmB;EACnB,YAAY;EACZ,kBAAkB;EAClB,YAAY;AACd;;AAEA;EACE,UAAU;EACV,WAAW;EACX,aAAa;AACf;;AAEA;EACE,iBAAiB;AACnB;;AAEA;EACE,iBAAiB;EACjB,eAAe;AACjB\",\"sourcesContent\":[\"/* Main layout */\\n#app {\\n  width: 100%;\\n  height: 100%;\\n}\\n#app-toolbar {\\n  height: 3.2em;\\n}\\n#app-dock-panel {\\n  position: absolute;\\n  top: 3.2em;\\n  right: 0;\\n  bottom: 0;\\n  left: 0;\\n  padding: 0.5em;\\n}\\n\\n/* Fix tippy's fixed font-size */\\n.tippy-tooltip {\\n  font-size: inherit;\\n}\\n\\n/* Drop zone */\\n#drop-zone {\\n  display: none;\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  right: 0;\\n  bottom: 0;\\n  background: rgba(255, 255, 255, 0.85);\\n}\\n\\n#drop-zone .border {\\n  position: absolute;\\n  border: 5px dashed #ccc;\\n  top: 25px;\\n  right: 25px;\\n  bottom: 25px;\\n  left: 25px;\\n}\\n\\n#drop-zone .overlay-text {\\n  position: relative; /* This forces to render OVER .border element, because border is absolute positioned */\\n  width: 100%;\\n  height: 100%;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  font-size: 2.5em;\\n  color: #333;\\n}\\n\\n/* Touch device warning modal */\\n.touch-device-warning {\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  padding: 1em;\\n  text-align: center;\\n  width: 300px;\\n}\\n\\n.touch-device-warning svg {\\n  width: 6em;\\n  height: 6em;\\n  fill: #faad14;\\n}\\n\\n.touch-device-warning .message {\\n  font-size: 1.75em;\\n}\\n\\n.touch-device-warning button {\\n  font-size: 1.25em;\\n  margin-top: 1em;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"#app-toolbar {\\n  background: #001529;\\n  box-shadow: 0 1px 4px rgba(0, 21, 41, 0.08);\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: stretch;\\n}\\n\\n.app-toolbar-pane {\\n  display: flex;\\n  align-items: stretch;\\n}\\n.app-toolbar-divider {\\n  display: inline-block;\\n  width: 5px;\\n  background: linear-gradient(#e9e9e9, #e9e9e9) no-repeat center/1px 100%;\\n  opacity: 0.25;\\n}\\n\\n.app-toolbar-divider:first-of-type {\\n  display: none;\\n}\\n\\n/* Badge count */\\n.toolbar-badge-count {\\n  font-size: 1em;\\n  height: 1.5em;\\n  line-height: 1.5em;\\n  border-radius: 0.75em;\\n  font-size: 0.9em;\\n  font-weight: 700;\\n  top: 0.5em;\\n  left: 1.75em;\\n  position: absolute;\\n  padding: 0 0.5em;\\n}\\n.toolbar-badge-count.stage {\\n  background: #f5222d;\\n  color: #fff;\\n}\\n\\n/* App toolbar button */\\n.app-toolbar-button {\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  align-content: center;\\n  padding: 0 0.75em;\\n  cursor: pointer;\\n  -webkit-app-region: no-drag;\\n}\\n.app-toolbar-button svg {\\n  height: 1.75em;\\n  fill: rgba(255, 255, 255, 0.75);\\n}\\n.app-toolbar-button.fix-stroke svg {\\n  stroke: rgba(255, 255, 255, 0.75);\\n}\\n\\n/* .app-toolbar-button:hover { background: #F9F9F9; } */\\n.app-toolbar-button:hover svg {\\n  fill: #fff;\\n}\\n.app-toolbar-button.fix-stroke:hover svg {\\n  stroke: #fff;\\n}\\n\\n/* App toolbar button fine-tuning */\\n.app-toolbar-button.stage-traces {\\n  position: relative;\\n  padding: 0 0.5em;\\n}\\n.app-toolbar-button.stage-traces svg {\\n  height: 1.6em;\\n}\\n/* App toolbar button fine-tuning */\\n.app-toolbar-button.clear-stage {\\n  position: relative;\\n  padding: 0 0.75em;\\n}\\n.app-toolbar-button.clear-stage svg {\\n  height: 1.7em;\\n}\\n\\n/* Data sources menu header */\\n.toolbar-data-sources-menu-header {\\n  display: flex;\\n  border-bottom: 1px solid rgba(255, 255, 255, 0.75);\\n  margin-bottom: 0.25em;\\n  justify-content: space-between;\\n  padding: 0.45em 0.75em 0.15em 0.75em;\\n  align-items: center;\\n  min-width: 200px;\\n}\\n.toolbar-data-sources-menu-header span {\\n  font-size: 0.75em;\\n  text-transform: uppercase;\\n  color: #fff;\\n}\\n.toolbar-data-sources-menu-header svg {\\n  cursor: pointer;\\n  fill: rgba(255, 255, 255, 0.75);\\n}\\n.toolbar-data-sources-menu-header svg:hover {\\n  fill: #fff;\\n}\\n\\n/* Data sources menu empty */\\n.toolbar-data-sources-menu-empty {\\n  width: 250px;\\n  height: 150px;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  flex-direction: column;\\n}\\n\\n.toolbar-data-sources-menu-empty .heading {\\n  font-weight: 600;\\n}\\n\\n.toolbar-data-sources-menu-empty .description {\\n  font-size: 0.8em;\\n  margin: 0 3em;\\n  text-align: center;\\n}\\n\\n.toolbar-data-sources-menu-empty .description svg {\\n  width: 1.2em;\\n  height: 1.5em;\\n  position: relative;\\n  top: 4px;\\n  fill: #fff;\\n}\\n\\n/* Override so hard */\\n.tippy-tooltip.app-toolbar-menu-list-theme > .tippy-content > div.popconfirm {\\n  padding: 0.5em 0.75em;\\n}\\n\\n.tippy-tooltip.app-toolbar-menu-list-theme\\n  > .tippy-content\\n  > div.popconfirm\\n  > .text {\\n  white-space: nowrap;\\n}\\n\\n.popconfirm button {\\n  margin-top: 3px;\\n  width: 100%;\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/app-toolbar/app-toolbar.css\"],\"names\":[],\"mappings\":\"AAAA;EACE,mBAAmB;EACnB,2CAA2C;EAC3C,aAAa;EACb,8BAA8B;EAC9B,oBAAoB;AACtB;;AAEA;EACE,aAAa;EACb,oBAAoB;AACtB;AACA;EACE,qBAAqB;EACrB,UAAU;EACV,uEAAuE;EACvE,aAAa;AACf;;AAEA;EACE,aAAa;AACf;;AAEA,gBAAgB;AAChB;EACE,cAAc;EACd,aAAa;EACb,kBAAkB;EAClB,qBAAqB;EACrB,gBAAgB;EAChB,gBAAgB;EAChB,UAAU;EACV,YAAY;EACZ,kBAAkB;EAClB,gBAAgB;AAClB;AACA;EACE,mBAAmB;EACnB,WAAW;AACb;;AAEA,uBAAuB;AACvB;EACE,aAAa;EACb,uBAAuB;EACvB,mBAAmB;EACnB,qBAAqB;EACrB,iBAAiB;EACjB,eAAe;EACf,2BAA2B;AAC7B;AACA;EACE,cAAc;EACd,+BAA+B;AACjC;AACA;EACE,iCAAiC;AACnC;;AAEA,uDAAuD;AACvD;EACE,UAAU;AACZ;AACA;EACE,YAAY;AACd;;AAEA,mCAAmC;AACnC;EACE,kBAAkB;EAClB,gBAAgB;AAClB;AACA;EACE,aAAa;AACf;AACA,mCAAmC;AACnC;EACE,kBAAkB;EAClB,iBAAiB;AACnB;AACA;EACE,aAAa;AACf;;AAEA,6BAA6B;AAC7B;EACE,aAAa;EACb,kDAAkD;EAClD,qBAAqB;EACrB,8BAA8B;EAC9B,oCAAoC;EACpC,mBAAmB;EACnB,gBAAgB;AAClB;AACA;EACE,iBAAiB;EACjB,yBAAyB;EACzB,WAAW;AACb;AACA;EACE,eAAe;EACf,+BAA+B;AACjC;AACA;EACE,UAAU;AACZ;;AAEA,4BAA4B;AAC5B;EACE,YAAY;EACZ,aAAa;EACb,aAAa;EACb,mBAAmB;EACnB,uBAAuB;EACvB,sBAAsB;AACxB;;AAEA;EACE,gBAAgB;AAClB;;AAEA;EACE,gBAAgB;EAChB,aAAa;EACb,kBAAkB;AACpB;;AAEA;EACE,YAAY;EACZ,aAAa;EACb,kBAAkB;EAClB,QAAQ;EACR,UAAU;AACZ;;AAEA,qBAAqB;AACrB;EACE,qBAAqB;AACvB;;AAEA;;;;EAIE,mBAAmB;AACrB;;AAEA;EACE,eAAe;EACf,WAAW;AACb\",\"sourcesContent\":[\"#app-toolbar {\\n  background: #001529;\\n  box-shadow: 0 1px 4px rgba(0, 21, 41, 0.08);\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: stretch;\\n}\\n\\n.app-toolbar-pane {\\n  display: flex;\\n  align-items: stretch;\\n}\\n.app-toolbar-divider {\\n  display: inline-block;\\n  width: 5px;\\n  background: linear-gradient(#e9e9e9, #e9e9e9) no-repeat center/1px 100%;\\n  opacity: 0.25;\\n}\\n\\n.app-toolbar-divider:first-of-type {\\n  display: none;\\n}\\n\\n/* Badge count */\\n.toolbar-badge-count {\\n  font-size: 1em;\\n  height: 1.5em;\\n  line-height: 1.5em;\\n  border-radius: 0.75em;\\n  font-size: 0.9em;\\n  font-weight: 700;\\n  top: 0.5em;\\n  left: 1.75em;\\n  position: absolute;\\n  padding: 0 0.5em;\\n}\\n.toolbar-badge-count.stage {\\n  background: #f5222d;\\n  color: #fff;\\n}\\n\\n/* App toolbar button */\\n.app-toolbar-button {\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  align-content: center;\\n  padding: 0 0.75em;\\n  cursor: pointer;\\n  -webkit-app-region: no-drag;\\n}\\n.app-toolbar-button svg {\\n  height: 1.75em;\\n  fill: rgba(255, 255, 255, 0.75);\\n}\\n.app-toolbar-button.fix-stroke svg {\\n  stroke: rgba(255, 255, 255, 0.75);\\n}\\n\\n/* .app-toolbar-button:hover { background: #F9F9F9; } */\\n.app-toolbar-button:hover svg {\\n  fill: #fff;\\n}\\n.app-toolbar-button.fix-stroke:hover svg {\\n  stroke: #fff;\\n}\\n\\n/* App toolbar button fine-tuning */\\n.app-toolbar-button.stage-traces {\\n  position: relative;\\n  padding: 0 0.5em;\\n}\\n.app-toolbar-button.stage-traces svg {\\n  height: 1.6em;\\n}\\n/* App toolbar button fine-tuning */\\n.app-toolbar-button.clear-stage {\\n  position: relative;\\n  padding: 0 0.75em;\\n}\\n.app-toolbar-button.clear-stage svg {\\n  height: 1.7em;\\n}\\n\\n/* Data sources menu header */\\n.toolbar-data-sources-menu-header {\\n  display: flex;\\n  border-bottom: 1px solid rgba(255, 255, 255, 0.75);\\n  margin-bottom: 0.25em;\\n  justify-content: space-between;\\n  padding: 0.45em 0.75em 0.15em 0.75em;\\n  align-items: center;\\n  min-width: 200px;\\n}\\n.toolbar-data-sources-menu-header span {\\n  font-size: 0.75em;\\n  text-transform: uppercase;\\n  color: #fff;\\n}\\n.toolbar-data-sources-menu-header svg {\\n  cursor: pointer;\\n  fill: rgba(255, 255, 255, 0.75);\\n}\\n.toolbar-data-sources-menu-header svg:hover {\\n  fill: #fff;\\n}\\n\\n/* Data sources menu empty */\\n.toolbar-data-sources-menu-empty {\\n  width: 250px;\\n  height: 150px;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  flex-direction: column;\\n}\\n\\n.toolbar-data-sources-menu-empty .heading {\\n  font-weight: 600;\\n}\\n\\n.toolbar-data-sources-menu-empty .description {\\n  font-size: 0.8em;\\n  margin: 0 3em;\\n  text-align: center;\\n}\\n\\n.toolbar-data-sources-menu-empty .description svg {\\n  width: 1.2em;\\n  height: 1.5em;\\n  position: relative;\\n  top: 4px;\\n  fill: #fff;\\n}\\n\\n/* Override so hard */\\n.tippy-tooltip.app-toolbar-menu-list-theme > .tippy-content > div.popconfirm {\\n  padding: 0.5em 0.75em;\\n}\\n\\n.tippy-tooltip.app-toolbar-menu-list-theme\\n  > .tippy-content\\n  > div.popconfirm\\n  > .text {\\n  white-space: nowrap;\\n}\\n\\n.popconfirm button {\\n  margin-top: 3px;\\n  width: 100%;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"/* Custom tippy.js tooltip template */\\n.tippy-tooltip.app-toolbar-menu-list-theme > .tippy-content {\\n  padding: 0;\\n}\\n.tippy-tooltip.app-toolbar-menu-list-theme > .tippy-content > div {\\n  padding: 0 0 0.3em 0;\\n}\\n.tippy-tooltip.app-toolbar-menu-list-theme\\n  > .tippy-content\\n  > div\\n  > .app-toolbar-menu-list-item {\\n  font-size: 1em;\\n  line-height: 2em;\\n  padding: 0.25em 0.75em 0 0.75em;\\n  display: flex;\\n  align-items: center;\\n}\\n.tippy-tooltip.app-toolbar-menu-list-theme .app-toolbar-menu-list-item .text {\\n  flex-grow: 1;\\n  /* Prevent line-break and hide text overflow */\\n  overflow: hidden;\\n  white-space: nowrap;\\n}\\n.tippy-tooltip.app-toolbar-menu-list-theme\\n  .app-toolbar-menu-list-item\\n  .text.clickable {\\n  cursor: pointer;\\n  color: rgba(255, 255, 255, 0.75);\\n}\\n.tippy-tooltip.app-toolbar-menu-list-theme\\n  .app-toolbar-menu-list-item\\n  .text.clickable:hover {\\n  color: rgba(255, 255, 255, 1);\\n}\\n.tippy-tooltip.app-toolbar-menu-list-theme .app-toolbar-menu-list-item > div {\\n  padding-left: 2.5em;\\n  display: inline-flex;\\n}\\n.tippy-tooltip.app-toolbar-menu-list-theme .app-toolbar-menu-list-item .button {\\n  cursor: pointer;\\n  display: inline-flex;\\n}\\n.tippy-tooltip.app-toolbar-menu-list-theme\\n  .app-toolbar-menu-list-item\\n  .button\\n  svg {\\n  height: 1.3em;\\n}\\n.tippy-tooltip.app-toolbar-menu-list-theme .app-toolbar-menu-list-item svg {\\n  fill: rgba(255, 255, 255, 0.75);\\n}\\n.tippy-tooltip.app-toolbar-menu-list-theme\\n  .app-toolbar-menu-list-item\\n  .button:hover\\n  svg {\\n  fill: #fff;\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/app-toolbar/menu-list.css\"],\"names\":[],\"mappings\":\"AAAA,qCAAqC;AACrC;EACE,UAAU;AACZ;AACA;EACE,oBAAoB;AACtB;AACA;;;;EAIE,cAAc;EACd,gBAAgB;EAChB,+BAA+B;EAC/B,aAAa;EACb,mBAAmB;AACrB;AACA;EACE,YAAY;EACZ,8CAA8C;EAC9C,gBAAgB;EAChB,mBAAmB;AACrB;AACA;;;EAGE,eAAe;EACf,gCAAgC;AAClC;AACA;;;EAGE,6BAA6B;AAC/B;AACA;EACE,mBAAmB;EACnB,oBAAoB;AACtB;AACA;EACE,eAAe;EACf,oBAAoB;AACtB;AACA;;;;EAIE,aAAa;AACf;AACA;EACE,+BAA+B;AACjC;AACA;;;;EAIE,UAAU;AACZ\",\"sourcesContent\":[\"/* Custom tippy.js tooltip template */\\n.tippy-tooltip.app-toolbar-menu-list-theme > .tippy-content {\\n  padding: 0;\\n}\\n.tippy-tooltip.app-toolbar-menu-list-theme > .tippy-content > div {\\n  padding: 0 0 0.3em 0;\\n}\\n.tippy-tooltip.app-toolbar-menu-list-theme\\n  > .tippy-content\\n  > div\\n  > .app-toolbar-menu-list-item {\\n  font-size: 1em;\\n  line-height: 2em;\\n  padding: 0.25em 0.75em 0 0.75em;\\n  display: flex;\\n  align-items: center;\\n}\\n.tippy-tooltip.app-toolbar-menu-list-theme .app-toolbar-menu-list-item .text {\\n  flex-grow: 1;\\n  /* Prevent line-break and hide text overflow */\\n  overflow: hidden;\\n  white-space: nowrap;\\n}\\n.tippy-tooltip.app-toolbar-menu-list-theme\\n  .app-toolbar-menu-list-item\\n  .text.clickable {\\n  cursor: pointer;\\n  color: rgba(255, 255, 255, 0.75);\\n}\\n.tippy-tooltip.app-toolbar-menu-list-theme\\n  .app-toolbar-menu-list-item\\n  .text.clickable:hover {\\n  color: rgba(255, 255, 255, 1);\\n}\\n.tippy-tooltip.app-toolbar-menu-list-theme .app-toolbar-menu-list-item > div {\\n  padding-left: 2.5em;\\n  display: inline-flex;\\n}\\n.tippy-tooltip.app-toolbar-menu-list-theme .app-toolbar-menu-list-item .button {\\n  cursor: pointer;\\n  display: inline-flex;\\n}\\n.tippy-tooltip.app-toolbar-menu-list-theme\\n  .app-toolbar-menu-list-item\\n  .button\\n  svg {\\n  height: 1.3em;\\n}\\n.tippy-tooltip.app-toolbar-menu-list-theme .app-toolbar-menu-list-item svg {\\n  fill: rgba(255, 255, 255, 0.75);\\n}\\n.tippy-tooltip.app-toolbar-menu-list-theme\\n  .app-toolbar-menu-list-item\\n  .button:hover\\n  svg {\\n  fill: #fff;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".customization-form-modal-content {\\n  padding: 10px;\\n  width: 600px;\\n}\\n\\n.customization-form-modal-content .monaco-container {\\n  height: 250px;\\n}\\n\\n.customization-form-modal-content .buttons {\\n  display: flex;\\n  margin-top: 0.5em;\\n}\\n\\n.customization-form-modal-content .buttons .left {\\n  flex-grow: 1;\\n}\\n\\n.customization-form-modal-content .buttons .right .test {\\n  margin-right: 5px;\\n}\\n\\n.customization-form-modal-content .test-result {\\n  padding: 15px 15px 15px 64px;\\n  color: rgba(0, 0, 0, 0.65);\\n  line-height: 1.5;\\n  border-radius: 4px;\\n  margin: 10px 0;\\n  position: relative;\\n}\\n\\n.customization-form-modal-content .test-result svg {\\n  position: absolute;\\n  top: 13px;\\n  left: 18px;\\n  width: 2.5em;\\n  height: 2.5em;\\n}\\n\\n.customization-form-modal-content .test-result .title {\\n  margin-bottom: 4px;\\n  color: rgba(0, 0, 0, 0.85);\\n  font-size: 1.3em;\\n}\\n\\n.customization-form-modal-content .test-result .body {\\n  line-height: 1.25em;\\n}\\n\\n.customization-form-modal-content .test-result pre {\\n  display: inline-block;\\n  background: #fff;\\n  padding: 1px 3px;\\n  margin: 0;\\n  border: 1px solid rgba(0, 0, 0, 0.25);\\n  border-radius: 5px;\\n}\\n\\n.customization-form-modal-content .test-result.success {\\n  background-color: #f6ffed;\\n  border: 1px solid #b7eb8f;\\n}\\n.customization-form-modal-content .test-result.success svg {\\n  fill: #52c41a;\\n}\\n\\n.customization-form-modal-content .test-result.warning {\\n  background-color: #fffbe6;\\n  border: 1px solid #ffe58f;\\n}\\n.customization-form-modal-content .test-result.warning svg {\\n  fill: #faad14;\\n}\\n\\n.customization-form-modal-content .test-result.error {\\n  background-color: #fff1f0;\\n  border: 1px solid #ffa39e;\\n}\\n.customization-form-modal-content .test-result.error svg {\\n  fill: #f5222d;\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/customization/form-modal-content.css\"],\"names\":[],\"mappings\":\"AAAA;EACE,aAAa;EACb,YAAY;AACd;;AAEA;EACE,aAAa;AACf;;AAEA;EACE,aAAa;EACb,iBAAiB;AACnB;;AAEA;EACE,YAAY;AACd;;AAEA;EACE,iBAAiB;AACnB;;AAEA;EACE,4BAA4B;EAC5B,0BAA0B;EAC1B,gBAAgB;EAChB,kBAAkB;EAClB,cAAc;EACd,kBAAkB;AACpB;;AAEA;EACE,kBAAkB;EAClB,SAAS;EACT,UAAU;EACV,YAAY;EACZ,aAAa;AACf;;AAEA;EACE,kBAAkB;EAClB,0BAA0B;EAC1B,gBAAgB;AAClB;;AAEA;EACE,mBAAmB;AACrB;;AAEA;EACE,qBAAqB;EACrB,gBAAgB;EAChB,gBAAgB;EAChB,SAAS;EACT,qCAAqC;EACrC,kBAAkB;AACpB;;AAEA;EACE,yBAAyB;EACzB,yBAAyB;AAC3B;AACA;EACE,aAAa;AACf;;AAEA;EACE,yBAAyB;EACzB,yBAAyB;AAC3B;AACA;EACE,aAAa;AACf;;AAEA;EACE,yBAAyB;EACzB,yBAAyB;AAC3B;AACA;EACE,aAAa;AACf\",\"sourcesContent\":[\".customization-form-modal-content {\\n  padding: 10px;\\n  width: 600px;\\n}\\n\\n.customization-form-modal-content .monaco-container {\\n  height: 250px;\\n}\\n\\n.customization-form-modal-content .buttons {\\n  display: flex;\\n  margin-top: 0.5em;\\n}\\n\\n.customization-form-modal-content .buttons .left {\\n  flex-grow: 1;\\n}\\n\\n.customization-form-modal-content .buttons .right .test {\\n  margin-right: 5px;\\n}\\n\\n.customization-form-modal-content .test-result {\\n  padding: 15px 15px 15px 64px;\\n  color: rgba(0, 0, 0, 0.65);\\n  line-height: 1.5;\\n  border-radius: 4px;\\n  margin: 10px 0;\\n  position: relative;\\n}\\n\\n.customization-form-modal-content .test-result svg {\\n  position: absolute;\\n  top: 13px;\\n  left: 18px;\\n  width: 2.5em;\\n  height: 2.5em;\\n}\\n\\n.customization-form-modal-content .test-result .title {\\n  margin-bottom: 4px;\\n  color: rgba(0, 0, 0, 0.85);\\n  font-size: 1.3em;\\n}\\n\\n.customization-form-modal-content .test-result .body {\\n  line-height: 1.25em;\\n}\\n\\n.customization-form-modal-content .test-result pre {\\n  display: inline-block;\\n  background: #fff;\\n  padding: 1px 3px;\\n  margin: 0;\\n  border: 1px solid rgba(0, 0, 0, 0.25);\\n  border-radius: 5px;\\n}\\n\\n.customization-form-modal-content .test-result.success {\\n  background-color: #f6ffed;\\n  border: 1px solid #b7eb8f;\\n}\\n.customization-form-modal-content .test-result.success svg {\\n  fill: #52c41a;\\n}\\n\\n.customization-form-modal-content .test-result.warning {\\n  background-color: #fffbe6;\\n  border: 1px solid #ffe58f;\\n}\\n.customization-form-modal-content .test-result.warning svg {\\n  fill: #faad14;\\n}\\n\\n.customization-form-modal-content .test-result.error {\\n  background-color: #fff1f0;\\n  border: 1px solid #ffa39e;\\n}\\n.customization-form-modal-content .test-result.error svg {\\n  fill: #f5222d;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".datasource-form-modal-content {\\n  padding: 10px;\\n  width: 400px;\\n}\\n\\n.datasource-form-modal-content .cors-warning {\\n  padding: 15px 15px 15px 64px;\\n  color: rgba(0, 0, 0, 0.65);\\n  line-height: 1.5;\\n  border-radius: 4px;\\n  margin: 10px 0;\\n  position: relative;\\n  background-color: #fffbe6;\\n  border: 1px solid #ffe58f;\\n}\\n\\n.datasource-form-modal-content .cors-warning svg {\\n  position: absolute;\\n  top: 13px;\\n  left: 18px;\\n  width: 2.5em;\\n  height: 2.5em;\\n  fill: #faad14;\\n}\\n\\n.datasource-form-modal-content .cors-warning .title {\\n  margin-bottom: 4px;\\n  color: rgba(0, 0, 0, 0.85);\\n  font-size: 1.3em;\\n}\\n\\n.datasource-form-modal-content .cors-warning .body {\\n  line-height: 1.25em;\\n}\\n\\n.datasource-form-modal-content .buttons {\\n  display: flex;\\n  margin-top: 1.5em;\\n}\\n\\n.datasource-form-modal-content .buttons .left {\\n  flex-grow: 1;\\n}\\n\\n.datasource-form-modal-content .buttons .right .test {\\n  margin-right: 5px;\\n}\\n\\n.datasource-form-modal-content .form-container h2 {\\n  margin: 0.25em 0 1em 0;\\n}\\n\\n.datasource-form-modal-content .form-row {\\n  display: flex;\\n  margin: 0.5em 0;\\n  align-items: center;\\n}\\n\\n.datasource-form-modal-content .form-row > div {\\n  width: 145px;\\n  margin: 0 0.5em;\\n  text-align: right;\\n}\\n\\n.datasource-form-modal-content .form-row.base-url > div {\\n  display: flex;\\n  align-items: center;\\n  justify-content: flex-end;\\n}\\n\\n.datasource-form-modal-content .form-row.base-url svg {\\n  width: 18px;\\n  height: 18px;\\n  margin-left: 5px;\\n  position: relative;\\n  top: 1px;\\n}\\n\\n.datasource-form-modal-content .form-row input[type='text'],\\n.datasource-form-modal-content .form-row input[type='password'] {\\n  flex-grow: 1;\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/datasource/datasource-form-modal-content.css\"],\"names\":[],\"mappings\":\"AAAA;EACE,aAAa;EACb,YAAY;AACd;;AAEA;EACE,4BAA4B;EAC5B,0BAA0B;EAC1B,gBAAgB;EAChB,kBAAkB;EAClB,cAAc;EACd,kBAAkB;EAClB,yBAAyB;EACzB,yBAAyB;AAC3B;;AAEA;EACE,kBAAkB;EAClB,SAAS;EACT,UAAU;EACV,YAAY;EACZ,aAAa;EACb,aAAa;AACf;;AAEA;EACE,kBAAkB;EAClB,0BAA0B;EAC1B,gBAAgB;AAClB;;AAEA;EACE,mBAAmB;AACrB;;AAEA;EACE,aAAa;EACb,iBAAiB;AACnB;;AAEA;EACE,YAAY;AACd;;AAEA;EACE,iBAAiB;AACnB;;AAEA;EACE,sBAAsB;AACxB;;AAEA;EACE,aAAa;EACb,eAAe;EACf,mBAAmB;AACrB;;AAEA;EACE,YAAY;EACZ,eAAe;EACf,iBAAiB;AACnB;;AAEA;EACE,aAAa;EACb,mBAAmB;EACnB,yBAAyB;AAC3B;;AAEA;EACE,WAAW;EACX,YAAY;EACZ,gBAAgB;EAChB,kBAAkB;EAClB,QAAQ;AACV;;AAEA;;EAEE,YAAY;AACd\",\"sourcesContent\":[\".datasource-form-modal-content {\\n  padding: 10px;\\n  width: 400px;\\n}\\n\\n.datasource-form-modal-content .cors-warning {\\n  padding: 15px 15px 15px 64px;\\n  color: rgba(0, 0, 0, 0.65);\\n  line-height: 1.5;\\n  border-radius: 4px;\\n  margin: 10px 0;\\n  position: relative;\\n  background-color: #fffbe6;\\n  border: 1px solid #ffe58f;\\n}\\n\\n.datasource-form-modal-content .cors-warning svg {\\n  position: absolute;\\n  top: 13px;\\n  left: 18px;\\n  width: 2.5em;\\n  height: 2.5em;\\n  fill: #faad14;\\n}\\n\\n.datasource-form-modal-content .cors-warning .title {\\n  margin-bottom: 4px;\\n  color: rgba(0, 0, 0, 0.85);\\n  font-size: 1.3em;\\n}\\n\\n.datasource-form-modal-content .cors-warning .body {\\n  line-height: 1.25em;\\n}\\n\\n.datasource-form-modal-content .buttons {\\n  display: flex;\\n  margin-top: 1.5em;\\n}\\n\\n.datasource-form-modal-content .buttons .left {\\n  flex-grow: 1;\\n}\\n\\n.datasource-form-modal-content .buttons .right .test {\\n  margin-right: 5px;\\n}\\n\\n.datasource-form-modal-content .form-container h2 {\\n  margin: 0.25em 0 1em 0;\\n}\\n\\n.datasource-form-modal-content .form-row {\\n  display: flex;\\n  margin: 0.5em 0;\\n  align-items: center;\\n}\\n\\n.datasource-form-modal-content .form-row > div {\\n  width: 145px;\\n  margin: 0 0.5em;\\n  text-align: right;\\n}\\n\\n.datasource-form-modal-content .form-row.base-url > div {\\n  display: flex;\\n  align-items: center;\\n  justify-content: flex-end;\\n}\\n\\n.datasource-form-modal-content .form-row.base-url svg {\\n  width: 18px;\\n  height: 18px;\\n  margin-left: 5px;\\n  position: relative;\\n  top: 1px;\\n}\\n\\n.datasource-form-modal-content .form-row input[type='text'],\\n.datasource-form-modal-content .form-row input[type='password'] {\\n  flex-grow: 1;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".span-log-item {\\n  padding: 0.25em 0;\\n}\\n\\n.span-log-item.highlighted {\\n  background: #f3f3f3;\\n}\\n\\n.span-log-item-header {\\n  cursor: pointer;\\n  max-height: 5em;\\n  overflow: hidden;\\n}\\n\\n.span-log-item-header .arrow-right {\\n  font-size: 0.8em;\\n}\\n\\n.span-log-item-header .arrow-down {\\n  font-size: 0.9em;\\n}\\n\\n.span-log-item-header .title {\\n  font-weight: 600;\\n  font-style: italic;\\n  user-select: text;\\n}\\n\\n.span-log-item-header svg {\\n  height: 1.4em;\\n  position: relative;\\n  left: 0.05em;\\n  top: 0.25em;\\n  fill: rgba(255, 26, 26, 0.85);\\n}\\n\\n.span-log-item .curly {\\n  color: #aaa;\\n  font-style: italic;\\n}\\n\\n.span-log-item-header .inline-fields {\\n}\\n\\n.span-log-item-header .key {\\n  background: #f3faff;\\n  color: #7988b1;\\n  padding: 1px 2px;\\n  font-weight: 500;\\n  border-radius: 2px;\\n  user-select: text;\\n}\\n\\n.span-log-item-header .value {\\n  user-select: text;\\n  word-break: break-all;\\n}\\n\\n.span-log-item-body {\\n}\\n\\n.span-log-item-body .body-row {\\n  margin-left: 1.5em;\\n}\\n\\n.span-log-item-body .body-row:first-child {\\n  margin-top: 0.2em;\\n}\\n\\n.span-log-item-body .key {\\n  background: #f3faff;\\n  color: #7988b1;\\n  padding: 1px 2px;\\n  font-weight: 500;\\n  border-radius: 2px;\\n  user-select: text;\\n}\\n\\n.span-log-item-body .value {\\n  user-select: text;\\n  word-break: break-all;\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/span-logs/span-log-item.css\"],\"names\":[],\"mappings\":\"AAAA;EACE,iBAAiB;AACnB;;AAEA;EACE,mBAAmB;AACrB;;AAEA;EACE,eAAe;EACf,eAAe;EACf,gBAAgB;AAClB;;AAEA;EACE,gBAAgB;AAClB;;AAEA;EACE,gBAAgB;AAClB;;AAEA;EACE,gBAAgB;EAChB,kBAAkB;EAClB,iBAAiB;AACnB;;AAEA;EACE,aAAa;EACb,kBAAkB;EAClB,YAAY;EACZ,WAAW;EACX,6BAA6B;AAC/B;;AAEA;EACE,WAAW;EACX,kBAAkB;AACpB;;AAEA;AACA;;AAEA;EACE,mBAAmB;EACnB,cAAc;EACd,gBAAgB;EAChB,gBAAgB;EAChB,kBAAkB;EAClB,iBAAiB;AACnB;;AAEA;EACE,iBAAiB;EACjB,qBAAqB;AACvB;;AAEA;AACA;;AAEA;EACE,kBAAkB;AACpB;;AAEA;EACE,iBAAiB;AACnB;;AAEA;EACE,mBAAmB;EACnB,cAAc;EACd,gBAAgB;EAChB,gBAAgB;EAChB,kBAAkB;EAClB,iBAAiB;AACnB;;AAEA;EACE,iBAAiB;EACjB,qBAAqB;AACvB\",\"sourcesContent\":[\".span-log-item {\\n  padding: 0.25em 0;\\n}\\n\\n.span-log-item.highlighted {\\n  background: #f3f3f3;\\n}\\n\\n.span-log-item-header {\\n  cursor: pointer;\\n  max-height: 5em;\\n  overflow: hidden;\\n}\\n\\n.span-log-item-header .arrow-right {\\n  font-size: 0.8em;\\n}\\n\\n.span-log-item-header .arrow-down {\\n  font-size: 0.9em;\\n}\\n\\n.span-log-item-header .title {\\n  font-weight: 600;\\n  font-style: italic;\\n  user-select: text;\\n}\\n\\n.span-log-item-header svg {\\n  height: 1.4em;\\n  position: relative;\\n  left: 0.05em;\\n  top: 0.25em;\\n  fill: rgba(255, 26, 26, 0.85);\\n}\\n\\n.span-log-item .curly {\\n  color: #aaa;\\n  font-style: italic;\\n}\\n\\n.span-log-item-header .inline-fields {\\n}\\n\\n.span-log-item-header .key {\\n  background: #f3faff;\\n  color: #7988b1;\\n  padding: 1px 2px;\\n  font-weight: 500;\\n  border-radius: 2px;\\n  user-select: text;\\n}\\n\\n.span-log-item-header .value {\\n  user-select: text;\\n  word-break: break-all;\\n}\\n\\n.span-log-item-body {\\n}\\n\\n.span-log-item-body .body-row {\\n  margin-left: 1.5em;\\n}\\n\\n.span-log-item-body .body-row:first-child {\\n  margin-top: 0.2em;\\n}\\n\\n.span-log-item-body .key {\\n  background: #f3faff;\\n  color: #7988b1;\\n  padding: 1px 2px;\\n  font-weight: 500;\\n  border-radius: 2px;\\n  user-select: text;\\n}\\n\\n.span-log-item-body .value {\\n  user-select: text;\\n  word-break: break-all;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".span-logs {\\n  height: 100%;\\n  display: flex;\\n  flex-direction: column;\\n}\\n\\n.span-logs .widget-toolbar-pane.right {\\n  flex-grow: 0;\\n}\\n\\n.span-logs .input-with-svg-icon-container {\\n  padding: 4px;\\n  width: 100%;\\n}\\n\\n.span-logs .input-with-svg-icon-container input {\\n  width: 100%;\\n}\\n\\n.span-logs .content-container {\\n  flex-grow: 1;\\n  overflow-y: auto;\\n  box-sizing: border-box;\\n  position: relative;\\n  padding: 1em;\\n}\\n\\n.span-logs .content-message {\\n  height: 100%;\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: center;\\n  align-items: center;\\n}\\n\\n.span-logs .content-message svg {\\n  width: 2.5em;\\n  height: 2.5em;\\n  fill: #ccc;\\n}\\n\\n.span-logs .content-message span {\\n  color: #ccc;\\n  margin-top: 0.5em;\\n  font-weight: 600;\\n}\\n\\n.span-logs .content-container .key-value-row {\\n  display: flex;\\n  line-height: 1.7em;\\n}\\n\\n.span-logs .content-container .key-value-row:nth-child(even) {\\n  background: #f6f6f6;\\n}\\n\\n.span-logs .content-container .key-value-row .key {\\n  flex-grow: 1;\\n  user-select: text;\\n}\\n\\n.span-logs .content-container .key-value-row .value {\\n  user-select: text;\\n  text-align: right;\\n}\\n\\n.span-logs .content-container .key-value-row .bold {\\n  font-weight: 600;\\n}\\n\\n.span-logs .content-container .key-value-row.error {\\n  color: rgba(255, 0, 0, 0.85);\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/span-logs/span-logs.css\"],\"names\":[],\"mappings\":\"AAAA;EACE,YAAY;EACZ,aAAa;EACb,sBAAsB;AACxB;;AAEA;EACE,YAAY;AACd;;AAEA;EACE,YAAY;EACZ,WAAW;AACb;;AAEA;EACE,WAAW;AACb;;AAEA;EACE,YAAY;EACZ,gBAAgB;EAChB,sBAAsB;EACtB,kBAAkB;EAClB,YAAY;AACd;;AAEA;EACE,YAAY;EACZ,aAAa;EACb,sBAAsB;EACtB,uBAAuB;EACvB,mBAAmB;AACrB;;AAEA;EACE,YAAY;EACZ,aAAa;EACb,UAAU;AACZ;;AAEA;EACE,WAAW;EACX,iBAAiB;EACjB,gBAAgB;AAClB;;AAEA;EACE,aAAa;EACb,kBAAkB;AACpB;;AAEA;EACE,mBAAmB;AACrB;;AAEA;EACE,YAAY;EACZ,iBAAiB;AACnB;;AAEA;EACE,iBAAiB;EACjB,iBAAiB;AACnB;;AAEA;EACE,gBAAgB;AAClB;;AAEA;EACE,4BAA4B;AAC9B\",\"sourcesContent\":[\".span-logs {\\n  height: 100%;\\n  display: flex;\\n  flex-direction: column;\\n}\\n\\n.span-logs .widget-toolbar-pane.right {\\n  flex-grow: 0;\\n}\\n\\n.span-logs .input-with-svg-icon-container {\\n  padding: 4px;\\n  width: 100%;\\n}\\n\\n.span-logs .input-with-svg-icon-container input {\\n  width: 100%;\\n}\\n\\n.span-logs .content-container {\\n  flex-grow: 1;\\n  overflow-y: auto;\\n  box-sizing: border-box;\\n  position: relative;\\n  padding: 1em;\\n}\\n\\n.span-logs .content-message {\\n  height: 100%;\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: center;\\n  align-items: center;\\n}\\n\\n.span-logs .content-message svg {\\n  width: 2.5em;\\n  height: 2.5em;\\n  fill: #ccc;\\n}\\n\\n.span-logs .content-message span {\\n  color: #ccc;\\n  margin-top: 0.5em;\\n  font-weight: 600;\\n}\\n\\n.span-logs .content-container .key-value-row {\\n  display: flex;\\n  line-height: 1.7em;\\n}\\n\\n.span-logs .content-container .key-value-row:nth-child(even) {\\n  background: #f6f6f6;\\n}\\n\\n.span-logs .content-container .key-value-row .key {\\n  flex-grow: 1;\\n  user-select: text;\\n}\\n\\n.span-logs .content-container .key-value-row .value {\\n  user-select: text;\\n  text-align: right;\\n}\\n\\n.span-logs .content-container .key-value-row .bold {\\n  font-weight: 600;\\n}\\n\\n.span-logs .content-container .key-value-row.error {\\n  color: rgba(255, 0, 0, 0.85);\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".span-process-tags {\\n  height: 100%;\\n  display: flex;\\n  flex-direction: column;\\n}\\n\\n.span-process-tags .widget-toolbar {\\n  padding: 4px;\\n}\\n\\n.span-process-tags .content-container {\\n  flex-grow: 1;\\n  overflow-y: auto;\\n  box-sizing: border-box;\\n  padding: 1em;\\n}\\n\\n.span-process-tags .content-message {\\n  height: 100%;\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: center;\\n  align-items: center;\\n}\\n\\n.span-process-tags .content-message svg {\\n  width: 2.5em;\\n  height: 2.5em;\\n  fill: #ccc;\\n}\\n\\n.span-process-tags .content-message span {\\n  color: #ccc;\\n  margin-top: 0.5em;\\n  font-weight: 600;\\n}\\n\\n.span-process-tags .content-container .key-value-row {\\n  display: flex;\\n  line-height: 1.7em;\\n}\\n\\n.span-process-tags .content-container .key-value-row:nth-child(even) {\\n  background: #f6f6f6;\\n}\\n\\n.span-process-tags .content-container .key-value-row .key {\\n  flex-grow: 1;\\n  user-select: text;\\n}\\n\\n.span-process-tags .content-container .key-value-row .value {\\n  user-select: text;\\n  text-align: right;\\n  word-break: break-all;\\n}\\n\\n.span-process-tags .content-container .key-value-row .bold {\\n  font-weight: 600;\\n}\\n\\n.span-process-tags .content-container .key-value-row.error {\\n  color: rgba(255, 0, 0, 0.85);\\n}\\n\\n.span-process-tags .input-with-svg-icon-container {\\n  flex-grow: 1;\\n}\\n\\n.span-process-tags .input-with-svg-icon-container input {\\n  width: 100%;\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/span-process-tags/span-process-tags.css\"],\"names\":[],\"mappings\":\"AAAA;EACE,YAAY;EACZ,aAAa;EACb,sBAAsB;AACxB;;AAEA;EACE,YAAY;AACd;;AAEA;EACE,YAAY;EACZ,gBAAgB;EAChB,sBAAsB;EACtB,YAAY;AACd;;AAEA;EACE,YAAY;EACZ,aAAa;EACb,sBAAsB;EACtB,uBAAuB;EACvB,mBAAmB;AACrB;;AAEA;EACE,YAAY;EACZ,aAAa;EACb,UAAU;AACZ;;AAEA;EACE,WAAW;EACX,iBAAiB;EACjB,gBAAgB;AAClB;;AAEA;EACE,aAAa;EACb,kBAAkB;AACpB;;AAEA;EACE,mBAAmB;AACrB;;AAEA;EACE,YAAY;EACZ,iBAAiB;AACnB;;AAEA;EACE,iBAAiB;EACjB,iBAAiB;EACjB,qBAAqB;AACvB;;AAEA;EACE,gBAAgB;AAClB;;AAEA;EACE,4BAA4B;AAC9B;;AAEA;EACE,YAAY;AACd;;AAEA;EACE,WAAW;AACb\",\"sourcesContent\":[\".span-process-tags {\\n  height: 100%;\\n  display: flex;\\n  flex-direction: column;\\n}\\n\\n.span-process-tags .widget-toolbar {\\n  padding: 4px;\\n}\\n\\n.span-process-tags .content-container {\\n  flex-grow: 1;\\n  overflow-y: auto;\\n  box-sizing: border-box;\\n  padding: 1em;\\n}\\n\\n.span-process-tags .content-message {\\n  height: 100%;\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: center;\\n  align-items: center;\\n}\\n\\n.span-process-tags .content-message svg {\\n  width: 2.5em;\\n  height: 2.5em;\\n  fill: #ccc;\\n}\\n\\n.span-process-tags .content-message span {\\n  color: #ccc;\\n  margin-top: 0.5em;\\n  font-weight: 600;\\n}\\n\\n.span-process-tags .content-container .key-value-row {\\n  display: flex;\\n  line-height: 1.7em;\\n}\\n\\n.span-process-tags .content-container .key-value-row:nth-child(even) {\\n  background: #f6f6f6;\\n}\\n\\n.span-process-tags .content-container .key-value-row .key {\\n  flex-grow: 1;\\n  user-select: text;\\n}\\n\\n.span-process-tags .content-container .key-value-row .value {\\n  user-select: text;\\n  text-align: right;\\n  word-break: break-all;\\n}\\n\\n.span-process-tags .content-container .key-value-row .bold {\\n  font-weight: 600;\\n}\\n\\n.span-process-tags .content-container .key-value-row.error {\\n  color: rgba(255, 0, 0, 0.85);\\n}\\n\\n.span-process-tags .input-with-svg-icon-container {\\n  flex-grow: 1;\\n}\\n\\n.span-process-tags .input-with-svg-icon-container input {\\n  width: 100%;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".span-summary {\\n  min-height: 100%;\\n  height: 100%;\\n  overflow-y: auto;\\n}\\n\\n.span-summary .no-span-selected {\\n  height: 100%;\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: center;\\n  align-items: center;\\n}\\n\\n.span-summary .no-span-selected svg {\\n  width: 2.5em;\\n  height: 2.5em;\\n  fill: #ccc;\\n}\\n\\n.span-summary .no-span-selected span {\\n  color: #ccc;\\n  margin-top: 0.5em;\\n  font-weight: 600;\\n}\\n\\n.span-summary-content {\\n  margin: 1em;\\n}\\n\\n.span-summary-content .operation-name {\\n  font-size: 1.5em;\\n  font-weight: 600;\\n  border-bottom: 1px solid #eee;\\n  padding-bottom: 0.3em;\\n  margin-bottom: 0.3em;\\n  user-select: text;\\n  word-break: break-all;\\n}\\n\\n.span-summary-content .key-value-row {\\n  display: flex;\\n  line-height: 1.7em;\\n}\\n\\n.span-summary-content .key-value-row:nth-child(odd) {\\n  background: #f6f6f6;\\n}\\n\\n.span-summary-content .key-value-row .key {\\n  flex-grow: 1;\\n}\\n\\n.span-summary-content .key-value-row .value {\\n  user-select: text;\\n  text-align: right;\\n}\\n\\n.span-summary-content .key-value-row .bold {\\n  font-weight: 600;\\n}\\n\\n.span-summary-content .references-title {\\n  font-size: 1.25em;\\n  font-weight: 500;\\n  border-bottom: 1px solid #eee;\\n  padding-bottom: 0.3em;\\n  margin-bottom: 0.3em;\\n  margin-top: 1em;\\n  user-select: none;\\n  word-break: break-all;\\n}\\n\\n.span-summary-content .key-value-row .value.alert svg {\\n  height: 1.4em;\\n  position: relative;\\n  top: 0.3em;\\n  margin-left: 0.2em;\\n  fill: rgba(255, 26, 26, 0.85);\\n}\\n\\n.span-summary-content .key-value-row[data-ref-span-id] .value {\\n  user-select: none;\\n  cursor: context-menu;\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/span-summary/span-summary.css\"],\"names\":[],\"mappings\":\"AAAA;EACE,gBAAgB;EAChB,YAAY;EACZ,gBAAgB;AAClB;;AAEA;EACE,YAAY;EACZ,aAAa;EACb,sBAAsB;EACtB,uBAAuB;EACvB,mBAAmB;AACrB;;AAEA;EACE,YAAY;EACZ,aAAa;EACb,UAAU;AACZ;;AAEA;EACE,WAAW;EACX,iBAAiB;EACjB,gBAAgB;AAClB;;AAEA;EACE,WAAW;AACb;;AAEA;EACE,gBAAgB;EAChB,gBAAgB;EAChB,6BAA6B;EAC7B,qBAAqB;EACrB,oBAAoB;EACpB,iBAAiB;EACjB,qBAAqB;AACvB;;AAEA;EACE,aAAa;EACb,kBAAkB;AACpB;;AAEA;EACE,mBAAmB;AACrB;;AAEA;EACE,YAAY;AACd;;AAEA;EACE,iBAAiB;EACjB,iBAAiB;AACnB;;AAEA;EACE,gBAAgB;AAClB;;AAEA;EACE,iBAAiB;EACjB,gBAAgB;EAChB,6BAA6B;EAC7B,qBAAqB;EACrB,oBAAoB;EACpB,eAAe;EACf,iBAAiB;EACjB,qBAAqB;AACvB;;AAEA;EACE,aAAa;EACb,kBAAkB;EAClB,UAAU;EACV,kBAAkB;EAClB,6BAA6B;AAC/B;;AAEA;EACE,iBAAiB;EACjB,oBAAoB;AACtB\",\"sourcesContent\":[\".span-summary {\\n  min-height: 100%;\\n  height: 100%;\\n  overflow-y: auto;\\n}\\n\\n.span-summary .no-span-selected {\\n  height: 100%;\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: center;\\n  align-items: center;\\n}\\n\\n.span-summary .no-span-selected svg {\\n  width: 2.5em;\\n  height: 2.5em;\\n  fill: #ccc;\\n}\\n\\n.span-summary .no-span-selected span {\\n  color: #ccc;\\n  margin-top: 0.5em;\\n  font-weight: 600;\\n}\\n\\n.span-summary-content {\\n  margin: 1em;\\n}\\n\\n.span-summary-content .operation-name {\\n  font-size: 1.5em;\\n  font-weight: 600;\\n  border-bottom: 1px solid #eee;\\n  padding-bottom: 0.3em;\\n  margin-bottom: 0.3em;\\n  user-select: text;\\n  word-break: break-all;\\n}\\n\\n.span-summary-content .key-value-row {\\n  display: flex;\\n  line-height: 1.7em;\\n}\\n\\n.span-summary-content .key-value-row:nth-child(odd) {\\n  background: #f6f6f6;\\n}\\n\\n.span-summary-content .key-value-row .key {\\n  flex-grow: 1;\\n}\\n\\n.span-summary-content .key-value-row .value {\\n  user-select: text;\\n  text-align: right;\\n}\\n\\n.span-summary-content .key-value-row .bold {\\n  font-weight: 600;\\n}\\n\\n.span-summary-content .references-title {\\n  font-size: 1.25em;\\n  font-weight: 500;\\n  border-bottom: 1px solid #eee;\\n  padding-bottom: 0.3em;\\n  margin-bottom: 0.3em;\\n  margin-top: 1em;\\n  user-select: none;\\n  word-break: break-all;\\n}\\n\\n.span-summary-content .key-value-row .value.alert svg {\\n  height: 1.4em;\\n  position: relative;\\n  top: 0.3em;\\n  margin-left: 0.2em;\\n  fill: rgba(255, 26, 26, 0.85);\\n}\\n\\n.span-summary-content .key-value-row[data-ref-span-id] .value {\\n  user-select: none;\\n  cursor: context-menu;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".span-tags {\\n  height: 100%;\\n  display: flex;\\n  flex-direction: column;\\n}\\n\\n.span-tags .widget-toolbar {\\n  padding: 4px;\\n}\\n\\n.span-tags .content-container {\\n  flex-grow: 1;\\n  overflow-y: auto;\\n  box-sizing: border-box;\\n  padding: 1em;\\n}\\n\\n.span-tags .content-message {\\n  height: 100%;\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: center;\\n  align-items: center;\\n}\\n\\n.span-tags .content-message svg {\\n  width: 2.5em;\\n  height: 2.5em;\\n  fill: #ccc;\\n}\\n\\n.span-tags .content-message span {\\n  color: #ccc;\\n  margin-top: 0.5em;\\n  font-weight: 600;\\n}\\n\\n.span-tags .content-container .key-value-row {\\n  display: flex;\\n  line-height: 1.7em;\\n}\\n\\n.span-tags .content-container .key-value-row:nth-child(even) {\\n  background: #f6f6f6;\\n}\\n\\n.span-tags .content-container .key-value-row .key {\\n  flex-grow: 1;\\n  user-select: text;\\n}\\n\\n.span-tags .content-container .key-value-row .value {\\n  user-select: text;\\n  text-align: right;\\n  word-break: break-all;\\n}\\n\\n.span-tags .content-container .key-value-row .bold {\\n  font-weight: 600;\\n}\\n\\n.span-tags .content-container .key-value-row.error {\\n  color: rgba(255, 26, 26, 0.85);\\n}\\n\\n.span-tags .input-with-svg-icon-container {\\n  flex-grow: 1;\\n}\\n\\n.span-tags .input-with-svg-icon-container input {\\n  width: 100%;\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/span-tags/span-tags.css\"],\"names\":[],\"mappings\":\"AAAA;EACE,YAAY;EACZ,aAAa;EACb,sBAAsB;AACxB;;AAEA;EACE,YAAY;AACd;;AAEA;EACE,YAAY;EACZ,gBAAgB;EAChB,sBAAsB;EACtB,YAAY;AACd;;AAEA;EACE,YAAY;EACZ,aAAa;EACb,sBAAsB;EACtB,uBAAuB;EACvB,mBAAmB;AACrB;;AAEA;EACE,YAAY;EACZ,aAAa;EACb,UAAU;AACZ;;AAEA;EACE,WAAW;EACX,iBAAiB;EACjB,gBAAgB;AAClB;;AAEA;EACE,aAAa;EACb,kBAAkB;AACpB;;AAEA;EACE,mBAAmB;AACrB;;AAEA;EACE,YAAY;EACZ,iBAAiB;AACnB;;AAEA;EACE,iBAAiB;EACjB,iBAAiB;EACjB,qBAAqB;AACvB;;AAEA;EACE,gBAAgB;AAClB;;AAEA;EACE,8BAA8B;AAChC;;AAEA;EACE,YAAY;AACd;;AAEA;EACE,WAAW;AACb\",\"sourcesContent\":[\".span-tags {\\n  height: 100%;\\n  display: flex;\\n  flex-direction: column;\\n}\\n\\n.span-tags .widget-toolbar {\\n  padding: 4px;\\n}\\n\\n.span-tags .content-container {\\n  flex-grow: 1;\\n  overflow-y: auto;\\n  box-sizing: border-box;\\n  padding: 1em;\\n}\\n\\n.span-tags .content-message {\\n  height: 100%;\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: center;\\n  align-items: center;\\n}\\n\\n.span-tags .content-message svg {\\n  width: 2.5em;\\n  height: 2.5em;\\n  fill: #ccc;\\n}\\n\\n.span-tags .content-message span {\\n  color: #ccc;\\n  margin-top: 0.5em;\\n  font-weight: 600;\\n}\\n\\n.span-tags .content-container .key-value-row {\\n  display: flex;\\n  line-height: 1.7em;\\n}\\n\\n.span-tags .content-container .key-value-row:nth-child(even) {\\n  background: #f6f6f6;\\n}\\n\\n.span-tags .content-container .key-value-row .key {\\n  flex-grow: 1;\\n  user-select: text;\\n}\\n\\n.span-tags .content-container .key-value-row .value {\\n  user-select: text;\\n  text-align: right;\\n  word-break: break-all;\\n}\\n\\n.span-tags .content-container .key-value-row .bold {\\n  font-weight: 600;\\n}\\n\\n.span-tags .content-container .key-value-row.error {\\n  color: rgba(255, 26, 26, 0.85);\\n}\\n\\n.span-tags .input-with-svg-icon-container {\\n  flex-grow: 1;\\n}\\n\\n.span-tags .input-with-svg-icon-container input {\\n  width: 100%;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"/* Custom tippy.js tooltip template */\\n.tippy-tooltip.span-tooltip-theme {\\n  background-color: rgba(0, 0, 0, 0.75);\\n  border-radius: 2px;\\n}\\n.tippy-tooltip.span-tooltip-theme > .tippy-content {\\n  padding: 0;\\n  font-size: 0.815em;\\n}\\n\\n.span-tooltip-border-top {\\n  border-top: 1px solid rgba(255, 255, 255, 0.25);\\n}\\n\\n.span-service-name-container {\\n  padding: 0.2em 0.5em;\\n}\\n\\n.span-tooltip-header {\\n  display: flex;\\n  padding: 0.2em 0.5em;\\n  word-break: break-all;\\n}\\n\\n.span-tooltip-header .left {\\n  flex-grow: 1;\\n}\\n\\n.span-tooltip-header .right {\\n  white-space: nowrap;\\n  margin-left: 2em;\\n}\\n\\n.span-tooltip-time {\\n  color: #55d239;\\n}\\n\\n.span-tooltip-operation-name {\\n  margin-left: 1em;\\n  font-weight: 600;\\n}\\n\\n.span-tooltip-tag-icon svg,\\n.span-tooltip-log-icon svg,\\n.span-tooltip-error-icon svg {\\n  position: relative;\\n  height: 1em;\\n  width: 1em;\\n  fill: #fff;\\n  top: 2px;\\n}\\n\\n.span-tooltip-error-icon svg {\\n  margin-right: 0.25em;\\n  transform: scale(1.1);\\n  fill: rgba(255, 26, 26, 0.85);\\n}\\n\\n.span-tooltip-tag-count,\\n.span-tooltip-log-count {\\n  margin-right: 0.25em;\\n}\\n\\n.span-tooltip-log-count {\\n  margin-left: 0.6em;\\n}\\n\\n.span-tooltip-tags .section-header,\\n.span-tooltip-process-tags .section-header,\\n.span-tooltip-log .section-header {\\n  text-transform: uppercase;\\n  color: rgba(255, 255, 255, 0.5);\\n  font-size: 0.9em;\\n  font-weight: 800;\\n  margin-bottom: 0.25em;\\n}\\n\\n.span-tooltip-tags,\\n.span-tooltip-process-tags,\\n.span-tooltip-log {\\n  padding: 0.2em 0.5em;\\n  word-break: break-all;\\n}\\n\\n.span-tooltip-tag {\\n  display: flex;\\n}\\n.span-tooltip-tag.margin-left {\\n  margin-left: 1em;\\n}\\n\\n.span-tooltip-tag .tag-path {\\n  flex-grow: 1;\\n}\\n\\n.span-tooltip-tag .tag-value {\\n  margin-left: 1em;\\n}\\n\\n.span-tooltip-log {\\n  max-height: 5em;\\n  padding-bottom: 0.5em;\\n  overflow: hidden;\\n}\\n\\n.span-tooltip-log .log-field-key {\\n  background: rgba(255, 255, 255, 0.25);\\n  padding: 0.15em 0.3em;\\n  border-radius: 3px;\\n  font-weight: 500;\\n}\\n\\n.span-tooltip-log .log-field-value {\\n  margin: 0 0.4em 0 0.2em;\\n}\\n\\n.span-tooltip-log .log-field-key.error {\\n  background: rgba(255, 26, 26, 0.35);\\n  font-weight: 600;\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/span-tooltip/span-tooltip.css\"],\"names\":[],\"mappings\":\"AAAA,qCAAqC;AACrC;EACE,qCAAqC;EACrC,kBAAkB;AACpB;AACA;EACE,UAAU;EACV,kBAAkB;AACpB;;AAEA;EACE,+CAA+C;AACjD;;AAEA;EACE,oBAAoB;AACtB;;AAEA;EACE,aAAa;EACb,oBAAoB;EACpB,qBAAqB;AACvB;;AAEA;EACE,YAAY;AACd;;AAEA;EACE,mBAAmB;EACnB,gBAAgB;AAClB;;AAEA;EACE,cAAc;AAChB;;AAEA;EACE,gBAAgB;EAChB,gBAAgB;AAClB;;AAEA;;;EAGE,kBAAkB;EAClB,WAAW;EACX,UAAU;EACV,UAAU;EACV,QAAQ;AACV;;AAEA;EACE,oBAAoB;EACpB,qBAAqB;EACrB,6BAA6B;AAC/B;;AAEA;;EAEE,oBAAoB;AACtB;;AAEA;EACE,kBAAkB;AACpB;;AAEA;;;EAGE,yBAAyB;EACzB,+BAA+B;EAC/B,gBAAgB;EAChB,gBAAgB;EAChB,qBAAqB;AACvB;;AAEA;;;EAGE,oBAAoB;EACpB,qBAAqB;AACvB;;AAEA;EACE,aAAa;AACf;AACA;EACE,gBAAgB;AAClB;;AAEA;EACE,YAAY;AACd;;AAEA;EACE,gBAAgB;AAClB;;AAEA;EACE,eAAe;EACf,qBAAqB;EACrB,gBAAgB;AAClB;;AAEA;EACE,qCAAqC;EACrC,qBAAqB;EACrB,kBAAkB;EAClB,gBAAgB;AAClB;;AAEA;EACE,uBAAuB;AACzB;;AAEA;EACE,mCAAmC;EACnC,gBAAgB;AAClB\",\"sourcesContent\":[\"/* Custom tippy.js tooltip template */\\n.tippy-tooltip.span-tooltip-theme {\\n  background-color: rgba(0, 0, 0, 0.75);\\n  border-radius: 2px;\\n}\\n.tippy-tooltip.span-tooltip-theme > .tippy-content {\\n  padding: 0;\\n  font-size: 0.815em;\\n}\\n\\n.span-tooltip-border-top {\\n  border-top: 1px solid rgba(255, 255, 255, 0.25);\\n}\\n\\n.span-service-name-container {\\n  padding: 0.2em 0.5em;\\n}\\n\\n.span-tooltip-header {\\n  display: flex;\\n  padding: 0.2em 0.5em;\\n  word-break: break-all;\\n}\\n\\n.span-tooltip-header .left {\\n  flex-grow: 1;\\n}\\n\\n.span-tooltip-header .right {\\n  white-space: nowrap;\\n  margin-left: 2em;\\n}\\n\\n.span-tooltip-time {\\n  color: #55d239;\\n}\\n\\n.span-tooltip-operation-name {\\n  margin-left: 1em;\\n  font-weight: 600;\\n}\\n\\n.span-tooltip-tag-icon svg,\\n.span-tooltip-log-icon svg,\\n.span-tooltip-error-icon svg {\\n  position: relative;\\n  height: 1em;\\n  width: 1em;\\n  fill: #fff;\\n  top: 2px;\\n}\\n\\n.span-tooltip-error-icon svg {\\n  margin-right: 0.25em;\\n  transform: scale(1.1);\\n  fill: rgba(255, 26, 26, 0.85);\\n}\\n\\n.span-tooltip-tag-count,\\n.span-tooltip-log-count {\\n  margin-right: 0.25em;\\n}\\n\\n.span-tooltip-log-count {\\n  margin-left: 0.6em;\\n}\\n\\n.span-tooltip-tags .section-header,\\n.span-tooltip-process-tags .section-header,\\n.span-tooltip-log .section-header {\\n  text-transform: uppercase;\\n  color: rgba(255, 255, 255, 0.5);\\n  font-size: 0.9em;\\n  font-weight: 800;\\n  margin-bottom: 0.25em;\\n}\\n\\n.span-tooltip-tags,\\n.span-tooltip-process-tags,\\n.span-tooltip-log {\\n  padding: 0.2em 0.5em;\\n  word-break: break-all;\\n}\\n\\n.span-tooltip-tag {\\n  display: flex;\\n}\\n.span-tooltip-tag.margin-left {\\n  margin-left: 1em;\\n}\\n\\n.span-tooltip-tag .tag-path {\\n  flex-grow: 1;\\n}\\n\\n.span-tooltip-tag .tag-value {\\n  margin-left: 1em;\\n}\\n\\n.span-tooltip-log {\\n  max-height: 5em;\\n  padding-bottom: 0.5em;\\n  overflow: hidden;\\n}\\n\\n.span-tooltip-log .log-field-key {\\n  background: rgba(255, 255, 255, 0.25);\\n  padding: 0.15em 0.3em;\\n  border-radius: 3px;\\n  font-weight: 500;\\n}\\n\\n.span-tooltip-log .log-field-value {\\n  margin: 0 0.4em 0 0.2em;\\n}\\n\\n.span-tooltip-log .log-field-key.error {\\n  background: rgba(255, 26, 26, 0.35);\\n  font-weight: 600;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".spans-table-view {\\n  width: 100%;\\n  height: 100%;\\n}\\n\\n.spans-table-view .tabulator {\\n  font-size: inherit;\\n}\\n\\n.spans-table-view .tabulator-col-title {\\n  color: #000;\\n  line-height: 1.5;\\n}\\n\\n.spans-table-view .tabulator-header {\\n  border-bottom-color: #ddd;\\n}\\n\\n.spans-table-view .tabulator-row .tabulator-cell:last-of-type {\\n  border-right: 1px solid #ddd;\\n}\\n\\n.spans-table-view\\n  .tabulator-col.tabulator-sortable[aria-sort='none']\\n  .tabulator-arrow {\\n  display: none;\\n}\\n\\n.spans-table-view\\n  .tabulator-col.tabulator-sortable[aria-sort='asc']\\n  .tabulator-col-title,\\n.spans-table-view\\n  .tabulator-col.tabulator-sortable[aria-sort='desc']\\n  .tabulator-col-title {\\n  text-decoration: underline;\\n}\\n\\n.spans-table-view .tabulator .tabulator-tableHolder .tabulator-table {\\n  color: #777;\\n}\\n\\n.spans-table-view .tabulator-row.tabulator-selectable:hover {\\n  background: #f3f3f3;\\n}\\n\\n.spans-table-view .tabulator-row.tabulator-selected,\\n.spans-table-view .tabulator-row.tabulator-selected:hover {\\n  background: #e5f0ff;\\n}\\n\\n.spans-table-tag {\\n  background: #d0e2f2;\\n  color: #7988b1;\\n  padding: 1px 3px;\\n  margin: 0 3px 0 10px;\\n  font-weight: 500;\\n  border-radius: 2px;\\n}\\n\\n.spans-table-tag:first-child {\\n  margin-left: 0;\\n}\\n\\n.spans-table-value {\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/spans-table/spans-table.css\"],\"names\":[],\"mappings\":\"AAAA;EACE,WAAW;EACX,YAAY;AACd;;AAEA;EACE,kBAAkB;AACpB;;AAEA;EACE,WAAW;EACX,gBAAgB;AAClB;;AAEA;EACE,yBAAyB;AAC3B;;AAEA;EACE,4BAA4B;AAC9B;;AAEA;;;EAGE,aAAa;AACf;;AAEA;;;;;;EAME,0BAA0B;AAC5B;;AAEA;EACE,WAAW;AACb;;AAEA;EACE,mBAAmB;AACrB;;AAEA;;EAEE,mBAAmB;AACrB;;AAEA;EACE,mBAAmB;EACnB,cAAc;EACd,gBAAgB;EAChB,oBAAoB;EACpB,gBAAgB;EAChB,kBAAkB;AACpB;;AAEA;EACE,cAAc;AAChB;;AAEA;AACA\",\"sourcesContent\":[\".spans-table-view {\\n  width: 100%;\\n  height: 100%;\\n}\\n\\n.spans-table-view .tabulator {\\n  font-size: inherit;\\n}\\n\\n.spans-table-view .tabulator-col-title {\\n  color: #000;\\n  line-height: 1.5;\\n}\\n\\n.spans-table-view .tabulator-header {\\n  border-bottom-color: #ddd;\\n}\\n\\n.spans-table-view .tabulator-row .tabulator-cell:last-of-type {\\n  border-right: 1px solid #ddd;\\n}\\n\\n.spans-table-view\\n  .tabulator-col.tabulator-sortable[aria-sort='none']\\n  .tabulator-arrow {\\n  display: none;\\n}\\n\\n.spans-table-view\\n  .tabulator-col.tabulator-sortable[aria-sort='asc']\\n  .tabulator-col-title,\\n.spans-table-view\\n  .tabulator-col.tabulator-sortable[aria-sort='desc']\\n  .tabulator-col-title {\\n  text-decoration: underline;\\n}\\n\\n.spans-table-view .tabulator .tabulator-tableHolder .tabulator-table {\\n  color: #777;\\n}\\n\\n.spans-table-view .tabulator-row.tabulator-selectable:hover {\\n  background: #f3f3f3;\\n}\\n\\n.spans-table-view .tabulator-row.tabulator-selected,\\n.spans-table-view .tabulator-row.tabulator-selected:hover {\\n  background: #e5f0ff;\\n}\\n\\n.spans-table-tag {\\n  background: #d0e2f2;\\n  color: #7988b1;\\n  padding: 1px 3px;\\n  margin: 0 3px 0 10px;\\n  font-weight: 500;\\n  border-radius: 2px;\\n}\\n\\n.spans-table-tag:first-child {\\n  margin-left: 0;\\n}\\n\\n.spans-table-value {\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".stage-traces-modal-container {\\n  width: 80%;\\n  height: 80%;\\n  overflow: hidden;\\n}\\n\\n.stage-traces-modal-content {\\n  width: 100%;\\n  height: 100%;\\n  box-sizing: border-box;\\n  display: flex;\\n  flex-direction: column;\\n  position: relative;\\n}\\n\\n.stage-traces-modal-content > .top {\\n  display: flex;\\n  align-items: stretch;\\n  flex-grow: 1;\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  right: 0;\\n  bottom: 3em; /* must be the same with height of the bottom */\\n}\\n\\n.stage-traces-modal-content > .bottom {\\n  display: flex;\\n  height: 3em;\\n  border-top: 1px solid #ccc;\\n  padding: 0 1em;\\n  background: #eee;\\n  position: absolute;\\n  bottom: 0;\\n  left: 0;\\n  right: 0;\\n}\\n\\n.stage-traces-modal-content > .bottom .left {\\n  display: flex;\\n  align-items: center;\\n}\\n\\n.stage-traces-modal-content > .bottom .right {\\n  display: flex;\\n  justify-content: flex-end;\\n  align-items: center;\\n  flex-grow: 1;\\n}\\n\\n.stage-traces-modal-content > .bottom .right > div {\\n  margin-right: 1em;\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/stage-traces/stage-traces-modal-content.css\"],\"names\":[],\"mappings\":\"AAAA;EACE,UAAU;EACV,WAAW;EACX,gBAAgB;AAClB;;AAEA;EACE,WAAW;EACX,YAAY;EACZ,sBAAsB;EACtB,aAAa;EACb,sBAAsB;EACtB,kBAAkB;AACpB;;AAEA;EACE,aAAa;EACb,oBAAoB;EACpB,YAAY;EACZ,kBAAkB;EAClB,MAAM;EACN,OAAO;EACP,QAAQ;EACR,WAAW,EAAE,+CAA+C;AAC9D;;AAEA;EACE,aAAa;EACb,WAAW;EACX,0BAA0B;EAC1B,cAAc;EACd,gBAAgB;EAChB,kBAAkB;EAClB,SAAS;EACT,OAAO;EACP,QAAQ;AACV;;AAEA;EACE,aAAa;EACb,mBAAmB;AACrB;;AAEA;EACE,aAAa;EACb,yBAAyB;EACzB,mBAAmB;EACnB,YAAY;AACd;;AAEA;EACE,iBAAiB;AACnB\",\"sourcesContent\":[\".stage-traces-modal-container {\\n  width: 80%;\\n  height: 80%;\\n  overflow: hidden;\\n}\\n\\n.stage-traces-modal-content {\\n  width: 100%;\\n  height: 100%;\\n  box-sizing: border-box;\\n  display: flex;\\n  flex-direction: column;\\n  position: relative;\\n}\\n\\n.stage-traces-modal-content > .top {\\n  display: flex;\\n  align-items: stretch;\\n  flex-grow: 1;\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  right: 0;\\n  bottom: 3em; /* must be the same with height of the bottom */\\n}\\n\\n.stage-traces-modal-content > .bottom {\\n  display: flex;\\n  height: 3em;\\n  border-top: 1px solid #ccc;\\n  padding: 0 1em;\\n  background: #eee;\\n  position: absolute;\\n  bottom: 0;\\n  left: 0;\\n  right: 0;\\n}\\n\\n.stage-traces-modal-content > .bottom .left {\\n  display: flex;\\n  align-items: center;\\n}\\n\\n.stage-traces-modal-content > .bottom .right {\\n  display: flex;\\n  justify-content: flex-end;\\n  align-items: center;\\n  flex-grow: 1;\\n}\\n\\n.stage-traces-modal-content > .bottom .right > div {\\n  margin-right: 1em;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".stage-traces-table-view {\\n  width: 100%;\\n  height: 100%;\\n  position: relative;\\n}\\n\\n.stage-traces-table-view .tabulator {\\n  font-size: inherit;\\n}\\n\\n.stage-traces-table-view .tabulator-col-title {\\n  color: #000;\\n  line-height: 1.5;\\n}\\n\\n.stage-traces-table-view .tabulator-header {\\n  border-bottom-color: #ddd;\\n}\\n\\n.stage-traces-table-view .tabulator-col:last-of-type {\\n  border-right: 0;\\n}\\n\\n.stage-traces-table-view\\n  .tabulator-col.tabulator-sortable[aria-sort='none']\\n  .tabulator-arrow {\\n  display: none;\\n}\\n\\n.stage-traces-table-view\\n  .tabulator-col.tabulator-sortable[aria-sort='asc']\\n  .tabulator-col-title,\\n.stage-traces-table-view\\n  .tabulator-col.tabulator-sortable[aria-sort='desc']\\n  .tabulator-col-title {\\n  text-decoration: underline;\\n}\\n\\n.stage-traces-table-view .tabulator .tabulator-tableHolder .tabulator-table {\\n  color: #777;\\n}\\n\\n.stage-traces-table-view .tabulator-row.tabulator-selectable:hover {\\n  background: #f3f3f3;\\n}\\n\\n.stage-traces-table-view .tabulator-row.tabulator-selected,\\n.stage-traces-table-view .tabulator-row.tabulator-selected:hover {\\n  background: #e5f0ff;\\n}\\n\\n.stage-traces-table-tag {\\n  /* background: #D0E2F2; */\\n  /* color: #7988B1; */\\n  /* padding: 1px 3px; */\\n  margin: 0 3px 0 10px;\\n  font-weight: 500;\\n  /* border-radius: 2px; */\\n}\\n\\n.stage-traces-table-tag:first-child {\\n  margin-left: 0;\\n}\\n\\n.stage-traces-table-value {\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/stage-traces/stage-traces-table.css\"],\"names\":[],\"mappings\":\"AAAA;EACE,WAAW;EACX,YAAY;EACZ,kBAAkB;AACpB;;AAEA;EACE,kBAAkB;AACpB;;AAEA;EACE,WAAW;EACX,gBAAgB;AAClB;;AAEA;EACE,yBAAyB;AAC3B;;AAEA;EACE,eAAe;AACjB;;AAEA;;;EAGE,aAAa;AACf;;AAEA;;;;;;EAME,0BAA0B;AAC5B;;AAEA;EACE,WAAW;AACb;;AAEA;EACE,mBAAmB;AACrB;;AAEA;;EAEE,mBAAmB;AACrB;;AAEA;EACE,yBAAyB;EACzB,oBAAoB;EACpB,sBAAsB;EACtB,oBAAoB;EACpB,gBAAgB;EAChB,wBAAwB;AAC1B;;AAEA;EACE,cAAc;AAChB;;AAEA;AACA\",\"sourcesContent\":[\".stage-traces-table-view {\\n  width: 100%;\\n  height: 100%;\\n  position: relative;\\n}\\n\\n.stage-traces-table-view .tabulator {\\n  font-size: inherit;\\n}\\n\\n.stage-traces-table-view .tabulator-col-title {\\n  color: #000;\\n  line-height: 1.5;\\n}\\n\\n.stage-traces-table-view .tabulator-header {\\n  border-bottom-color: #ddd;\\n}\\n\\n.stage-traces-table-view .tabulator-col:last-of-type {\\n  border-right: 0;\\n}\\n\\n.stage-traces-table-view\\n  .tabulator-col.tabulator-sortable[aria-sort='none']\\n  .tabulator-arrow {\\n  display: none;\\n}\\n\\n.stage-traces-table-view\\n  .tabulator-col.tabulator-sortable[aria-sort='asc']\\n  .tabulator-col-title,\\n.stage-traces-table-view\\n  .tabulator-col.tabulator-sortable[aria-sort='desc']\\n  .tabulator-col-title {\\n  text-decoration: underline;\\n}\\n\\n.stage-traces-table-view .tabulator .tabulator-tableHolder .tabulator-table {\\n  color: #777;\\n}\\n\\n.stage-traces-table-view .tabulator-row.tabulator-selectable:hover {\\n  background: #f3f3f3;\\n}\\n\\n.stage-traces-table-view .tabulator-row.tabulator-selected,\\n.stage-traces-table-view .tabulator-row.tabulator-selected:hover {\\n  background: #e5f0ff;\\n}\\n\\n.stage-traces-table-tag {\\n  /* background: #D0E2F2; */\\n  /* color: #7988B1; */\\n  /* padding: 1px 3px; */\\n  margin: 0 3px 0 10px;\\n  font-weight: 500;\\n  /* border-radius: 2px; */\\n}\\n\\n.stage-traces-table-tag:first-child {\\n  margin-left: 0;\\n}\\n\\n.stage-traces-table-value {\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".timeline-wrapper {\\n  height: 100%;\\n}\\n\\n/* Adjustments */\\n.timeline-toolbar-button.span-coloring svg {\\n  height: 1.5em;\\n  position: relative;\\n  top: 0.2em;\\n}\\n.timeline-toolbar-button.group-layout svg {\\n  height: 1.4em;\\n}\\n\\n.timeline-container {\\n  position: relative;\\n}\\n\\n.timeline-container .empty-message-container {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  width: 100%;\\n  height: 100%;\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n\\n  color: #999;\\n  font-weight: 500;\\n}\\n\\n.timeline-container .empty-message-container > div {\\n  padding: 0 50px;\\n}\\n\\n.empty-message-container .data-sources-text {\\n  margin-top: 0.7em;\\n  margin-bottom: 0.7em;\\n}\\n\\n.empty-message-container .sample-trace-text {\\n  margin-top: 1.9em;\\n}\\n\\n.empty-message-container .empty-message-link {\\n  cursor: pointer;\\n  text-decoration: underline;\\n  color: #999;\\n}\\n\\n.empty-message-container svg {\\n  border: 1px solid #ccc;\\n  line-height: 1em;\\n  height: 1.5em;\\n  position: relative;\\n  fill: #999;\\n  padding: 0.3em 0;\\n  top: 0.7em;\\n}\\n\\n.empty-message-container .raft-consensus-demo-app-text {\\n  margin-top: 1.9em;\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/timeline-wrapper/timeline-wrapper.css\"],\"names\":[],\"mappings\":\"AAAA;EACE,YAAY;AACd;;AAEA,gBAAgB;AAChB;EACE,aAAa;EACb,kBAAkB;EAClB,UAAU;AACZ;AACA;EACE,aAAa;AACf;;AAEA;EACE,kBAAkB;AACpB;;AAEA;EACE,kBAAkB;EAClB,MAAM;EACN,OAAO;EACP,WAAW;EACX,YAAY;EACZ,aAAa;EACb,uBAAuB;EACvB,mBAAmB;;EAEnB,WAAW;EACX,gBAAgB;AAClB;;AAEA;EACE,eAAe;AACjB;;AAEA;EACE,iBAAiB;EACjB,oBAAoB;AACtB;;AAEA;EACE,iBAAiB;AACnB;;AAEA;EACE,eAAe;EACf,0BAA0B;EAC1B,WAAW;AACb;;AAEA;EACE,sBAAsB;EACtB,gBAAgB;EAChB,aAAa;EACb,kBAAkB;EAClB,UAAU;EACV,gBAAgB;EAChB,UAAU;AACZ;;AAEA;EACE,iBAAiB;AACnB\",\"sourcesContent\":[\".timeline-wrapper {\\n  height: 100%;\\n}\\n\\n/* Adjustments */\\n.timeline-toolbar-button.span-coloring svg {\\n  height: 1.5em;\\n  position: relative;\\n  top: 0.2em;\\n}\\n.timeline-toolbar-button.group-layout svg {\\n  height: 1.4em;\\n}\\n\\n.timeline-container {\\n  position: relative;\\n}\\n\\n.timeline-container .empty-message-container {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  width: 100%;\\n  height: 100%;\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n\\n  color: #999;\\n  font-weight: 500;\\n}\\n\\n.timeline-container .empty-message-container > div {\\n  padding: 0 50px;\\n}\\n\\n.empty-message-container .data-sources-text {\\n  margin-top: 0.7em;\\n  margin-bottom: 0.7em;\\n}\\n\\n.empty-message-container .sample-trace-text {\\n  margin-top: 1.9em;\\n}\\n\\n.empty-message-container .empty-message-link {\\n  cursor: pointer;\\n  text-decoration: underline;\\n  color: #999;\\n}\\n\\n.empty-message-container svg {\\n  border: 1px solid #ccc;\\n  line-height: 1em;\\n  height: 1.5em;\\n  position: relative;\\n  fill: #999;\\n  padding: 0.3em 0;\\n  top: 0.7em;\\n}\\n\\n.empty-message-container .raft-consensus-demo-app-text {\\n  margin-top: 1.9em;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".jaeger-search-modal-container {\\n  width: 90%;\\n  height: 80%;\\n  overflow: hidden;\\n}\\n\\n.jaeger-search-modal-content {\\n  --header-height: 40px;\\n  --search-form-width: 220px;\\n  width: 100%;\\n  height: 100%;\\n  box-sizing: border-box;\\n  display: flex;\\n  flex-direction: column;\\n  position: relative;\\n}\\n\\n.jaeger-search-modal-content .header {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  right: 0;\\n  height: var(--header-height);\\n  border-bottom: 1px solid #ccc;\\n  box-sizing: border-box;\\n  display: flex;\\n  align-items: center;\\n  padding: 0 10px;\\n}\\n\\n.jaeger-search-modal-content .header .title-container {\\n  font-size: 18px;\\n  font-weight: 500;\\n  flex-grow: 1;\\n}\\n\\n.jaeger-search-modal-content .header .status {\\n  --icon-size: 18px;\\n  margin-left: 7px;\\n  cursor: pointer;\\n}\\n\\n.jaeger-search-modal-content .header .status .sk-circle {\\n  width: var(--icon-size);\\n  height: var(--icon-size);\\n  position: relative;\\n  display: inline-block;\\n  top: 3px;\\n  left: 5px;\\n}\\n\\n.jaeger-search-modal-content .header .status svg {\\n  width: var(--icon-size);\\n  height: var(--icon-size);\\n  position: relative;\\n  top: 3px;\\n}\\n\\n.jaeger-search-modal-content .header .status.success svg {\\n  fill: #52c41a;\\n}\\n\\n.jaeger-search-modal-content .header .status.warning svg {\\n  fill: #faad14;\\n}\\n\\n.jaeger-search-modal-content .header .status.error svg {\\n  fill: #f5222d;\\n}\\n\\n.jaeger-search-modal-content .main {\\n  display: flex;\\n  align-items: stretch;\\n  flex-grow: 1;\\n  position: absolute;\\n  top: var(--header-height);\\n  left: 0;\\n  right: 0;\\n  bottom: 0;\\n}\\n\\n.jaeger-search-modal-content .search-form-container {\\n  width: var(--search-form-width);\\n  min-width: var(--search-form-width);\\n  border-right: 1px solid #ccc;\\n  padding: 10px;\\n  box-sizing: border-box;\\n  overflow-y: auto;\\n}\\n\\n.jaeger-search-modal-content .search-form-hidden .search-form-container {\\n  display: none;\\n}\\n\\n.jaeger-search-modal-content .search-form-container form .field {\\n  margin-bottom: 1em;\\n}\\n\\n.jaeger-search-modal-content .search-form-container form .field-title {\\n  font-weight: 400;\\n}\\n\\n.jaeger-search-modal-content .search-form-container form .field input,\\n.jaeger-search-modal-content .search-form-container form .field select {\\n  width: 100%;\\n  box-sizing: border-box;\\n}\\n\\n.jaeger-search-modal-content .search-form-toggle {\\n  position: absolute;\\n  z-index: 2;\\n  bottom: 2px;\\n  left: var(--search-form-width);\\n  padding: 5px;\\n  box-sizing: border-box;\\n  cursor: pointer;\\n}\\n\\n.jaeger-search-modal-content .search-form-hidden .search-form-toggle {\\n  left: 0;\\n}\\n\\n.jaeger-search-modal-content .search-form-toggle svg {\\n  width: 15px;\\n  height: 15px;\\n  fill: #ccc;\\n}\\n\\n.jaeger-search-modal-content .search-form-toggle:hover svg {\\n  fill: #666;\\n}\\n\\n.jaeger-search-modal-content .result {\\n  --footer-height: 36px;\\n  --scatter-plot-height: 150px;\\n  flex-grow: 2;\\n  overflow: hidden;\\n  position: relative;\\n}\\n\\n.jaeger-search-modal-content .result .scatter-plot-container {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  width: 100%;\\n  height: var(--scatter-plot-height);\\n  border-bottom: 1px solid #ccc;\\n  box-sizing: border-box;\\n}\\n\\n.jaeger-search-modal-content .result .table-container {\\n  position: absolute;\\n  top: var(--scatter-plot-height);\\n  left: 0;\\n  width: 100%;\\n  bottom: var(--footer-height);\\n}\\n\\n.jaeger-search-modal-content .result .overlay-container {\\n  z-index: 1;\\n  position: absolute;\\n  top: 0;\\n  right: 0;\\n  bottom: 0;\\n  left: 0;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  background: rgba(255, 255, 255, 1);\\n  box-sizing: border-box;\\n}\\n\\n.jaeger-search-modal-content .result .overlay-container .message {\\n  height: 100%;\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: center;\\n  align-items: center;\\n}\\n\\n.jaeger-search-modal-content .result .overlay-container .message svg {\\n  width: 2.5em;\\n  height: 2.5em;\\n  fill: #ccc;\\n}\\n\\n.jaeger-search-modal-content .result .overlay-container .message span {\\n  color: #ccc;\\n  margin-top: 0.5em;\\n  font-weight: 600;\\n}\\n\\n.jaeger-search-modal-content .result .overlay-container .sk-circle {\\n  width: 40px;\\n  height: 40px;\\n  position: relative;\\n}\\n\\n.jaeger-search-modal-content .footer {\\n  height: var(--footer-height);\\n  border-top: 1px solid #ccc;\\n  padding: 0 1em;\\n  position: absolute;\\n  bottom: 0;\\n  left: 0;\\n  right: 0;\\n  box-sizing: border-box;\\n  display: flex;\\n  justify-content: flex-end;\\n  align-items: center;\\n}\\n\\n.jaeger-search-modal-content .footer > span {\\n  margin-right: 10px;\\n}\\n\\n/* Borrowed from https://tobiasahlin.com/spinkit/ */\\n.sk-circle .sk-child {\\n  width: 100%;\\n  height: 100%;\\n  position: absolute;\\n  left: 0;\\n  top: 0;\\n}\\n.sk-circle .sk-child:before {\\n  content: '';\\n  display: block;\\n  margin: 0 auto;\\n  width: 15%;\\n  height: 15%;\\n  background-color: #333;\\n  border-radius: 100%;\\n  -webkit-animation: sk-circleBounceDelay 1.2s infinite ease-in-out both;\\n  animation: sk-circleBounceDelay 1.2s infinite ease-in-out both;\\n}\\n.sk-circle .sk-circle2 {\\n  -webkit-transform: rotate(30deg);\\n  -ms-transform: rotate(30deg);\\n  transform: rotate(30deg);\\n}\\n.sk-circle .sk-circle3 {\\n  -webkit-transform: rotate(60deg);\\n  -ms-transform: rotate(60deg);\\n  transform: rotate(60deg);\\n}\\n.sk-circle .sk-circle4 {\\n  -webkit-transform: rotate(90deg);\\n  -ms-transform: rotate(90deg);\\n  transform: rotate(90deg);\\n}\\n.sk-circle .sk-circle5 {\\n  -webkit-transform: rotate(120deg);\\n  -ms-transform: rotate(120deg);\\n  transform: rotate(120deg);\\n}\\n.sk-circle .sk-circle6 {\\n  -webkit-transform: rotate(150deg);\\n  -ms-transform: rotate(150deg);\\n  transform: rotate(150deg);\\n}\\n.sk-circle .sk-circle7 {\\n  -webkit-transform: rotate(180deg);\\n  -ms-transform: rotate(180deg);\\n  transform: rotate(180deg);\\n}\\n.sk-circle .sk-circle8 {\\n  -webkit-transform: rotate(210deg);\\n  -ms-transform: rotate(210deg);\\n  transform: rotate(210deg);\\n}\\n.sk-circle .sk-circle9 {\\n  -webkit-transform: rotate(240deg);\\n  -ms-transform: rotate(240deg);\\n  transform: rotate(240deg);\\n}\\n.sk-circle .sk-circle10 {\\n  -webkit-transform: rotate(270deg);\\n  -ms-transform: rotate(270deg);\\n  transform: rotate(270deg);\\n}\\n.sk-circle .sk-circle11 {\\n  -webkit-transform: rotate(300deg);\\n  -ms-transform: rotate(300deg);\\n  transform: rotate(300deg);\\n}\\n.sk-circle .sk-circle12 {\\n  -webkit-transform: rotate(330deg);\\n  -ms-transform: rotate(330deg);\\n  transform: rotate(330deg);\\n}\\n.sk-circle .sk-circle2:before {\\n  -webkit-animation-delay: -1.1s;\\n  animation-delay: -1.1s;\\n}\\n.sk-circle .sk-circle3:before {\\n  -webkit-animation-delay: -1s;\\n  animation-delay: -1s;\\n}\\n.sk-circle .sk-circle4:before {\\n  -webkit-animation-delay: -0.9s;\\n  animation-delay: -0.9s;\\n}\\n.sk-circle .sk-circle5:before {\\n  -webkit-animation-delay: -0.8s;\\n  animation-delay: -0.8s;\\n}\\n.sk-circle .sk-circle6:before {\\n  -webkit-animation-delay: -0.7s;\\n  animation-delay: -0.7s;\\n}\\n.sk-circle .sk-circle7:before {\\n  -webkit-animation-delay: -0.6s;\\n  animation-delay: -0.6s;\\n}\\n.sk-circle .sk-circle8:before {\\n  -webkit-animation-delay: -0.5s;\\n  animation-delay: -0.5s;\\n}\\n.sk-circle .sk-circle9:before {\\n  -webkit-animation-delay: -0.4s;\\n  animation-delay: -0.4s;\\n}\\n.sk-circle .sk-circle10:before {\\n  -webkit-animation-delay: -0.3s;\\n  animation-delay: -0.3s;\\n}\\n.sk-circle .sk-circle11:before {\\n  -webkit-animation-delay: -0.2s;\\n  animation-delay: -0.2s;\\n}\\n.sk-circle .sk-circle12:before {\\n  -webkit-animation-delay: -0.1s;\\n  animation-delay: -0.1s;\\n}\\n@-webkit-keyframes sk-circleBounceDelay {\\n  0%,\\n  80%,\\n  100% {\\n    -webkit-transform: scale(0);\\n    transform: scale(0);\\n  }\\n  40% {\\n    -webkit-transform: scale(1);\\n    transform: scale(1);\\n  }\\n}\\n@keyframes sk-circleBounceDelay {\\n  0%,\\n  80%,\\n  100% {\\n    -webkit-transform: scale(0);\\n    transform: scale(0);\\n  }\\n  40% {\\n    -webkit-transform: scale(1);\\n    transform: scale(1);\\n  }\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/trace-search/jaeger-search.css\"],\"names\":[],\"mappings\":\"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\",\"sourcesContent\":[\".jaeger-search-modal-container {\\n  width: 90%;\\n  height: 80%;\\n  overflow: hidden;\\n}\\n\\n.jaeger-search-modal-content {\\n  --header-height: 40px;\\n  --search-form-width: 220px;\\n  width: 100%;\\n  height: 100%;\\n  box-sizing: border-box;\\n  display: flex;\\n  flex-direction: column;\\n  position: relative;\\n}\\n\\n.jaeger-search-modal-content .header {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  right: 0;\\n  height: var(--header-height);\\n  border-bottom: 1px solid #ccc;\\n  box-sizing: border-box;\\n  display: flex;\\n  align-items: center;\\n  padding: 0 10px;\\n}\\n\\n.jaeger-search-modal-content .header .title-container {\\n  font-size: 18px;\\n  font-weight: 500;\\n  flex-grow: 1;\\n}\\n\\n.jaeger-search-modal-content .header .status {\\n  --icon-size: 18px;\\n  margin-left: 7px;\\n  cursor: pointer;\\n}\\n\\n.jaeger-search-modal-content .header .status .sk-circle {\\n  width: var(--icon-size);\\n  height: var(--icon-size);\\n  position: relative;\\n  display: inline-block;\\n  top: 3px;\\n  left: 5px;\\n}\\n\\n.jaeger-search-modal-content .header .status svg {\\n  width: var(--icon-size);\\n  height: var(--icon-size);\\n  position: relative;\\n  top: 3px;\\n}\\n\\n.jaeger-search-modal-content .header .status.success svg {\\n  fill: #52c41a;\\n}\\n\\n.jaeger-search-modal-content .header .status.warning svg {\\n  fill: #faad14;\\n}\\n\\n.jaeger-search-modal-content .header .status.error svg {\\n  fill: #f5222d;\\n}\\n\\n.jaeger-search-modal-content .main {\\n  display: flex;\\n  align-items: stretch;\\n  flex-grow: 1;\\n  position: absolute;\\n  top: var(--header-height);\\n  left: 0;\\n  right: 0;\\n  bottom: 0;\\n}\\n\\n.jaeger-search-modal-content .search-form-container {\\n  width: var(--search-form-width);\\n  min-width: var(--search-form-width);\\n  border-right: 1px solid #ccc;\\n  padding: 10px;\\n  box-sizing: border-box;\\n  overflow-y: auto;\\n}\\n\\n.jaeger-search-modal-content .search-form-hidden .search-form-container {\\n  display: none;\\n}\\n\\n.jaeger-search-modal-content .search-form-container form .field {\\n  margin-bottom: 1em;\\n}\\n\\n.jaeger-search-modal-content .search-form-container form .field-title {\\n  font-weight: 400;\\n}\\n\\n.jaeger-search-modal-content .search-form-container form .field input,\\n.jaeger-search-modal-content .search-form-container form .field select {\\n  width: 100%;\\n  box-sizing: border-box;\\n}\\n\\n.jaeger-search-modal-content .search-form-toggle {\\n  position: absolute;\\n  z-index: 2;\\n  bottom: 2px;\\n  left: var(--search-form-width);\\n  padding: 5px;\\n  box-sizing: border-box;\\n  cursor: pointer;\\n}\\n\\n.jaeger-search-modal-content .search-form-hidden .search-form-toggle {\\n  left: 0;\\n}\\n\\n.jaeger-search-modal-content .search-form-toggle svg {\\n  width: 15px;\\n  height: 15px;\\n  fill: #ccc;\\n}\\n\\n.jaeger-search-modal-content .search-form-toggle:hover svg {\\n  fill: #666;\\n}\\n\\n.jaeger-search-modal-content .result {\\n  --footer-height: 36px;\\n  --scatter-plot-height: 150px;\\n  flex-grow: 2;\\n  overflow: hidden;\\n  position: relative;\\n}\\n\\n.jaeger-search-modal-content .result .scatter-plot-container {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  width: 100%;\\n  height: var(--scatter-plot-height);\\n  border-bottom: 1px solid #ccc;\\n  box-sizing: border-box;\\n}\\n\\n.jaeger-search-modal-content .result .table-container {\\n  position: absolute;\\n  top: var(--scatter-plot-height);\\n  left: 0;\\n  width: 100%;\\n  bottom: var(--footer-height);\\n}\\n\\n.jaeger-search-modal-content .result .overlay-container {\\n  z-index: 1;\\n  position: absolute;\\n  top: 0;\\n  right: 0;\\n  bottom: 0;\\n  left: 0;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  background: rgba(255, 255, 255, 1);\\n  box-sizing: border-box;\\n}\\n\\n.jaeger-search-modal-content .result .overlay-container .message {\\n  height: 100%;\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: center;\\n  align-items: center;\\n}\\n\\n.jaeger-search-modal-content .result .overlay-container .message svg {\\n  width: 2.5em;\\n  height: 2.5em;\\n  fill: #ccc;\\n}\\n\\n.jaeger-search-modal-content .result .overlay-container .message span {\\n  color: #ccc;\\n  margin-top: 0.5em;\\n  font-weight: 600;\\n}\\n\\n.jaeger-search-modal-content .result .overlay-container .sk-circle {\\n  width: 40px;\\n  height: 40px;\\n  position: relative;\\n}\\n\\n.jaeger-search-modal-content .footer {\\n  height: var(--footer-height);\\n  border-top: 1px solid #ccc;\\n  padding: 0 1em;\\n  position: absolute;\\n  bottom: 0;\\n  left: 0;\\n  right: 0;\\n  box-sizing: border-box;\\n  display: flex;\\n  justify-content: flex-end;\\n  align-items: center;\\n}\\n\\n.jaeger-search-modal-content .footer > span {\\n  margin-right: 10px;\\n}\\n\\n/* Borrowed from https://tobiasahlin.com/spinkit/ */\\n.sk-circle .sk-child {\\n  width: 100%;\\n  height: 100%;\\n  position: absolute;\\n  left: 0;\\n  top: 0;\\n}\\n.sk-circle .sk-child:before {\\n  content: '';\\n  display: block;\\n  margin: 0 auto;\\n  width: 15%;\\n  height: 15%;\\n  background-color: #333;\\n  border-radius: 100%;\\n  -webkit-animation: sk-circleBounceDelay 1.2s infinite ease-in-out both;\\n  animation: sk-circleBounceDelay 1.2s infinite ease-in-out both;\\n}\\n.sk-circle .sk-circle2 {\\n  -webkit-transform: rotate(30deg);\\n  -ms-transform: rotate(30deg);\\n  transform: rotate(30deg);\\n}\\n.sk-circle .sk-circle3 {\\n  -webkit-transform: rotate(60deg);\\n  -ms-transform: rotate(60deg);\\n  transform: rotate(60deg);\\n}\\n.sk-circle .sk-circle4 {\\n  -webkit-transform: rotate(90deg);\\n  -ms-transform: rotate(90deg);\\n  transform: rotate(90deg);\\n}\\n.sk-circle .sk-circle5 {\\n  -webkit-transform: rotate(120deg);\\n  -ms-transform: rotate(120deg);\\n  transform: rotate(120deg);\\n}\\n.sk-circle .sk-circle6 {\\n  -webkit-transform: rotate(150deg);\\n  -ms-transform: rotate(150deg);\\n  transform: rotate(150deg);\\n}\\n.sk-circle .sk-circle7 {\\n  -webkit-transform: rotate(180deg);\\n  -ms-transform: rotate(180deg);\\n  transform: rotate(180deg);\\n}\\n.sk-circle .sk-circle8 {\\n  -webkit-transform: rotate(210deg);\\n  -ms-transform: rotate(210deg);\\n  transform: rotate(210deg);\\n}\\n.sk-circle .sk-circle9 {\\n  -webkit-transform: rotate(240deg);\\n  -ms-transform: rotate(240deg);\\n  transform: rotate(240deg);\\n}\\n.sk-circle .sk-circle10 {\\n  -webkit-transform: rotate(270deg);\\n  -ms-transform: rotate(270deg);\\n  transform: rotate(270deg);\\n}\\n.sk-circle .sk-circle11 {\\n  -webkit-transform: rotate(300deg);\\n  -ms-transform: rotate(300deg);\\n  transform: rotate(300deg);\\n}\\n.sk-circle .sk-circle12 {\\n  -webkit-transform: rotate(330deg);\\n  -ms-transform: rotate(330deg);\\n  transform: rotate(330deg);\\n}\\n.sk-circle .sk-circle2:before {\\n  -webkit-animation-delay: -1.1s;\\n  animation-delay: -1.1s;\\n}\\n.sk-circle .sk-circle3:before {\\n  -webkit-animation-delay: -1s;\\n  animation-delay: -1s;\\n}\\n.sk-circle .sk-circle4:before {\\n  -webkit-animation-delay: -0.9s;\\n  animation-delay: -0.9s;\\n}\\n.sk-circle .sk-circle5:before {\\n  -webkit-animation-delay: -0.8s;\\n  animation-delay: -0.8s;\\n}\\n.sk-circle .sk-circle6:before {\\n  -webkit-animation-delay: -0.7s;\\n  animation-delay: -0.7s;\\n}\\n.sk-circle .sk-circle7:before {\\n  -webkit-animation-delay: -0.6s;\\n  animation-delay: -0.6s;\\n}\\n.sk-circle .sk-circle8:before {\\n  -webkit-animation-delay: -0.5s;\\n  animation-delay: -0.5s;\\n}\\n.sk-circle .sk-circle9:before {\\n  -webkit-animation-delay: -0.4s;\\n  animation-delay: -0.4s;\\n}\\n.sk-circle .sk-circle10:before {\\n  -webkit-animation-delay: -0.3s;\\n  animation-delay: -0.3s;\\n}\\n.sk-circle .sk-circle11:before {\\n  -webkit-animation-delay: -0.2s;\\n  animation-delay: -0.2s;\\n}\\n.sk-circle .sk-circle12:before {\\n  -webkit-animation-delay: -0.1s;\\n  animation-delay: -0.1s;\\n}\\n@-webkit-keyframes sk-circleBounceDelay {\\n  0%,\\n  80%,\\n  100% {\\n    -webkit-transform: scale(0);\\n    transform: scale(0);\\n  }\\n  40% {\\n    -webkit-transform: scale(1);\\n    transform: scale(1);\\n  }\\n}\\n@keyframes sk-circleBounceDelay {\\n  0%,\\n  80%,\\n  100% {\\n    -webkit-transform: scale(0);\\n    transform: scale(0);\\n  }\\n  40% {\\n    -webkit-transform: scale(1);\\n    transform: scale(1);\\n  }\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".search-modal-traces-table-view {\\n  width: 100%;\\n  height: 100%;\\n  position: relative;\\n}\\n\\n.search-modal-traces-table-view .tabulator {\\n  font-size: inherit;\\n}\\n\\n.search-modal-traces-table-view .tabulator-col-title {\\n  color: #000;\\n  line-height: 1.5;\\n}\\n\\n.search-modal-traces-table-view .tabulator-header {\\n  border-bottom-color: #ddd;\\n}\\n\\n.search-modal-traces-table-view .tabulator-col:last-of-type {\\n  border-right: 0;\\n}\\n\\n.search-modal-traces-table-view\\n  .tabulator-col.tabulator-sortable[aria-sort='none']\\n  .tabulator-arrow {\\n  display: none;\\n}\\n\\n.search-modal-traces-table-view\\n  .tabulator-col.tabulator-sortable[aria-sort='asc']\\n  .tabulator-col-title,\\n.search-modal-traces-table-view\\n  .tabulator-col.tabulator-sortable[aria-sort='desc']\\n  .tabulator-col-title {\\n  text-decoration: underline;\\n}\\n\\n.search-modal-traces-table-view\\n  .tabulator\\n  .tabulator-tableHolder\\n  .tabulator-table {\\n  color: #777;\\n}\\n\\n.search-modal-traces-table-view .tabulator-row.tabulator-selectable:hover {\\n  background: #f3f3f3;\\n}\\n\\n.search-modal-traces-table-view .tabulator-row.tabulator-selected,\\n.search-modal-traces-table-view .tabulator-row.tabulator-selected:hover {\\n  background: #e5f0ff;\\n}\\n\\n.traces-table-tag {\\n  /* background: #D0E2F2; */\\n  /* color: #7988B1; */\\n  /* padding: 1px 3px; */\\n  margin: 0 3px 0 10px;\\n  font-weight: 500;\\n  /* border-radius: 2px; */\\n}\\n\\n.traces-table-tag:first-child {\\n  margin-left: 0;\\n}\\n\\n.traces-table-value {\\n}\\n\\n.search-modal-traces-table-view .loading-container {\\n  z-index: 1;\\n  position: absolute;\\n  top: 0;\\n  right: 0;\\n  bottom: 0;\\n  left: 0;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  background: rgba(255, 255, 255, 0.5);\\n}\\n\\n.search-modal-traces-table-view .tabulator-cell[tabulator-field='inStage'] {\\n  padding: 0;\\n}\\n\\n.search-modal-traces-table-view .in-stage-cell {\\n  height: 100%;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n}\\n\\n.search-modal-traces-table-view .in-stage-cell svg {\\n  height: 1.4em;\\n}\\n\\n.search-modal-traces-table-view .in-stage-cell.check svg {\\n  fill: #5eb662;\\n}\\n\\n.search-modal-traces-table-view .in-stage-cell.alert svg {\\n  fill: #ff833e;\\n}\\n\\n/* Borrowed from https://tobiasahlin.com/spinkit/ */\\n.search-modal-traces-table-view .loading-container .sk-circle {\\n  width: 40px;\\n  height: 40px;\\n  position: relative;\\n}\\n.sk-circle .sk-child {\\n  width: 100%;\\n  height: 100%;\\n  position: absolute;\\n  left: 0;\\n  top: 0;\\n}\\n.sk-circle .sk-child:before {\\n  content: '';\\n  display: block;\\n  margin: 0 auto;\\n  width: 15%;\\n  height: 15%;\\n  background-color: #333;\\n  border-radius: 100%;\\n  -webkit-animation: sk-circleBounceDelay 1.2s infinite ease-in-out both;\\n  animation: sk-circleBounceDelay 1.2s infinite ease-in-out both;\\n}\\n.sk-circle .sk-circle2 {\\n  -webkit-transform: rotate(30deg);\\n  -ms-transform: rotate(30deg);\\n  transform: rotate(30deg);\\n}\\n.sk-circle .sk-circle3 {\\n  -webkit-transform: rotate(60deg);\\n  -ms-transform: rotate(60deg);\\n  transform: rotate(60deg);\\n}\\n.sk-circle .sk-circle4 {\\n  -webkit-transform: rotate(90deg);\\n  -ms-transform: rotate(90deg);\\n  transform: rotate(90deg);\\n}\\n.sk-circle .sk-circle5 {\\n  -webkit-transform: rotate(120deg);\\n  -ms-transform: rotate(120deg);\\n  transform: rotate(120deg);\\n}\\n.sk-circle .sk-circle6 {\\n  -webkit-transform: rotate(150deg);\\n  -ms-transform: rotate(150deg);\\n  transform: rotate(150deg);\\n}\\n.sk-circle .sk-circle7 {\\n  -webkit-transform: rotate(180deg);\\n  -ms-transform: rotate(180deg);\\n  transform: rotate(180deg);\\n}\\n.sk-circle .sk-circle8 {\\n  -webkit-transform: rotate(210deg);\\n  -ms-transform: rotate(210deg);\\n  transform: rotate(210deg);\\n}\\n.sk-circle .sk-circle9 {\\n  -webkit-transform: rotate(240deg);\\n  -ms-transform: rotate(240deg);\\n  transform: rotate(240deg);\\n}\\n.sk-circle .sk-circle10 {\\n  -webkit-transform: rotate(270deg);\\n  -ms-transform: rotate(270deg);\\n  transform: rotate(270deg);\\n}\\n.sk-circle .sk-circle11 {\\n  -webkit-transform: rotate(300deg);\\n  -ms-transform: rotate(300deg);\\n  transform: rotate(300deg);\\n}\\n.sk-circle .sk-circle12 {\\n  -webkit-transform: rotate(330deg);\\n  -ms-transform: rotate(330deg);\\n  transform: rotate(330deg);\\n}\\n.sk-circle .sk-circle2:before {\\n  -webkit-animation-delay: -1.1s;\\n  animation-delay: -1.1s;\\n}\\n.sk-circle .sk-circle3:before {\\n  -webkit-animation-delay: -1s;\\n  animation-delay: -1s;\\n}\\n.sk-circle .sk-circle4:before {\\n  -webkit-animation-delay: -0.9s;\\n  animation-delay: -0.9s;\\n}\\n.sk-circle .sk-circle5:before {\\n  -webkit-animation-delay: -0.8s;\\n  animation-delay: -0.8s;\\n}\\n.sk-circle .sk-circle6:before {\\n  -webkit-animation-delay: -0.7s;\\n  animation-delay: -0.7s;\\n}\\n.sk-circle .sk-circle7:before {\\n  -webkit-animation-delay: -0.6s;\\n  animation-delay: -0.6s;\\n}\\n.sk-circle .sk-circle8:before {\\n  -webkit-animation-delay: -0.5s;\\n  animation-delay: -0.5s;\\n}\\n.sk-circle .sk-circle9:before {\\n  -webkit-animation-delay: -0.4s;\\n  animation-delay: -0.4s;\\n}\\n.sk-circle .sk-circle10:before {\\n  -webkit-animation-delay: -0.3s;\\n  animation-delay: -0.3s;\\n}\\n.sk-circle .sk-circle11:before {\\n  -webkit-animation-delay: -0.2s;\\n  animation-delay: -0.2s;\\n}\\n.sk-circle .sk-circle12:before {\\n  -webkit-animation-delay: -0.1s;\\n  animation-delay: -0.1s;\\n}\\n@-webkit-keyframes sk-circleBounceDelay {\\n  0%,\\n  80%,\\n  100% {\\n    -webkit-transform: scale(0);\\n    transform: scale(0);\\n  }\\n  40% {\\n    -webkit-transform: scale(1);\\n    transform: scale(1);\\n  }\\n}\\n@keyframes sk-circleBounceDelay {\\n  0%,\\n  80%,\\n  100% {\\n    -webkit-transform: scale(0);\\n    transform: scale(0);\\n  }\\n  40% {\\n    -webkit-transform: scale(1);\\n    transform: scale(1);\\n  }\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/trace-search/trace-search-results-table.css\"],\"names\":[],\"mappings\":\"AAAA;EACE,WAAW;EACX,YAAY;EACZ,kBAAkB;AACpB;;AAEA;EACE,kBAAkB;AACpB;;AAEA;EACE,WAAW;EACX,gBAAgB;AAClB;;AAEA;EACE,yBAAyB;AAC3B;;AAEA;EACE,eAAe;AACjB;;AAEA;;;EAGE,aAAa;AACf;;AAEA;;;;;;EAME,0BAA0B;AAC5B;;AAEA;;;;EAIE,WAAW;AACb;;AAEA;EACE,mBAAmB;AACrB;;AAEA;;EAEE,mBAAmB;AACrB;;AAEA;EACE,yBAAyB;EACzB,oBAAoB;EACpB,sBAAsB;EACtB,oBAAoB;EACpB,gBAAgB;EAChB,wBAAwB;AAC1B;;AAEA;EACE,cAAc;AAChB;;AAEA;AACA;;AAEA;EACE,UAAU;EACV,kBAAkB;EAClB,MAAM;EACN,QAAQ;EACR,SAAS;EACT,OAAO;EACP,aAAa;EACb,mBAAmB;EACnB,uBAAuB;EACvB,oCAAoC;AACtC;;AAEA;EACE,UAAU;AACZ;;AAEA;EACE,YAAY;EACZ,aAAa;EACb,mBAAmB;EACnB,uBAAuB;AACzB;;AAEA;EACE,aAAa;AACf;;AAEA;EACE,aAAa;AACf;;AAEA;EACE,aAAa;AACf;;AAEA,mDAAmD;AACnD;EACE,WAAW;EACX,YAAY;EACZ,kBAAkB;AACpB;AACA;EACE,WAAW;EACX,YAAY;EACZ,kBAAkB;EAClB,OAAO;EACP,MAAM;AACR;AACA;EACE,WAAW;EACX,cAAc;EACd,cAAc;EACd,UAAU;EACV,WAAW;EACX,sBAAsB;EACtB,mBAAmB;EACnB,sEAAsE;EACtE,8DAA8D;AAChE;AACA;EACE,gCAAgC;EAChC,4BAA4B;EAC5B,wBAAwB;AAC1B;AACA;EACE,gCAAgC;EAChC,4BAA4B;EAC5B,wBAAwB;AAC1B;AACA;EACE,gCAAgC;EAChC,4BAA4B;EAC5B,wBAAwB;AAC1B;AACA;EACE,iCAAiC;EACjC,6BAA6B;EAC7B,yBAAyB;AAC3B;AACA;EACE,iCAAiC;EACjC,6BAA6B;EAC7B,yBAAyB;AAC3B;AACA;EACE,iCAAiC;EACjC,6BAA6B;EAC7B,yBAAyB;AAC3B;AACA;EACE,iCAAiC;EACjC,6BAA6B;EAC7B,yBAAyB;AAC3B;AACA;EACE,iCAAiC;EACjC,6BAA6B;EAC7B,yBAAyB;AAC3B;AACA;EACE,iCAAiC;EACjC,6BAA6B;EAC7B,yBAAyB;AAC3B;AACA;EACE,iCAAiC;EACjC,6BAA6B;EAC7B,yBAAyB;AAC3B;AACA;EACE,iCAAiC;EACjC,6BAA6B;EAC7B,yBAAyB;AAC3B;AACA;EACE,8BAA8B;EAC9B,sBAAsB;AACxB;AACA;EACE,4BAA4B;EAC5B,oBAAoB;AACtB;AACA;EACE,8BAA8B;EAC9B,sBAAsB;AACxB;AACA;EACE,8BAA8B;EAC9B,sBAAsB;AACxB;AACA;EACE,8BAA8B;EAC9B,sBAAsB;AACxB;AACA;EACE,8BAA8B;EAC9B,sBAAsB;AACxB;AACA;EACE,8BAA8B;EAC9B,sBAAsB;AACxB;AACA;EACE,8BAA8B;EAC9B,sBAAsB;AACxB;AACA;EACE,8BAA8B;EAC9B,sBAAsB;AACxB;AACA;EACE,8BAA8B;EAC9B,sBAAsB;AACxB;AACA;EACE,8BAA8B;EAC9B,sBAAsB;AACxB;AACA;EACE;;;IAGE,2BAA2B;IAC3B,mBAAmB;EACrB;EACA;IACE,2BAA2B;IAC3B,mBAAmB;EACrB;AACF;AACA;EACE;;;IAGE,2BAA2B;IAC3B,mBAAmB;EACrB;EACA;IACE,2BAA2B;IAC3B,mBAAmB;EACrB;AACF\",\"sourcesContent\":[\".search-modal-traces-table-view {\\n  width: 100%;\\n  height: 100%;\\n  position: relative;\\n}\\n\\n.search-modal-traces-table-view .tabulator {\\n  font-size: inherit;\\n}\\n\\n.search-modal-traces-table-view .tabulator-col-title {\\n  color: #000;\\n  line-height: 1.5;\\n}\\n\\n.search-modal-traces-table-view .tabulator-header {\\n  border-bottom-color: #ddd;\\n}\\n\\n.search-modal-traces-table-view .tabulator-col:last-of-type {\\n  border-right: 0;\\n}\\n\\n.search-modal-traces-table-view\\n  .tabulator-col.tabulator-sortable[aria-sort='none']\\n  .tabulator-arrow {\\n  display: none;\\n}\\n\\n.search-modal-traces-table-view\\n  .tabulator-col.tabulator-sortable[aria-sort='asc']\\n  .tabulator-col-title,\\n.search-modal-traces-table-view\\n  .tabulator-col.tabulator-sortable[aria-sort='desc']\\n  .tabulator-col-title {\\n  text-decoration: underline;\\n}\\n\\n.search-modal-traces-table-view\\n  .tabulator\\n  .tabulator-tableHolder\\n  .tabulator-table {\\n  color: #777;\\n}\\n\\n.search-modal-traces-table-view .tabulator-row.tabulator-selectable:hover {\\n  background: #f3f3f3;\\n}\\n\\n.search-modal-traces-table-view .tabulator-row.tabulator-selected,\\n.search-modal-traces-table-view .tabulator-row.tabulator-selected:hover {\\n  background: #e5f0ff;\\n}\\n\\n.traces-table-tag {\\n  /* background: #D0E2F2; */\\n  /* color: #7988B1; */\\n  /* padding: 1px 3px; */\\n  margin: 0 3px 0 10px;\\n  font-weight: 500;\\n  /* border-radius: 2px; */\\n}\\n\\n.traces-table-tag:first-child {\\n  margin-left: 0;\\n}\\n\\n.traces-table-value {\\n}\\n\\n.search-modal-traces-table-view .loading-container {\\n  z-index: 1;\\n  position: absolute;\\n  top: 0;\\n  right: 0;\\n  bottom: 0;\\n  left: 0;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  background: rgba(255, 255, 255, 0.5);\\n}\\n\\n.search-modal-traces-table-view .tabulator-cell[tabulator-field='inStage'] {\\n  padding: 0;\\n}\\n\\n.search-modal-traces-table-view .in-stage-cell {\\n  height: 100%;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n}\\n\\n.search-modal-traces-table-view .in-stage-cell svg {\\n  height: 1.4em;\\n}\\n\\n.search-modal-traces-table-view .in-stage-cell.check svg {\\n  fill: #5eb662;\\n}\\n\\n.search-modal-traces-table-view .in-stage-cell.alert svg {\\n  fill: #ff833e;\\n}\\n\\n/* Borrowed from https://tobiasahlin.com/spinkit/ */\\n.search-modal-traces-table-view .loading-container .sk-circle {\\n  width: 40px;\\n  height: 40px;\\n  position: relative;\\n}\\n.sk-circle .sk-child {\\n  width: 100%;\\n  height: 100%;\\n  position: absolute;\\n  left: 0;\\n  top: 0;\\n}\\n.sk-circle .sk-child:before {\\n  content: '';\\n  display: block;\\n  margin: 0 auto;\\n  width: 15%;\\n  height: 15%;\\n  background-color: #333;\\n  border-radius: 100%;\\n  -webkit-animation: sk-circleBounceDelay 1.2s infinite ease-in-out both;\\n  animation: sk-circleBounceDelay 1.2s infinite ease-in-out both;\\n}\\n.sk-circle .sk-circle2 {\\n  -webkit-transform: rotate(30deg);\\n  -ms-transform: rotate(30deg);\\n  transform: rotate(30deg);\\n}\\n.sk-circle .sk-circle3 {\\n  -webkit-transform: rotate(60deg);\\n  -ms-transform: rotate(60deg);\\n  transform: rotate(60deg);\\n}\\n.sk-circle .sk-circle4 {\\n  -webkit-transform: rotate(90deg);\\n  -ms-transform: rotate(90deg);\\n  transform: rotate(90deg);\\n}\\n.sk-circle .sk-circle5 {\\n  -webkit-transform: rotate(120deg);\\n  -ms-transform: rotate(120deg);\\n  transform: rotate(120deg);\\n}\\n.sk-circle .sk-circle6 {\\n  -webkit-transform: rotate(150deg);\\n  -ms-transform: rotate(150deg);\\n  transform: rotate(150deg);\\n}\\n.sk-circle .sk-circle7 {\\n  -webkit-transform: rotate(180deg);\\n  -ms-transform: rotate(180deg);\\n  transform: rotate(180deg);\\n}\\n.sk-circle .sk-circle8 {\\n  -webkit-transform: rotate(210deg);\\n  -ms-transform: rotate(210deg);\\n  transform: rotate(210deg);\\n}\\n.sk-circle .sk-circle9 {\\n  -webkit-transform: rotate(240deg);\\n  -ms-transform: rotate(240deg);\\n  transform: rotate(240deg);\\n}\\n.sk-circle .sk-circle10 {\\n  -webkit-transform: rotate(270deg);\\n  -ms-transform: rotate(270deg);\\n  transform: rotate(270deg);\\n}\\n.sk-circle .sk-circle11 {\\n  -webkit-transform: rotate(300deg);\\n  -ms-transform: rotate(300deg);\\n  transform: rotate(300deg);\\n}\\n.sk-circle .sk-circle12 {\\n  -webkit-transform: rotate(330deg);\\n  -ms-transform: rotate(330deg);\\n  transform: rotate(330deg);\\n}\\n.sk-circle .sk-circle2:before {\\n  -webkit-animation-delay: -1.1s;\\n  animation-delay: -1.1s;\\n}\\n.sk-circle .sk-circle3:before {\\n  -webkit-animation-delay: -1s;\\n  animation-delay: -1s;\\n}\\n.sk-circle .sk-circle4:before {\\n  -webkit-animation-delay: -0.9s;\\n  animation-delay: -0.9s;\\n}\\n.sk-circle .sk-circle5:before {\\n  -webkit-animation-delay: -0.8s;\\n  animation-delay: -0.8s;\\n}\\n.sk-circle .sk-circle6:before {\\n  -webkit-animation-delay: -0.7s;\\n  animation-delay: -0.7s;\\n}\\n.sk-circle .sk-circle7:before {\\n  -webkit-animation-delay: -0.6s;\\n  animation-delay: -0.6s;\\n}\\n.sk-circle .sk-circle8:before {\\n  -webkit-animation-delay: -0.5s;\\n  animation-delay: -0.5s;\\n}\\n.sk-circle .sk-circle9:before {\\n  -webkit-animation-delay: -0.4s;\\n  animation-delay: -0.4s;\\n}\\n.sk-circle .sk-circle10:before {\\n  -webkit-animation-delay: -0.3s;\\n  animation-delay: -0.3s;\\n}\\n.sk-circle .sk-circle11:before {\\n  -webkit-animation-delay: -0.2s;\\n  animation-delay: -0.2s;\\n}\\n.sk-circle .sk-circle12:before {\\n  -webkit-animation-delay: -0.1s;\\n  animation-delay: -0.1s;\\n}\\n@-webkit-keyframes sk-circleBounceDelay {\\n  0%,\\n  80%,\\n  100% {\\n    -webkit-transform: scale(0);\\n    transform: scale(0);\\n  }\\n  40% {\\n    -webkit-transform: scale(1);\\n    transform: scale(1);\\n  }\\n}\\n@keyframes sk-circleBounceDelay {\\n  0%,\\n  80%,\\n  100% {\\n    -webkit-transform: scale(0);\\n    transform: scale(0);\\n  }\\n  40% {\\n    -webkit-transform: scale(1);\\n    transform: scale(1);\\n  }\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".zipkin-search-modal-container {\\n  width: 90%;\\n  height: 80%;\\n  overflow: hidden;\\n}\\n\\n.zipkin-search-modal-content {\\n  --header-height: 40px;\\n  --search-form-width: 220px;\\n  width: 100%;\\n  height: 100%;\\n  box-sizing: border-box;\\n  display: flex;\\n  flex-direction: column;\\n  position: relative;\\n}\\n\\n.zipkin-search-modal-content .header {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  right: 0;\\n  height: var(--header-height);\\n  border-bottom: 1px solid #ccc;\\n  box-sizing: border-box;\\n  display: flex;\\n  align-items: center;\\n  padding: 0 10px;\\n}\\n\\n.zipkin-search-modal-content .header .title-container {\\n  font-size: 18px;\\n  font-weight: 500;\\n  flex-grow: 1;\\n}\\n\\n.zipkin-search-modal-content .header .status {\\n  --icon-size: 18px;\\n  margin-left: 7px;\\n  cursor: pointer;\\n}\\n\\n.zipkin-search-modal-content .header .status .sk-circle {\\n  width: var(--icon-size);\\n  height: var(--icon-size);\\n  position: relative;\\n  display: inline-block;\\n  top: 3px;\\n  left: 5px;\\n}\\n\\n.zipkin-search-modal-content .header .status svg {\\n  width: var(--icon-size);\\n  height: var(--icon-size);\\n  position: relative;\\n  top: 3px;\\n}\\n\\n.zipkin-search-modal-content .header .status.success svg {\\n  fill: #52c41a;\\n}\\n\\n.zipkin-search-modal-content .header .status.warning svg {\\n  fill: #faad14;\\n}\\n\\n.zipkin-search-modal-content .header .status.error svg {\\n  fill: #f5222d;\\n}\\n\\n.zipkin-search-modal-content .main {\\n  display: flex;\\n  align-items: stretch;\\n  flex-grow: 1;\\n  position: absolute;\\n  top: var(--header-height);\\n  left: 0;\\n  right: 0;\\n  bottom: 0;\\n}\\n\\n.zipkin-search-modal-content .search-form-container {\\n  width: var(--search-form-width);\\n  min-width: var(--search-form-width);\\n  border-right: 1px solid #ccc;\\n  padding: 10px;\\n  box-sizing: border-box;\\n  overflow-y: auto;\\n}\\n\\n.zipkin-search-modal-content .search-form-hidden .search-form-container {\\n  display: none;\\n}\\n\\n.zipkin-search-modal-content .search-form-container form .field {\\n  margin-bottom: 1em;\\n}\\n\\n.zipkin-search-modal-content .search-form-container form .field-title {\\n  font-weight: 400;\\n}\\n\\n.zipkin-search-modal-content .search-form-container form .field input,\\n.zipkin-search-modal-content .search-form-container form .field select {\\n  width: 100%;\\n  box-sizing: border-box;\\n}\\n\\n.zipkin-search-modal-content .search-form-toggle {\\n  position: absolute;\\n  z-index: 2;\\n  bottom: 2px;\\n  left: var(--search-form-width);\\n  padding: 5px;\\n  box-sizing: border-box;\\n  cursor: pointer;\\n}\\n\\n.zipkin-search-modal-content .search-form-hidden .search-form-toggle {\\n  left: 0;\\n}\\n\\n.zipkin-search-modal-content .search-form-toggle svg {\\n  width: 15px;\\n  height: 15px;\\n  fill: #ccc;\\n}\\n\\n.zipkin-search-modal-content .search-form-toggle:hover svg {\\n  fill: #666;\\n}\\n\\n.zipkin-search-modal-content .result {\\n  --footer-height: 36px;\\n  --scatter-plot-height: 150px;\\n  flex-grow: 2;\\n  overflow: hidden;\\n  position: relative;\\n}\\n\\n.zipkin-search-modal-content .result .scatter-plot-container {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  width: 100%;\\n  height: var(--scatter-plot-height);\\n  border-bottom: 1px solid #ccc;\\n  box-sizing: border-box;\\n}\\n\\n.zipkin-search-modal-content .result .table-container {\\n  position: absolute;\\n  top: var(--scatter-plot-height);\\n  left: 0;\\n  width: 100%;\\n  bottom: var(--footer-height);\\n}\\n\\n.zipkin-search-modal-content .result .overlay-container {\\n  z-index: 1;\\n  position: absolute;\\n  top: 0;\\n  right: 0;\\n  bottom: 0;\\n  left: 0;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  background: rgba(255, 255, 255, 1);\\n  box-sizing: border-box;\\n}\\n\\n.zipkin-search-modal-content .result .overlay-container .message {\\n  height: 100%;\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: center;\\n  align-items: center;\\n}\\n\\n.zipkin-search-modal-content .result .overlay-container .message svg {\\n  width: 2.5em;\\n  height: 2.5em;\\n  fill: #ccc;\\n}\\n\\n.zipkin-search-modal-content .result .overlay-container .message span {\\n  color: #ccc;\\n  margin-top: 0.5em;\\n  font-weight: 600;\\n}\\n\\n.zipkin-search-modal-content .result .overlay-container .sk-circle {\\n  width: 40px;\\n  height: 40px;\\n  position: relative;\\n}\\n\\n.zipkin-search-modal-content .footer {\\n  height: var(--footer-height);\\n  border-top: 1px solid #ccc;\\n  padding: 0 1em;\\n  position: absolute;\\n  bottom: 0;\\n  left: 0;\\n  right: 0;\\n  box-sizing: border-box;\\n  display: flex;\\n  justify-content: flex-end;\\n  align-items: center;\\n}\\n\\n.zipkin-search-modal-content .footer > span {\\n  margin-right: 10px;\\n}\\n\\n/* Borrowed from https://tobiasahlin.com/spinkit/ */\\n.sk-circle .sk-child {\\n  width: 100%;\\n  height: 100%;\\n  position: absolute;\\n  left: 0;\\n  top: 0;\\n}\\n.sk-circle .sk-child:before {\\n  content: '';\\n  display: block;\\n  margin: 0 auto;\\n  width: 15%;\\n  height: 15%;\\n  background-color: #333;\\n  border-radius: 100%;\\n  -webkit-animation: sk-circleBounceDelay 1.2s infinite ease-in-out both;\\n  animation: sk-circleBounceDelay 1.2s infinite ease-in-out both;\\n}\\n.sk-circle .sk-circle2 {\\n  -webkit-transform: rotate(30deg);\\n  -ms-transform: rotate(30deg);\\n  transform: rotate(30deg);\\n}\\n.sk-circle .sk-circle3 {\\n  -webkit-transform: rotate(60deg);\\n  -ms-transform: rotate(60deg);\\n  transform: rotate(60deg);\\n}\\n.sk-circle .sk-circle4 {\\n  -webkit-transform: rotate(90deg);\\n  -ms-transform: rotate(90deg);\\n  transform: rotate(90deg);\\n}\\n.sk-circle .sk-circle5 {\\n  -webkit-transform: rotate(120deg);\\n  -ms-transform: rotate(120deg);\\n  transform: rotate(120deg);\\n}\\n.sk-circle .sk-circle6 {\\n  -webkit-transform: rotate(150deg);\\n  -ms-transform: rotate(150deg);\\n  transform: rotate(150deg);\\n}\\n.sk-circle .sk-circle7 {\\n  -webkit-transform: rotate(180deg);\\n  -ms-transform: rotate(180deg);\\n  transform: rotate(180deg);\\n}\\n.sk-circle .sk-circle8 {\\n  -webkit-transform: rotate(210deg);\\n  -ms-transform: rotate(210deg);\\n  transform: rotate(210deg);\\n}\\n.sk-circle .sk-circle9 {\\n  -webkit-transform: rotate(240deg);\\n  -ms-transform: rotate(240deg);\\n  transform: rotate(240deg);\\n}\\n.sk-circle .sk-circle10 {\\n  -webkit-transform: rotate(270deg);\\n  -ms-transform: rotate(270deg);\\n  transform: rotate(270deg);\\n}\\n.sk-circle .sk-circle11 {\\n  -webkit-transform: rotate(300deg);\\n  -ms-transform: rotate(300deg);\\n  transform: rotate(300deg);\\n}\\n.sk-circle .sk-circle12 {\\n  -webkit-transform: rotate(330deg);\\n  -ms-transform: rotate(330deg);\\n  transform: rotate(330deg);\\n}\\n.sk-circle .sk-circle2:before {\\n  -webkit-animation-delay: -1.1s;\\n  animation-delay: -1.1s;\\n}\\n.sk-circle .sk-circle3:before {\\n  -webkit-animation-delay: -1s;\\n  animation-delay: -1s;\\n}\\n.sk-circle .sk-circle4:before {\\n  -webkit-animation-delay: -0.9s;\\n  animation-delay: -0.9s;\\n}\\n.sk-circle .sk-circle5:before {\\n  -webkit-animation-delay: -0.8s;\\n  animation-delay: -0.8s;\\n}\\n.sk-circle .sk-circle6:before {\\n  -webkit-animation-delay: -0.7s;\\n  animation-delay: -0.7s;\\n}\\n.sk-circle .sk-circle7:before {\\n  -webkit-animation-delay: -0.6s;\\n  animation-delay: -0.6s;\\n}\\n.sk-circle .sk-circle8:before {\\n  -webkit-animation-delay: -0.5s;\\n  animation-delay: -0.5s;\\n}\\n.sk-circle .sk-circle9:before {\\n  -webkit-animation-delay: -0.4s;\\n  animation-delay: -0.4s;\\n}\\n.sk-circle .sk-circle10:before {\\n  -webkit-animation-delay: -0.3s;\\n  animation-delay: -0.3s;\\n}\\n.sk-circle .sk-circle11:before {\\n  -webkit-animation-delay: -0.2s;\\n  animation-delay: -0.2s;\\n}\\n.sk-circle .sk-circle12:before {\\n  -webkit-animation-delay: -0.1s;\\n  animation-delay: -0.1s;\\n}\\n@-webkit-keyframes sk-circleBounceDelay {\\n  0%,\\n  80%,\\n  100% {\\n    -webkit-transform: scale(0);\\n    transform: scale(0);\\n  }\\n  40% {\\n    -webkit-transform: scale(1);\\n    transform: scale(1);\\n  }\\n}\\n@keyframes sk-circleBounceDelay {\\n  0%,\\n  80%,\\n  100% {\\n    -webkit-transform: scale(0);\\n    transform: scale(0);\\n  }\\n  40% {\\n    -webkit-transform: scale(1);\\n    transform: scale(1);\\n  }\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/trace-search/zipkin-search.css\"],\"names\":[],\"mappings\":\"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\",\"sourcesContent\":[\".zipkin-search-modal-container {\\n  width: 90%;\\n  height: 80%;\\n  overflow: hidden;\\n}\\n\\n.zipkin-search-modal-content {\\n  --header-height: 40px;\\n  --search-form-width: 220px;\\n  width: 100%;\\n  height: 100%;\\n  box-sizing: border-box;\\n  display: flex;\\n  flex-direction: column;\\n  position: relative;\\n}\\n\\n.zipkin-search-modal-content .header {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  right: 0;\\n  height: var(--header-height);\\n  border-bottom: 1px solid #ccc;\\n  box-sizing: border-box;\\n  display: flex;\\n  align-items: center;\\n  padding: 0 10px;\\n}\\n\\n.zipkin-search-modal-content .header .title-container {\\n  font-size: 18px;\\n  font-weight: 500;\\n  flex-grow: 1;\\n}\\n\\n.zipkin-search-modal-content .header .status {\\n  --icon-size: 18px;\\n  margin-left: 7px;\\n  cursor: pointer;\\n}\\n\\n.zipkin-search-modal-content .header .status .sk-circle {\\n  width: var(--icon-size);\\n  height: var(--icon-size);\\n  position: relative;\\n  display: inline-block;\\n  top: 3px;\\n  left: 5px;\\n}\\n\\n.zipkin-search-modal-content .header .status svg {\\n  width: var(--icon-size);\\n  height: var(--icon-size);\\n  position: relative;\\n  top: 3px;\\n}\\n\\n.zipkin-search-modal-content .header .status.success svg {\\n  fill: #52c41a;\\n}\\n\\n.zipkin-search-modal-content .header .status.warning svg {\\n  fill: #faad14;\\n}\\n\\n.zipkin-search-modal-content .header .status.error svg {\\n  fill: #f5222d;\\n}\\n\\n.zipkin-search-modal-content .main {\\n  display: flex;\\n  align-items: stretch;\\n  flex-grow: 1;\\n  position: absolute;\\n  top: var(--header-height);\\n  left: 0;\\n  right: 0;\\n  bottom: 0;\\n}\\n\\n.zipkin-search-modal-content .search-form-container {\\n  width: var(--search-form-width);\\n  min-width: var(--search-form-width);\\n  border-right: 1px solid #ccc;\\n  padding: 10px;\\n  box-sizing: border-box;\\n  overflow-y: auto;\\n}\\n\\n.zipkin-search-modal-content .search-form-hidden .search-form-container {\\n  display: none;\\n}\\n\\n.zipkin-search-modal-content .search-form-container form .field {\\n  margin-bottom: 1em;\\n}\\n\\n.zipkin-search-modal-content .search-form-container form .field-title {\\n  font-weight: 400;\\n}\\n\\n.zipkin-search-modal-content .search-form-container form .field input,\\n.zipkin-search-modal-content .search-form-container form .field select {\\n  width: 100%;\\n  box-sizing: border-box;\\n}\\n\\n.zipkin-search-modal-content .search-form-toggle {\\n  position: absolute;\\n  z-index: 2;\\n  bottom: 2px;\\n  left: var(--search-form-width);\\n  padding: 5px;\\n  box-sizing: border-box;\\n  cursor: pointer;\\n}\\n\\n.zipkin-search-modal-content .search-form-hidden .search-form-toggle {\\n  left: 0;\\n}\\n\\n.zipkin-search-modal-content .search-form-toggle svg {\\n  width: 15px;\\n  height: 15px;\\n  fill: #ccc;\\n}\\n\\n.zipkin-search-modal-content .search-form-toggle:hover svg {\\n  fill: #666;\\n}\\n\\n.zipkin-search-modal-content .result {\\n  --footer-height: 36px;\\n  --scatter-plot-height: 150px;\\n  flex-grow: 2;\\n  overflow: hidden;\\n  position: relative;\\n}\\n\\n.zipkin-search-modal-content .result .scatter-plot-container {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  width: 100%;\\n  height: var(--scatter-plot-height);\\n  border-bottom: 1px solid #ccc;\\n  box-sizing: border-box;\\n}\\n\\n.zipkin-search-modal-content .result .table-container {\\n  position: absolute;\\n  top: var(--scatter-plot-height);\\n  left: 0;\\n  width: 100%;\\n  bottom: var(--footer-height);\\n}\\n\\n.zipkin-search-modal-content .result .overlay-container {\\n  z-index: 1;\\n  position: absolute;\\n  top: 0;\\n  right: 0;\\n  bottom: 0;\\n  left: 0;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  background: rgba(255, 255, 255, 1);\\n  box-sizing: border-box;\\n}\\n\\n.zipkin-search-modal-content .result .overlay-container .message {\\n  height: 100%;\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: center;\\n  align-items: center;\\n}\\n\\n.zipkin-search-modal-content .result .overlay-container .message svg {\\n  width: 2.5em;\\n  height: 2.5em;\\n  fill: #ccc;\\n}\\n\\n.zipkin-search-modal-content .result .overlay-container .message span {\\n  color: #ccc;\\n  margin-top: 0.5em;\\n  font-weight: 600;\\n}\\n\\n.zipkin-search-modal-content .result .overlay-container .sk-circle {\\n  width: 40px;\\n  height: 40px;\\n  position: relative;\\n}\\n\\n.zipkin-search-modal-content .footer {\\n  height: var(--footer-height);\\n  border-top: 1px solid #ccc;\\n  padding: 0 1em;\\n  position: absolute;\\n  bottom: 0;\\n  left: 0;\\n  right: 0;\\n  box-sizing: border-box;\\n  display: flex;\\n  justify-content: flex-end;\\n  align-items: center;\\n}\\n\\n.zipkin-search-modal-content .footer > span {\\n  margin-right: 10px;\\n}\\n\\n/* Borrowed from https://tobiasahlin.com/spinkit/ */\\n.sk-circle .sk-child {\\n  width: 100%;\\n  height: 100%;\\n  position: absolute;\\n  left: 0;\\n  top: 0;\\n}\\n.sk-circle .sk-child:before {\\n  content: '';\\n  display: block;\\n  margin: 0 auto;\\n  width: 15%;\\n  height: 15%;\\n  background-color: #333;\\n  border-radius: 100%;\\n  -webkit-animation: sk-circleBounceDelay 1.2s infinite ease-in-out both;\\n  animation: sk-circleBounceDelay 1.2s infinite ease-in-out both;\\n}\\n.sk-circle .sk-circle2 {\\n  -webkit-transform: rotate(30deg);\\n  -ms-transform: rotate(30deg);\\n  transform: rotate(30deg);\\n}\\n.sk-circle .sk-circle3 {\\n  -webkit-transform: rotate(60deg);\\n  -ms-transform: rotate(60deg);\\n  transform: rotate(60deg);\\n}\\n.sk-circle .sk-circle4 {\\n  -webkit-transform: rotate(90deg);\\n  -ms-transform: rotate(90deg);\\n  transform: rotate(90deg);\\n}\\n.sk-circle .sk-circle5 {\\n  -webkit-transform: rotate(120deg);\\n  -ms-transform: rotate(120deg);\\n  transform: rotate(120deg);\\n}\\n.sk-circle .sk-circle6 {\\n  -webkit-transform: rotate(150deg);\\n  -ms-transform: rotate(150deg);\\n  transform: rotate(150deg);\\n}\\n.sk-circle .sk-circle7 {\\n  -webkit-transform: rotate(180deg);\\n  -ms-transform: rotate(180deg);\\n  transform: rotate(180deg);\\n}\\n.sk-circle .sk-circle8 {\\n  -webkit-transform: rotate(210deg);\\n  -ms-transform: rotate(210deg);\\n  transform: rotate(210deg);\\n}\\n.sk-circle .sk-circle9 {\\n  -webkit-transform: rotate(240deg);\\n  -ms-transform: rotate(240deg);\\n  transform: rotate(240deg);\\n}\\n.sk-circle .sk-circle10 {\\n  -webkit-transform: rotate(270deg);\\n  -ms-transform: rotate(270deg);\\n  transform: rotate(270deg);\\n}\\n.sk-circle .sk-circle11 {\\n  -webkit-transform: rotate(300deg);\\n  -ms-transform: rotate(300deg);\\n  transform: rotate(300deg);\\n}\\n.sk-circle .sk-circle12 {\\n  -webkit-transform: rotate(330deg);\\n  -ms-transform: rotate(330deg);\\n  transform: rotate(330deg);\\n}\\n.sk-circle .sk-circle2:before {\\n  -webkit-animation-delay: -1.1s;\\n  animation-delay: -1.1s;\\n}\\n.sk-circle .sk-circle3:before {\\n  -webkit-animation-delay: -1s;\\n  animation-delay: -1s;\\n}\\n.sk-circle .sk-circle4:before {\\n  -webkit-animation-delay: -0.9s;\\n  animation-delay: -0.9s;\\n}\\n.sk-circle .sk-circle5:before {\\n  -webkit-animation-delay: -0.8s;\\n  animation-delay: -0.8s;\\n}\\n.sk-circle .sk-circle6:before {\\n  -webkit-animation-delay: -0.7s;\\n  animation-delay: -0.7s;\\n}\\n.sk-circle .sk-circle7:before {\\n  -webkit-animation-delay: -0.6s;\\n  animation-delay: -0.6s;\\n}\\n.sk-circle .sk-circle8:before {\\n  -webkit-animation-delay: -0.5s;\\n  animation-delay: -0.5s;\\n}\\n.sk-circle .sk-circle9:before {\\n  -webkit-animation-delay: -0.4s;\\n  animation-delay: -0.4s;\\n}\\n.sk-circle .sk-circle10:before {\\n  -webkit-animation-delay: -0.3s;\\n  animation-delay: -0.3s;\\n}\\n.sk-circle .sk-circle11:before {\\n  -webkit-animation-delay: -0.2s;\\n  animation-delay: -0.2s;\\n}\\n.sk-circle .sk-circle12:before {\\n  -webkit-animation-delay: -0.1s;\\n  animation-delay: -0.1s;\\n}\\n@-webkit-keyframes sk-circleBounceDelay {\\n  0%,\\n  80%,\\n  100% {\\n    -webkit-transform: scale(0);\\n    transform: scale(0);\\n  }\\n  40% {\\n    -webkit-transform: scale(1);\\n    transform: scale(1);\\n  }\\n}\\n@keyframes sk-circleBounceDelay {\\n  0%,\\n  80%,\\n  100% {\\n    -webkit-transform: scale(0);\\n    transform: scale(0);\\n  }\\n  40% {\\n    -webkit-transform: scale(1);\\n    transform: scale(1);\\n  }\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"/* Custom tippy.js tooltip template */\\n.tippy-tooltip.trace-tooltip-theme {\\n  background-color: rgba(0, 0, 0, 0.75);\\n  border-radius: 2px;\\n}\\n.tippy-tooltip.trace-tooltip-theme > .tippy-content {\\n  padding: 0;\\n  font-size: 0.815em;\\n}\\n\\n.trace-tooltip {\\n  display: flex;\\n  padding: 0.2em 0.5em;\\n  word-break: break-all;\\n}\\n\\n.trace-tooltip .left {\\n  flex-grow: 1;\\n}\\n\\n.trace-tooltip .right {\\n  white-space: nowrap;\\n  margin-left: 2em;\\n}\\n\\n.trace-tooltip-time {\\n  color: #55d239;\\n}\\n\\n.trace-tooltip-name {\\n  margin-left: 1em;\\n  font-weight: 600;\\n}\\n\\n.trace-tooltip-error-icon svg {\\n  position: relative;\\n  height: 1em;\\n  width: 1em;\\n  fill: #fff;\\n  top: 2px;\\n}\\n\\n.trace-tooltip-span-count,\\n.trace-tooltip-error-count {\\n  margin-right: 0.25em;\\n}\\n\\n.trace-tooltip-error-count {\\n  margin-left: 0.6em;\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/trace-tooltip/trace-tooltip.css\"],\"names\":[],\"mappings\":\"AAAA,qCAAqC;AACrC;EACE,qCAAqC;EACrC,kBAAkB;AACpB;AACA;EACE,UAAU;EACV,kBAAkB;AACpB;;AAEA;EACE,aAAa;EACb,oBAAoB;EACpB,qBAAqB;AACvB;;AAEA;EACE,YAAY;AACd;;AAEA;EACE,mBAAmB;EACnB,gBAAgB;AAClB;;AAEA;EACE,cAAc;AAChB;;AAEA;EACE,gBAAgB;EAChB,gBAAgB;AAClB;;AAEA;EACE,kBAAkB;EAClB,WAAW;EACX,UAAU;EACV,UAAU;EACV,QAAQ;AACV;;AAEA;;EAEE,oBAAoB;AACtB;;AAEA;EACE,kBAAkB;AACpB\",\"sourcesContent\":[\"/* Custom tippy.js tooltip template */\\n.tippy-tooltip.trace-tooltip-theme {\\n  background-color: rgba(0, 0, 0, 0.75);\\n  border-radius: 2px;\\n}\\n.tippy-tooltip.trace-tooltip-theme > .tippy-content {\\n  padding: 0;\\n  font-size: 0.815em;\\n}\\n\\n.trace-tooltip {\\n  display: flex;\\n  padding: 0.2em 0.5em;\\n  word-break: break-all;\\n}\\n\\n.trace-tooltip .left {\\n  flex-grow: 1;\\n}\\n\\n.trace-tooltip .right {\\n  white-space: nowrap;\\n  margin-left: 2em;\\n}\\n\\n.trace-tooltip-time {\\n  color: #55d239;\\n}\\n\\n.trace-tooltip-name {\\n  margin-left: 1em;\\n  font-weight: 600;\\n}\\n\\n.trace-tooltip-error-icon svg {\\n  position: relative;\\n  height: 1em;\\n  width: 1em;\\n  fill: #fff;\\n  top: 2px;\\n}\\n\\n.trace-tooltip-span-count,\\n.trace-tooltip-error-count {\\n  margin-right: 0.25em;\\n}\\n\\n.trace-tooltip-error-count {\\n  margin-left: 0.6em;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"/* Really-custom ones */\\n.tippy-tooltip.context-menu-theme > .tippy-content {\\n  padding: 0;\\n  font-size: 1.1em;\\n}\\n.tippy-tooltip.context-menu-theme > .tippy-content > div {\\n  padding: 0.3em 0;\\n}\\n.tippy-tooltip.context-menu-theme > .tippy-content > div > .item-divider {\\n  height: 0.7em;\\n  background: linear-gradient(#666, #666) no-repeat center/100% 1px;\\n}\\n.tippy-tooltip.context-menu-theme > .tippy-content > div > .item {\\n  font-size: 1em;\\n  line-height: 1.9em;\\n  padding: 0 0.75em;\\n  display: flex;\\n  align-items: center;\\n}\\n.tippy-tooltip.context-menu-theme .item svg {\\n  height: 1.3em;\\n  margin-right: 0.3em;\\n  fill: #fff;\\n}\\n.tippy-tooltip.context-menu-theme .item .text {\\n  margin-right: 1em;\\n}\\n.tippy-tooltip.context-menu-theme .item .alt {\\n  flex-grow: 1;\\n  text-align: right;\\n  padding-left: 3em;\\n  font-size: 0.75em;\\n  text-transform: uppercase;\\n  opacity: 0.85;\\n}\\n.tippy-tooltip.context-menu-theme .item:hover {\\n  background: #2b97ef;\\n}\\n.tippy-tooltip.context-menu-theme .item.selected {\\n  background: #2b97ef;\\n}\\n.tippy-tooltip.context-menu-theme .item.selected:hover {\\n  background: #288bdb;\\n}\\n.tippy-tooltip.context-menu-theme .item.disabled {\\n  cursor: default;\\n  color: #666;\\n}\\n.tippy-tooltip.context-menu-theme .item.disabled svg {\\n  fill: #666;\\n}\\n.tippy-tooltip.context-menu-theme .item.disabled:hover {\\n  background: none;\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/ui/context-menu/context-menu.css\"],\"names\":[],\"mappings\":\"AAAA,uBAAuB;AACvB;EACE,UAAU;EACV,gBAAgB;AAClB;AACA;EACE,gBAAgB;AAClB;AACA;EACE,aAAa;EACb,iEAAiE;AACnE;AACA;EACE,cAAc;EACd,kBAAkB;EAClB,iBAAiB;EACjB,aAAa;EACb,mBAAmB;AACrB;AACA;EACE,aAAa;EACb,mBAAmB;EACnB,UAAU;AACZ;AACA;EACE,iBAAiB;AACnB;AACA;EACE,YAAY;EACZ,iBAAiB;EACjB,iBAAiB;EACjB,iBAAiB;EACjB,yBAAyB;EACzB,aAAa;AACf;AACA;EACE,mBAAmB;AACrB;AACA;EACE,mBAAmB;AACrB;AACA;EACE,mBAAmB;AACrB;AACA;EACE,eAAe;EACf,WAAW;AACb;AACA;EACE,UAAU;AACZ;AACA;EACE,gBAAgB;AAClB\",\"sourcesContent\":[\"/* Really-custom ones */\\n.tippy-tooltip.context-menu-theme > .tippy-content {\\n  padding: 0;\\n  font-size: 1.1em;\\n}\\n.tippy-tooltip.context-menu-theme > .tippy-content > div {\\n  padding: 0.3em 0;\\n}\\n.tippy-tooltip.context-menu-theme > .tippy-content > div > .item-divider {\\n  height: 0.7em;\\n  background: linear-gradient(#666, #666) no-repeat center/100% 1px;\\n}\\n.tippy-tooltip.context-menu-theme > .tippy-content > div > .item {\\n  font-size: 1em;\\n  line-height: 1.9em;\\n  padding: 0 0.75em;\\n  display: flex;\\n  align-items: center;\\n}\\n.tippy-tooltip.context-menu-theme .item svg {\\n  height: 1.3em;\\n  margin-right: 0.3em;\\n  fill: #fff;\\n}\\n.tippy-tooltip.context-menu-theme .item .text {\\n  margin-right: 1em;\\n}\\n.tippy-tooltip.context-menu-theme .item .alt {\\n  flex-grow: 1;\\n  text-align: right;\\n  padding-left: 3em;\\n  font-size: 0.75em;\\n  text-transform: uppercase;\\n  opacity: 0.85;\\n}\\n.tippy-tooltip.context-menu-theme .item:hover {\\n  background: #2b97ef;\\n}\\n.tippy-tooltip.context-menu-theme .item.selected {\\n  background: #2b97ef;\\n}\\n.tippy-tooltip.context-menu-theme .item.selected:hover {\\n  background: #288bdb;\\n}\\n.tippy-tooltip.context-menu-theme .item.disabled {\\n  cursor: default;\\n  color: #666;\\n}\\n.tippy-tooltip.context-menu-theme .item.disabled svg {\\n  fill: #666;\\n}\\n.tippy-tooltip.context-menu-theme .item.disabled:hover {\\n  background: none;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".tippy-tooltip.tooltip-theme {\\n  font-size: 1em;\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/ui/tooltip/tooltip.css\"],\"names\":[],\"mappings\":\"AAAA;EACE,cAAc;AAChB\",\"sourcesContent\":[\".tippy-tooltip.tooltip-theme {\\n  font-size: 1em;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"/* Custom tippy.js tooltip template */\\n.tippy-tooltip.widget-toolbar-multi-select-theme {\\n  color: #26323d;\\n  box-shadow: 0 0 20px 4px rgba(154, 161, 177, 0.15),\\n    0 4px 80px -8px rgba(36, 40, 47, 0.25),\\n    0 4px 4px -2px rgba(91, 94, 105, 0.15);\\n  background-color: #fff;\\n}\\n.tippy-tooltip.widget-toolbar-multi-select-theme[data-placement^='top']\\n  > .tippy-arrow {\\n  border-width: 8px 8px 0;\\n  border-top-color: #fff;\\n}\\n.tippy-tooltip.widget-toolbar-multi-select-theme[data-placement^='bottom']\\n  > .tippy-arrow {\\n  border-width: 0 8px 8px;\\n  border-bottom-color: #fff;\\n}\\n.tippy-tooltip.widget-toolbar-multi-select-theme[data-placement^='left']\\n  > .tippy-arrow {\\n  border-width: 8px 0 8px 8px;\\n  border-left-color: #fff;\\n}\\n.tippy-tooltip.widget-toolbar-multi-select-theme[data-placement^='right']\\n  > .tippy-arrow {\\n  border-width: 8px 8px 8px 0;\\n  border-right-color: #fff;\\n}\\n.tippy-tooltip.widget-toolbar-multi-select-theme > .tippy-backdrop {\\n  background-color: #fff;\\n}\\n.tippy-tooltip.widget-toolbar-multi-select-theme > .tippy-svg-arrow {\\n  fill: #fff;\\n}\\n.tippy-tooltip.widget-toolbar-multi-select-theme > .tippy-content {\\n  padding: 0;\\n  font-size: 1.1em;\\n}\\n/* Really-custom ones */\\n.tippy-tooltip.widget-toolbar-multi-select-theme\\n  > .tippy-content\\n  > div\\n  > .item-divider {\\n  height: 1em;\\n  background: linear-gradient(#d0d0d0, #d0d0d0) no-repeat center/100% 1px;\\n}\\n.tippy-tooltip.widget-toolbar-multi-select-theme\\n  > .tippy-content\\n  > div\\n  > .item {\\n  font-size: 1em;\\n  line-height: 2em;\\n  padding: 0 0.75em;\\n  display: flex;\\n  align-items: center;\\n}\\n.tippy-tooltip.widget-toolbar-multi-select-theme .item svg {\\n  height: 1.3em;\\n  margin-right: 0.3em;\\n}\\n.tippy-tooltip.widget-toolbar-multi-select-theme .item .text {\\n  margin-right: 1em;\\n}\\n.tippy-tooltip.widget-toolbar-multi-select-theme .item:hover {\\n  color: #fff;\\n  background: #2b97ef;\\n}\\n.tippy-tooltip.widget-toolbar-multi-select-theme .item:hover svg {\\n  fill: #fff;\\n}\\n.tippy-tooltip.widget-toolbar-multi-select-theme .item.selected {\\n  color: #fff;\\n  background: #2b97ef;\\n}\\n.tippy-tooltip.widget-toolbar-multi-select-theme .item.selected svg {\\n  fill: #fff;\\n}\\n.tippy-tooltip.widget-toolbar-multi-select-theme .item.selected:hover {\\n  background: #288bdb;\\n}\\n.tippy-tooltip.widget-toolbar-multi-select-theme .item.disabled {\\n  cursor: default;\\n  color: #d9d9d9;\\n}\\n.tippy-tooltip.widget-toolbar-multi-select-theme .item.disabled svg {\\n  fill: #d9d9d9;\\n}\\n.tippy-tooltip.widget-toolbar-multi-select-theme .item.disabled:hover {\\n  background: none;\\n}\\n\\n/* Go go go */\\n.widget-toolbar-multi-select-search {\\n  display: block;\\n  margin: 0.6em;\\n  width: calc(100% - 1.2em);\\n}\\n\\n.widget-toolbar-multi-select-items {\\n  padding: 0.6em 0;\\n  border-top: 1px solid #ccc;\\n}\\n\\n.widget-toolbar-multi-select-items > .empty {\\n  padding: 0 0.6em;\\n}\\n\\n.widget-toolbar-multi-select-category {\\n  background: #f9f9f9;\\n  font-size: 0.75em;\\n  text-transform: uppercase;\\n  padding: 0.25em 0.6em;\\n  font-weight: 600;\\n}\\n\\n.widget-toolbar-multi-select-item {\\n  font-size: 0.9em;\\n  padding: 0.2em 0.6em;\\n  cursor: pointer;\\n}\\n\\n.widget-toolbar-multi-select-item:before {\\n  content: '';\\n  display: inline-block;\\n  width: 1.25em;\\n}\\n\\n.widget-toolbar-multi-select-item:hover {\\n  color: #fff;\\n  background: #2b97ef;\\n}\\n\\n.widget-toolbar-multi-select-item.selected {\\n  color: #2b97ef;\\n}\\n\\n.widget-toolbar-multi-select-item.selected:hover {\\n  color: #fff;\\n}\\n\\n.widget-toolbar-multi-select-item.selected:before {\\n  content: '\\\\2713';\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/ui/widget-toolbar/widget-toolbar-multi-select.css\"],\"names\":[],\"mappings\":\"AAAA,qCAAqC;AACrC;EACE,cAAc;EACd;;0CAEwC;EACxC,sBAAsB;AACxB;AACA;;EAEE,uBAAuB;EACvB,sBAAsB;AACxB;AACA;;EAEE,uBAAuB;EACvB,yBAAyB;AAC3B;AACA;;EAEE,2BAA2B;EAC3B,uBAAuB;AACzB;AACA;;EAEE,2BAA2B;EAC3B,wBAAwB;AAC1B;AACA;EACE,sBAAsB;AACxB;AACA;EACE,UAAU;AACZ;AACA;EACE,UAAU;EACV,gBAAgB;AAClB;AACA,uBAAuB;AACvB;;;;EAIE,WAAW;EACX,uEAAuE;AACzE;AACA;;;;EAIE,cAAc;EACd,gBAAgB;EAChB,iBAAiB;EACjB,aAAa;EACb,mBAAmB;AACrB;AACA;EACE,aAAa;EACb,mBAAmB;AACrB;AACA;EACE,iBAAiB;AACnB;AACA;EACE,WAAW;EACX,mBAAmB;AACrB;AACA;EACE,UAAU;AACZ;AACA;EACE,WAAW;EACX,mBAAmB;AACrB;AACA;EACE,UAAU;AACZ;AACA;EACE,mBAAmB;AACrB;AACA;EACE,eAAe;EACf,cAAc;AAChB;AACA;EACE,aAAa;AACf;AACA;EACE,gBAAgB;AAClB;;AAEA,aAAa;AACb;EACE,cAAc;EACd,aAAa;EACb,yBAAyB;AAC3B;;AAEA;EACE,gBAAgB;EAChB,0BAA0B;AAC5B;;AAEA;EACE,gBAAgB;AAClB;;AAEA;EACE,mBAAmB;EACnB,iBAAiB;EACjB,yBAAyB;EACzB,qBAAqB;EACrB,gBAAgB;AAClB;;AAEA;EACE,gBAAgB;EAChB,oBAAoB;EACpB,eAAe;AACjB;;AAEA;EACE,WAAW;EACX,qBAAqB;EACrB,aAAa;AACf;;AAEA;EACE,WAAW;EACX,mBAAmB;AACrB;;AAEA;EACE,cAAc;AAChB;;AAEA;EACE,WAAW;AACb;;AAEA;EACE,gBAAgB;AAClB\",\"sourcesContent\":[\"/* Custom tippy.js tooltip template */\\n.tippy-tooltip.widget-toolbar-multi-select-theme {\\n  color: #26323d;\\n  box-shadow: 0 0 20px 4px rgba(154, 161, 177, 0.15),\\n    0 4px 80px -8px rgba(36, 40, 47, 0.25),\\n    0 4px 4px -2px rgba(91, 94, 105, 0.15);\\n  background-color: #fff;\\n}\\n.tippy-tooltip.widget-toolbar-multi-select-theme[data-placement^='top']\\n  > .tippy-arrow {\\n  border-width: 8px 8px 0;\\n  border-top-color: #fff;\\n}\\n.tippy-tooltip.widget-toolbar-multi-select-theme[data-placement^='bottom']\\n  > .tippy-arrow {\\n  border-width: 0 8px 8px;\\n  border-bottom-color: #fff;\\n}\\n.tippy-tooltip.widget-toolbar-multi-select-theme[data-placement^='left']\\n  > .tippy-arrow {\\n  border-width: 8px 0 8px 8px;\\n  border-left-color: #fff;\\n}\\n.tippy-tooltip.widget-toolbar-multi-select-theme[data-placement^='right']\\n  > .tippy-arrow {\\n  border-width: 8px 8px 8px 0;\\n  border-right-color: #fff;\\n}\\n.tippy-tooltip.widget-toolbar-multi-select-theme > .tippy-backdrop {\\n  background-color: #fff;\\n}\\n.tippy-tooltip.widget-toolbar-multi-select-theme > .tippy-svg-arrow {\\n  fill: #fff;\\n}\\n.tippy-tooltip.widget-toolbar-multi-select-theme > .tippy-content {\\n  padding: 0;\\n  font-size: 1.1em;\\n}\\n/* Really-custom ones */\\n.tippy-tooltip.widget-toolbar-multi-select-theme\\n  > .tippy-content\\n  > div\\n  > .item-divider {\\n  height: 1em;\\n  background: linear-gradient(#d0d0d0, #d0d0d0) no-repeat center/100% 1px;\\n}\\n.tippy-tooltip.widget-toolbar-multi-select-theme\\n  > .tippy-content\\n  > div\\n  > .item {\\n  font-size: 1em;\\n  line-height: 2em;\\n  padding: 0 0.75em;\\n  display: flex;\\n  align-items: center;\\n}\\n.tippy-tooltip.widget-toolbar-multi-select-theme .item svg {\\n  height: 1.3em;\\n  margin-right: 0.3em;\\n}\\n.tippy-tooltip.widget-toolbar-multi-select-theme .item .text {\\n  margin-right: 1em;\\n}\\n.tippy-tooltip.widget-toolbar-multi-select-theme .item:hover {\\n  color: #fff;\\n  background: #2b97ef;\\n}\\n.tippy-tooltip.widget-toolbar-multi-select-theme .item:hover svg {\\n  fill: #fff;\\n}\\n.tippy-tooltip.widget-toolbar-multi-select-theme .item.selected {\\n  color: #fff;\\n  background: #2b97ef;\\n}\\n.tippy-tooltip.widget-toolbar-multi-select-theme .item.selected svg {\\n  fill: #fff;\\n}\\n.tippy-tooltip.widget-toolbar-multi-select-theme .item.selected:hover {\\n  background: #288bdb;\\n}\\n.tippy-tooltip.widget-toolbar-multi-select-theme .item.disabled {\\n  cursor: default;\\n  color: #d9d9d9;\\n}\\n.tippy-tooltip.widget-toolbar-multi-select-theme .item.disabled svg {\\n  fill: #d9d9d9;\\n}\\n.tippy-tooltip.widget-toolbar-multi-select-theme .item.disabled:hover {\\n  background: none;\\n}\\n\\n/* Go go go */\\n.widget-toolbar-multi-select-search {\\n  display: block;\\n  margin: 0.6em;\\n  width: calc(100% - 1.2em);\\n}\\n\\n.widget-toolbar-multi-select-items {\\n  padding: 0.6em 0;\\n  border-top: 1px solid #ccc;\\n}\\n\\n.widget-toolbar-multi-select-items > .empty {\\n  padding: 0 0.6em;\\n}\\n\\n.widget-toolbar-multi-select-category {\\n  background: #f9f9f9;\\n  font-size: 0.75em;\\n  text-transform: uppercase;\\n  padding: 0.25em 0.6em;\\n  font-weight: 600;\\n}\\n\\n.widget-toolbar-multi-select-item {\\n  font-size: 0.9em;\\n  padding: 0.2em 0.6em;\\n  cursor: pointer;\\n}\\n\\n.widget-toolbar-multi-select-item:before {\\n  content: '';\\n  display: inline-block;\\n  width: 1.25em;\\n}\\n\\n.widget-toolbar-multi-select-item:hover {\\n  color: #fff;\\n  background: #2b97ef;\\n}\\n\\n.widget-toolbar-multi-select-item.selected {\\n  color: #2b97ef;\\n}\\n\\n.widget-toolbar-multi-select-item.selected:hover {\\n  color: #fff;\\n}\\n\\n.widget-toolbar-multi-select-item.selected:before {\\n  content: '\\\\2713';\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"/* Custom tippy.js tooltip template */\\n.tippy-tooltip.widget-toolbar-select-theme {\\n  color: #26323d;\\n  box-shadow: 0 0 20px 4px rgba(154, 161, 177, 0.15),\\n    0 4px 80px -8px rgba(36, 40, 47, 0.25),\\n    0 4px 4px -2px rgba(91, 94, 105, 0.15);\\n  background-color: #fff;\\n}\\n.tippy-tooltip.widget-toolbar-select-theme[data-placement^='top']\\n  > .tippy-arrow {\\n  border-width: 8px 8px 0;\\n  border-top-color: #fff;\\n}\\n.tippy-tooltip.widget-toolbar-select-theme[data-placement^='bottom']\\n  > .tippy-arrow {\\n  border-width: 0 8px 8px;\\n  border-bottom-color: #fff;\\n}\\n.tippy-tooltip.widget-toolbar-select-theme[data-placement^='left']\\n  > .tippy-arrow {\\n  border-width: 8px 0 8px 8px;\\n  border-left-color: #fff;\\n}\\n.tippy-tooltip.widget-toolbar-select-theme[data-placement^='right']\\n  > .tippy-arrow {\\n  border-width: 8px 8px 8px 0;\\n  border-right-color: #fff;\\n}\\n.tippy-tooltip.widget-toolbar-select-theme > .tippy-backdrop {\\n  background-color: #fff;\\n}\\n.tippy-tooltip.widget-toolbar-select-theme > .tippy-svg-arrow {\\n  fill: #fff;\\n}\\n.tippy-tooltip.widget-toolbar-select-theme > .tippy-content {\\n  padding: 0;\\n  font-size: 1.1em;\\n}\\n/* Really-custom ones */\\n.tippy-tooltip.widget-toolbar-select-theme > .tippy-content > div {\\n  padding: 0.6em 0;\\n}\\n.tippy-tooltip.widget-toolbar-select-theme\\n  > .tippy-content\\n  > div\\n  > .item-divider {\\n  height: 1em;\\n  background: linear-gradient(#d0d0d0, #d0d0d0) no-repeat center/100% 1px;\\n}\\n.tippy-tooltip.widget-toolbar-select-theme > .tippy-content > div > .item {\\n  font-size: 1em;\\n  line-height: 2em;\\n  padding: 0 0.75em;\\n  display: flex;\\n  align-items: center;\\n}\\n.tippy-tooltip.widget-toolbar-select-theme .item svg {\\n  height: 1.3em;\\n  margin-right: 0.3em;\\n}\\n.tippy-tooltip.widget-toolbar-select-theme .item .text {\\n  margin-right: 1em;\\n}\\n.tippy-tooltip.widget-toolbar-select-theme .item .alt {\\n  flex-grow: 1;\\n  text-align: right;\\n  padding-left: 3em;\\n  font-size: 0.75em;\\n  text-transform: uppercase;\\n  opacity: 0.85;\\n}\\n.tippy-tooltip.widget-toolbar-select-theme .item:hover {\\n  color: #fff;\\n  background: #2b97ef;\\n}\\n.tippy-tooltip.widget-toolbar-select-theme .item:hover svg {\\n  fill: #fff;\\n}\\n.tippy-tooltip.widget-toolbar-select-theme .item.selected {\\n  color: #fff;\\n  background: #2b97ef;\\n}\\n.tippy-tooltip.widget-toolbar-select-theme .item.selected svg {\\n  fill: #fff;\\n}\\n.tippy-tooltip.widget-toolbar-select-theme .item.selected:hover {\\n  background: #288bdb;\\n}\\n.tippy-tooltip.widget-toolbar-select-theme .item.disabled {\\n  cursor: default;\\n  color: #d9d9d9;\\n}\\n.tippy-tooltip.widget-toolbar-select-theme .item.disabled svg {\\n  fill: #d9d9d9;\\n}\\n.tippy-tooltip.widget-toolbar-select-theme .item.disabled:hover {\\n  background: none;\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/ui/widget-toolbar/widget-toolbar-select.css\"],\"names\":[],\"mappings\":\"AAAA,qCAAqC;AACrC;EACE,cAAc;EACd;;0CAEwC;EACxC,sBAAsB;AACxB;AACA;;EAEE,uBAAuB;EACvB,sBAAsB;AACxB;AACA;;EAEE,uBAAuB;EACvB,yBAAyB;AAC3B;AACA;;EAEE,2BAA2B;EAC3B,uBAAuB;AACzB;AACA;;EAEE,2BAA2B;EAC3B,wBAAwB;AAC1B;AACA;EACE,sBAAsB;AACxB;AACA;EACE,UAAU;AACZ;AACA;EACE,UAAU;EACV,gBAAgB;AAClB;AACA,uBAAuB;AACvB;EACE,gBAAgB;AAClB;AACA;;;;EAIE,WAAW;EACX,uEAAuE;AACzE;AACA;EACE,cAAc;EACd,gBAAgB;EAChB,iBAAiB;EACjB,aAAa;EACb,mBAAmB;AACrB;AACA;EACE,aAAa;EACb,mBAAmB;AACrB;AACA;EACE,iBAAiB;AACnB;AACA;EACE,YAAY;EACZ,iBAAiB;EACjB,iBAAiB;EACjB,iBAAiB;EACjB,yBAAyB;EACzB,aAAa;AACf;AACA;EACE,WAAW;EACX,mBAAmB;AACrB;AACA;EACE,UAAU;AACZ;AACA;EACE,WAAW;EACX,mBAAmB;AACrB;AACA;EACE,UAAU;AACZ;AACA;EACE,mBAAmB;AACrB;AACA;EACE,eAAe;EACf,cAAc;AAChB;AACA;EACE,aAAa;AACf;AACA;EACE,gBAAgB;AAClB\",\"sourcesContent\":[\"/* Custom tippy.js tooltip template */\\n.tippy-tooltip.widget-toolbar-select-theme {\\n  color: #26323d;\\n  box-shadow: 0 0 20px 4px rgba(154, 161, 177, 0.15),\\n    0 4px 80px -8px rgba(36, 40, 47, 0.25),\\n    0 4px 4px -2px rgba(91, 94, 105, 0.15);\\n  background-color: #fff;\\n}\\n.tippy-tooltip.widget-toolbar-select-theme[data-placement^='top']\\n  > .tippy-arrow {\\n  border-width: 8px 8px 0;\\n  border-top-color: #fff;\\n}\\n.tippy-tooltip.widget-toolbar-select-theme[data-placement^='bottom']\\n  > .tippy-arrow {\\n  border-width: 0 8px 8px;\\n  border-bottom-color: #fff;\\n}\\n.tippy-tooltip.widget-toolbar-select-theme[data-placement^='left']\\n  > .tippy-arrow {\\n  border-width: 8px 0 8px 8px;\\n  border-left-color: #fff;\\n}\\n.tippy-tooltip.widget-toolbar-select-theme[data-placement^='right']\\n  > .tippy-arrow {\\n  border-width: 8px 8px 8px 0;\\n  border-right-color: #fff;\\n}\\n.tippy-tooltip.widget-toolbar-select-theme > .tippy-backdrop {\\n  background-color: #fff;\\n}\\n.tippy-tooltip.widget-toolbar-select-theme > .tippy-svg-arrow {\\n  fill: #fff;\\n}\\n.tippy-tooltip.widget-toolbar-select-theme > .tippy-content {\\n  padding: 0;\\n  font-size: 1.1em;\\n}\\n/* Really-custom ones */\\n.tippy-tooltip.widget-toolbar-select-theme > .tippy-content > div {\\n  padding: 0.6em 0;\\n}\\n.tippy-tooltip.widget-toolbar-select-theme\\n  > .tippy-content\\n  > div\\n  > .item-divider {\\n  height: 1em;\\n  background: linear-gradient(#d0d0d0, #d0d0d0) no-repeat center/100% 1px;\\n}\\n.tippy-tooltip.widget-toolbar-select-theme > .tippy-content > div > .item {\\n  font-size: 1em;\\n  line-height: 2em;\\n  padding: 0 0.75em;\\n  display: flex;\\n  align-items: center;\\n}\\n.tippy-tooltip.widget-toolbar-select-theme .item svg {\\n  height: 1.3em;\\n  margin-right: 0.3em;\\n}\\n.tippy-tooltip.widget-toolbar-select-theme .item .text {\\n  margin-right: 1em;\\n}\\n.tippy-tooltip.widget-toolbar-select-theme .item .alt {\\n  flex-grow: 1;\\n  text-align: right;\\n  padding-left: 3em;\\n  font-size: 0.75em;\\n  text-transform: uppercase;\\n  opacity: 0.85;\\n}\\n.tippy-tooltip.widget-toolbar-select-theme .item:hover {\\n  color: #fff;\\n  background: #2b97ef;\\n}\\n.tippy-tooltip.widget-toolbar-select-theme .item:hover svg {\\n  fill: #fff;\\n}\\n.tippy-tooltip.widget-toolbar-select-theme .item.selected {\\n  color: #fff;\\n  background: #2b97ef;\\n}\\n.tippy-tooltip.widget-toolbar-select-theme .item.selected svg {\\n  fill: #fff;\\n}\\n.tippy-tooltip.widget-toolbar-select-theme .item.selected:hover {\\n  background: #288bdb;\\n}\\n.tippy-tooltip.widget-toolbar-select-theme .item.disabled {\\n  cursor: default;\\n  color: #d9d9d9;\\n}\\n.tippy-tooltip.widget-toolbar-select-theme .item.disabled svg {\\n  fill: #d9d9d9;\\n}\\n.tippy-tooltip.widget-toolbar-select-theme .item.disabled:hover {\\n  background: none;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".widget-toolbar {\\n  border-bottom: 1px solid #ccc;\\n  display: flex;\\n  align-items: stretch;\\n}\\n\\n.widget-toolbar-pane {\\n  display: flex;\\n  align-items: stretch;\\n  flex-grow: 1;\\n}\\n.widget-toolbar-pane.middle {\\n  justify-content: center;\\n}\\n.widget-toolbar-pane.right {\\n  justify-content: flex-end;\\n}\\n\\n.widget-toolbar-button {\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  align-content: center;\\n  padding: 0.5em 0.25em;\\n  cursor: pointer;\\n}\\n.widget-toolbar-button svg {\\n  height: 1.25em;\\n  fill: #595959;\\n}\\n.widget-toolbar-button.fix-stroke svg {\\n  stroke: #595959;\\n}\\n\\n.widget-toolbar-button:hover {\\n  background: #f9f9f9;\\n}\\n.widget-toolbar-button:hover svg {\\n  fill: #000;\\n}\\n.widget-toolbar-button.fix-stroke:hover svg {\\n  stroke: #000;\\n}\\n\\n.widget-toolbar-button.selected {\\n  background: #2b97ef;\\n}\\n.widget-toolbar-button.selected:hover {\\n  background: #288bdb;\\n}\\n.widget-toolbar-button.selected svg {\\n  fill: #fff;\\n}\\n.widget-toolbar-button.fix-stroke.selected svg {\\n  stroke: #fff;\\n}\\n\\n.widget-toolbar-button.selected-fill svg {\\n  fill: #2b97ef;\\n}\\n.widget-toolbar-button.fix-stroke.selected-fill svg {\\n  stroke: #2b97ef;\\n}\\n\\n.widget-toolbar-button.disabled {\\n  cursor: default;\\n}\\n.widget-toolbar-button.disabled:hover {\\n  background: none;\\n}\\n.widget-toolbar-button.disabled svg {\\n  fill: #d9d9d9;\\n}\\n.widget-toolbar-button.fix-stroke.disabled svg {\\n  stroke: #d9d9d9;\\n}\\n\\n/* Adjustments */\\n.widget-toolbar-button.span-coloring svg {\\n  height: 1.5em;\\n  position: relative;\\n  top: 2px;\\n}\\n.widget-toolbar-button.group-layout svg {\\n  height: 1.4em;\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/ui/widget-toolbar/widget-toolbar.css\"],\"names\":[],\"mappings\":\"AAAA;EACE,6BAA6B;EAC7B,aAAa;EACb,oBAAoB;AACtB;;AAEA;EACE,aAAa;EACb,oBAAoB;EACpB,YAAY;AACd;AACA;EACE,uBAAuB;AACzB;AACA;EACE,yBAAyB;AAC3B;;AAEA;EACE,aAAa;EACb,uBAAuB;EACvB,mBAAmB;EACnB,qBAAqB;EACrB,qBAAqB;EACrB,eAAe;AACjB;AACA;EACE,cAAc;EACd,aAAa;AACf;AACA;EACE,eAAe;AACjB;;AAEA;EACE,mBAAmB;AACrB;AACA;EACE,UAAU;AACZ;AACA;EACE,YAAY;AACd;;AAEA;EACE,mBAAmB;AACrB;AACA;EACE,mBAAmB;AACrB;AACA;EACE,UAAU;AACZ;AACA;EACE,YAAY;AACd;;AAEA;EACE,aAAa;AACf;AACA;EACE,eAAe;AACjB;;AAEA;EACE,eAAe;AACjB;AACA;EACE,gBAAgB;AAClB;AACA;EACE,aAAa;AACf;AACA;EACE,eAAe;AACjB;;AAEA,gBAAgB;AAChB;EACE,aAAa;EACb,kBAAkB;EAClB,QAAQ;AACV;AACA;EACE,aAAa;AACf\",\"sourcesContent\":[\".widget-toolbar {\\n  border-bottom: 1px solid #ccc;\\n  display: flex;\\n  align-items: stretch;\\n}\\n\\n.widget-toolbar-pane {\\n  display: flex;\\n  align-items: stretch;\\n  flex-grow: 1;\\n}\\n.widget-toolbar-pane.middle {\\n  justify-content: center;\\n}\\n.widget-toolbar-pane.right {\\n  justify-content: flex-end;\\n}\\n\\n.widget-toolbar-button {\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  align-content: center;\\n  padding: 0.5em 0.25em;\\n  cursor: pointer;\\n}\\n.widget-toolbar-button svg {\\n  height: 1.25em;\\n  fill: #595959;\\n}\\n.widget-toolbar-button.fix-stroke svg {\\n  stroke: #595959;\\n}\\n\\n.widget-toolbar-button:hover {\\n  background: #f9f9f9;\\n}\\n.widget-toolbar-button:hover svg {\\n  fill: #000;\\n}\\n.widget-toolbar-button.fix-stroke:hover svg {\\n  stroke: #000;\\n}\\n\\n.widget-toolbar-button.selected {\\n  background: #2b97ef;\\n}\\n.widget-toolbar-button.selected:hover {\\n  background: #288bdb;\\n}\\n.widget-toolbar-button.selected svg {\\n  fill: #fff;\\n}\\n.widget-toolbar-button.fix-stroke.selected svg {\\n  stroke: #fff;\\n}\\n\\n.widget-toolbar-button.selected-fill svg {\\n  fill: #2b97ef;\\n}\\n.widget-toolbar-button.fix-stroke.selected-fill svg {\\n  stroke: #2b97ef;\\n}\\n\\n.widget-toolbar-button.disabled {\\n  cursor: default;\\n}\\n.widget-toolbar-button.disabled:hover {\\n  background: none;\\n}\\n.widget-toolbar-button.disabled svg {\\n  fill: #d9d9d9;\\n}\\n.widget-toolbar-button.fix-stroke.disabled svg {\\n  stroke: #d9d9d9;\\n}\\n\\n/* Adjustments */\\n.widget-toolbar-button.span-coloring svg {\\n  height: 1.5em;\\n  position: relative;\\n  top: 2px;\\n}\\n.widget-toolbar-button.group-layout svg {\\n  height: 1.4em;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".p-Widget {\\n  box-sizing: border-box;\\n  position: relative;\\n  overflow: hidden;\\n  cursor: default;\\n}\\n\\n.p-Widget.p-mod-hidden {\\n  display: none !important;\\n}\\n\\n.p-DockPanel-overlay {\\n  background: rgba(255, 255, 255, 0.6);\\n  border: 1px dashed black;\\n  transition-property: top, left, right, bottom;\\n  transition-duration: 150ms;\\n  transition-timing-function: ease;\\n}\\n\\n.p-DockPanel {\\n  z-index: 0;\\n}\\n\\n.p-DockPanel-widget {\\n  z-index: 0;\\n  background: #fff;\\n}\\n\\n.p-DockPanel-tabBar {\\n  z-index: 1;\\n}\\n\\n.p-DockPanel-handle {\\n  z-index: 2;\\n}\\n\\n.p-DockPanel-handle.p-mod-hidden {\\n  display: none !important;\\n}\\n\\n.p-DockPanel-handle:after {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  width: 100%;\\n  height: 100%;\\n  content: '';\\n}\\n\\n.p-DockPanel-handle[data-orientation='horizontal'] {\\n  cursor: ew-resize;\\n}\\n\\n.p-DockPanel-handle[data-orientation='vertical'] {\\n  cursor: ns-resize;\\n}\\n\\n.p-DockPanel-handle[data-orientation='horizontal']:after {\\n  left: 50%;\\n  min-width: 8px;\\n  transform: translateX(-50%);\\n}\\n\\n.p-DockPanel-handle[data-orientation='vertical']:after {\\n  top: 50%;\\n  min-height: 8px;\\n  transform: translateY(-50%);\\n}\\n\\n.p-DockPanel-overlay {\\n  z-index: 3;\\n  box-sizing: border-box;\\n  pointer-events: none;\\n}\\n\\n.p-DockPanel-overlay.p-mod-hidden {\\n  display: none !important;\\n}\\n\\n.p-TabBar {\\n  --height: 31px;\\n  min-height: var(--height);\\n  max-height: var(--height);\\n}\\n\\n.p-TabBar-content {\\n  min-width: 0;\\n  min-height: 0;\\n  align-items: flex-end;\\n}\\n\\n.p-TabBar-tab {\\n  --height: 30px;\\n  padding: 0px 10px;\\n  background: #e5e5e5;\\n  min-height: var(--height);\\n  max-height: var(--height);\\n  min-width: 35px;\\n  margin-left: -1px;\\n  line-height: var(--height);\\n}\\n\\n.p-TabBar-tab.p-mod-current {\\n  background: white;\\n}\\n\\n.p-TabBar-tab:hover:not(.p-mod-current) {\\n  background: #f0f0f0;\\n}\\n\\n.p-TabBar-tab:first-child {\\n  margin-left: 0;\\n}\\n\\n.p-TabBar-tab.p-mod-current {\\n  /* min-height: 23px;\\n  max-height: 23px;\\n  transform: translateY(1px); */\\n}\\n\\n.p-TabBar-tabIcon,\\n.p-TabBar-tabLabel,\\n.p-TabBar-tabCloseIcon {\\n  display: inline-block;\\n  text-transform: uppercase;\\n  font-size: 0.85em;\\n}\\n\\n.p-TabBar-tab.p-mod-closable > .p-TabBar-tabCloseIcon {\\n  margin-left: 4px;\\n}\\n\\n.p-TabBar-tab.p-mod-closable > .p-TabBar-tabCloseIcon:before {\\n  content: '\\\\00d7';\\n  font-size: 1.5em;\\n  position: relative;\\n  top: -2px;\\n}\\n\\n.p-TabBar-tab.p-mod-drag-image {\\n  --height: 30px;\\n  min-height: var(--height);\\n  max-height: var(--height);\\n  min-width: 125px;\\n  border: none;\\n  box-shadow: 1px 1px 2px rgba(0, 0, 0, 0.3);\\n  transform: translateX(-40%) translateY(-58%);\\n}\\n\\n.p-TabBar {\\n  display: flex;\\n  -webkit-user-select: none;\\n  -moz-user-select: none;\\n  -ms-user-select: none;\\n  user-select: none;\\n}\\n\\n.p-TabBar[data-orientation='horizontal'] {\\n  flex-direction: row;\\n}\\n\\n.p-TabBar[data-orientation='vertical'] {\\n  flex-direction: column;\\n}\\n\\n.p-TabBar-content {\\n  margin: 0;\\n  padding: 0;\\n  display: flex;\\n  flex: 1 1 auto;\\n  list-style-type: none;\\n}\\n\\n.p-TabBar[data-orientation='horizontal'] > .p-TabBar-content {\\n  flex-direction: row;\\n}\\n\\n.p-TabBar[data-orientation='vertical'] > .p-TabBar-content {\\n  flex-direction: column;\\n}\\n\\n.p-TabBar-tab {\\n  display: flex;\\n  flex-direction: row;\\n  box-sizing: border-box;\\n  overflow: hidden;\\n}\\n\\n.p-TabBar-tabIcon,\\n.p-TabBar-tabCloseIcon {\\n  flex: 0 0 auto;\\n}\\n\\n.p-TabBar-tabLabel {\\n  margin-right: 5px;\\n  white-space: nowrap;\\n}\\n\\n.p-TabBar-tab.p-mod-hidden {\\n  display: none !important;\\n}\\n\\n.p-TabBar.p-mod-dragging .p-TabBar-tab {\\n  position: relative;\\n}\\n\\n.p-TabBar.p-mod-dragging[data-orientation='horizontal'] .p-TabBar-tab {\\n  left: 0;\\n  transition: left 150ms ease;\\n}\\n\\n.p-TabBar.p-mod-dragging[data-orientation='vertical'] .p-TabBar-tab {\\n  top: 0;\\n  transition: top 150ms ease;\\n}\\n\\n.p-TabBar.p-mod-dragging .p-TabBar-tab.p-mod-dragging {\\n  transition: none;\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/global-styles/dock-panel.css\"],\"names\":[],\"mappings\":\"AAAA;EACE,sBAAsB;EACtB,kBAAkB;EAClB,gBAAgB;EAChB,eAAe;AACjB;;AAEA;EACE,wBAAwB;AAC1B;;AAEA;EACE,oCAAoC;EACpC,wBAAwB;EACxB,6CAA6C;EAC7C,0BAA0B;EAC1B,gCAAgC;AAClC;;AAEA;EACE,UAAU;AACZ;;AAEA;EACE,UAAU;EACV,gBAAgB;AAClB;;AAEA;EACE,UAAU;AACZ;;AAEA;EACE,UAAU;AACZ;;AAEA;EACE,wBAAwB;AAC1B;;AAEA;EACE,kBAAkB;EAClB,MAAM;EACN,OAAO;EACP,WAAW;EACX,YAAY;EACZ,WAAW;AACb;;AAEA;EACE,iBAAiB;AACnB;;AAEA;EACE,iBAAiB;AACnB;;AAEA;EACE,SAAS;EACT,cAAc;EACd,2BAA2B;AAC7B;;AAEA;EACE,QAAQ;EACR,eAAe;EACf,2BAA2B;AAC7B;;AAEA;EACE,UAAU;EACV,sBAAsB;EACtB,oBAAoB;AACtB;;AAEA;EACE,wBAAwB;AAC1B;;AAEA;EACE,cAAc;EACd,yBAAyB;EACzB,yBAAyB;AAC3B;;AAEA;EACE,YAAY;EACZ,aAAa;EACb,qBAAqB;AACvB;;AAEA;EACE,cAAc;EACd,iBAAiB;EACjB,mBAAmB;EACnB,yBAAyB;EACzB,yBAAyB;EACzB,eAAe;EACf,iBAAiB;EACjB,0BAA0B;AAC5B;;AAEA;EACE,iBAAiB;AACnB;;AAEA;EACE,mBAAmB;AACrB;;AAEA;EACE,cAAc;AAChB;;AAEA;EACE;;+BAE6B;AAC/B;;AAEA;;;EAGE,qBAAqB;EACrB,yBAAyB;EACzB,iBAAiB;AACnB;;AAEA;EACE,gBAAgB;AAClB;;AAEA;EACE,gBAAgB;EAChB,gBAAgB;EAChB,kBAAkB;EAClB,SAAS;AACX;;AAEA;EACE,cAAc;EACd,yBAAyB;EACzB,yBAAyB;EACzB,gBAAgB;EAChB,YAAY;EACZ,0CAA0C;EAC1C,4CAA4C;AAC9C;;AAEA;EACE,aAAa;EACb,yBAAyB;EACzB,sBAAsB;EACtB,qBAAqB;EACrB,iBAAiB;AACnB;;AAEA;EACE,mBAAmB;AACrB;;AAEA;EACE,sBAAsB;AACxB;;AAEA;EACE,SAAS;EACT,UAAU;EACV,aAAa;EACb,cAAc;EACd,qBAAqB;AACvB;;AAEA;EACE,mBAAmB;AACrB;;AAEA;EACE,sBAAsB;AACxB;;AAEA;EACE,aAAa;EACb,mBAAmB;EACnB,sBAAsB;EACtB,gBAAgB;AAClB;;AAEA;;EAEE,cAAc;AAChB;;AAEA;EACE,iBAAiB;EACjB,mBAAmB;AACrB;;AAEA;EACE,wBAAwB;AAC1B;;AAEA;EACE,kBAAkB;AACpB;;AAEA;EACE,OAAO;EACP,2BAA2B;AAC7B;;AAEA;EACE,MAAM;EACN,0BAA0B;AAC5B;;AAEA;EACE,gBAAgB;AAClB\",\"sourcesContent\":[\".p-Widget {\\n  box-sizing: border-box;\\n  position: relative;\\n  overflow: hidden;\\n  cursor: default;\\n}\\n\\n.p-Widget.p-mod-hidden {\\n  display: none !important;\\n}\\n\\n.p-DockPanel-overlay {\\n  background: rgba(255, 255, 255, 0.6);\\n  border: 1px dashed black;\\n  transition-property: top, left, right, bottom;\\n  transition-duration: 150ms;\\n  transition-timing-function: ease;\\n}\\n\\n.p-DockPanel {\\n  z-index: 0;\\n}\\n\\n.p-DockPanel-widget {\\n  z-index: 0;\\n  background: #fff;\\n}\\n\\n.p-DockPanel-tabBar {\\n  z-index: 1;\\n}\\n\\n.p-DockPanel-handle {\\n  z-index: 2;\\n}\\n\\n.p-DockPanel-handle.p-mod-hidden {\\n  display: none !important;\\n}\\n\\n.p-DockPanel-handle:after {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  width: 100%;\\n  height: 100%;\\n  content: '';\\n}\\n\\n.p-DockPanel-handle[data-orientation='horizontal'] {\\n  cursor: ew-resize;\\n}\\n\\n.p-DockPanel-handle[data-orientation='vertical'] {\\n  cursor: ns-resize;\\n}\\n\\n.p-DockPanel-handle[data-orientation='horizontal']:after {\\n  left: 50%;\\n  min-width: 8px;\\n  transform: translateX(-50%);\\n}\\n\\n.p-DockPanel-handle[data-orientation='vertical']:after {\\n  top: 50%;\\n  min-height: 8px;\\n  transform: translateY(-50%);\\n}\\n\\n.p-DockPanel-overlay {\\n  z-index: 3;\\n  box-sizing: border-box;\\n  pointer-events: none;\\n}\\n\\n.p-DockPanel-overlay.p-mod-hidden {\\n  display: none !important;\\n}\\n\\n.p-TabBar {\\n  --height: 31px;\\n  min-height: var(--height);\\n  max-height: var(--height);\\n}\\n\\n.p-TabBar-content {\\n  min-width: 0;\\n  min-height: 0;\\n  align-items: flex-end;\\n}\\n\\n.p-TabBar-tab {\\n  --height: 30px;\\n  padding: 0px 10px;\\n  background: #e5e5e5;\\n  min-height: var(--height);\\n  max-height: var(--height);\\n  min-width: 35px;\\n  margin-left: -1px;\\n  line-height: var(--height);\\n}\\n\\n.p-TabBar-tab.p-mod-current {\\n  background: white;\\n}\\n\\n.p-TabBar-tab:hover:not(.p-mod-current) {\\n  background: #f0f0f0;\\n}\\n\\n.p-TabBar-tab:first-child {\\n  margin-left: 0;\\n}\\n\\n.p-TabBar-tab.p-mod-current {\\n  /* min-height: 23px;\\n  max-height: 23px;\\n  transform: translateY(1px); */\\n}\\n\\n.p-TabBar-tabIcon,\\n.p-TabBar-tabLabel,\\n.p-TabBar-tabCloseIcon {\\n  display: inline-block;\\n  text-transform: uppercase;\\n  font-size: 0.85em;\\n}\\n\\n.p-TabBar-tab.p-mod-closable > .p-TabBar-tabCloseIcon {\\n  margin-left: 4px;\\n}\\n\\n.p-TabBar-tab.p-mod-closable > .p-TabBar-tabCloseIcon:before {\\n  content: '\\\\00d7';\\n  font-size: 1.5em;\\n  position: relative;\\n  top: -2px;\\n}\\n\\n.p-TabBar-tab.p-mod-drag-image {\\n  --height: 30px;\\n  min-height: var(--height);\\n  max-height: var(--height);\\n  min-width: 125px;\\n  border: none;\\n  box-shadow: 1px 1px 2px rgba(0, 0, 0, 0.3);\\n  transform: translateX(-40%) translateY(-58%);\\n}\\n\\n.p-TabBar {\\n  display: flex;\\n  -webkit-user-select: none;\\n  -moz-user-select: none;\\n  -ms-user-select: none;\\n  user-select: none;\\n}\\n\\n.p-TabBar[data-orientation='horizontal'] {\\n  flex-direction: row;\\n}\\n\\n.p-TabBar[data-orientation='vertical'] {\\n  flex-direction: column;\\n}\\n\\n.p-TabBar-content {\\n  margin: 0;\\n  padding: 0;\\n  display: flex;\\n  flex: 1 1 auto;\\n  list-style-type: none;\\n}\\n\\n.p-TabBar[data-orientation='horizontal'] > .p-TabBar-content {\\n  flex-direction: row;\\n}\\n\\n.p-TabBar[data-orientation='vertical'] > .p-TabBar-content {\\n  flex-direction: column;\\n}\\n\\n.p-TabBar-tab {\\n  display: flex;\\n  flex-direction: row;\\n  box-sizing: border-box;\\n  overflow: hidden;\\n}\\n\\n.p-TabBar-tabIcon,\\n.p-TabBar-tabCloseIcon {\\n  flex: 0 0 auto;\\n}\\n\\n.p-TabBar-tabLabel {\\n  margin-right: 5px;\\n  white-space: nowrap;\\n}\\n\\n.p-TabBar-tab.p-mod-hidden {\\n  display: none !important;\\n}\\n\\n.p-TabBar.p-mod-dragging .p-TabBar-tab {\\n  position: relative;\\n}\\n\\n.p-TabBar.p-mod-dragging[data-orientation='horizontal'] .p-TabBar-tab {\\n  left: 0;\\n  transition: left 150ms ease;\\n}\\n\\n.p-TabBar.p-mod-dragging[data-orientation='vertical'] .p-TabBar-tab {\\n  top: 0;\\n  transition: top 150ms ease;\\n}\\n\\n.p-TabBar.p-mod-dragging .p-TabBar-tab.p-mod-dragging {\\n  transition: none;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".flatpickr-calendar {\\n  font-size: 1em;\\n  width: 20em;\\n}\\n.flatpickr-calendar .flatpickr-days {\\n  width: 20em;\\n}\\n.flatpickr-calendar .dayContainer {\\n  width: 20em;\\n  min-width: 20em;\\n  max-width: 20em;\\n}\\n.flatpickr-calendar .flatpickr-day {\\n  height: 2.5em;\\n  line-height: 2.5em;\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/global-styles/flatpickr.css\"],\"names\":[],\"mappings\":\"AAAA;EACE,cAAc;EACd,WAAW;AACb;AACA;EACE,WAAW;AACb;AACA;EACE,WAAW;EACX,eAAe;EACf,eAAe;AACjB;AACA;EACE,aAAa;EACb,kBAAkB;AACpB\",\"sourcesContent\":[\".flatpickr-calendar {\\n  font-size: 1em;\\n  width: 20em;\\n}\\n.flatpickr-calendar .flatpickr-days {\\n  width: 20em;\\n}\\n.flatpickr-calendar .dayContainer {\\n  width: 20em;\\n  min-width: 20em;\\n  max-width: 20em;\\n}\\n.flatpickr-calendar .flatpickr-day {\\n  height: 2.5em;\\n  line-height: 2.5em;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"input,\\nbutton,\\ntextarea,\\n:focus {\\n  outline: none;\\n}\\n\\n/* Heavily inspired by https://dribbble.com/shots/12109708/attachments/3741712?mode=media */\\ninput:not([type='checkbox']):not([type='radio']),\\nselect {\\n  -webkit-appearance: none;\\n  box-sizing: border-box;\\n  border: 1px solid #aab3c5;\\n  padding: 6px 7px;\\n  border-radius: 5px;\\n  font-family: inherit;\\n  font-size: 12px;\\n  transition: border-color 0.3s, box-shadow 0.2s;\\n}\\n\\n/* Fix flatpicker's year input */\\n.flatpickr-calendar input {\\n  -webkit-appearance: inherit !important;\\n  box-sizing: inherit !important;\\n  border: inherit !important;\\n  padding: inherit !important;\\n  border-radius: inherit !important;\\n  font-family: inherit !important;\\n  font-size: inherit !important;\\n  transition: inherit !important;\\n}\\n\\ninput:not([type='checkbox']):not([type='radio']):hover,\\nselect:hover {\\n  border-color: #1874fb;\\n}\\n\\ninput:not([type='checkbox']):not([type='radio']):focus,\\nselect:focus {\\n  border-color: #1874fb;\\n  box-shadow: 0 0 0px 2px #d2e6fe;\\n}\\n\\nselect {\\n  /* Note that the SVG content needs to be url-escaped for this to work, e.g. # gets replaced with %23 */\\n  background-image: url('data:image/svg+xml;utf8,<svg version=\\\"1.1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" x=\\\"0px\\\" y=\\\"0px\\\" width=\\\"960px\\\" height=\\\"560px\\\" viewBox=\\\"0 0 960 560\\\" xml:space=\\\"preserve\\\"><g><path fill=\\\"%238C96A6\\\" d=\\\"M480,344.181L268.869,131.889c-15.756-15.859-41.3-15.859-57.054,0c-15.754,15.857-15.754,41.57,0,57.431l237.632,238.937c8.395,8.451,19.562,12.254,30.553,11.698c10.993,0.556,22.159-3.247,30.555-11.698l237.631-238.937c15.756-15.86,15.756-41.571,0-57.431s-41.299-15.859-57.051,0L480,344.181z\\\"/></g></svg>');\\n  background-size: 20px;\\n  background-repeat: no-repeat;\\n  background-position: calc(100% - 5px) 50%;\\n  padding-right: 30px;\\n  cursor: pointer;\\n  background-color: #fff; /* in linux, the default is gray */\\n}\\n\\nselect:focus {\\n  background-image: url('data:image/svg+xml;utf8,<svg version=\\\"1.1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" x=\\\"0px\\\" y=\\\"0px\\\" width=\\\"960px\\\" height=\\\"560px\\\" viewBox=\\\"0 0 960 560\\\" xml:space=\\\"preserve\\\"><g><path fill=\\\"%231371FB\\\" d=\\\"M480,344.181L268.869,131.889c-15.756-15.859-41.3-15.859-57.054,0c-15.754,15.857-15.754,41.57,0,57.431l237.632,238.937c8.395,8.451,19.562,12.254,30.553,11.698c10.993,0.556,22.159-3.247,30.555-11.698l237.631-238.937c15.756-15.86,15.756-41.571,0-57.431s-41.299-15.859-57.051,0L480,344.181z\\\"/></g></svg>');\\n}\\n\\ninput:not([type='checkbox']):not([type='radio']):disabled,\\nselect:disabled {\\n  border-color: #d0d0d0;\\n  background-color: #f2f2f2;\\n  color: #afafaf;\\n  cursor: not-allowed;\\n}\\n\\n/* Small inputs & selectboxes */\\ninput:not([type='checkbox']):not([type='radio']).small,\\nselect.small {\\n  padding: 3px 6px;\\n}\\n\\n/* Borderless inputs & selectboxes */\\ninput:not([type='checkbox']):not([type='radio']).borderless,\\nselect.borderless {\\n  border-width: 0;\\n}\\n\\n/* Input with svg icon */\\n.input-with-svg-icon-container {\\n  position: relative;\\n}\\n\\n.input-with-svg-icon-container svg {\\n  position: absolute;\\n  height: 17px;\\n  top: calc(50% - 8px);\\n  left: 5px;\\n  z-index: -1;\\n  fill: #8c96a6;\\n}\\n\\n.input-with-svg-icon-container\\n  input:not([type='checkbox']):not([type='radio']) {\\n  background: transparent;\\n  padding-left: 30px;\\n}\\n\\n.input-with-svg-icon-container\\n  input:not([type='checkbox']):not([type='radio']):focus\\n  + svg {\\n  fill: #1371fb;\\n}\\n\\n/* Search input clear button: https://gist.github.com/tj/9455aa5add1c78e6bc573fcf0f8e7eb5 */\\ninput[type='search']::-webkit-search-cancel-button {\\n  --size: 11px;\\n  --background: #7f7f7f;\\n  --icon: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI3IiBoZWlnaHQ9IjciIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjZmZmIiBzdHJva2Utd2lkdGg9IjMiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgY2xhc3M9ImZlYXRoZXIgZmVhdGhlci14Ij48cGF0aCBkPSJNMTggNkw2IDE4TTYgNmwxMiAxMiIvPjwvc3ZnPgo=');\\n  -webkit-appearance: none;\\n  height: var(--size);\\n  width: var(--size);\\n  border-radius: 50%;\\n  background: var(--background) var(--icon) 50% 50% no-repeat;\\n}\\n\\ninput[type='search']::-webkit-search-cancel-button:hover {\\n  opacity: 0.9;\\n}\\n\\n/* Checkbox */\\ninput[type='checkbox']:not(.switch) {\\n  -webkit-appearance: none;\\n  box-sizing: border-box;\\n  width: 20px;\\n  height: 20px;\\n  border: 1px solid #dde2e8;\\n  border-radius: 3px;\\n  margin: 0;\\n  position: relative;\\n  transition: background 0.3s, border-color 0.3s, box-shadow 0.2s;\\n  cursor: pointer;\\n}\\n\\ninput[type='checkbox']:not(.switch):after {\\n  content: '';\\n  display: block;\\n  position: absolute;\\n  width: 4px;\\n  height: 8px;\\n  border: 2px solid #fff;\\n  border-top: 0;\\n  border-left: 0;\\n  left: 6px;\\n  top: 3px;\\n  transform: rotate(43deg);\\n}\\n\\ninput[type='checkbox']:not(.switch):hover {\\n  border-color: #1582ea;\\n}\\n\\ninput[type='checkbox']:not(.switch):checked {\\n  border-color: #1582ea;\\n  background: linear-gradient(\\n    0deg,\\n    rgba(18, 110, 243, 1) 0%,\\n    rgba(24, 140, 252, 1) 100%\\n  );\\n}\\n\\ninput[type='checkbox']:not(.switch):focus {\\n  box-shadow: 0 0 0px 2px #d2e6fe;\\n}\\n\\n/* iOS switch-like checkbox */\\n/* Borrowed from: https://codepen.io/JowayYoung/pen/PoqgbGV */\\ninput[type='checkbox'].switch,\\ninput[type='checkbox'].switch::before {\\n  border-radius: 11px;\\n  width: 40px;\\n  height: 22px;\\n  box-sizing: border-box;\\n}\\n\\ninput[type='checkbox'].switch {\\n  appearance: none;\\n  -webkit-appearance: none;\\n  cursor: pointer;\\n  transition: all 100ms;\\n  margin: 0;\\n  border: 2px solid #dde2e8;\\n  background: #f8f9fc;\\n}\\n\\ninput[type='checkbox'].switch:focus {\\n  box-shadow: 0 0 0px 2px #d2e6fe;\\n}\\n\\ninput[type='checkbox'].switch:checked {\\n  background-color: #f1f7ff;\\n  border-color: #a9cdfd;\\n}\\n\\ninput[type='checkbox'].switch::before {\\n  position: absolute;\\n  content: '';\\n  transition: all 300ms cubic-bezier(0.45, 1, 0.4, 1);\\n}\\n\\ninput[type='checkbox'].switch::after {\\n  position: absolute;\\n  left: 3px;\\n  top: 3px;\\n  border-radius: 8px;\\n  width: 16px;\\n  height: 16px;\\n  background-color: #aab3c5;\\n  box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.15);\\n  content: '';\\n  transition: all 300ms cubic-bezier(0.4, 0.4, 0.25, 1.35);\\n  box-sizing: border-box;\\n  border: 1px solid #1479ea00;\\n}\\n\\ninput[type='checkbox'].switch:checked::after {\\n  transform: translateX(17px);\\n  border-color: #1479ea;\\n  background-color: #1682fc;\\n}\\n\\n/* Button */\\nbutton {\\n  background: transparent;\\n  color: #666;\\n  font-weight: 600;\\n  border: 1px solid #999;\\n  font-family: inherit;\\n  font-size: 12px;\\n  padding: 6px 20px;\\n  border-radius: 5px;\\n  cursor: pointer;\\n  transition: background 0.4s, border-color 0.3s, box-shadow 0.2s;\\n}\\n\\nbutton:hover {\\n  border-color: #1582ea;\\n  color: #1582ea;\\n}\\n\\nbutton:focus {\\n  border-color: #1582ea;\\n  box-shadow: 0 0 0px 2px #d2e6fe;\\n  color: #1582ea;\\n}\\n\\nbutton.small {\\n  padding: 3px 15px;\\n}\\n\\nbutton.primary:not(:disabled) {\\n  border-color: #1582ea;\\n  background: linear-gradient(\\n    0deg,\\n    rgba(18, 110, 243, 1) 0%,\\n    rgba(24, 140, 252, 1) 100%\\n  );\\n  color: #fff;\\n}\\n\\nbutton.primary:not(:disabled):hover {\\n  /* TODO */\\n}\\n\\nbutton.primary:not(:disabled):focus {\\n  /* TODO */\\n}\\n\\nbutton.secondary:not(:disabled) {\\n  background: #edf4ff;\\n  color: #1371fb;\\n  border-color: #b6d5fd;\\n}\\n\\nbutton.secondary:not(:disabled):hover {\\n  border-color: #1582ea;\\n}\\n\\nbutton.secondary:not(:disabled):focus {\\n  border-color: #1582ea;\\n  /* TODO */\\n}\\n\\nbutton.danger:not(:disabled) {\\n  color: #ff4d4f;\\n  border-color: #ff4d4f;\\n}\\n\\nbutton.danger:not(:disabled):hover,\\nbutton.danger:not(:disabled):focus {\\n  color: #ff7875;\\n  border-color: #ff7875;\\n}\\n\\nbutton.danger:not(:disabled):focus {\\n  box-shadow: 0 0 0px 2px #ff787599;\\n}\\n\\nbutton:disabled {\\n  border-color: #d0d0d0;\\n  background: #f2f2f2;\\n  color: #afafaf;\\n  cursor: not-allowed;\\n}\\n\\n/* Input + button group */\\n.input-button-group input:not([type='checkbox']):not([type='radio']) {\\n  border-radius: 5px 0 0 5px;\\n}\\n\\n.input-button-group button {\\n  border-radius: 0 5px 5px 0;\\n  border-left-color: transparent;\\n}\\n\\n.input-button-group button:hover,\\n.input-button-group button:focus {\\n  border-left-color: inherit;\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/global-styles/form.css\"],\"names\":[],\"mappings\":\"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\",\"sourcesContent\":[\"input,\\nbutton,\\ntextarea,\\n:focus {\\n  outline: none;\\n}\\n\\n/* Heavily inspired by https://dribbble.com/shots/12109708/attachments/3741712?mode=media */\\ninput:not([type='checkbox']):not([type='radio']),\\nselect {\\n  -webkit-appearance: none;\\n  box-sizing: border-box;\\n  border: 1px solid #aab3c5;\\n  padding: 6px 7px;\\n  border-radius: 5px;\\n  font-family: inherit;\\n  font-size: 12px;\\n  transition: border-color 0.3s, box-shadow 0.2s;\\n}\\n\\n/* Fix flatpicker's year input */\\n.flatpickr-calendar input {\\n  -webkit-appearance: inherit !important;\\n  box-sizing: inherit !important;\\n  border: inherit !important;\\n  padding: inherit !important;\\n  border-radius: inherit !important;\\n  font-family: inherit !important;\\n  font-size: inherit !important;\\n  transition: inherit !important;\\n}\\n\\ninput:not([type='checkbox']):not([type='radio']):hover,\\nselect:hover {\\n  border-color: #1874fb;\\n}\\n\\ninput:not([type='checkbox']):not([type='radio']):focus,\\nselect:focus {\\n  border-color: #1874fb;\\n  box-shadow: 0 0 0px 2px #d2e6fe;\\n}\\n\\nselect {\\n  /* Note that the SVG content needs to be url-escaped for this to work, e.g. # gets replaced with %23 */\\n  background-image: url('data:image/svg+xml;utf8,<svg version=\\\"1.1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" x=\\\"0px\\\" y=\\\"0px\\\" width=\\\"960px\\\" height=\\\"560px\\\" viewBox=\\\"0 0 960 560\\\" xml:space=\\\"preserve\\\"><g><path fill=\\\"%238C96A6\\\" d=\\\"M480,344.181L268.869,131.889c-15.756-15.859-41.3-15.859-57.054,0c-15.754,15.857-15.754,41.57,0,57.431l237.632,238.937c8.395,8.451,19.562,12.254,30.553,11.698c10.993,0.556,22.159-3.247,30.555-11.698l237.631-238.937c15.756-15.86,15.756-41.571,0-57.431s-41.299-15.859-57.051,0L480,344.181z\\\"/></g></svg>');\\n  background-size: 20px;\\n  background-repeat: no-repeat;\\n  background-position: calc(100% - 5px) 50%;\\n  padding-right: 30px;\\n  cursor: pointer;\\n  background-color: #fff; /* in linux, the default is gray */\\n}\\n\\nselect:focus {\\n  background-image: url('data:image/svg+xml;utf8,<svg version=\\\"1.1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" x=\\\"0px\\\" y=\\\"0px\\\" width=\\\"960px\\\" height=\\\"560px\\\" viewBox=\\\"0 0 960 560\\\" xml:space=\\\"preserve\\\"><g><path fill=\\\"%231371FB\\\" d=\\\"M480,344.181L268.869,131.889c-15.756-15.859-41.3-15.859-57.054,0c-15.754,15.857-15.754,41.57,0,57.431l237.632,238.937c8.395,8.451,19.562,12.254,30.553,11.698c10.993,0.556,22.159-3.247,30.555-11.698l237.631-238.937c15.756-15.86,15.756-41.571,0-57.431s-41.299-15.859-57.051,0L480,344.181z\\\"/></g></svg>');\\n}\\n\\ninput:not([type='checkbox']):not([type='radio']):disabled,\\nselect:disabled {\\n  border-color: #d0d0d0;\\n  background-color: #f2f2f2;\\n  color: #afafaf;\\n  cursor: not-allowed;\\n}\\n\\n/* Small inputs & selectboxes */\\ninput:not([type='checkbox']):not([type='radio']).small,\\nselect.small {\\n  padding: 3px 6px;\\n}\\n\\n/* Borderless inputs & selectboxes */\\ninput:not([type='checkbox']):not([type='radio']).borderless,\\nselect.borderless {\\n  border-width: 0;\\n}\\n\\n/* Input with svg icon */\\n.input-with-svg-icon-container {\\n  position: relative;\\n}\\n\\n.input-with-svg-icon-container svg {\\n  position: absolute;\\n  height: 17px;\\n  top: calc(50% - 8px);\\n  left: 5px;\\n  z-index: -1;\\n  fill: #8c96a6;\\n}\\n\\n.input-with-svg-icon-container\\n  input:not([type='checkbox']):not([type='radio']) {\\n  background: transparent;\\n  padding-left: 30px;\\n}\\n\\n.input-with-svg-icon-container\\n  input:not([type='checkbox']):not([type='radio']):focus\\n  + svg {\\n  fill: #1371fb;\\n}\\n\\n/* Search input clear button: https://gist.github.com/tj/9455aa5add1c78e6bc573fcf0f8e7eb5 */\\ninput[type='search']::-webkit-search-cancel-button {\\n  --size: 11px;\\n  --background: #7f7f7f;\\n  --icon: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI3IiBoZWlnaHQ9IjciIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjZmZmIiBzdHJva2Utd2lkdGg9IjMiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgY2xhc3M9ImZlYXRoZXIgZmVhdGhlci14Ij48cGF0aCBkPSJNMTggNkw2IDE4TTYgNmwxMiAxMiIvPjwvc3ZnPgo=');\\n  -webkit-appearance: none;\\n  height: var(--size);\\n  width: var(--size);\\n  border-radius: 50%;\\n  background: var(--background) var(--icon) 50% 50% no-repeat;\\n}\\n\\ninput[type='search']::-webkit-search-cancel-button:hover {\\n  opacity: 0.9;\\n}\\n\\n/* Checkbox */\\ninput[type='checkbox']:not(.switch) {\\n  -webkit-appearance: none;\\n  box-sizing: border-box;\\n  width: 20px;\\n  height: 20px;\\n  border: 1px solid #dde2e8;\\n  border-radius: 3px;\\n  margin: 0;\\n  position: relative;\\n  transition: background 0.3s, border-color 0.3s, box-shadow 0.2s;\\n  cursor: pointer;\\n}\\n\\ninput[type='checkbox']:not(.switch):after {\\n  content: '';\\n  display: block;\\n  position: absolute;\\n  width: 4px;\\n  height: 8px;\\n  border: 2px solid #fff;\\n  border-top: 0;\\n  border-left: 0;\\n  left: 6px;\\n  top: 3px;\\n  transform: rotate(43deg);\\n}\\n\\ninput[type='checkbox']:not(.switch):hover {\\n  border-color: #1582ea;\\n}\\n\\ninput[type='checkbox']:not(.switch):checked {\\n  border-color: #1582ea;\\n  background: linear-gradient(\\n    0deg,\\n    rgba(18, 110, 243, 1) 0%,\\n    rgba(24, 140, 252, 1) 100%\\n  );\\n}\\n\\ninput[type='checkbox']:not(.switch):focus {\\n  box-shadow: 0 0 0px 2px #d2e6fe;\\n}\\n\\n/* iOS switch-like checkbox */\\n/* Borrowed from: https://codepen.io/JowayYoung/pen/PoqgbGV */\\ninput[type='checkbox'].switch,\\ninput[type='checkbox'].switch::before {\\n  border-radius: 11px;\\n  width: 40px;\\n  height: 22px;\\n  box-sizing: border-box;\\n}\\n\\ninput[type='checkbox'].switch {\\n  appearance: none;\\n  -webkit-appearance: none;\\n  cursor: pointer;\\n  transition: all 100ms;\\n  margin: 0;\\n  border: 2px solid #dde2e8;\\n  background: #f8f9fc;\\n}\\n\\ninput[type='checkbox'].switch:focus {\\n  box-shadow: 0 0 0px 2px #d2e6fe;\\n}\\n\\ninput[type='checkbox'].switch:checked {\\n  background-color: #f1f7ff;\\n  border-color: #a9cdfd;\\n}\\n\\ninput[type='checkbox'].switch::before {\\n  position: absolute;\\n  content: '';\\n  transition: all 300ms cubic-bezier(0.45, 1, 0.4, 1);\\n}\\n\\ninput[type='checkbox'].switch::after {\\n  position: absolute;\\n  left: 3px;\\n  top: 3px;\\n  border-radius: 8px;\\n  width: 16px;\\n  height: 16px;\\n  background-color: #aab3c5;\\n  box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.15);\\n  content: '';\\n  transition: all 300ms cubic-bezier(0.4, 0.4, 0.25, 1.35);\\n  box-sizing: border-box;\\n  border: 1px solid #1479ea00;\\n}\\n\\ninput[type='checkbox'].switch:checked::after {\\n  transform: translateX(17px);\\n  border-color: #1479ea;\\n  background-color: #1682fc;\\n}\\n\\n/* Button */\\nbutton {\\n  background: transparent;\\n  color: #666;\\n  font-weight: 600;\\n  border: 1px solid #999;\\n  font-family: inherit;\\n  font-size: 12px;\\n  padding: 6px 20px;\\n  border-radius: 5px;\\n  cursor: pointer;\\n  transition: background 0.4s, border-color 0.3s, box-shadow 0.2s;\\n}\\n\\nbutton:hover {\\n  border-color: #1582ea;\\n  color: #1582ea;\\n}\\n\\nbutton:focus {\\n  border-color: #1582ea;\\n  box-shadow: 0 0 0px 2px #d2e6fe;\\n  color: #1582ea;\\n}\\n\\nbutton.small {\\n  padding: 3px 15px;\\n}\\n\\nbutton.primary:not(:disabled) {\\n  border-color: #1582ea;\\n  background: linear-gradient(\\n    0deg,\\n    rgba(18, 110, 243, 1) 0%,\\n    rgba(24, 140, 252, 1) 100%\\n  );\\n  color: #fff;\\n}\\n\\nbutton.primary:not(:disabled):hover {\\n  /* TODO */\\n}\\n\\nbutton.primary:not(:disabled):focus {\\n  /* TODO */\\n}\\n\\nbutton.secondary:not(:disabled) {\\n  background: #edf4ff;\\n  color: #1371fb;\\n  border-color: #b6d5fd;\\n}\\n\\nbutton.secondary:not(:disabled):hover {\\n  border-color: #1582ea;\\n}\\n\\nbutton.secondary:not(:disabled):focus {\\n  border-color: #1582ea;\\n  /* TODO */\\n}\\n\\nbutton.danger:not(:disabled) {\\n  color: #ff4d4f;\\n  border-color: #ff4d4f;\\n}\\n\\nbutton.danger:not(:disabled):hover,\\nbutton.danger:not(:disabled):focus {\\n  color: #ff7875;\\n  border-color: #ff7875;\\n}\\n\\nbutton.danger:not(:disabled):focus {\\n  box-shadow: 0 0 0px 2px #ff787599;\\n}\\n\\nbutton:disabled {\\n  border-color: #d0d0d0;\\n  background: #f2f2f2;\\n  color: #afafaf;\\n  cursor: not-allowed;\\n}\\n\\n/* Input + button group */\\n.input-button-group input:not([type='checkbox']):not([type='radio']) {\\n  border-radius: 5px 0 0 5px;\\n}\\n\\n.input-button-group button {\\n  border-radius: 0 5px 5px 0;\\n  border-left-color: transparent;\\n}\\n\\n.input-button-group button:hover,\\n.input-button-group button:focus {\\n  border-left-color: inherit;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".noty_theme__mint.noty_bar {\\n  margin: 4px 0;\\n  overflow: hidden;\\n  position: relative;\\n  /* border: 1px solid transparent; */\\n  border: 1px solid rgba(0, 0, 0, 0.15);\\n  border-radius: 0.25rem;\\n  box-shadow: rgba(0, 0, 0, 0.3) 2px 1px 4px 0;\\n}\\n.noty_theme__mint.noty_bar .noty_body {\\n  padding: 0.75rem 1.25rem;\\n}\\n.noty_theme__mint.noty_bar .noty_buttons {\\n  padding: 10px;\\n}\\n.noty_theme__mint.noty_bar .noty_close_button {\\n  font-size: 1.5rem;\\n  font-weight: 700;\\n  line-height: 1;\\n  color: #000;\\n  text-shadow: 0 1px 0 #fff;\\n  filter: alpha(opacity=20);\\n  opacity: 0.5;\\n  background: transparent;\\n}\\n.noty_theme__mint.noty_bar .noty_close_button:hover {\\n  background: transparent;\\n  text-decoration: none;\\n  cursor: pointer;\\n  filter: alpha(opacity=50);\\n  opacity: 0.75;\\n}\\n.noty_theme__mint.noty_type__alert,\\n.noty_theme__mint.noty_type__notification {\\n  background-color: #fff;\\n  color: inherit;\\n}\\n.noty_theme__mint.noty_type__warning {\\n  background-color: #fcf8e3;\\n  color: #8a6d3b;\\n  /* border-color: #faebcc; */\\n}\\n.noty_theme__mint.noty_type__error {\\n  background-color: #f2dede;\\n  color: #a94442;\\n  /* border-color: #ebccd1; */\\n}\\n.noty_theme__mint.noty_type__info,\\n.noty_theme__mint.noty_type__information {\\n  background-color: #d9edf7;\\n  color: #31708f;\\n  /* border-color: #bce8f1; */\\n}\\n.noty_theme__mint.noty_type__success {\\n  background-color: #dff0d8;\\n  color: #3c763d;\\n  /* border-color: #d6e9c6; */\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/global-styles/noty.css\"],\"names\":[],\"mappings\":\"AAAA;EACE,aAAa;EACb,gBAAgB;EAChB,kBAAkB;EAClB,mCAAmC;EACnC,qCAAqC;EACrC,sBAAsB;EACtB,4CAA4C;AAC9C;AACA;EACE,wBAAwB;AAC1B;AACA;EACE,aAAa;AACf;AACA;EACE,iBAAiB;EACjB,gBAAgB;EAChB,cAAc;EACd,WAAW;EACX,yBAAyB;EACzB,yBAAyB;EACzB,YAAY;EACZ,uBAAuB;AACzB;AACA;EACE,uBAAuB;EACvB,qBAAqB;EACrB,eAAe;EACf,yBAAyB;EACzB,aAAa;AACf;AACA;;EAEE,sBAAsB;EACtB,cAAc;AAChB;AACA;EACE,yBAAyB;EACzB,cAAc;EACd,2BAA2B;AAC7B;AACA;EACE,yBAAyB;EACzB,cAAc;EACd,2BAA2B;AAC7B;AACA;;EAEE,yBAAyB;EACzB,cAAc;EACd,2BAA2B;AAC7B;AACA;EACE,yBAAyB;EACzB,cAAc;EACd,2BAA2B;AAC7B\",\"sourcesContent\":[\".noty_theme__mint.noty_bar {\\n  margin: 4px 0;\\n  overflow: hidden;\\n  position: relative;\\n  /* border: 1px solid transparent; */\\n  border: 1px solid rgba(0, 0, 0, 0.15);\\n  border-radius: 0.25rem;\\n  box-shadow: rgba(0, 0, 0, 0.3) 2px 1px 4px 0;\\n}\\n.noty_theme__mint.noty_bar .noty_body {\\n  padding: 0.75rem 1.25rem;\\n}\\n.noty_theme__mint.noty_bar .noty_buttons {\\n  padding: 10px;\\n}\\n.noty_theme__mint.noty_bar .noty_close_button {\\n  font-size: 1.5rem;\\n  font-weight: 700;\\n  line-height: 1;\\n  color: #000;\\n  text-shadow: 0 1px 0 #fff;\\n  filter: alpha(opacity=20);\\n  opacity: 0.5;\\n  background: transparent;\\n}\\n.noty_theme__mint.noty_bar .noty_close_button:hover {\\n  background: transparent;\\n  text-decoration: none;\\n  cursor: pointer;\\n  filter: alpha(opacity=50);\\n  opacity: 0.75;\\n}\\n.noty_theme__mint.noty_type__alert,\\n.noty_theme__mint.noty_type__notification {\\n  background-color: #fff;\\n  color: inherit;\\n}\\n.noty_theme__mint.noty_type__warning {\\n  background-color: #fcf8e3;\\n  color: #8a6d3b;\\n  /* border-color: #faebcc; */\\n}\\n.noty_theme__mint.noty_type__error {\\n  background-color: #f2dede;\\n  color: #a94442;\\n  /* border-color: #ebccd1; */\\n}\\n.noty_theme__mint.noty_type__info,\\n.noty_theme__mint.noty_type__information {\\n  background-color: #d9edf7;\\n  color: #31708f;\\n  /* border-color: #bce8f1; */\\n}\\n.noty_theme__mint.noty_type__success {\\n  background-color: #dff0d8;\\n  color: #3c763d;\\n  /* border-color: #d6e9c6; */\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","import api from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../node_modules/css-loader/dist/cjs.js!./menu-list.css\";\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","import './menu-list.css';\nimport PencilSvgText from '!!raw-loader!@mdi/svg/svg/pencil.svg';\nimport DeleteSvgText from '!!raw-loader!@mdi/svg/svg/delete.svg';\nimport CloseSvgText from '!!raw-loader!@mdi/svg/svg/close.svg';\nimport PlusSvgText from '!!raw-loader!@mdi/svg/svg/plus.svg';\n\nexport interface ToolbarMenuListOptions {\n  width?: number;\n  items: ToolbarMenuListItemOptions[];\n  onButtonClick: (buttonId: string, index: number) => void;\n  onTextClick?: (index: number) => void;\n  headerEl?: HTMLDivElement;\n  emptyEl?: HTMLDivElement;\n}\n\nexport interface ToolbarMenuListItemOptions {\n  text: string;\n  className?: string;\n  buttons?: {\n    id: string;\n    icon: 'pencil' | 'delete' | 'close' | 'plus';\n  }[];\n}\n\nexport interface ToolbarMenuListItem {\n  options: ToolbarMenuListItemOptions;\n  element: HTMLDivElement;\n  onClickHandler?: (e: MouseEvent) => void;\n}\n\nexport class ToolbarMenuList {\n  readonly element = document.createElement('div');\n  private items: ToolbarMenuListItem[] = [];\n\n  constructor(private options: ToolbarMenuListOptions) {\n    if (options.width) {\n      this.element.style.width = `${options.width}px`;\n    }\n\n    options.headerEl && this.element.appendChild(options.headerEl);\n    options.emptyEl && this.element.appendChild(options.emptyEl);\n\n    options.items.forEach((options) => {\n      this.addItem(options);\n    });\n  }\n\n  getItems() {\n    return this.items.slice();\n  }\n\n  addItem(options: ToolbarMenuListItemOptions) {\n    if (this.options.emptyEl && this.options.emptyEl.parentElement) {\n      this.options.emptyEl.parentElement.removeChild(this.options.emptyEl);\n    }\n\n    const el = document.createElement('div');\n    const item = { element: el, options };\n\n    el.classList.add('app-toolbar-menu-list-item');\n\n    const textEl = document.createElement('span');\n    textEl.classList.add('text');\n    if (this.options.onTextClick) textEl.classList.add('clickable');\n    textEl.textContent = options.text;\n    el.appendChild(textEl);\n\n    const buttonsContainer = document.createElement('div');\n    el.appendChild(buttonsContainer);\n\n    options.buttons.forEach((button) => {\n      const buttonEl = document.createElement('div');\n      buttonEl.classList.add('button');\n      buttonEl.innerHTML = {\n        pencil: PencilSvgText,\n        delete: DeleteSvgText,\n        close: CloseSvgText,\n        plus: PlusSvgText,\n      }[button.icon];\n      buttonEl.setAttribute('data-menu-list-button-id', button.id);\n      buttonsContainer.appendChild(buttonEl);\n    });\n\n    const onClickHandler = this.onItemClick.bind(this, item);\n    el.addEventListener('click', onClickHandler, false);\n    (item as any).onClickHandler = onClickHandler;\n\n    this.element.appendChild(el);\n    this.items.push(item);\n  }\n\n  removeItemAt(index: number) {\n    if (index >= this.items.length) return false;\n    const [removedItem] = this.items.splice(index, 1);\n    if (removedItem) {\n      this.element.removeChild(removedItem.element);\n      if (removedItem.onClickHandler) {\n        removedItem.element.removeEventListener(\n          'click',\n          removedItem.onClickHandler as any,\n          false\n        );\n      }\n    }\n\n    if (this.items.length == 0 && this.options.emptyEl) {\n      this.element.appendChild(this.options.emptyEl);\n    }\n  }\n\n  removeAllItems() {\n    if (this.items.length == 0) return;\n    let item = this.items[0];\n    while (item) {\n      this.removeItemAt(0);\n      item = this.items[0];\n    }\n  }\n\n  onItemClick(item: ToolbarMenuListItem, e: MouseEvent) {\n    const index = this.items.indexOf(item);\n    if (index == -1) return false;\n\n    const targetEl = e.target as any;\n\n    const textEl: HTMLDivElement = targetEl.closest('.text');\n    if (textEl) {\n      this.options.onTextClick?.(index);\n      return;\n    }\n\n    const buttonEl: HTMLDivElement = targetEl.closest(\n      '[data-menu-list-button-id]'\n    );\n    if (buttonEl) {\n      const buttonId = buttonEl.getAttribute('data-menu-list-button-id');\n      if (!buttonId) return;\n      this.options.onButtonClick(buttonId, index);\n    }\n  }\n}\n","export enum DataSourceType {\n  JAEGER = 'jaeger',\n  ZIPKIN = 'zipkin',\n}\n\nexport interface DataSource {\n  id: string;\n  type: DataSourceType | string;\n  name: string;\n  baseUrl: string;\n  username?: string;\n  password?: string;\n}\n","import isNumber from 'lodash/isNumber';\nimport isString from 'lodash/isString';\nimport isObject from 'lodash/isObject';\nimport isArray from 'lodash/isArray';\nimport { Span } from './interfaces';\nimport urlJoin from 'url-join';\nimport logfmt from 'logfmt';\n\nexport interface JaegerAPISearchQuery {\n  /**\n   * `service` is the only required parameter. If it's omitted, it gives the following error:\n   * {\"data\":null,\"total\":0,\"limit\":0,\"offset\":0,\"errors\":[{\"code\":400,\"msg\":\"Parameter 'service' is required\"}]}\n   */\n  service: string;\n\n  /**\n   * Operation is optional.\n   */\n  operation?: string;\n\n  /**\n   * Neither `start` and `end` is required, it expects microseconds.\n   * There is also `lookback` param valued `1h`, but I think it's unnecessarry.\n   * You can omit it.\n   */\n  start?: number;\n  end?: number;\n  // lookback: string;\n\n  /**\n   * It expects a human readable duration string like `100ms` or `1.2ss` or `10us`.\n   * `minDuration` works, but I guess `maxDuration` is not working. When I search for\n   * max `1s`, it returns traces longer than `1s`? (Update: when I search with some tags, it works)\n   */\n  minDuration?: string;\n  maxDuration?: string;\n\n  /**\n   * Tags should be in the logfmt format.\n   * - Use space for conjunctions\n   * - Values containing whitespace should be enclosed in quotes\n   *\n   * Notes to self:\n   * We need to convert this string to JSON-string before sending to API, like:\n   * `error` => {\"error\":\"true\"}\n   * `error test` => {\"error\":\"true\",\"test\":\"true\"}\n   * `error=false test` => {\"error\":\"false\",\"test\":\"true\"}\n   */\n  tags?: string;\n\n  /**\n   * Optional limit & offset.\n   * When limit is omitted, API returns max 100 traces. However when it's explicitly\n   * set to 0, I guess there is no limit, I've managed to get more than 1000 traces\n   * with jaegertracing/all-in-one@1.17\n   */\n  limit?: number;\n  offset?: number;\n}\n\nexport class JaegerAPI {\n  private baseUrl: string;\n  private headers: { [key: string]: string } = {};\n\n  constructor(options: {\n    baseUrl: string;\n    username?: string;\n    password?: string;\n  }) {\n    if (!isString(options.baseUrl)) {\n      throw new Error(`\"options.baseUrl\" must be a string`);\n    }\n\n    this.baseUrl = options.baseUrl.trim();\n\n    if (options.username || options.password) {\n      const encoded = Buffer.from(\n        `${options.username}:${options.password}`\n      ).toString('base64');\n      this.headers['Authorization'] = `Basic ${encoded}`;\n    }\n  }\n\n  async search(query: JaegerAPISearchQuery) {\n    // Parse logfmt string into object, and stringify it again.\n    if (isString(query.tags)) {\n      // Logfmt library parses `error` or `error=true` as `{\"error\": true}`\n      // However jaeger expects the values as string always. So, we need to convert them.\n      const tags: any = logfmt.parse(query.tags);\n      for (let tagKey in tags) {\n        tags[tagKey] = tags[tagKey].toString();\n      }\n\n      query.tags = JSON.stringify(tags);\n    }\n\n    const response = await this.get(`/traces`, query as any);\n    if (!isArray(response.data))\n      throw new Error(\n        `Expected jaeger response object must contain \"data\" array`\n      );\n    return response.data.map(convertFromJaegerTrace);\n  }\n\n  async test() {\n    await this.getServices();\n  }\n\n  async getServices() {\n    return this.get('/services');\n  }\n\n  async getOperations(serviceName: string) {\n    return this.get(`/services/${serviceName}/operations`);\n  }\n\n  async getTrace(traceId: string) {\n    // or `/traces/${traceId}`\n    const response = await this.get(`/traces`, { traceID: traceId });\n    return response.data.map(convertFromJaegerTrace);\n  }\n\n  private async get(path: string, queryParams: { [key: string]: string } = {}) {\n    const res = await this.request({ method: 'get', path, queryParams });\n    if (!res.ok) throw new Error(`${res.status} ${res.statusText}`);\n    return res.json();\n  }\n\n  // `path` must be start with `/` like `/services`\n  private async request(options: {\n    method: string;\n    path: string;\n    headers?: { [key: string]: string };\n    queryParams?: { [key: string]: string };\n  }) {\n    let url = urlJoin(this.baseUrl, options.path);\n    if (\n      isObject(options.queryParams) &&\n      Object.keys(options.queryParams).length > 0\n    ) {\n      (url as any) = new URL(url);\n      (url as any).search = new URLSearchParams(options.queryParams);\n    }\n\n    return fetch(url, {\n      method: options.method,\n      headers: {\n        ...this.headers,\n        ...(options.headers || {}),\n      },\n    });\n  }\n}\n\nexport function isJaegerJSON(json: any) {\n  if (!isObject(json)) return false;\n  if (!isArray((json as any).data)) return false;\n  if ((json as any).data.length === 0) return true;\n  const firstTrace = (json as any).data[0];\n  if (!isObject(firstTrace)) return false;\n  return (\n    isString((firstTrace as any)['traceID']) &&\n    isArray((firstTrace as any)['spans'])\n  );\n}\n\nexport function convertFromJaegerTrace(rawTrace: any) {\n  if (!isObject(rawTrace)) throw new Error(`Trace must be object`);\n  const rawTrace_ = rawTrace as any;\n  if (!isArray(rawTrace_.spans)) throw new Error(`\"trace.spans\" must be array`);\n  if (!isObject(rawTrace_.processes))\n    throw new Error(`\"trace.processes\" must be object`);\n\n  const spans: Span[] = rawTrace_.spans.map((rawSpan: any) => {\n    if (!isString(rawSpan.spanID) && rawSpan.spanID.length > 0)\n      throw new Error(`\"rawSpan.spanID\" must be string`);\n    if (!isString(rawSpan.traceID) && rawSpan.traceID.length > 0)\n      throw new Error(`\"rawSpan.traceID\" must be string`);\n    if (!isNumber(rawSpan.startTime))\n      throw new Error(`\"rawSpan.startTime\" must be number`);\n    if (!isNumber(rawSpan.duration))\n      throw new Error(`\"rawSpan.duration\" must be number`);\n\n    const span: Span = {\n      id: rawSpan.spanID,\n      traceId: rawSpan.traceID,\n      operationName: rawSpan.operationName,\n      startTime: rawSpan.startTime,\n      finishTime: rawSpan.startTime + rawSpan.duration,\n      references: [],\n      tags: {},\n      logs: [],\n    };\n\n    if (isArray(rawSpan.references)) {\n      const refTypeMapping: any = {\n        CHILD_OF: 'childOf',\n        FOLLOWS_FROM: 'followsFrom',\n      };\n      span.references = rawSpan.references.map((ref: any) => ({\n        type: refTypeMapping[ref.refType],\n        traceId: ref.traceID,\n        spanId: ref.spanID,\n      }));\n    }\n\n    if (isArray(rawSpan.tags)) {\n      rawSpan.tags.forEach((tag: any) => {\n        span.tags[tag.key] = tag.value;\n      });\n    }\n\n    if (isArray(rawSpan.logs)) {\n      span.logs = rawSpan.logs.map((rawLog: any) => {\n        const log = {\n          timestamp: rawLog.timestamp,\n          fields: {} as { [key: string]: string },\n        };\n        rawLog.fields.forEach(\n          (field: any) => (log.fields[field.key] = field.value)\n        );\n        return log;\n      });\n    }\n\n    if (rawSpan.processID && rawTrace_.processes[rawSpan.processID]) {\n      const process = rawTrace_.processes[rawSpan.processID];\n      span.process = {\n        serviceName: process.serviceName,\n        id: rawSpan.processID,\n        tags: {},\n      };\n      process.tags.forEach(\n        (tag: any) => (span.process!.tags[tag.key] = tag.value)\n      );\n    }\n\n    return span;\n  });\n\n  return spans;\n}\n\nexport function convertFromJaegerBatchThrift(batch: any) {\n  if (!isObject(batch)) throw new Error(`Batch must be an object`);\n  const batchAny = batch as any;\n  if (!isObject(batchAny.process))\n    throw new Error(`\"process\" must be an object`);\n  if (!isString(batchAny.process.serviceName))\n    throw new Error(`\"process.serviceName\" must be a string`);\n  const process = {\n    serviceName: batchAny.process.serviceName,\n    id: '',\n    tags: {} as { [key: string]: any },\n  };\n\n  if (isArray(batchAny.process.tags)) {\n    process.tags = parseJaegerThriftTags(batchAny.process.tags);\n  }\n\n  const spans: Span[] = [];\n\n  if (isArray(batchAny.spans)) {\n    batchAny.spans.forEach((rawSpan: any) => {\n      // Trace ID => Parse `traceIdLow` field.\n      // Ignoring `traceIdHigh` field, its currently all zeros\n      if (\n        !isObject(rawSpan.traceIdLow) ||\n        !isObject(rawSpan.traceIdLow.buffer)\n      ) {\n        console.log(rawSpan);\n        throw new Error(`Unexpected \"span.traceIdLow\" field`);\n      }\n      const traceId = byteArray2number(rawSpan.traceIdLow.buffer).toString(16);\n\n      // Span id\n      if (!isObject(rawSpan.spanId) || !isObject(rawSpan.spanId.buffer)) {\n        console.log(rawSpan);\n        throw new Error(`Unexpected \"span.spanId\" field`);\n      }\n      const id = byteArray2number(rawSpan.spanId.buffer).toString(16);\n\n      // Ignoring `parentSpanId` field, it is redundant.\n\n      // Operation name\n      const operationName = rawSpan.operationName;\n\n      // References\n      if (!isArray(rawSpan.references)) {\n        console.log(rawSpan);\n        throw new Error(\n          `Unexpected \"span.references\" field, it must be an array`\n        );\n      }\n      const references: any[] = [];\n      rawSpan.references.map((rawRef: any) => {\n        // Reference type\n        if (rawRef.refType != 0 && rawRef.refType != 1) {\n          console.log(rawSpan);\n          throw new Error(\n            `Unexpected \"span.references.refType\", it must be 0 or 1`\n          );\n        }\n\n        // Parse `traceIdLow`\n        // Ignoring `traceIdHigh` field, its currently all zeros\n        if (\n          !isObject(rawRef.traceIdLow) ||\n          !isObject(rawRef.traceIdLow.buffer)\n        ) {\n          console.log(rawSpan);\n          throw new Error(`Unexpected \"span.references.traceIdLow\" field`);\n        }\n        const traceId = byteArray2number(rawRef.traceIdLow.buffer).toString(16);\n\n        // Parse span id\n        if (!isObject(rawRef.spanId) || !isObject(rawRef.spanId.buffer)) {\n          console.log(rawSpan);\n          throw new Error(`Unexpected \"span.references.spanId\" field`);\n        }\n        const spanId = byteArray2number(rawRef.spanId.buffer).toString(16);\n\n        // When recieving over our custom jaeger-collector-like http server\n        // from jaegertracing/example-hotrod:1.17.1 app, sometimes root span has\n        // a `childOf` reference, which `spanId` and `traceId` is zero. Filter those.\n        if (traceId == '0' && spanId == '0') {\n          return;\n        }\n\n        references.push({\n          type: rawRef.refType == 0 ? 'childOf' : 'followsFrom',\n          spanId,\n          traceId,\n        });\n      });\n\n      // Start Time\n      if (!isObject(rawSpan.startTime) || !isObject(rawSpan.startTime.buffer)) {\n        console.log(rawSpan);\n        throw new Error(`Unexpected \"span.startTime\" field`);\n      }\n      const startTime = byteArray2number(rawSpan.startTime.buffer);\n\n      // Finish Time\n      if (!isObject(rawSpan.duration) || !isObject(rawSpan.duration.buffer)) {\n        console.log(rawSpan);\n        throw new Error(`Unexpected \"span.duration\" field`);\n      }\n      const duration = byteArray2number(rawSpan.duration.buffer);\n      const finishTime = startTime + duration;\n\n      // Tags\n      const tags = isArray(rawSpan.tags)\n        ? parseJaegerThriftTags(rawSpan.tags)\n        : {};\n\n      // Logs\n      const logs = !isArray(rawSpan.logs)\n        ? []\n        : rawSpan.logs.map((rawLog: any) => {\n            if (\n              !isObject(rawLog.timestamp) ||\n              !isObject(rawLog.timestamp.buffer)\n            ) {\n              console.log(rawSpan);\n              throw new Error(`Unexpected \"span.logs.timestamp\" field`);\n            }\n\n            return {\n              timestamp: byteArray2number(rawLog.timestamp.buffer),\n              fields: parseJaegerThriftTags(rawLog.fields),\n            };\n          });\n\n      const span: Span = {\n        id,\n        traceId,\n        operationName,\n        startTime,\n        finishTime,\n        references,\n        tags,\n        logs,\n        process,\n      };\n\n      spans.push(span);\n    });\n  }\n\n  return spans;\n}\n\nfunction parseJaegerThriftTags(\n  rawTags: {\n    key: string;\n    vType: number; // enum TagType { STRING, DOUBLE, BOOL, LONG, BINARY }\n    vStr?: string;\n    vDouble?: number;\n    vBool?: boolean;\n    vLong?: number;\n    vBinary?: any;\n  }[]\n) {\n  const acc: { [key: string]: any } = {};\n\n  rawTags.forEach((tagObject: any) => {\n    switch (tagObject.vType) {\n      case 0: // string\n        acc[tagObject.key] = tagObject.vStr;\n        break;\n      case 1: // double\n        acc[tagObject.key] = tagObject.vDouble;\n        break;\n      case 2: // boolean\n        acc[tagObject.key] = tagObject.vBool;\n        break;\n      case 3: // long\n        acc[tagObject.key] = byteArray2number(tagObject.vLong.buffer);\n        break;\n      case 4: // binary\n        acc[tagObject.key] = tagObject.vBinary;\n        break;\n      default: {\n        console.log(rawTags);\n        throw new Error(\n          `Unexpected jaeger thrift tag type: \"${tagObject.vType}\"`\n        );\n      }\n    }\n  });\n\n  return acc;\n}\n\nexport function byteArray2number(arr: number[]) {\n  let num = 0;\n  arr.forEach((byteNum, i) => {\n    num += byteNum * Math.pow(256, arr.length - i - 1);\n  });\n  return num;\n}\n","import isNumber from 'lodash/isNumber';\nimport isString from 'lodash/isString';\nimport isObject from 'lodash/isObject';\nimport isArray from 'lodash/isArray';\nimport { Span } from './interfaces';\nimport urlJoin from 'url-join';\n\n/**\n * Main documentation: https://zipkin.io/zipkin-api/#/default/get_traces\n */\nexport interface ZipkinAPISearchQuery {\n  /**\n   * According to documentation, the only required field is `serviceName`.\n   * However, it can work without it. It returns all the services.\n   */\n  serviceName?: string;\n\n  /**\n   * Span name, or operation name.\n   */\n  spanName?: string;\n\n  /**\n   * Ex. `http.uri=/foo and retried` - If key/value (has an =),\n   * constrains against Span.tags entres. If just a word, constrains\n   * against Span.annotations[].value or Span.tags[].key. Any values are\n   * AND against each other. This means a span in the trace must match\n   * all of these.\n   *\n   * These whole string must be encoded with `encodeURIComponent()`.\n   * So `http.uri=/foo and retried` should be sent as `http.uri%3D%2Ffoo%20and%20retried`.\n   * However, `this.request()` handles this.\n   *\n   * Multiple queries should be combined with `and` keyword. If not, zipkin returns\n   * no results.\n   *\n   * In Zipkin UI, these field displayed as `tags`.\n   */\n  annotationQuery?: string;\n\n  /**\n   * This field must be in ****milliseconds****. Defaults to current time.\n   */\n  endTs?: number;\n\n  /**\n   * This field must be in ****milliseconds****. Defaults to `endTs`.\n   */\n  lookback?: number;\n\n  /**\n   * These fields must be in ****microseconds****.\n   */\n  minDuration?: number;\n  maxDuration?: number;\n\n  /**\n   * Defaults to 10. When you passed `0` or any negative number.\n   * It returns an error.\n   *\n   * However it seems there is no upper limit. When I pass even 100000,\n   * there was no error. There were 1146 traces in zipkin, I was able\n   * to get it all.\n   */\n  limit?: number;\n}\n\n// https://zipkin.io/zipkin-api/\nexport class ZipkinAPI {\n  private baseUrl: string;\n  private headers: { [key: string]: string } = {};\n\n  constructor(options: {\n    baseUrl: string;\n    username?: string;\n    password?: string;\n  }) {\n    if (!isString(options.baseUrl)) {\n      throw new Error(`\"options.baseUrl\" must be a string`);\n    }\n\n    this.baseUrl = options.baseUrl.trim();\n\n    if (options.username || options.password) {\n      const encoded = Buffer.from(\n        `${options.username}:${options.password}`\n      ).toString('base64');\n      this.headers['Authorization'] = `Basic ${encoded}`;\n    }\n  }\n\n  async search(query: ZipkinAPISearchQuery) {\n    const response = await this.get('/traces', query as any);\n    if (!isArray(response)) {\n      throw new Error('Expected zipkin response must be array');\n    }\n    return response.map((rawTrace) => convertFromZipkinTrace(rawTrace));\n  }\n\n  async test() {\n    await this.getServices();\n  }\n\n  async getServices() {\n    return this.get('/services');\n  }\n\n  async getSpans(serviceName: string) {\n    return this.get('/spans', { serviceName });\n  }\n\n  async getRemoteServices(serviceName: string) {\n    return this.get('/remoteServices', { serviceName });\n  }\n\n  async getTrace(traceId: string) {\n    const rawSpans = await this.get(`/trace/${traceId}`);\n    if (!isArray(rawSpans)) {\n      console.error(rawSpans);\n      throw new Error(`Unexpected response from Zipkin, expected an array`);\n    }\n\n    return convertFromZipkinTrace(rawSpans);\n  }\n\n  private async get(path: string, queryParams: { [key: string]: string } = {}) {\n    const res = await this.request({ method: 'get', path, queryParams });\n    if (!res.ok) throw new Error(`${res.status} ${res.statusText}`);\n    return res.json();\n  }\n\n  // `path` must be start with `/` like `/services`\n  private async request(options: {\n    method: string;\n    path: string;\n    headers?: { [key: string]: string };\n    queryParams?: { [key: string]: string };\n  }) {\n    let url = urlJoin(this.baseUrl, options.path);\n    if (\n      isObject(options.queryParams) &&\n      Object.keys(options.queryParams).length > 0\n    ) {\n      (url as any) = new URL(url);\n      (url as any).search = new URLSearchParams(options.queryParams);\n    }\n\n    return fetch(url, {\n      method: options.method,\n      headers: {\n        ...this.headers,\n        ...(options.headers || {}),\n      },\n    });\n  }\n}\n\nexport function isZipkinJSON(json: any) {\n  if (!isArray(json)) return false;\n  const firstTraceSpans = json[0] as any[];\n\n  if (isArray(firstTraceSpans)) {\n    const firstSpan = firstTraceSpans[0] as any;\n    if (!isObject(firstSpan)) return false;\n    return (\n      isString((firstSpan as any)['traceId']) &&\n      isString((firstSpan as any)['id'])\n    );\n  } else if (isObject(firstTraceSpans)) {\n    const firstSpan = firstTraceSpans;\n    return (\n      isString((firstSpan as any)['traceId']) &&\n      isString((firstSpan as any)['id'])\n    );\n  }\n\n  return false;\n}\n\nexport function convertFromZipkinTrace(rawTrace: any) {\n  if (!isArray(rawTrace)) throw new Error(`Trace must be array`);\n\n  const spans: Span[] = rawTrace.map((rawSpan: any) => {\n    if (!isString(rawSpan.id) && rawSpan.id.length > 0)\n      throw new Error(`\"rawSpan.id\" must be string`);\n    if (!isString(rawSpan.traceId) && rawSpan.traceId.length > 0)\n      throw new Error(`\"rawSpan.traceId\" must be string`);\n    if (!isNumber(rawSpan.timestamp))\n      throw new Error(`\"rawSpan.timestamp\" must be number`);\n    if (!isNumber(rawSpan.duration)) rawSpan.duration = 0;\n\n    const span: Span = {\n      id: rawSpan.id,\n      traceId: rawSpan.traceId,\n      operationName: rawSpan.name,\n      startTime: rawSpan.timestamp,\n      finishTime: rawSpan.timestamp + rawSpan.duration,\n      references: [],\n      tags: isObject(rawSpan.tags) ? rawSpan.tags : {},\n      logs: [],\n      localEndpoint: isObject(rawSpan.localEndpoint)\n        ? rawSpan.localEndpoint\n        : { serviceName: 'unknown' },\n    };\n\n    if (isString(rawSpan.parentId) && rawSpan.parentId.length > 0) {\n      span.references.push({\n        type: 'childOf',\n        traceId: rawSpan.traceId,\n        spanId: rawSpan.parentId,\n      });\n    }\n\n    if (isArray(rawSpan.annotations)) {\n      span.logs = rawSpan.annotations.map((anno: any) => ({\n        timestamp: anno.timestamp,\n        fields: {\n          annotation: anno.value,\n        },\n      }));\n    }\n\n    return span;\n  });\n\n  return spans;\n}\n","import Dexie from 'dexie';\nimport { DataSource } from './datasource/interfaces';\nimport { SpanGroupingRawOptions } from '../model/span-grouping/span-grouping';\nimport { SpanLabellingRawOptions } from '../model/span-labelling-manager';\nimport { SpanColoringRawOptions } from '../model/span-coloring-manager';\nimport { SettingsRecord } from './settings-manager';\n\nexport class AppDatabase extends Dexie {\n  dataSources: Dexie.Table<DataSource, string>;\n  spanGroupings: Dexie.Table<SpanGroupingRawOptions, string>;\n  spanLabellings: Dexie.Table<SpanLabellingRawOptions, string>;\n  spanColorings: Dexie.Table<SpanColoringRawOptions, string>;\n  settings: Dexie.Table<SettingsRecord, string>;\n\n  constructor() {\n    super('AppDatabase');\n    this.version(1).stores({\n      dataSources: 'id',\n    });\n    this.version(2).stores({\n      spanGroupings: 'key',\n      spanLabellings: 'key',\n      spanColorings: 'key',\n    });\n    this.version(3).stores({\n      settings: 'key',\n    });\n\n    this.dataSources = this.table('dataSources');\n    this.spanGroupings = this.table('spanGroupings');\n    this.spanLabellings = this.table('spanLabellings');\n    this.spanColorings = this.table('spanColorings');\n    this.settings = this.table('settings');\n  }\n}\n\nconst singleton = new AppDatabase();\nexport default singleton;\n","import find from 'lodash/find';\nimport findIndex from 'lodash/findIndex';\nimport { DataSourceType, DataSource } from './interfaces';\nimport { JaegerAPI } from '../jaeger';\nimport { ZipkinAPI } from '../zipkin';\nimport db from '../db';\nimport EventEmitter from 'events';\n\nexport enum DataSourceManagerEvent {\n  ADDED = 'dsm_added',\n  UPDATED = 'dsm_updated',\n  REMOVED = 'dsm_removed',\n}\n\nlet singletonIns: DataSourceManager;\n\nexport class DataSourceManager extends EventEmitter {\n  private datasources: DataSource[] = [];\n  private apis: {\n    [key: string]: JaegerAPI | ZipkinAPI;\n  } = {};\n\n  static getSingleton(): DataSourceManager {\n    if (!singletonIns) singletonIns = new DataSourceManager();\n    return singletonIns;\n  }\n\n  async init() {\n    await db.open();\n    const dataSources = await db.dataSources.toArray();\n    await Promise.all(dataSources.map((ds) => this.add(ds, true)));\n  }\n\n  async add(ds: DataSource, doNotPersistToDatabase = false) {\n    const { id, type } = ds;\n    let api: JaegerAPI | ZipkinAPI;\n\n    if (find(this.datasources, (ds) => ds.id == id)) {\n      return false;\n    }\n\n    api = createAPI(ds);\n\n    if (!doNotPersistToDatabase) await db.dataSources.put(ds);\n    this.datasources.push(ds);\n    this.datasources.sort((a, b) =>\n      a.name.toLowerCase().localeCompare(b.name.toLowerCase())\n    );\n    this.apis[id] = api;\n    this.emit(DataSourceManagerEvent.ADDED, ds);\n    return ds;\n  }\n\n  async update(ds: DataSource) {\n    const index = findIndex(this.datasources, (x) => x.id === ds.id);\n    if (index === -1) return false;\n    await db.dataSources.update(this.datasources[index].id, ds);\n    this.datasources[index] = ds;\n    this.datasources.sort((a, b) =>\n      a.name.toLowerCase().localeCompare(b.name.toLowerCase())\n    );\n    this.apis[ds.id] = createAPI(ds);\n    this.emit(DataSourceManagerEvent.UPDATED, ds);\n  }\n\n  async remove(dsOrId: DataSource | string) {\n    const index = this.getIndex(dsOrId);\n    if (index === -1) return false;\n    await db.dataSources.delete(this.datasources[index].id);\n    const [ds] = this.datasources.splice(index, 1);\n    delete this.apis[ds.id];\n    this.emit(DataSourceManagerEvent.REMOVED, ds);\n    return ds;\n  }\n\n  apiFor(ds: DataSource) {\n    return this.apis[ds.id];\n  }\n\n  getAll() {\n    return [...this.datasources];\n  }\n\n  get(dsOrId: DataSource | string) {\n    const id = typeof dsOrId == 'object' && dsOrId.id ? dsOrId.id : dsOrId;\n    return find(this.datasources, (x) => x.id === id);\n  }\n\n  getIndex(dsOrId: DataSource | string) {\n    const id = typeof dsOrId == 'object' && dsOrId.id ? dsOrId.id : dsOrId;\n    return findIndex(this.datasources, (x) => x.id === id);\n  }\n}\n\nexport function createAPI(ds: DataSource) {\n  switch (ds.type) {\n    case DataSourceType.JAEGER: {\n      return new JaegerAPI({\n        baseUrl: ds.baseUrl!,\n        username: ds.username,\n        password: ds.password,\n      });\n    }\n    case DataSourceType.ZIPKIN: {\n      return new ZipkinAPI({\n        baseUrl: ds.baseUrl!,\n        username: ds.username,\n        password: ds.password,\n      });\n    }\n    default: {\n      throw new Error(`Unsupported data source type \"${ds.type}\"`);\n    }\n  }\n}\n","// Graph-like data structure for fast traversal\nexport class SpanGroupNode {\n  spanId: string;\n  parent?: SpanGroupNode;\n  follows?: SpanGroupNode;\n  children: SpanGroupNode[] = [];\n\n  constructor(spanId: string) {\n    this.spanId = spanId;\n  }\n\n  get parentOrFollows() {\n    return this.parent || this.follows;\n  }\n}\n\nexport default SpanGroupNode;\n","import values from 'lodash/values';\nimport flatten from 'lodash/flatten';\nimport forEach from 'lodash/forEach';\nimport findIndex from 'lodash/findIndex';\nimport { Span } from '../interfaces';\nimport { SpanGroupNode } from './span-group-node';\n\nexport class SpanGroup {\n  readonly id: string;\n  readonly name: string;\n  private spans: Span[] = [];\n  private spansById: { [key: string]: Span } = {};\n  private _startTimestamp = Infinity;\n  private _finishTimestamp = -Infinity;\n\n  private missingNodeDependents: { [key: string]: Set<string> } = {};\n  private nodes: { [key: string]: SpanGroupNode } = {};\n  rootNodes: SpanGroupNode[] = [];\n  get orphanNodes() {\n    const sets = values(this.missingNodeDependents);\n    return flatten(sets.map((set) => Array.from(set))).map(\n      (spanId) => this.nodes[spanId]\n    );\n  }\n\n  constructor(id: string, name: string) {\n    this.id = id;\n    this.name = name;\n  }\n\n  add(span: Span) {\n    if (this.spansById[span.id]) return;\n\n    this.spans.push(span);\n    this.spansById[span.id] = span;\n    this._startTimestamp = Math.min(this._startTimestamp, span.startTime);\n    this._finishTimestamp = Math.max(this._finishTimestamp, span.finishTime);\n\n    this.setupNode(span);\n  }\n\n  remove(spanOrId: Span | string) {\n    const index = this.indexOf(spanOrId);\n    if (index === -1) return;\n    const span = this.spans[index];\n    this.spans.splice(index, 1);\n    delete this.spansById[span.id];\n\n    /**\n     * Start of finish time may be changed\n     */\n    let isStartTimeInvalid = this._startTimestamp === span.startTime;\n    let isFinishTimeInvalid = this._finishTimestamp === span.finishTime;\n    if (isStartTimeInvalid || isFinishTimeInvalid) {\n      if (isStartTimeInvalid) this._startTimestamp = Infinity;\n      if (isFinishTimeInvalid) this._finishTimestamp = -Infinity;\n\n      this.spans.forEach(({ startTime, finishTime }) => {\n        if (isStartTimeInvalid)\n          this._startTimestamp = Math.min(this._startTimestamp, startTime);\n        if (isFinishTimeInvalid)\n          this._finishTimestamp = Math.max(this._finishTimestamp, finishTime);\n      });\n    }\n\n    /**\n     * Adjust node stuff\n     */\n    const node = this.nodeOf(span.id)!;\n    delete this.nodes[span.id];\n\n    // Remove from parent/follows node\n    const parentNode = node.parent || node.follows;\n    if (parentNode) {\n      const nodeIndex = parentNode.children.indexOf(node);\n      if (nodeIndex > -1) parentNode.children.splice(nodeIndex, 1);\n    }\n\n    // Remove from rootNodes\n    const rootNodeIndex = this.rootNodes.indexOf(node);\n    if (rootNodeIndex > -1) {\n      this.rootNodes.splice(rootNodeIndex, 1);\n    }\n\n    // Remove from children node\n    node.children.forEach((childNode) => {\n      childNode.parent = undefined;\n      childNode.follows = undefined;\n    });\n    // If children exist, they're orphan now\n    if (node.children.length > 0) {\n      this.missingNodeDependents[span.id] = new Set(\n        node.children.map((child) => child.spanId)\n      );\n    }\n\n    // Remove from dependency map\n    // If parentNode exists, it means that span has no missing dependency\n    if (!parentNode) {\n      forEach(this.missingNodeDependents, (dependencies, parentId) => {\n        if (!dependencies.has(span.id)) return;\n        dependencies.delete(span.id);\n        if (dependencies.size === 0)\n          delete this.missingNodeDependents[parentId];\n      });\n    }\n\n    return span;\n  }\n\n  private setupNode(spanOrId: Span | string) {\n    const span = this.get(spanOrId);\n    const node = this.nodeOf(span.id, true)!;\n\n    if (span.references.length === 0) {\n      this.rootNodes.push(node);\n    } else {\n      // ASSUMING IT HAS JUST ONE REFERENCE\n      const refType = span.references[0].type;\n      const refSpanId = span.references[0].spanId;\n      const refNode = this.nodeOf(refSpanId);\n\n      if (refNode) {\n        // Referenced node exists, bind it\n        refNode.children.push(node);\n        if (refType === 'childOf') node.parent = refNode;\n        else if (refType === 'followsFrom') node.follows = refNode;\n      } else {\n        // Referenced node does not exists, add dependency\n        if (!this.missingNodeDependents[refSpanId]) {\n          this.missingNodeDependents[refSpanId] = new Set<string>();\n        }\n        this.missingNodeDependents[refSpanId].add(span.id);\n      }\n    }\n\n    // Consume dependencies if exist\n    const dependencies = this.missingNodeDependents[span.id];\n    delete this.missingNodeDependents[span.id];\n    if (dependencies) dependencies.forEach((spanId) => this.setupNode(spanId));\n  }\n\n  nodeOf(spanOrId: Span | string, createNew = false) {\n    const id = typeof spanOrId === 'object' ? spanOrId.id : spanOrId;\n    const node = this.nodes[id];\n    if (node) return node;\n    if (!createNew) return;\n    this.nodes[id] = new SpanGroupNode(id);\n    return this.nodes[id];\n  }\n\n  get(spanOrId: Span | string) {\n    const id = typeof spanOrId === 'object' ? spanOrId.id : spanOrId;\n    return this.spansById[id];\n  }\n\n  getAll() {\n    return this.spans.slice();\n  }\n\n  private indexOf(spanOrId: Span | string) {\n    const id = typeof spanOrId === 'object' ? spanOrId.id : spanOrId;\n    return findIndex(this.spans, (span) => span.id === id);\n  }\n\n  get length() {\n    return this.spans.length;\n  }\n  get startTimestamp() {\n    return this._startTimestamp;\n  }\n  get finishTimestamp() {\n    return this._finishTimestamp;\n  }\n}\n","import { Trace } from './trace';\nimport { Span, SpanLog } from './interfaces';\nimport EventEmitter from 'events';\nimport { SpanGroup } from './span-group/span-group';\nimport flatMap from 'lodash/flatMap';\nimport { union } from '../utils/interval-helper';\n\nexport enum StageEvent {\n  TRACE_ADDED = 'trace_added',\n  TRACE_REMOVED = 'trace_removed',\n}\n\nlet _singletonIns: Stage;\n\nexport class Stage extends EventEmitter {\n  private traces: { [key: string]: Trace } = {};\n  private mainSpanGroup = new SpanGroup('main', '');\n  private spanTags: { [key: string]: number } = {};\n  private logFields: { [key: string]: number } = {};\n  private processTags: { [key: string]: number } = {};\n  private spanSelfTimes: { [key: string]: number } = {};\n  private spanSelfTimeStats: {\n    min?: number;\n    max?: number;\n  };\n\n  static getSingleton() {\n    if (!_singletonIns) _singletonIns = new Stage();\n    (window as any).stage = _singletonIns;\n    return _singletonIns;\n  }\n\n  getTrace(traceId: string) {\n    return this.traces[traceId];\n  }\n\n  getAllTraces() {\n    return Object.values(this.traces);\n  }\n\n  addTrace(trace: Trace) {\n    if (this.traces[trace.id]) {\n      const currentTrace = this.traces[trace.id];\n      const newTrace = trace;\n\n      if (newTrace.spanCount == currentTrace.spanCount) {\n        return false;\n      } else {\n        this.removeTrace(currentTrace.id);\n      }\n    }\n    this.traces[trace.id] = trace;\n\n    trace.spans.forEach((span) => {\n      // Add to main span group\n      this.mainSpanGroup.add(span);\n\n      // Span tags\n      for (let tag in span.tags) {\n        if (!this.spanTags[tag]) this.spanTags[tag] = 0;\n        this.spanTags[tag]++;\n      }\n\n      // Span log fields\n      span.logs.forEach((log) => {\n        for (let field in log.fields) {\n          if (!this.logFields[field]) this.logFields[field] = 0;\n          this.logFields[field]++;\n        }\n      });\n\n      // Process tags\n      if (span.process) {\n        for (let tag in span.process.tags) {\n          if (!this.processTags[tag]) this.processTags[tag] = 0;\n          this.processTags[tag]++;\n        }\n      }\n    });\n\n    // Span self time\n    // We cant do this within previous loop, we need to wait until\n    // all the spans are added to group, so tree relations are complete\n    trace.spans.forEach((span) => {\n      const node = this.mainSpanGroup.nodeOf(span);\n      const childrenSpans = node.children\n        .filter((node) => !!node.parent)\n        .map((n) => this.mainSpanGroup.get(n.spanId));\n      const childrenTime = union(childrenSpans).reduce((acc, interval) => {\n        return acc + (interval.finishTime - interval.startTime);\n      }, 0);\n      const selfTime = span.finishTime - span.startTime - childrenTime;\n      this.spanSelfTimes[span.id] = selfTime;\n    });\n\n    this.updateSpanSelfTimeStats();\n\n    this.emit(StageEvent.TRACE_ADDED, trace);\n\n    window.Countly &&\n      window.Countly.add_event({\n        key: 'trace_added',\n        count: 1,\n        segmentation: {\n          spanCount: trace.spanCount,\n        },\n      });\n  }\n\n  removeTrace(traceId: string) {\n    if (!this.traces[traceId]) {\n      return false;\n    }\n    const trace = this.traces[traceId];\n\n    trace.spans.forEach((span) => {\n      this.mainSpanGroup.remove(span);\n\n      // Span tags\n      for (let tag in span.tags) {\n        if (!this.spanTags[tag]) continue;\n        this.spanTags[tag]--;\n        if (this.spanTags[tag] <= 0) delete this.spanTags[tag];\n      }\n\n      // Span log fields\n      span.logs.forEach((log) => {\n        for (let field in log.fields) {\n          if (!this.logFields[field]) continue;\n          this.logFields[field]--;\n          if (this.logFields[field] <= 0) delete this.logFields[field];\n        }\n      });\n\n      // Process tags\n      if (span.process) {\n        for (let tag in span.process.tags) {\n          if (!this.processTags[tag]) continue;\n          this.processTags[tag]--;\n          if (this.processTags[tag] <= 0) delete this.processTags[tag];\n        }\n      }\n\n      // Span self time\n      delete this.spanSelfTimes[span.id];\n    });\n\n    this.updateSpanSelfTimeStats();\n\n    delete this.traces[traceId];\n    this.emit(StageEvent.TRACE_REMOVED, trace);\n  }\n\n  private updateSpanSelfTimeStats() {\n    const selfTimesArr = Object.values(this.spanSelfTimes);\n    if (selfTimesArr.length > 0) {\n      this.spanSelfTimeStats = {\n        min: Math.min(...selfTimesArr),\n        max: Math.max(...selfTimesArr),\n      };\n    } else {\n      this.spanSelfTimeStats = null;\n    }\n  }\n\n  isTraceAdded(traceId: string) {\n    return !!this.traces[traceId];\n  }\n\n  getMainSpanGroup() {\n    return this.mainSpanGroup;\n  }\n\n  getAllSpans() {\n    return this.mainSpanGroup.getAll();\n  }\n\n  getAllLogs() {\n    return flatMap(this.mainSpanGroup.getAll(), (span) => {\n      return span.logs.map((log) => [log, span] as [SpanLog, Span]);\n    });\n  }\n\n  getAllLogFieldKeys() {\n    return this.logFields;\n  }\n\n  getAllSpanTags() {\n    return this.spanTags;\n  }\n\n  getAllProcessTags() {\n    return this.processTags;\n  }\n\n  get startTimestamp() {\n    return this.mainSpanGroup.startTimestamp;\n  }\n\n  get finishTimestamp() {\n    return this.mainSpanGroup.finishTimestamp;\n  }\n\n  getSpanSelfTime(spanId: string) {\n    return this.spanSelfTimes[spanId];\n  }\n\n  getSpanSelfTimeStats() {\n    return this.spanSelfTimeStats;\n  }\n}\n\nexport default Stage;\n","// Intentionally complies with `Span` interface\n// finishTime >= startTime\nexport interface Interval {\n  startTime: number;\n  finishTime: number;\n}\n\nexport function isOverlapped(a: Interval, b: Interval) {\n  return !(b.startTime > a.finishTime || a.startTime > b.finishTime);\n}\n\nexport function union(intervals: Interval[]) {\n  // Sort according to startTime and finishTime\n  const sorted = intervals.sort(\n    (a, b) => a.startTime - b.startTime || a.finishTime - b.finishTime\n  );\n  const acc: Interval[] = [];\n  sorted.forEach((interval) => {\n    const lastInterval = acc[acc.length - 1];\n    if (lastInterval && isOverlapped(lastInterval, interval)) {\n      lastInterval.finishTime = interval.finishTime;\n    } else {\n      acc.push({\n        startTime: interval.startTime,\n        finishTime: interval.finishTime,\n      });\n    }\n  });\n  return acc;\n}\n","import tippy, {\n  createSingleton,\n  Instance as TippyInstance,\n  Props as TippyProps,\n} from 'tippy.js';\nimport remove from 'lodash/remove';\nimport './tooltip.css';\n\nlet singletonIns: TooltipManager;\n\nexport class TooltipManager {\n  private tippyOptions: [HTMLElement, Partial<TippyProps>][] = [];\n  private tippyInstances: TippyInstance[] = [];\n  private singletonTippyInstance: TippyInstance;\n\n  static getSingleton() {\n    if (!singletonIns) singletonIns = new TooltipManager();\n    return singletonIns;\n  }\n\n  update() {\n    this.disposeAllTooltips();\n    this.tippyInstances = this.tippyOptions.map(([el, props]) =>\n      tippy(el, props)\n    );\n    this.singletonTippyInstance = createSingleton(this.tippyInstances, {\n      delay: 1000,\n      duration: 0,\n      updateDuration: 0,\n      theme: 'tooltip',\n      placement: 'top',\n    });\n  }\n\n  addToSingleton(options: [HTMLElement, Partial<TippyProps>][]) {\n    this.tippyOptions.push(...options);\n    this.update();\n  }\n\n  removeFromSingleton(elements: HTMLElement[]) {\n    remove(this.tippyOptions, ([el]) => elements.indexOf(el) > -1);\n    this.update();\n  }\n\n  disposeAllTooltips() {\n    this.tippyInstances.forEach((t) => t.destroy());\n    this.tippyInstances = [];\n\n    if (this.singletonTippyInstance) {\n      this.singletonTippyInstance.destroy();\n      this.singletonTippyInstance = null;\n    }\n  }\n}\n","import api from \"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../../node_modules/css-loader/dist/cjs.js!./tooltip.css\";\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","import * as shortid from 'shortid';\nimport EventEmitter from 'events';\nimport focusTrap, { FocusTrap } from 'focus-trap';\n\nexport interface ModalOptions {\n  content: HTMLElement;\n  shouldCloseOnOverlayClick?: boolean;\n  shouldCloseOnEscPress?: boolean;\n  contentContainerClassName?: string;\n  shouldAutoFocusFirstElement?: boolean;\n  onClose?: (triggerType: ModalCloseTriggerType, data: any) => void;\n}\n\nexport enum ModalCloseTriggerType {\n  ESC_KEY = 'esc-key',\n  OVERLAY_CLICK = 'overlay-click',\n  CLOSE_METHOD_CALL = 'close-method-call',\n}\n\nexport enum ModalEvent {\n  CLOSE = 'close',\n}\n\nexport class Modal extends EventEmitter {\n  readonly id = shortid.generate();\n  readonly container = document.createElement('div');\n  private overlayContainer = document.createElement('div');\n  private contentContainer = document.createElement('div');\n  private lastElementBlurTimeStamp = 0;\n  private focusTrap: FocusTrap;\n\n  private binded = {\n    onOverlayClick: this.onOverlayClick.bind(this),\n    onContentContainerKeyDown: this.onContentContainerKeyDown.bind(this),\n    onBlur: this.onBlur.bind(this),\n  };\n\n  constructor(readonly options: ModalOptions) {\n    super();\n\n    // Container\n    this.container.style.position = 'fixed';\n    this.container.style.top = '0';\n    this.container.style.left = '0';\n    this.container.style.right = '0';\n    this.container.style.bottom = '0';\n    this.container.style.background = 'rgba(0, 0, 0, 0.6)';\n    this.container.style.display = 'flex';\n    this.container.style.justifyContent = 'center';\n    this.container.style.alignItems = 'center';\n    this.container.setAttribute('data-modal-id', this.id);\n\n    this.overlayContainer.style.position = 'absolute';\n    this.overlayContainer.style.top = '0';\n    this.overlayContainer.style.left = '0';\n    this.overlayContainer.style.right = '0';\n    this.overlayContainer.style.bottom = '0';\n    this.container.appendChild(this.overlayContainer);\n\n    // Content container\n    this.contentContainer.style.background = '#fff';\n    this.contentContainer.style.borderRadius = '4px';\n    this.contentContainer.style.zIndex = '1';\n    if (options.contentContainerClassName) {\n      this.contentContainer.classList.add(options.contentContainerClassName);\n    }\n    this.contentContainer.appendChild(options.content);\n    this.container.appendChild(this.contentContainer);\n\n    // Bind click event if necessary\n    if (this.options.shouldCloseOnOverlayClick) {\n      this.overlayContainer.addEventListener(\n        'click',\n        this.binded.onOverlayClick,\n        false\n      );\n      this.contentContainer.addEventListener('blur', this.binded.onBlur, {\n        capture: true,\n      });\n    }\n\n    if (this.options.shouldCloseOnEscPress) {\n      this.contentContainer.addEventListener(\n        'keydown',\n        this.binded.onContentContainerKeyDown,\n        false\n      );\n    }\n  }\n\n  mount() {\n    document.body.appendChild(this.container);\n  }\n\n  unmount() {\n    document.body.removeChild(this.container);\n  }\n\n  handleEscKeyPress() {\n    if (!this.options.shouldCloseOnEscPress) return;\n    this.close({\n      triggerType: ModalCloseTriggerType.ESC_KEY,\n    });\n  }\n\n  setupFocusTrap() {\n    // FocusTrap needs to have at least one focusable element.\n    // If there is none, it will throw an error.\n    // https://github.com/davidtheclark/focus-trap/tree/2a03f59996f2d60c98d8e437ca817f71e4815ec9#your-trap-should-include-a-tabbable-element-or-a-focusable-container\n    try {\n      if (!this.options.shouldAutoFocusFirstElement) {\n        throw new Error(`Oops`);\n      }\n\n      this.focusTrap = focusTrap(this.options.content, {\n        escapeDeactivates: false,\n        allowOutsideClick: () => true,\n      });\n      this.focusTrap.activate();\n\n      // Trap successfull, so there must be some focusable elements,\n      // remove `tabindex` attr if it's previously set by this method again.\n      this.options.content.removeAttribute('tabindex');\n    } catch (err) {\n      this.options.content.setAttribute('tabindex', '-1');\n      this.focusTrap = focusTrap(this.options.content, {\n        escapeDeactivates: false,\n        allowOutsideClick: () => true,\n        initialFocus: this.options.content,\n      });\n      this.focusTrap.activate();\n    }\n  }\n\n  removeFocusTrap() {\n    this.focusTrap?.deactivate();\n    this.focusTrap = null;\n  }\n\n  private onContentContainerKeyDown(e: KeyboardEvent) {\n    // Handle just ESC\n    if (e.which != 27) return;\n\n    // If user is focused on input element, stop propagation\n    // so that modal manager would not catch for closeing predure\n    if (\n      e.target instanceof HTMLInputElement ||\n      e.target instanceof HTMLSelectElement ||\n      e.target instanceof HTMLButtonElement ||\n      e.target instanceof HTMLTextAreaElement\n    ) {\n      // This prevents modal-manager to catch\n      e.stopPropagation();\n\n      // Unfocus current item, so that user can pressed\n      // ESC again to close modal.\n      e.target.blur();\n\n      return;\n    }\n  }\n\n  private onOverlayClick(e: MouseEvent) {\n    if (!this.options.shouldCloseOnOverlayClick) return;\n\n    // When a user is focused on an element in the\n    // modal content like input or select, the overlay can\n    // be clicked for unfocusing purposes. We want to prevent\n    // that. According to my trials, a `click` event is\n    // dispatched ~100ms after `blur` event.\n    if (e.timeStamp - this.lastElementBlurTimeStamp < 200) {\n      return;\n    }\n\n    this.close({\n      triggerType: ModalCloseTriggerType.OVERLAY_CLICK,\n    });\n  }\n\n  private onBlur(e: FocusEvent) {\n    // Anything can be focused & blurred when has `tabIndex`\n    // attribute over zero. We want to prevent closing just for\n    // visually-indicated elements. Which are currently just\n    // os-default outlined form elements.\n    if (\n      e.target instanceof HTMLInputElement ||\n      e.target instanceof HTMLSelectElement ||\n      e.target instanceof HTMLButtonElement\n    ) {\n      this.lastElementBlurTimeStamp = e.timeStamp;\n    }\n  }\n\n  close(options?: { triggerType?: ModalCloseTriggerType; data?: any }) {\n    const { onClose } = this.options;\n    if (onClose) {\n      options = options || {};\n      onClose(\n        options.triggerType || ModalCloseTriggerType.CLOSE_METHOD_CALL,\n        options.data\n      );\n    }\n    this.emit(ModalEvent.CLOSE);\n  }\n\n  dispose() {\n    this.removeFocusTrap();\n    this.overlayContainer.removeEventListener(\n      'click',\n      this.binded.onOverlayClick,\n      false\n    );\n    this.contentContainer.removeEventListener('blur', this.binded.onBlur, {\n      capture: true,\n    });\n    this.contentContainer.removeEventListener(\n      'keydown',\n      this.binded.onContentContainerKeyDown,\n      false\n    );\n    this.removeAllListeners();\n  }\n}\n","import { Modal, ModalEvent } from './modal';\n\nlet _singletonIns: ModalManager;\n\nexport class ModalManager {\n  private modal: Modal;\n\n  private binded = {\n    onKeyDown: this.onKeyDown.bind(this),\n  };\n\n  static getSingleton() {\n    if (!_singletonIns) _singletonIns = new ModalManager();\n    return _singletonIns;\n  }\n\n  constructor() {\n    document.addEventListener('keydown', this.binded.onKeyDown, false);\n  }\n\n  dispose() {\n    document.removeEventListener('keydown', this.binded.onKeyDown, false);\n  }\n\n  private onKeyDown(e: KeyboardEvent) {\n    // Handle just ESC\n    if (e.which != 27) return;\n    if (!this.modal) return;\n    this.modal.handleEscKeyPress();\n  }\n\n  findModalFromElement(el: HTMLElement) {\n    const modalEl = el.closest('[data-modal-id]');\n    if (!modalEl) return;\n    const id = modalEl.getAttribute('data-modal-id');\n    if (!this.modal || this.modal.id != id) return;\n    return this.modal;\n  }\n\n  show(modal: Modal) {\n    if (this.modal) throw new Error(`Showing already a modal`);\n    this.modal = modal;\n    modal.on(ModalEvent.CLOSE, this.onModalClose.bind(this, modal));\n    modal.mount();\n    modal.setupFocusTrap();\n  }\n\n  private onModalClose(modal: Modal) {\n    modal.removeFocusTrap();\n    modal.unmount();\n    modal.dispose(); // this will take care of unbinding `CLOSE` event\n    this.modal = null;\n  }\n}\n","import api from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../node_modules/css-loader/dist/cjs.js!./datasource-form-modal-content.css\";\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","import { DataSourceType, DataSource } from '../../model/datasource/interfaces';\nimport { ModalManager } from '../ui/modal/modal-manager';\nimport Noty from 'noty';\nimport { JaegerAPI } from '../../model/jaeger';\nimport { ZipkinAPI } from '../../model/zipkin';\nimport tippy, { Instance as TippyInstance } from 'tippy.js';\n\nimport SvgInformationOutline from '!!raw-loader!@mdi/svg/svg/information-outline.svg';\nimport AlertCircleOutlineSvg from '!!raw-loader!@mdi/svg/svg/alert-circle-outline.svg';\nimport './datasource-form-modal-content.css';\n\nexport interface DataSourceFormModalContentOptions {\n  type: 'new' | 'edit';\n  dataSource?: DataSource;\n}\n\nexport class DataSourceFormModalContent {\n  private elements = {\n    container: document.createElement('div'),\n    form: {\n      container: document.createElement('form'),\n      typeSelect: document.createElement('select'),\n      nameInput: document.createElement('input'),\n      baseUrlLabel: document.createElement('span'),\n      baseUrlInfoIconContainer: document.createElement('span'),\n      baseUrlInput: document.createElement('input'),\n      basicAuthCheckbox: document.createElement('input'),\n      usernameRow: document.createElement('div'),\n      usernameInput: document.createElement('input'),\n      passwordRow: document.createElement('div'),\n      passwordInput: document.createElement('input'),\n      cancelButton: document.createElement('button'),\n      saveButton: document.createElement('button'),\n      testButton: document.createElement('button'),\n    },\n  };\n  private baseUrlInfoTooltipContent = document.createElement('span');\n  private baseUrlInfoTooltipTippy: TippyInstance;\n\n  private binded = {\n    onCancelButtonClick: this.onCancelButtonClick.bind(this),\n    onFormSubmit: this.onFormSubmit.bind(this),\n    onTestButtonClick: this.onTestButtonClick.bind(this),\n    onBasicAuthCheckboxChange: this.onBasicAuthCheckboxChange.bind(this),\n    onTypeSelectChange: this.onTypeSelectChange.bind(this),\n  };\n\n  constructor(private options: DataSourceFormModalContentOptions) {\n    // Prepare DOM\n    const els = this.elements;\n    els.container.classList.add('datasource-form-modal-content');\n\n    els.form.container.classList.add('form-container');\n    els.container.appendChild(els.form.container);\n    this.initForm();\n  }\n\n  init() {\n    this.elements.form.cancelButton.addEventListener(\n      'click',\n      this.binded.onCancelButtonClick,\n      false\n    );\n    this.elements.form.testButton.addEventListener(\n      'click',\n      this.binded.onTestButtonClick,\n      false\n    );\n    this.elements.form.container.addEventListener(\n      'submit',\n      this.binded.onFormSubmit,\n      false\n    );\n\n    this.baseUrlInfoTooltipTippy = tippy(\n      this.elements.form.baseUrlInfoIconContainer,\n      {\n        content: this.baseUrlInfoTooltipContent,\n        multiple: true,\n        placement: 'top',\n        duration: 0,\n        updateDuration: 0,\n        maxWidth: '200px',\n      }\n    );\n  }\n\n  getElement() {\n    return this.elements.container;\n  }\n\n  private onCancelButtonClick(e: Event) {\n    e.preventDefault();\n\n    const modal = ModalManager.getSingleton().findModalFromElement(\n      this.elements.container\n    );\n    if (!modal) throw new Error(`Could not find modal instance`);\n    modal.close({ data: { action: 'cancel' } });\n  }\n\n  private async onFormSubmit(e: Event) {\n    e.preventDefault();\n\n    const modal = ModalManager.getSingleton().findModalFromElement(\n      this.elements.container\n    );\n    if (!modal) throw new Error(`Could not find modal instance`);\n\n    const formEl = this.elements.form;\n    const dataSource: DataSource = {\n      id: this.options.dataSource?.id,\n      type: formEl.typeSelect.value,\n      name: formEl.nameInput.value.trim(),\n      baseUrl: formEl.baseUrlInput.value.trim(),\n      username: formEl.usernameInput.value,\n      password: formEl.passwordInput.value,\n    };\n\n    modal.close({ data: { action: 'save', dataSource } });\n  }\n\n  private async onTestButtonClick(e: Event) {\n    e.preventDefault();\n\n    try {\n      await this.test();\n      this.elements.form.saveButton.disabled = false;\n\n      new Noty({\n        text: 'Data source is working',\n        type: 'success',\n        timeout: 2500,\n      }).show();\n    } catch (err) {\n      new Noty({\n        text: `Error: ${err.message || ''}`,\n        type: 'error',\n        timeout: 2500,\n      }).show();\n    }\n  }\n\n  private async test() {\n    const formEl = this.elements.form;\n    const options = {\n      baseUrl: formEl.baseUrlInput.value,\n      username: formEl.usernameInput.value,\n      password: formEl.passwordInput.value,\n    };\n\n    const api =\n      formEl.typeSelect.value == DataSourceType.JAEGER\n        ? new JaegerAPI(options)\n        : new ZipkinAPI(options);\n\n    return api.test();\n  }\n\n  private initForm() {\n    const formEl = this.elements.form;\n    const titleText =\n      this.options.type == 'new' ? 'New Data Source' : 'Edit Data Source';\n    const isBasicAuthEnabled =\n      this.options.dataSource?.username || this.options.dataSource?.password;\n\n    this.elements.form.container.innerHTML = `<h2>${titleText}</h2>`;\n\n    // Type\n    const typeRow = document.createElement('div');\n    typeRow.classList.add('form-row');\n    typeRow.innerHTML = `<div>Type:</div>`;\n    formEl.typeSelect.innerHTML = `<option value=\"${DataSourceType.JAEGER}\">Jaeger</option>\n      <option value=\"${DataSourceType.ZIPKIN}\">Zipkin</option>`;\n    if (this.options.dataSource?.type) {\n      formEl.typeSelect.value = this.options.dataSource.type;\n    }\n    typeRow.appendChild(formEl.typeSelect);\n    this.elements.form.container.appendChild(typeRow);\n    formEl.typeSelect.addEventListener(\n      'change',\n      this.binded.onTypeSelectChange,\n      false\n    );\n\n    // Name\n    const nameRow = document.createElement('div');\n    nameRow.classList.add('form-row');\n    nameRow.innerHTML = `<div>Name:</div>`;\n    formEl.nameInput.type = 'text';\n    formEl.nameInput.required = true;\n    formEl.nameInput.placeholder = 'My data source';\n    if (this.options.dataSource?.name) {\n      formEl.nameInput.value = this.options.dataSource.name;\n    }\n    nameRow.appendChild(formEl.nameInput);\n    this.elements.form.container.appendChild(nameRow);\n\n    // Base url\n    const baseUrlRow = document.createElement('div');\n    baseUrlRow.classList.add('form-row', 'base-url');\n    const baseUrlLabelContainer = document.createElement('div');\n    baseUrlRow.appendChild(baseUrlLabelContainer);\n    baseUrlLabelContainer.appendChild(formEl.baseUrlLabel);\n    formEl.baseUrlInfoIconContainer.innerHTML = SvgInformationOutline;\n    baseUrlLabelContainer.appendChild(formEl.baseUrlInfoIconContainer);\n    formEl.baseUrlInput.type = 'text';\n    formEl.baseUrlInput.required = true;\n    if (this.options.dataSource?.baseUrl) {\n      formEl.baseUrlInput.value = this.options.dataSource.baseUrl;\n    }\n    baseUrlRow.appendChild(formEl.baseUrlInput);\n    this.elements.form.container.appendChild(baseUrlRow);\n    this.onTypeSelectChange(); // initially update base url input according to selected ds type\n\n    // Basic auth\n    const basicAuthRow = document.createElement('div');\n    basicAuthRow.classList.add('form-row');\n    basicAuthRow.innerHTML = `<div>Basic Authentication:</div>`;\n    formEl.basicAuthCheckbox.type = 'checkbox';\n    if (isBasicAuthEnabled) {\n      formEl.basicAuthCheckbox.checked = true;\n    }\n    basicAuthRow.appendChild(formEl.basicAuthCheckbox);\n    this.elements.form.container.appendChild(basicAuthRow);\n    formEl.basicAuthCheckbox.addEventListener(\n      'change',\n      this.binded.onBasicAuthCheckboxChange,\n      false\n    );\n\n    // Username\n    formEl.usernameRow.classList.add('form-row');\n    formEl.usernameRow.innerHTML = `<div>Userame:</div>`;\n    formEl.usernameInput.type = 'text';\n    if (this.options.dataSource?.username) {\n      formEl.usernameInput.value = this.options.dataSource.username;\n    }\n    formEl.usernameRow.appendChild(formEl.usernameInput);\n    this.elements.form.container.appendChild(formEl.usernameRow);\n    if (!isBasicAuthEnabled) {\n      formEl.usernameRow.style.display = 'none';\n    }\n\n    // Password\n    formEl.passwordRow.classList.add('form-row');\n    formEl.passwordRow.innerHTML = `<div>Password:</div>`;\n    formEl.passwordInput.type = 'password';\n    if (this.options.dataSource?.password) {\n      formEl.passwordInput.value = this.options.dataSource.password;\n    }\n    formEl.passwordRow.appendChild(formEl.passwordInput);\n    this.elements.form.container.appendChild(formEl.passwordRow);\n    if (!isBasicAuthEnabled) {\n      formEl.passwordRow.style.display = 'none';\n    }\n\n    // CORS warning\n    const warningContainer = document.createElement('div');\n    warningContainer.classList.add('cors-warning');\n    this.elements.form.container.appendChild(warningContainer);\n\n    warningContainer.innerHTML = `${AlertCircleOutlineSvg}\n      <div class=\"title\">CORS Warning</div>\n      <div class=\"body\">\n        Due to web security, your data source must allow cross-origin\n        requests. (Zipkin supports CORS by default, but not Jaeger)\n        If this is not applicable in your case, you can install\n        <strong>Moesif CORS</strong> extension to quickly enable/disable CORS.\n        (<a href=\"https://chrome.google.com/webstore/detail/moesif-origin-cors-change/digfbfaphojjndkpccljibejjbppifbc?hl=en-US\" target=\"_blank\">Chrome</a>,\n          <a href=\"https://addons.mozilla.org/tr/firefox/addon/moesif-origin-cors-changer1/\" target=\"_blank\">Firefox</a>)\n      </div>`;\n\n    // Buttons\n    const buttonsContainer = document.createElement('div');\n    buttonsContainer.classList.add('buttons');\n    this.elements.form.container.appendChild(buttonsContainer);\n\n    const leftButtons = document.createElement('div');\n    leftButtons.classList.add('left');\n    buttonsContainer.appendChild(leftButtons);\n\n    const rightButtons = document.createElement('div');\n    rightButtons.classList.add('right');\n    buttonsContainer.appendChild(rightButtons);\n\n    formEl.cancelButton.classList.add('cancel');\n    formEl.cancelButton.type = 'button';\n    formEl.cancelButton.textContent = 'Cancel';\n    leftButtons.appendChild(formEl.cancelButton);\n\n    formEl.testButton.classList.add('test');\n    formEl.testButton.type = 'button';\n    formEl.testButton.textContent = 'Test';\n    rightButtons.appendChild(formEl.testButton);\n\n    formEl.saveButton.classList.add('save', 'primary');\n    formEl.saveButton.type = 'submit';\n    formEl.saveButton.textContent = 'Save';\n    formEl.saveButton.disabled = this.options.type == 'new';\n    rightButtons.appendChild(formEl.saveButton);\n  }\n\n  private onBasicAuthCheckboxChange() {\n    const formEl = this.elements.form;\n\n    if (formEl.basicAuthCheckbox.checked) {\n      formEl.usernameRow.style.display = '';\n      formEl.passwordRow.style.display = '';\n    } else {\n      formEl.usernameRow.style.display = 'none';\n      formEl.passwordRow.style.display = 'none';\n      formEl.usernameInput.value = '';\n      formEl.passwordInput.value = '';\n    }\n  }\n\n  private onTypeSelectChange() {\n    const formEl = this.elements.form;\n\n    if (formEl.typeSelect.value == DataSourceType.JAEGER) {\n      formEl.baseUrlInput.placeholder = 'http://0.0.0.0:16686/api';\n      formEl.baseUrlLabel.textContent = `Query API Base URL:`;\n      this.baseUrlInfoTooltipContent.textContent = `Base URL of jaeger-query service, most common form http://x.x.x.x:16686/api`;\n    }\n\n    if (formEl.typeSelect.value == DataSourceType.ZIPKIN) {\n      formEl.baseUrlInput.placeholder = 'http://0.0.0.0:9411/api/v2';\n      formEl.baseUrlLabel.textContent = `API Base URL:`;\n      this.baseUrlInfoTooltipContent.textContent = `Base URL of Zipkin's v2 API, most common form http://x.x.x.x:9411/api/v2`;\n    }\n  }\n\n  dispose() {\n    this.elements.form.cancelButton.removeEventListener(\n      'click',\n      this.binded.onCancelButtonClick,\n      false\n    );\n    this.elements.form.testButton.removeEventListener(\n      'click',\n      this.binded.onTestButtonClick,\n      false\n    );\n    this.elements.form.container.removeEventListener(\n      'submit',\n      this.binded.onFormSubmit,\n      false\n    );\n    this.elements.form.basicAuthCheckbox.removeEventListener(\n      'change',\n      this.binded.onBasicAuthCheckboxChange,\n      false\n    );\n    this.elements.form.typeSelect.removeEventListener(\n      'change',\n      this.binded.onTypeSelectChange,\n      false\n    );\n    this.baseUrlInfoTooltipTippy.destroy();\n  }\n}\n","import defaults from 'lodash/defaults';\n\nexport interface FormatMicrosecondsScale {\n  unit: string;\n  scale: number;\n}\n\nexport interface FormatMicrosecondsOptions {\n  scales?: FormatMicrosecondsScale[];\n  minimumInteger?: number; // TODO: Our default min integer is 1, if integer part is below 1, scale down\n  maximumFractionDigits?: number;\n}\n\nexport function formatMicroseconds(\n  microseconds: number,\n  options?: FormatMicrosecondsOptions\n) {\n  options = defaults(options || {}, {\n    scales: [\n      // must be ordered\n      { unit: 's', scale: 1 },\n      { unit: 'ms', scale: 1000 },\n      { unit: 's', scale: 1000000 },\n    ],\n    maximumFractionDigits: 3,\n  });\n\n  let bestScale = options.scales[0];\n\n  for (const scale of options.scales) {\n    if (Math.floor(microseconds / scale.scale) == 0) break;\n    bestScale = scale;\n  }\n\n  const num = microseconds / bestScale.scale;\n  if (num === 0) return `0`;\n  return `${Number(num.toFixed(options.maximumFractionDigits))} ${\n    bestScale.unit\n  }`;\n}\n","import api from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../node_modules/css-loader/dist/cjs.js!./stage-traces-table.css\";\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","import { Trace } from '../../model/trace';\nimport { Stage, StageEvent } from '../../model/stage';\nimport { formatMicroseconds } from '../../utils/format-microseconds';\nimport * as Tabulator from 'tabulator-tables';\nimport sampleSize from 'lodash/sampleSize';\nimport cloneDeep from 'lodash/cloneDeep';\nimport EventEmitter from 'events';\nimport format from 'date-fns/format';\n\nimport 'tabulator-tables/dist/css/tabulator_simple.min.css';\nimport './stage-traces-table.css';\n\nexport interface StageTraceRowData {\n  id: string;\n  startTime: number;\n  finishTime: number;\n  duration: number;\n  name: string;\n  spanCount: number;\n  errorCount: number;\n  services: { [key: string]: number };\n}\n\nexport interface StageTracesTableOptions {\n  width: number;\n  height: number;\n  footerElement?: HTMLElement;\n  placeholderElement?: HTMLElement;\n}\n\nexport enum StageTracesTableViewEvent {\n  SELECTIONS_UPDATED = 'selections_updated',\n}\n\nexport class StageTracesTableView extends EventEmitter {\n  private stage = Stage.getSingleton();\n  private options: StageTracesTableOptions;\n  private table: Tabulator;\n  private traceRows: StageTraceRowData[] = [];\n\n  private elements = {\n    container: document.createElement('div'),\n    tableContainer: document.createElement('div'),\n  };\n  private viewPropertiesCache = {\n    width: 0,\n    height: 0,\n  };\n\n  private binded = {\n    formatTimestamp: this.formatTimestamp.bind(this),\n    formatDuration: this.formatDuration.bind(this),\n    formatServices: this.formatServices.bind(this),\n    rowSelectionChanged: this.rowSelectionChanged.bind(this),\n    onKeyDown: this.onKeyDown.bind(this),\n    onStageTraceAdded: this.onStageTraceAdded.bind(this),\n    onStageTraceRemoved: this.onStageTraceRemoved.bind(this),\n  };\n\n  private columnDefinitions = {\n    id: {\n      title: 'Trace Id',\n      field: 'id',\n    } as Tabulator.ColumnDefinition,\n    startTime: {\n      title: 'Date',\n      field: 'startTime',\n      formatter: this.binded.formatTimestamp,\n    } as Tabulator.ColumnDefinition,\n    duration: {\n      title: 'Duration',\n      field: 'duration',\n      formatter: this.binded.formatDuration,\n    } as Tabulator.ColumnDefinition,\n    name: {\n      title: 'Root Span',\n      field: 'name',\n    } as Tabulator.ColumnDefinition,\n    spanCount: {\n      title: 'Span(s)',\n      field: 'spanCount',\n    } as Tabulator.ColumnDefinition,\n    errorCount: {\n      title: 'Error(s)',\n      field: 'errorCount',\n    } as Tabulator.ColumnDefinition,\n    services: {\n      title: 'Services & Span(s)',\n      field: 'services',\n      formatter: this.binded.formatServices,\n      headerSort: false,\n    } as Tabulator.ColumnDefinition,\n  };\n\n  constructor() {\n    super();\n\n    const { container, tableContainer } = this.elements;\n    container.classList.add('stage-traces-table-view');\n    container.appendChild(tableContainer);\n  }\n\n  init(options: StageTracesTableOptions) {\n    this.options = options;\n    this.viewPropertiesCache = {\n      width: options.width,\n      height: options.height,\n    };\n\n    // Bind events\n    this.stage.on(StageEvent.TRACE_ADDED, this.binded.onStageTraceAdded);\n    this.stage.on(StageEvent.TRACE_REMOVED, this.binded.onStageTraceRemoved);\n    this.elements.container.addEventListener(\n      'keydown',\n      this.binded.onKeyDown,\n      false\n    );\n\n    // Prepare initial data\n    this.traceRows = this.stage\n      .getAllTraces()\n      .map((trace) => this.trace2RowData(trace));\n\n    // Init table\n    this.table = new Tabulator(this.elements.tableContainer, {\n      autoResize: false, // This causes to lose focus when widget is hidden\n      height: this.viewPropertiesCache.height,\n      data: this.traceRows,\n      layout: 'fitDataFill',\n      movableColumns: true,\n      selectable: true,\n      columns: [\n        this.columnDefinitions.id,\n        this.columnDefinitions.startTime,\n        this.columnDefinitions.name,\n        this.columnDefinitions.duration,\n        this.columnDefinitions.spanCount,\n        this.columnDefinitions.errorCount,\n        this.columnDefinitions.services,\n      ],\n      initialSort: [\n        { column: this.columnDefinitions.startTime.field, dir: 'desc' },\n      ],\n      rowSelectionChanged: this.binded.rowSelectionChanged,\n      selectableRangeMode: 'click',\n      keybindings: false,\n      footerElement: this.options.footerElement,\n      placeholder: this.options.placeholderElement,\n    });\n  }\n\n  async updateTraces(traces: Trace[]) {\n    this.traceRows = traces.map((t) => this.trace2RowData(t));\n    await this.table.replaceData(this.traceRows);\n  }\n\n  private rowSelectionChanged(data: any, rows: any) {\n    this.emit(StageTracesTableViewEvent.SELECTIONS_UPDATED, data);\n  }\n\n  private trace2RowData(trace: Trace) {\n    return {\n      id: trace.id,\n      startTime: trace.startTime,\n      finishTime: trace.finishTime,\n      duration: trace.duration,\n      name: trace.name,\n      spanCount: trace.spanCount,\n      errorCount: trace.errorCount,\n      services: cloneDeep(trace.spanCountsByService),\n    };\n  }\n\n  private formatTimestamp(cell: any) {\n    return format(cell.getValue() / 1000, 'MMM dd, HH:mm:ss.SSS');\n  }\n\n  private formatDuration(cell: any) {\n    return formatMicroseconds(cell.getValue());\n  }\n\n  private formatServices(cell: any) {\n    const TraceRowData = cell.getRow().getData();\n    let html = '';\n\n    Object.keys(TraceRowData.services)\n      .sort((a, b) => {\n        if (a > b) return 1;\n        if (a < b) return -1;\n        return 0;\n      })\n      .forEach((serviceName) => {\n        const value = TraceRowData.services[serviceName];\n        if (!value) return;\n\n        html += `<span class=\"stage-traces-table-tag\">${serviceName}:</span>\n        <span class=\"stage-traces-table-value\">${value}</span>`;\n      });\n\n    return html;\n  }\n\n  private onKeyDown(e: KeyboardEvent) {\n    // If user is typing on any kind of input element which is\n    // child of this component, we don't want to trigger shortcuts\n    if (\n      e.target instanceof HTMLInputElement ||\n      e.target instanceof HTMLTextAreaElement\n    ) {\n      return;\n    }\n\n    // CMD + A => Select all\n    if (e.key == 'a' && (e.ctrlKey || e.metaKey)) {\n      this.table.selectRow();\n      return;\n    }\n\n    // ESC key => deselect all\n    if (e.which == 27) {\n      const selectedRows = this.table.getSelectedRows();\n      if (selectedRows.length == 0) return;\n      this.deselectAll();\n      e.stopPropagation(); // for modal closing\n      return;\n    }\n  }\n\n  private onStageTraceAdded(trace: Trace) {\n    this.updateTraces(this.stage.getAllTraces());\n  }\n\n  private onStageTraceRemoved(trace: Trace) {\n    this.updateTraces(this.stage.getAllTraces());\n  }\n\n  redrawTable(force = false) {\n    if (!this.table) return;\n\n    // Tabulator's layout mode `fitDataFill` is a little buggy\n    // When the widget is not shown, a new trace is added\n    // Row widths are broken. So as a workaround, we will check\n    // the first cell's width of some random rows are equal or not\n    // If they'are not equal, force re-render the table.\n    let forceRerender = force;\n    const firstCells = this.elements.tableContainer.querySelectorAll(\n      '.tabulator-table > .tabulator-row .tabulator-cell:first-child'\n    );\n    const randomCells = sampleSize(firstCells, 10) as HTMLElement[];\n    if (randomCells.length > 2) {\n      const widthOfFirstCell = randomCells[0].offsetWidth;\n      const areEqual = randomCells.every(\n        (el) => el.offsetWidth === widthOfFirstCell\n      );\n      if (!areEqual) forceRerender = true;\n    }\n\n    this.table.redraw(forceRerender);\n  }\n\n  deselectAll() {\n    this.table.deselectRow();\n  }\n\n  mount(parentEl: HTMLElement) {\n    parentEl.appendChild(this.elements.container);\n  }\n\n  unmount() {\n    const parent = this.elements.container.parentElement;\n    parent?.removeChild(this.elements.container);\n  }\n\n  resize(width: number, height: number) {\n    this.viewPropertiesCache = { width, height };\n    this.table.setHeight(height);\n    this.redrawTable();\n  }\n\n  dispose() {\n    this.table?.destroy();\n    this.table = null;\n\n    // Unbind events\n    this.stage.removeListener(\n      StageEvent.TRACE_ADDED,\n      this.binded.onStageTraceAdded\n    );\n    this.stage.removeListener(\n      StageEvent.TRACE_REMOVED,\n      this.binded.onStageTraceRemoved\n    );\n    this.elements.container.removeEventListener(\n      'keydown',\n      this.binded.onKeyDown,\n      false\n    );\n  }\n}\n","import api from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../node_modules/css-loader/dist/cjs.js!./stage-traces-modal-content.css\";\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","import { ModalManager } from '../ui/modal/modal-manager';\nimport {\n  StageTracesTableView,\n  StageTracesTableViewEvent,\n  StageTraceRowData,\n} from './stage-traces-table';\nimport throttle from 'lodash/throttle';\nimport { Stage, StageEvent } from '../../model/stage';\n\nimport './stage-traces-modal-content.css';\n\nexport class StageTracesModalContent {\n  private stage = Stage.getSingleton();\n  private tracesTable = new StageTracesTableView();\n  private selectedTraceIds: string[] = [];\n  private elements = {\n    container: document.createElement('div'),\n    topContainer: document.createElement('div'),\n    tracesTablePlaceholder: {\n      container: document.createElement('div'),\n      text: document.createElement('span'),\n    },\n    bottom: {\n      container: document.createElement('div'),\n      selectionText: document.createElement('div'),\n      removeFromStageButton: document.createElement('button'),\n    },\n  };\n  inited = false;\n\n  private binded = {\n    onWindowResize: throttle(this.onWindowResize.bind(this), 100),\n    onTableSelectionUpdated: this.onTableSelectionUpdated.bind(this),\n    onRemoveFromStageButtonClick: this.onRemoveFromStageButtonClick.bind(this),\n    onTraceAdded: this.onTraceAdded.bind(this),\n    onTraceRemoved: this.onTraceRemoved.bind(this),\n  };\n\n  constructor() {\n    // Prepare DOM\n    const els = this.elements;\n    els.container.classList.add('stage-traces-modal-content');\n\n    els.topContainer.classList.add('top');\n    els.container.appendChild(els.topContainer);\n\n    els.bottom.container.classList.add('bottom');\n    els.container.appendChild(els.bottom.container);\n\n    // Table placeholder\n    const elsTP = els.tracesTablePlaceholder;\n    elsTP.container.classList.add('tabulator-placeholder');\n    elsTP.text.textContent = 'No traces in the stage';\n    elsTP.container.appendChild(elsTP.text);\n\n    // Bottom\n    {\n      const leftContainer = document.createElement('div');\n      leftContainer.classList.add('left');\n      els.bottom.container.appendChild(leftContainer);\n\n      const rightContainer = document.createElement('div');\n      rightContainer.classList.add('right');\n      els.bottom.container.appendChild(rightContainer);\n\n      els.bottom.selectionText.innerHTML = 'No trace selected';\n      rightContainer.appendChild(els.bottom.selectionText);\n\n      els.bottom.removeFromStageButton.classList.add('danger', 'small');\n      els.bottom.removeFromStageButton.textContent = 'Remove from Stage';\n      els.bottom.removeFromStageButton.disabled = true;\n      rightContainer.appendChild(els.bottom.removeFromStageButton);\n    }\n  }\n\n  init() {\n    // Bind events\n    this.tracesTable.on(\n      StageTracesTableViewEvent.SELECTIONS_UPDATED,\n      this.binded.onTableSelectionUpdated\n    );\n    this.elements.bottom.removeFromStageButton.addEventListener(\n      'click',\n      this.binded.onRemoveFromStageButtonClick,\n      false\n    );\n    this.stage.on(StageEvent.TRACE_ADDED, this.binded.onTraceAdded);\n    this.stage.on(StageEvent.TRACE_REMOVED, this.binded.onTraceRemoved);\n    window.addEventListener('resize', this.binded.onWindowResize, false);\n\n    // Traces table\n    // In order to get offsetWidth and height, the dom must be rendered\n    // So before calling this `init()` method, ensure that dom is rendered.\n    this.tracesTable.mount(this.elements.topContainer);\n    const { offsetWidth: w, offsetHeight: h } = this.elements.topContainer;\n    this.tracesTable.init({\n      width: w,\n      height: h,\n      placeholderElement: this.elements.tracesTablePlaceholder.container,\n    });\n    this.inited = true;\n  }\n\n  onShow() {\n    const { offsetWidth: w, offsetHeight: h } = this.elements.topContainer;\n    this.tracesTable.resize(w, h);\n    this.tracesTable.redrawTable(true);\n  }\n\n  private onWindowResize() {\n    const { offsetWidth: w, offsetHeight: h } = this.elements.topContainer;\n    this.tracesTable.resize(w, h);\n  }\n\n  private async onTableSelectionUpdated(selectedTraces: StageTraceRowData[]) {\n    // When we try to redraw tabulator while it's already redrawing,\n    // it gives an error. So, we apply the most famous javascript workaround ever.\n    // await new Promise(resolve => setTimeout(resolve, 0));\n    this.selectedTraceIds = selectedTraces.map((t) => t.id);\n\n    if (selectedTraces.length == 0) {\n      this.elements.bottom.removeFromStageButton.disabled = true;\n      this.elements.bottom.selectionText.textContent = 'No trace selected';\n      return;\n    }\n\n    let text = `${selectedTraces.length} traces`;\n    if (selectedTraces.length == 1) {\n      text = `1 trace`;\n    }\n    this.elements.bottom.selectionText.innerHTML = `<strong>${text}</strong> selected`;\n    this.elements.bottom.removeFromStageButton.disabled = false;\n  }\n\n  private onRemoveFromStageButtonClick() {\n    const modal = ModalManager.getSingleton().findModalFromElement(\n      this.elements.container\n    );\n    if (!modal) throw new Error(`Could not find modal instance`);\n    modal.close({\n      data: { action: 'removeFromStage', traceIds: this.selectedTraceIds },\n    });\n\n    this.tracesTable.deselectAll();\n  }\n\n  private onTraceAdded() {\n    // NOOP\n  }\n\n  private onTraceRemoved() {\n    // NOOP\n  }\n\n  getElement() {\n    return this.elements.container;\n  }\n\n  dispose() {\n    this.tracesTable.removeListener(\n      StageTracesTableViewEvent.SELECTIONS_UPDATED,\n      this.binded.onTableSelectionUpdated\n    );\n    this.elements.bottom.removeFromStageButton.removeEventListener(\n      'click',\n      this.binded.onRemoveFromStageButtonClick,\n      false\n    );\n    this.stage.removeListener(StageEvent.TRACE_ADDED, this.binded.onTraceAdded);\n    this.stage.removeListener(\n      StageEvent.TRACE_REMOVED,\n      this.binded.onTraceRemoved\n    );\n    window.removeEventListener('resize', this.binded.onWindowResize, false);\n\n    this.tracesTable.dispose();\n  }\n}\n","import api from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../node_modules/css-loader/dist/cjs.js!./app-toolbar.css\";\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","import tippy, { Instance as TippyInstance } from 'tippy.js';\nimport { ToolbarMenuList } from './menu-list';\nimport {\n  DataSourceManager,\n  DataSourceManagerEvent,\n} from '../../model/datasource/manager';\nimport { DataSource } from '../../model/datasource/interfaces';\nimport { Stage, StageEvent } from '../../model/stage';\nimport { Trace } from '../../model/trace';\nimport { TooltipManager } from '../ui/tooltip/tooltip-manager';\nimport { Modal, ModalCloseTriggerType } from '../ui/modal/modal';\nimport { ModalManager } from '../ui/modal/modal-manager';\nimport { DataSourceFormModalContent } from '../datasource/datasource-form-modal-content';\nimport shortid from 'shortid';\nimport { StageTracesModalContent } from '../stage-traces/stage-traces-modal-content';\n\nimport SvgPlus from '!!raw-loader!@mdi/svg/svg/plus.svg';\nimport SvgDatabase from '!!raw-loader!@mdi/svg/svg/database.svg';\nimport SvgSourceBranch from '!!raw-loader!@mdi/svg/svg/source-branch.svg';\nimport SvgSatellite from '!!raw-loader!@mdi/svg/svg/satellite-uplink.svg';\nimport SvgDeleteEmpty from '!!raw-loader!@mdi/svg/svg/delete-empty.svg';\nimport './app-toolbar.css';\n\nexport interface AppToolbarOptions {\n  onDataSourceClick: (dataSource: DataSource) => void;\n}\n\nexport class AppToolbar {\n  private elements = {\n    container: document.createElement('div'),\n    btn: {\n      dataSources: document.createElement('div'),\n      newDataSource: document.createElement('div'),\n      stageTraces: document.createElement('div'),\n      clearStage: document.createElement('div'),\n    },\n    tracesBadgeCount: document.createElement('div'),\n    dataSourceMenuList: {\n      header: document.createElement('div'),\n      empty: document.createElement('div'),\n      removePopConfirmContainer: document.createElement('div'),\n      removePopConfirmButton: document.createElement('button'),\n    },\n    clearStagePopConfirmContainer: document.createElement('div'),\n    clearStagePopConfirmButton: document.createElement('button'),\n  };\n  private tippyInstaces: {\n    dataSources: TippyInstance;\n    dataSourceRemovePopConfirm: TippyInstance;\n    clearStagePopConfirm: TippyInstance;\n  };\n  private dataSourceFormModalContent: DataSourceFormModalContent;\n  private stageTracesModalContent = new StageTracesModalContent();\n\n  private binded = {\n    onDataSourceManagerAdded: this.onDataSourceManagerAdded.bind(this),\n    onDataSourceManagerUpdated: this.onDataSourceManagerUpdated.bind(this),\n    onDataSourceManagerRemoved: this.onDataSourceManagerRemoved.bind(this),\n    onDataSourceMenuListButtonClick: this.onDataSourceMenuListButtonClick.bind(\n      this\n    ),\n    onDataSourceMenuListTextClick: this.onDataSourceMenuListTextClick.bind(\n      this\n    ),\n    onStageTraceAdded: this.onStageTraceAdded.bind(this),\n    onStageTraceRemoved: this.onStageTraceRemoved.bind(this),\n    onStageTracesButtonClick: this.onStageTracesButtonClick.bind(this),\n    onNewDataSourceButtonClick: this.onNewDataSourceButtonClick.bind(this),\n    onNewDataSourceModalClose: this.onNewDataSourceModalClose.bind(this),\n    onDataSourceRemovePopConfirmButtonClick: this.onDataSourceRemovePopConfirmButtonClick.bind(\n      this\n    ),\n    onDataSourceSearchModalClosed: this.onDataSourceSearchModalClosed.bind(\n      this\n    ),\n    onStageTracesModalClose: this.onStageTracesModalClose.bind(this),\n    onClearStagePopConfirmButtonClick: this.onClearStagePopConfirmButtonClick.bind(\n      this\n    ),\n  };\n\n  private stage = Stage.getSingleton();\n  private dsManager = DataSourceManager.getSingleton();\n\n  private dataSourcesMenuList = new ToolbarMenuList({\n    headerEl: this.elements.dataSourceMenuList.header,\n    emptyEl: this.elements.dataSourceMenuList.empty,\n    items: [],\n    onButtonClick: this.binded.onDataSourceMenuListButtonClick,\n    onTextClick: this.binded.onDataSourceMenuListTextClick,\n  });\n\n  constructor(private options: AppToolbarOptions) {\n    const { container: el, btn } = this.elements;\n    el.id = 'app-toolbar';\n    el.classList.add('app-toolbar');\n\n    // Panes\n    const leftPane = document.createElement('div');\n    leftPane.classList.add('app-toolbar-pane');\n    el.appendChild(leftPane);\n\n    const middlePane = document.createElement('div');\n    middlePane.classList.add('app-toolbar-pane');\n    el.appendChild(middlePane);\n\n    const rightPane = document.createElement('div');\n    rightPane.classList.add('app-toolbar-pane');\n    el.appendChild(rightPane);\n\n    // Left buttons\n    const divider = document.createElement('div');\n    divider.classList.add('app-toolbar-divider');\n    leftPane.appendChild(divider);\n\n    btn.dataSources.classList.add('app-toolbar-button');\n    btn.dataSources.innerHTML = SvgDatabase;\n    leftPane.appendChild(btn.dataSources);\n\n    // Right buttons\n    btn.stageTraces.classList.add('app-toolbar-button', 'stage-traces');\n    btn.stageTraces.innerHTML = SvgSourceBranch;\n    rightPane.appendChild(btn.stageTraces);\n\n    btn.clearStage.classList.add('app-toolbar-button', 'clear-stage');\n    btn.clearStage.innerHTML = SvgDeleteEmpty;\n    rightPane.appendChild(btn.clearStage);\n  }\n\n  init() {\n    this.initTooltips();\n    this.initTippyInstances();\n    this.initBadgeCounts();\n\n    // Prepare dataSource menu list header\n    this.elements.dataSourceMenuList.header.classList.add(\n      'toolbar-data-sources-menu-header'\n    );\n\n    const dsHeaderText = document.createElement('span');\n    dsHeaderText.textContent = 'Data Sources';\n    this.elements.dataSourceMenuList.header.appendChild(dsHeaderText);\n\n    this.elements.btn.newDataSource.innerHTML = SvgPlus;\n    this.elements.btn.newDataSource.addEventListener(\n      'click',\n      this.binded.onNewDataSourceButtonClick,\n      false\n    );\n    this.elements.dataSourceMenuList.header.appendChild(\n      this.elements.btn.newDataSource\n    );\n\n    // Prepare dataSource menu list empty\n    this.elements.dataSourceMenuList.empty.classList.add(\n      'toolbar-data-sources-menu-empty'\n    );\n    this.elements.dataSourceMenuList.empty.innerHTML = `<span class=\"heading\">No Data Sources</span>\n      <span class=\"description\">Click ${SvgPlus} button on the top right to add a data source.</span>`;\n\n    // Data source remove pop confirm\n    const {\n      removePopConfirmContainer,\n      removePopConfirmButton,\n    } = this.elements.dataSourceMenuList;\n    removePopConfirmContainer.classList.add('popconfirm');\n    removePopConfirmContainer.innerHTML = `<div class=\"text\">Are you sure to delete this data source?</div>`;\n    removePopConfirmButton.classList.add('danger', 'small');\n    removePopConfirmButton.textContent = 'Delete';\n    removePopConfirmContainer.appendChild(removePopConfirmButton);\n    removePopConfirmButton.addEventListener(\n      'click',\n      this.binded.onDataSourceRemovePopConfirmButtonClick,\n      false\n    );\n\n    // Clear the stage pop confirm\n    const {\n      clearStagePopConfirmContainer,\n      clearStagePopConfirmButton,\n    } = this.elements;\n    clearStagePopConfirmContainer.classList.add('popconfirm');\n    clearStagePopConfirmContainer.innerHTML = `<div class=\"text\">Are you sure to clear the stage?</div>`;\n    clearStagePopConfirmButton.classList.add('danger', 'small');\n    clearStagePopConfirmButton.textContent = 'Clear';\n    clearStagePopConfirmContainer.appendChild(clearStagePopConfirmButton);\n    clearStagePopConfirmButton.addEventListener(\n      'click',\n      this.binded.onClearStagePopConfirmButtonClick,\n      false\n    );\n\n    // Prepare datasource lists\n    this.updateDataSourceList();\n\n    // Bind events\n    this.bindEvents();\n  }\n\n  mount(parent: HTMLElement) {\n    parent.appendChild(this.elements.container);\n  }\n\n  unmount() {\n    const el = this.elements.container;\n    el.parentElement?.removeChild(el);\n  }\n\n  private initTooltips() {\n    const tooltipManager = TooltipManager.getSingleton();\n    tooltipManager.addToSingleton([\n      [\n        this.elements.btn.dataSources,\n        {\n          content: 'Data Sources',\n          multiple: true,\n        },\n      ],\n      [\n        this.elements.btn.stageTraces,\n        {\n          content: 'Traces in the Stage',\n          multiple: true,\n        },\n      ],\n      [\n        this.elements.btn.clearStage,\n        {\n          content: 'Clear the Stage',\n          multiple: true,\n        },\n      ],\n    ]);\n  }\n\n  private initTippyInstances() {\n    this.tippyInstaces = {\n      dataSources: tippy(this.elements.btn.dataSources, {\n        content: this.dataSourcesMenuList.element,\n        multiple: true,\n        appendTo: document.body,\n        placement: 'bottom',\n        duration: 0,\n        updateDuration: 0,\n        theme: 'app-toolbar-menu-list',\n        trigger: 'click',\n        interactive: true,\n      }),\n      dataSourceRemovePopConfirm: tippy(document.body, {\n        lazy: false,\n        duration: 0,\n        updateDuration: 0,\n        trigger: 'custom',\n        arrow: true,\n        content: this.elements.dataSourceMenuList.removePopConfirmContainer,\n        appendTo: this.dataSourcesMenuList.element,\n        multiple: true,\n        interactive: true,\n        placement: 'right',\n        theme: 'app-toolbar-menu-list',\n        onCreate(instance) {\n          instance.popperInstance.reference = {\n            clientWidth: 0,\n            clientHeight: 0,\n            getBoundingClientRect() {\n              return {\n                width: 0,\n                height: 0,\n                top: 0,\n                bottom: 0,\n                left: 0,\n                right: 0,\n              };\n            },\n          };\n        },\n      }),\n      clearStagePopConfirm: tippy(this.elements.btn.clearStage, {\n        content: this.elements.clearStagePopConfirmContainer,\n        multiple: true,\n        appendTo: document.body,\n        placement: 'bottom',\n        duration: 0,\n        updateDuration: 0,\n        theme: 'app-toolbar-menu-list',\n        trigger: 'click',\n        interactive: true,\n      }),\n    };\n  }\n\n  private initBadgeCounts() {\n    const els = this.elements;\n    els.tracesBadgeCount.classList.add('toolbar-badge-count', 'stage');\n  }\n\n  //////////////////////////////////////\n  //////////// VIEW UPDATES ////////////\n  //////////////////////////////////////\n\n  private updateDataSourceList() {\n    this.dataSourcesMenuList.removeAllItems();\n    const dataSources = this.dsManager.getAll();\n    dataSources.forEach((ds) => {\n      this.dataSourcesMenuList.addItem({\n        text: ds.name,\n        buttons: [\n          { id: 'edit', icon: 'pencil' },\n          { id: 'delete', icon: 'delete' },\n        ],\n      });\n    });\n  }\n\n  updateTracesBadgeCount(count: number) {\n    const el = this.elements.tracesBadgeCount;\n    if (count > 0) {\n      el.textContent = count + '';\n      !el.parentElement && this.elements.btn.stageTraces.appendChild(el);\n    } else {\n      el.parentElement?.removeChild(el);\n    }\n  }\n\n  ///////////////////////////////////////////////\n  ////////////////// EVENTS /////////////////////\n  ///////////////////////////////////////////////\n\n  private bindEvents() {\n    this.dsManager.on(\n      DataSourceManagerEvent.ADDED,\n      this.binded.onDataSourceManagerAdded\n    );\n    this.dsManager.on(\n      DataSourceManagerEvent.UPDATED,\n      this.binded.onDataSourceManagerUpdated\n    );\n    this.dsManager.on(\n      DataSourceManagerEvent.REMOVED,\n      this.binded.onDataSourceManagerRemoved\n    );\n    this.stage.on(StageEvent.TRACE_ADDED, this.binded.onStageTraceAdded);\n    this.stage.on(StageEvent.TRACE_REMOVED, this.binded.onStageTraceRemoved);\n    this.elements.btn.stageTraces.addEventListener(\n      'click',\n      this.binded.onStageTracesButtonClick,\n      false\n    );\n  }\n\n  private unbindEvents() {\n    const { btn } = this.elements;\n    this.dsManager.removeListener(\n      DataSourceManagerEvent.ADDED,\n      this.binded.onDataSourceManagerAdded\n    );\n    this.dsManager.removeListener(\n      DataSourceManagerEvent.UPDATED,\n      this.binded.onDataSourceManagerUpdated\n    );\n    this.dsManager.removeListener(\n      DataSourceManagerEvent.REMOVED,\n      this.binded.onDataSourceManagerRemoved\n    );\n    this.stage.removeListener(\n      StageEvent.TRACE_ADDED,\n      this.binded.onStageTraceAdded\n    );\n    this.stage.removeListener(\n      StageEvent.TRACE_REMOVED,\n      this.binded.onStageTraceRemoved\n    );\n    btn.newDataSource.removeEventListener(\n      'click',\n      this.binded.onNewDataSourceButtonClick,\n      false\n    );\n    this.elements.dataSourceMenuList.removePopConfirmButton.removeEventListener(\n      'click',\n      this.binded.onDataSourceRemovePopConfirmButtonClick,\n      false\n    );\n    this.elements.btn.stageTraces.removeEventListener(\n      'click',\n      this.binded.onStageTracesButtonClick,\n      false\n    );\n    this.elements.clearStagePopConfirmButton.removeEventListener(\n      'click',\n      this.binded.onClearStagePopConfirmButtonClick,\n      false\n    );\n  }\n\n  private async onDataSourceMenuListButtonClick(\n    buttonId: string,\n    index: number\n  ) {\n    const ds = this.dsManager.getAll()[index];\n    if (!ds) {\n      console.error(`Data source not found at index: ${index}`);\n      return;\n    }\n\n    switch (buttonId) {\n      case 'edit': {\n        this.dataSourceFormModalContent = new DataSourceFormModalContent({\n          type: 'edit',\n          dataSource: ds,\n        });\n        const modal = new Modal({\n          content: this.dataSourceFormModalContent.getElement(),\n          onClose: this.binded.onNewDataSourceModalClose,\n          shouldAutoFocusFirstElement: true,\n        });\n        this.dataSourceFormModalContent.init();\n        ModalManager.getSingleton().show(modal);\n        this.tippyInstaces.dataSources.hide();\n\n        return;\n      }\n\n      case 'delete': {\n        const menuItem = this.dataSourcesMenuList.getItems()[index];\n        const itemBBRect = menuItem.element.getBoundingClientRect();\n        const parentMenuBBRect = this.dataSourcesMenuList.element.getBoundingClientRect();\n        const tippyIns = this.tippyInstaces.dataSourceRemovePopConfirm;\n        Object.assign(tippyIns.popperInstance.reference, {\n          clientWidth: 0,\n          clientHeight: 0,\n          getBoundingClientRect: () => {\n            return {\n              width: itemBBRect.width,\n              height: itemBBRect.height,\n              top: itemBBRect.top - parentMenuBBRect.top,\n              bottom: itemBBRect.bottom - parentMenuBBRect.top,\n              left: itemBBRect.left - parentMenuBBRect.left,\n              right: itemBBRect.right - parentMenuBBRect.left,\n            };\n          },\n        });\n        tippyIns.popperInstance.update();\n        tippyIns.show();\n        this.elements.dataSourceMenuList.removePopConfirmButton.setAttribute(\n          'data-datasource-id',\n          ds.id\n        );\n\n        return;\n      }\n\n      default: {\n        console.error(`Unknown data source menu list button id: \"${buttonId}\"`);\n      }\n    }\n  }\n\n  private async onDataSourceMenuListTextClick(index: number) {\n    this.showDataSourceSearchModal(index);\n  }\n\n  private async showDataSourceSearchModal(index: number) {\n    const ds = this.dsManager.getAll()[index];\n    if (!ds) {\n      console.error(`Data source not found at index: ${index}`);\n      return;\n    }\n\n    this.options.onDataSourceClick(ds);\n    this.tippyInstaces.dataSources.hide();\n  }\n\n  private onDataSourceRemovePopConfirmButtonClick(e: MouseEvent) {\n    const dsId = (e.target as any).getAttribute('data-datasource-id');\n    this.dsManager.remove(dsId);\n    this.tippyInstaces.dataSourceRemovePopConfirm.hide();\n\n    window.Countly &&\n      window.Countly.add_event({\n        key: 'data_source_removed',\n        count: 1,\n        segmentation: {},\n      });\n  }\n\n  private onDataSourceManagerAdded(dataSource: DataSource) {\n    this.updateDataSourceList();\n  }\n\n  private onDataSourceManagerUpdated(dataSource: DataSource) {\n    this.updateDataSourceList();\n  }\n\n  private onDataSourceManagerRemoved(dataSource: DataSource) {\n    this.updateDataSourceList();\n  }\n\n  private onStageTraceAdded(trace: Trace) {\n    this.updateTracesBadgeCount(this.stage.getAllTraces().length);\n  }\n\n  private onStageTraceRemoved(trace: Trace) {\n    this.updateTracesBadgeCount(this.stage.getAllTraces().length);\n  }\n\n  private onStageTracesButtonClick() {\n    const modal = new Modal({\n      content: this.stageTracesModalContent.getElement(),\n      contentContainerClassName: 'stage-traces-modal-container',\n      onClose: this.binded.onStageTracesModalClose,\n      shouldCloseOnEscPress: true,\n      shouldCloseOnOverlayClick: true,\n    });\n    ModalManager.getSingleton().show(modal);\n    if (!this.stageTracesModalContent.inited)\n      this.stageTracesModalContent.init();\n    this.stageTracesModalContent.onShow();\n  }\n\n  private onStageTracesModalClose(\n    triggerType: ModalCloseTriggerType,\n    data: any\n  ) {\n    if (triggerType != ModalCloseTriggerType.CLOSE_METHOD_CALL) return;\n    if (data?.action != 'removeFromStage') return;\n    (data.traceIds as string[]).forEach((id) => this.stage.removeTrace(id));\n  }\n\n  private onClearStagePopConfirmButtonClick(e: MouseEvent) {\n    this.stage.getAllTraces().forEach((t) => this.stage.removeTrace(t.id));\n    this.tippyInstaces.clearStagePopConfirm.hide();\n  }\n\n  private onNewDataSourceButtonClick() {\n    this.dataSourceFormModalContent = new DataSourceFormModalContent({\n      type: 'new',\n    });\n    const modal = new Modal({\n      content: this.dataSourceFormModalContent.getElement(),\n      onClose: this.binded.onNewDataSourceModalClose,\n      shouldAutoFocusFirstElement: true,\n    });\n    this.dataSourceFormModalContent.init();\n    ModalManager.getSingleton().show(modal);\n    this.tippyInstaces.dataSources.hide();\n\n    window.Countly &&\n      window.Countly.add_event({\n        key: 'new_data_source_modal_opened',\n        count: 1,\n        segmentation: {},\n      });\n  }\n\n  private async onNewDataSourceModalClose(\n    triggerType: ModalCloseTriggerType,\n    data: any\n  ) {\n    if (this.dataSourceFormModalContent) {\n      this.dataSourceFormModalContent.dispose();\n      this.dataSourceFormModalContent = null;\n    }\n\n    if (\n      triggerType != ModalCloseTriggerType.CLOSE_METHOD_CALL ||\n      data.action != 'save'\n    ) {\n      return;\n    }\n\n    if (data.dataSource.id) {\n      // Editing already existing ds\n      await this.dsManager.update(data.dataSource);\n    } else {\n      // Creating a new ds\n      data.dataSource.id = shortid.generate();\n      await this.dsManager.add(data.dataSource);\n\n      window.Countly &&\n        window.Countly.add_event({\n          key: 'new_data_source_added',\n          count: 1,\n          segmentation: {\n            type: data.dataSource.type,\n          },\n        });\n    }\n  }\n\n  private onDataSourceSearchModalClosed(\n    triggerType: ModalCloseTriggerType,\n    data: any\n  ) {\n    if (triggerType != ModalCloseTriggerType.CLOSE_METHOD_CALL) return;\n    if (data?.action != 'addToStage') return;\n    (data.traces as Trace[]).forEach((t) => this.stage.addTrace(t));\n  }\n\n  dispose() {\n    const tooltipManager = TooltipManager.getSingleton();\n    tooltipManager.removeFromSingleton([\n      this.elements.btn.dataSources,\n      this.elements.btn.stageTraces,\n    ]);\n    for (let tippy of Object.values(this.tippyInstaces)) {\n      tippy.destroy();\n    }\n    this.tippyInstaces = null;\n\n    this.unbindEvents();\n    this.elements = null;\n  }\n}\n","import { Span } from '../interfaces';\nimport { Trace } from '../trace';\nimport { SpanGroupingOptions } from './span-grouping';\n\nexport default <SpanGroupingOptions>{\n  key: 'trace',\n  name: 'Trace',\n  groupBy: (span: Span, trace: Trace) => {\n    return [span.traceId, trace?.name || `Trace ${span.traceId}`];\n  },\n};\n","import { Span } from '../interfaces';\nimport { Trace } from '../trace';\nimport { SpanGroupingOptions } from './span-grouping';\nimport omit from 'lodash/omit';\nimport objectHash from 'object-hash';\n\nexport default <SpanGroupingOptions>{\n  key: 'process',\n  name: 'Process',\n  groupBy: (span: Span, trace: Trace) => {\n    let processId = 'unknown';\n    let processName = 'unknown';\n\n    // jaeger\n    if (span.process) {\n      // Don't care jaeger's trace specific process ids like p1, p2...\n      processId = objectHash(omit(span.process, 'id'));\n      processName = span.process.serviceName;\n    }\n\n    // zipkin\n    if (span.localEndpoint) {\n      const ipv4 = span.localEndpoint.ipv4 || '';\n      const port = span.localEndpoint.port || '';\n      processId = `${span.localEndpoint.serviceName}:${ipv4}:${port}`;\n      processName = span.localEndpoint.serviceName;\n      if (ipv4 || port) {\n        processName += ` (${ipv4}:${port})`;\n      }\n    }\n\n    return [processId, processName];\n  },\n};\n","import { Span } from '../interfaces';\nimport { Trace } from '../trace';\nimport { SpanGroupingOptions } from './span-grouping';\n\nexport default <SpanGroupingOptions>{\n  key: 'service-name',\n  name: 'Service',\n  groupBy: (span: Span, trace: Trace) => {\n    let serviceName = serviceNameOf(span) || 'unknown';\n    return [serviceName, serviceName];\n  },\n};\n\nexport function serviceNameOf(span: Span) {\n  let serviceName: string;\n  if (span.process) serviceName = span.process.serviceName;\n  if (span.localEndpoint) serviceName = span.localEndpoint.serviceName;\n  return serviceName;\n}\n","import * as monaco from 'monaco-editor/esm/vs/editor/editor.api';\nimport * as languageFeatures from 'monaco-editor/esm/vs/language/typescript/languageFeatures';\nimport DefaultInterfacesRawText from '!!raw-loader!../../model/interfaces.ts';\n\nlet _singletonIns: TypeScriptManager;\n\nexport class TypeScriptManager {\n  private defaultInterfacesDisposable?: monaco.IDisposable;\n\n  static getSingleton() {\n    if (!_singletonIns) _singletonIns = new TypeScriptManager();\n    return _singletonIns;\n  }\n\n  async init() {\n    // TypeScriptManager.patchMonacoTypescriptToIgnoreDiagnostics();\n\n    // monaco.languages.typescript.typescriptDefaults.setDiagnosticsOptions({\n    //   diagnosticCodesToIgnore: [/*top-level return*/ 1108]\n    // } as any);\n\n    monaco.languages.typescript.typescriptDefaults.setCompilerOptions({\n      allowNonTsExtensions: true, // this is required somehow\n      target: monaco.languages.typescript.ScriptTarget.ES2015,\n      module: monaco.languages.typescript.ModuleKind.None,\n    });\n\n    this.defaultInterfacesDisposable = monaco.languages.typescript.typescriptDefaults.addExtraLib(\n      DefaultInterfacesRawText.replace(/export/g, '')\n    );\n  }\n\n  async compile(uri: monaco.Uri) {\n    const worker = await monaco.languages.typescript.getTypeScriptWorker();\n    const client = await worker(uri);\n    const input = uri.toString();\n    const result = await client.getEmitOutput(input);\n    const output = result.outputFiles[0].text;\n    return output;\n  }\n\n  static generateFunction(code: string, functionName: string) {\n    return new Function(`${code}; return ${functionName};`)();\n  }\n\n  /**\n   * Patch version of:\n   * https://github.com/microsoft/monaco-typescript/pull/46\n   */\n  static patchMonacoTypescriptToIgnoreDiagnostics() {\n    // Original code taken from:\n    // https://github.com/microsoft/monaco-typescript/blob/3596f46e41922104181cda3ed981f5a25246882e/src/languageFeatures.ts#L159-L190\n    languageFeatures.DiagnostcsAdapter.prototype._doValidate = function (\n      resource: monaco.Uri\n    ): void {\n      this._worker(resource)\n        .then((worker: any) => {\n          if (!monaco.editor.getModel(resource)) {\n            // model was disposed in the meantime\n            return null;\n          }\n          const promises: Promise<any[]>[] = [];\n          const {\n            noSyntaxValidation,\n            noSemanticValidation,\n          } = this._defaults.getDiagnosticsOptions();\n          if (!noSyntaxValidation) {\n            promises.push(worker.getSyntacticDiagnostics(resource.toString()));\n          }\n          if (!noSemanticValidation) {\n            promises.push(worker.getSemanticDiagnostics(resource.toString()));\n          }\n          return Promise.all(promises);\n        })\n        .then((diagnostics: any) => {\n          if (!diagnostics || !monaco.editor.getModel(resource)) {\n            // model was disposed in the meantime\n            return;\n          }\n          const markers = diagnostics\n            .reduce((p: any, c: any) => c.concat(p), [])\n            // ====> PATCH STARTED\n            .filter(\n              (d: any) =>\n                (\n                  this._defaults.getDiagnosticsOptions()\n                    .diagnosticCodesToIgnore || []\n                ).indexOf(d.code) === -1\n            )\n            // ====> PATCH ENDED\n            .map((d: any) => this._convertDiagnostics(resource, d));\n\n          monaco.editor.setModelMarkers(\n            monaco.editor.getModel(resource) as any,\n            this._selector,\n            markers\n          );\n        })\n        .then(undefined, (err: any) => {\n          console.error(err);\n        });\n    };\n  }\n}\n","export default \"/**\\n * This file is going to be used by customization components\\n * for monaca editor.\\n */\\n\\nexport interface SpanLog {\\n  /**\\n   * Log timestamp, in us\\n   */\\n  timestamp: number;\\n  /**\\n   * Log `fields` object\\n   */\\n  fields: { [key: string]: string };\\n}\\n\\nexport interface Span {\\n  /**\\n   * Span ID\\n   */\\n  id: string;\\n  /**\\n   * Span's Trace ID\\n   */\\n  traceId: string;\\n  /**\\n   * Operation name\\n   */\\n  operationName: string;\\n  /**\\n   * Span start timestamp, in us\\n   */\\n  startTime: number;\\n  /**\\n   * Span finish timestamp, in us\\n   */\\n  finishTime: number; // us\\n  /**\\n   * Span reference objects\\n   */\\n  references: {\\n    type: 'childOf' | 'followsFrom';\\n    spanId: string;\\n    traceId: string;\\n  }[];\\n  /**\\n   * Span tags object\\n   */\\n  tags: { [key: string]: string };\\n  /**\\n   * Span logs array\\n   */\\n  logs: SpanLog[];\\n  /**\\n   * Jaeger-specific `process` object\\n   */\\n  process?: {\\n    /**\\n     * Service name\\n     */\\n    serviceName: string;\\n    /**\\n     * Jaeger gives id like: `p1`, `p2`...\\n     */\\n    id: string; // `p1`, `p2` like\\n    /**\\n     * Process tags object\\n     */\\n    tags: { [key: string]: string };\\n  };\\n  /**\\n   * Zipkin-specific `localEndpoint` object\\n   */\\n  localEndpoint?: {\\n    /**\\n     * Service name\\n     */\\n    serviceName: string;\\n    ipv4?: string;\\n    port?: number;\\n  };\\n}\\n\\nexport interface Trace {\\n  /**\\n   * Spans array\\n   */\\n  spans: Span[];\\n  /**\\n   * Timestamp of the earliest span in us\\n   */\\n  startTime: number;\\n  /**\\n   * Finish timestamp of the latest span in us\\n   */\\n  finishTime: number;\\n  /**\\n   * Duration of a trace in us (finishTime - startTime)\\n   */\\n  duration: number;\\n  /**\\n   * Root span\\n   */\\n  rootSpan: Span | undefined;\\n  /**\\n   * Trace ID\\n   */\\n  id: string;\\n  /**\\n   * Root span's operation name (if exists)\\n   */\\n  name: string | undefined;\\n  /**\\n   * Total span count\\n   */\\n  spanCount: number;\\n  /**\\n   * Count of spans that have `error` tag\\n   */\\n  errorCount: number;\\n}\\n\";","import find from 'lodash/find';\nimport remove from 'lodash/remove';\nimport EventEmitter from 'events';\nimport { SpanGroupingOptions, SpanGroupingRawOptions } from './span-grouping';\nimport TraceGrouping from './trace';\nimport ProcessGrouping from './process';\nimport ServiceNameGrouping from './service-name';\nimport db from '../db';\nimport { TypeScriptManager } from '../../components/customization/typescript-manager';\n\nexport enum SpanGroupingManagerEvent {\n  ADDED = 'sgm_added',\n  REMOVED = 'sgm_removed',\n}\n\nlet singletonIns: SpanGroupingManager;\n\nexport class SpanGroupingManager extends EventEmitter {\n  private builtInSpanGroupings: SpanGroupingOptions[] = [\n    TraceGrouping,\n    ProcessGrouping,\n    ServiceNameGrouping,\n  ];\n  private customSpanGroupings: SpanGroupingOptions[] = [];\n\n  static getSingleton(): SpanGroupingManager {\n    if (!singletonIns) singletonIns = new SpanGroupingManager();\n    return singletonIns;\n  }\n\n  async init() {\n    await db.open();\n    const rawOptions = await db.spanGroupings.toArray();\n    await Promise.all(rawOptions.map((raw) => this.add(raw, true)));\n  }\n\n  async add(raw: SpanGroupingRawOptions, doNotPersistToDatabase = false) {\n    const allGroupingClasses = [\n      ...this.builtInSpanGroupings,\n      ...this.customSpanGroupings,\n    ];\n    const options: SpanGroupingOptions = {\n      key: raw.key,\n      name: raw.name,\n      groupBy: TypeScriptManager.generateFunction(raw.compiledCode, 'groupBy'),\n    };\n\n    const keyMatch = find(allGroupingClasses, (c) => c.key === options.key);\n    if (keyMatch) {\n      return false;\n    }\n\n    this.customSpanGroupings.push(options);\n\n    if (!doNotPersistToDatabase) await db.spanGroupings.put(raw);\n\n    this.emit(SpanGroupingManagerEvent.ADDED, options);\n    return true;\n  }\n\n  async remove(groupingKey: string) {\n    const removeds = remove(\n      this.customSpanGroupings,\n      (c) => c.key === groupingKey\n    );\n    if (removeds.length === 0) return false;\n    await db.spanGroupings.delete(groupingKey);\n    this.emit(SpanGroupingManagerEvent.REMOVED, removeds);\n    return true;\n  }\n\n  getOptions(groupingKey: string) {\n    const allGroupingClasses = [\n      ...this.builtInSpanGroupings,\n      ...this.customSpanGroupings,\n    ];\n    return find(allGroupingClasses, (c) => c.key === groupingKey);\n  }\n}\n","import defaults from 'lodash/defaults';\nimport shuffle from 'lodash/shuffle';\nimport remove from 'lodash/remove';\nimport isNumber from 'lodash/isNumber';\nimport palette from 'google-palette';\n\ninterface MPN65ColorAssignerOptions {\n  shuffle?: boolean;\n  excludeColors?: string[];\n}\n\n/**\n * mpn65 color palette\n * http://google.github.io/palette.js/\n */\nexport class MPN65ColorAssigner {\n  private index = 0;\n  private colors: string[] = [];\n  private keyColorIndexMap: { [key: string]: number } = {};\n\n  constructor(options?: MPN65ColorAssignerOptions) {\n    options = defaults({}, options || {}, {\n      shuffle: false,\n      excludeColors: [\n        'ff0029',\n        '000000',\n        '252525',\n        '525252',\n        '737373',\n        '969696',\n        'bdbdbd',\n        'f43600',\n        'e7298a',\n        'e43872',\n      ],\n    });\n    const rawColors: string[] = options.shuffle\n      ? shuffle(palette('mpn65', 65))\n      : palette('mpn65', 65);\n\n    if (options.excludeColors!.length > 0) {\n      remove(rawColors, (c) => options!.excludeColors!.indexOf(c) > -1);\n    }\n\n    this.colors = rawColors.map((c: string) => `#${c}`);\n  }\n\n  colorFor(key: string) {\n    let index = this.keyColorIndexMap[key];\n    if (!isNumber(index)) {\n      index = this.index;\n      this.keyColorIndexMap[key] = index;\n      this.index = (this.index + 1) % this.colors.length;\n    }\n    return this.colors[index];\n  }\n\n  reset() {\n    this.index = 0;\n    this.keyColorIndexMap = {};\n  }\n}\n\nexport default MPN65ColorAssigner;\n","import find from 'lodash/find';\nimport remove from 'lodash/remove';\nimport isObject from 'lodash/isObject';\nimport EventEmitter from 'events';\nimport MPN65ColorAssigner from '../components/ui/color-assigner-mpn65';\nimport { Span } from './interfaces';\nimport db from './db';\nimport { TypeScriptManager } from './../components/customization/typescript-manager';\nimport * as chroma from 'chroma-js';\nimport { Stage } from './stage';\n\nexport enum SpanColoringManagerEvent {\n  ADDED = 'scm_added',\n  REMOVED = 'scm_removed',\n}\n\nexport interface SpanColoringRawOptions {\n  key: string;\n  name: string;\n  rawCode: string;\n  compiledCode: string;\n}\n\nexport interface SpanColoringOptions {\n  key: string;\n  name: string;\n  colorBy: (span: Span) => string;\n}\n\nlet singletonIns: SpanColoringManager;\n\nexport class SpanColoringManager extends EventEmitter {\n  private builtInOptions: SpanColoringOptions[] = [\n    operationColoringOptions,\n    serviceColoringOptions,\n    selfTimeColoringOptions,\n  ];\n  private customOptions: SpanColoringOptions[] = [];\n\n  static getSingleton(): SpanColoringManager {\n    if (!singletonIns) singletonIns = new SpanColoringManager();\n    return singletonIns;\n  }\n\n  async init() {\n    await db.open();\n    const rawOptions = await db.spanColorings.toArray();\n    await Promise.all(rawOptions.map((raw) => this.add(raw, true)));\n  }\n\n  async add(raw: SpanColoringRawOptions, doNotPersistToDatabase = false) {\n    const allOptions = [...this.builtInOptions, ...this.customOptions];\n\n    const options: SpanColoringOptions = {\n      key: raw.key,\n      name: raw.name,\n      colorBy: TypeScriptManager.generateFunction(raw.compiledCode, 'colorBy'),\n    };\n\n    const keyMatch = find(allOptions, (c) => c.key === options.key);\n    if (keyMatch) {\n      return false;\n    }\n\n    this.customOptions.push(options);\n\n    if (!doNotPersistToDatabase) await db.spanColorings.put(raw);\n\n    this.emit(SpanColoringManagerEvent.ADDED, options);\n    return true;\n  }\n\n  async remove(coloringKey: string) {\n    const removeds = remove(this.customOptions, (c) => c.key === coloringKey);\n    if (removeds.length === 0) return false;\n    await db.spanColorings.delete(coloringKey);\n    this.emit(SpanColoringManagerEvent.REMOVED, removeds);\n    return true;\n  }\n\n  getOptions(coloringKey: string) {\n    const allOptions = [...this.builtInOptions, ...this.customOptions];\n    return find(allOptions, (c) => c.key === coloringKey);\n  }\n}\n\nexport const operationColorAssigner = new MPN65ColorAssigner();\nexport const operationColoringOptions: SpanColoringOptions = {\n  key: 'operation',\n  name: 'Operation',\n  colorBy: (span) => operationColorAssigner.colorFor(span.operationName),\n};\n\nexport const serviceColorAssigner = new MPN65ColorAssigner();\nexport const serviceColoringOptions: SpanColoringOptions = {\n  key: 'service',\n  name: 'Service',\n  colorBy: (span) => {\n    let serviceName = '';\n\n    // Jaeger\n    if (isObject(span.process) && span.process.serviceName) {\n      serviceName = span.process.serviceName;\n    } else if (isObject(span.localEndpoint) && span.localEndpoint.serviceName) {\n      // Zipkin\n      serviceName = span.localEndpoint.serviceName;\n    }\n\n    return serviceColorAssigner.colorFor(serviceName);\n  },\n};\n\nexport const selfTimeColoringScale = chroma\n  .scale('RdYlBu')\n  .padding([-0.15, 0.3]);\nexport const selfTimeColoringOptions: SpanColoringOptions = {\n  key: 'selfTime',\n  name: 'Self Time',\n  colorBy: (span) => {\n    const stage = Stage.getSingleton();\n    const selfTime = stage.getSpanSelfTime(span.id);\n    const selfTimeStats = stage.getSpanSelfTimeStats();\n\n    if (!selfTime || !selfTimeStats) {\n      return selfTimeColoringScale(0.5).hex();\n    }\n\n    const ratio =\n      (selfTime - selfTimeStats.min) / (selfTimeStats.max - selfTimeStats.min);\n    return selfTimeColoringScale(1 - ratio).hex();\n  },\n};\n","import find from 'lodash/find';\nimport remove from 'lodash/remove';\nimport isObject from 'lodash/isObject';\nimport EventEmitter from 'events';\nimport { Span } from './interfaces';\nimport db from './db';\nimport { TypeScriptManager } from './../components/customization/typescript-manager';\n\nexport enum SpanLabellingManagerEvent {\n  ADDED = 'slm_added',\n  REMOVED = 'slm_removed',\n}\n\nexport interface SpanLabellingRawOptions {\n  key: string;\n  name: string;\n  rawCode: string;\n  compiledCode: string;\n}\n\nexport interface SpanLabellingOptions {\n  key: string;\n  name: string;\n  labelBy: (span: Span) => string;\n}\n\nlet singletonIns: SpanLabellingManager;\n\nexport class SpanLabellingManager extends EventEmitter {\n  private builtInOptions: SpanLabellingOptions[] = [\n    operationLabellingOptions,\n    serviceOperationLabellingOptions,\n  ];\n  private customOptions: SpanLabellingOptions[] = [];\n\n  static getSingleton(): SpanLabellingManager {\n    if (!singletonIns) singletonIns = new SpanLabellingManager();\n    return singletonIns;\n  }\n\n  async init() {\n    await db.open();\n    const rawOptions = await db.spanLabellings.toArray();\n    await Promise.all(rawOptions.map((raw) => this.add(raw, true)));\n  }\n\n  async add(raw: SpanLabellingRawOptions, doNotPersistToDatabase = false) {\n    const allOptions = [...this.builtInOptions, ...this.customOptions];\n\n    const options: SpanLabellingOptions = {\n      key: raw.key,\n      name: raw.name,\n      labelBy: TypeScriptManager.generateFunction(raw.compiledCode, 'labelBy'),\n    };\n\n    const keyMatch = find(allOptions, (c) => c.key === options.key);\n    if (keyMatch) {\n      return false;\n    }\n\n    this.customOptions.push(options);\n\n    if (!doNotPersistToDatabase) await db.spanLabellings.put(raw);\n\n    this.emit(SpanLabellingManagerEvent.ADDED, options);\n    return true;\n  }\n\n  async remove(labellingKey: string) {\n    const removeds = remove(this.customOptions, (c) => c.key === labellingKey);\n    if (removeds.length === 0) return false;\n    await db.spanLabellings.delete(labellingKey);\n    this.emit(SpanLabellingManagerEvent.REMOVED, removeds);\n    return true;\n  }\n\n  getOptions(labellingKey: string) {\n    const allOptions = [...this.builtInOptions, ...this.customOptions];\n    return find(allOptions, (c) => c.key === labellingKey);\n  }\n}\n\nexport const operationLabellingOptions: SpanLabellingOptions = {\n  key: 'operation',\n  name: 'Operation',\n  labelBy: (span) => span.operationName,\n};\n\nexport const serviceOperationLabellingOptions: SpanLabellingOptions = {\n  key: 'service-operation',\n  name: 'Service + Operation',\n  labelBy: (span) => {\n    let serviceName = '';\n\n    // Jaeger\n    if (isObject(span.process) && span.process.serviceName) {\n      serviceName = span.process.serviceName;\n    } else if (isObject(span.localEndpoint) && span.localEndpoint.serviceName) {\n      // Zipkin\n      serviceName = span.localEndpoint.serviceName;\n    }\n\n    return `${serviceName}${serviceName ? '::' : ''}${span.operationName}`;\n  },\n};\n","import isNumber from 'lodash/isNumber';\nimport { Span, Trace as ITrace } from './interfaces';\n\nexport class Trace implements ITrace {\n  readonly spans: Span[];\n  readonly startTime = Infinity;\n  readonly finishTime = -Infinity;\n  readonly duration: number;\n  readonly rootSpan: Span | undefined;\n  readonly id: string;\n  readonly name: string;\n  readonly spanCount: number;\n  readonly spanCountsByService: { [key: string]: number } = {};\n  readonly errorCount: number = 0;\n\n  constructor(spans: Span[]) {\n    this.spans = spans;\n    this.spanCount = spans.length;\n    let traceId = null;\n\n    for (let span of spans) {\n      this.startTime = Math.min(this.startTime, span.startTime);\n      this.finishTime = Math.max(this.finishTime, span.finishTime);\n\n      if (!traceId) {\n        traceId = span.traceId;\n      } else {\n        if (span.traceId != traceId) {\n          throw new Error(`All the spans' \"traceId\" must be equal`);\n        }\n      }\n\n      const inTraceReferences = span.references.filter(\n        (ref) => ref.traceId == span.traceId\n      );\n      if (inTraceReferences.length === 0) {\n        this.rootSpan = span;\n      }\n\n      const serviceName = span.process\n        ? span.process.serviceName\n        : span.localEndpoint\n        ? span.localEndpoint.serviceName\n        : null;\n\n      if (serviceName) {\n        if (!isNumber(this.spanCountsByService[serviceName])) {\n          this.spanCountsByService[serviceName] = 0;\n        }\n        this.spanCountsByService[serviceName]++;\n      }\n\n      if (span.tags.hasOwnProperty('error')) this.errorCount++;\n    }\n\n    this.duration = this.finishTime - this.startTime;\n    if (this.rootSpan) {\n      this.name = this.rootSpan.operationName;\n      this.id = this.rootSpan.traceId;\n    } else {\n      this.name = '<no-root-span>';\n      this.id = traceId;\n    }\n  }\n}\n\nexport default Trace;\n","import chroma from 'chroma-js';\n\nconst WHITE = chroma('white');\nconst BLACK = chroma('black');\n\nexport function textColorFor(hex: string) {\n  const color = chroma(hex);\n  const contrastWithWhite = chroma.contrast(color, WHITE);\n  const contrastWithBlack = chroma.contrast(color, BLACK);\n  const textColor = contrastWithWhite >= contrastWithBlack ? '#fff' : '#000';\n\n  return textColor;\n}\n","export const TimelineInteractableElementAttribute = 'data-view-type';\n\nexport enum TimelineInteractableElementType {\n  GROUP_VIEW_LABEL_TEXT = 'group_view_label_text',\n  SPAN_VIEW_CONTAINER = 'span_view_container',\n  SPAN_CONNECTION = 'span_connection',\n}\n\nexport interface TimelineInteractedElementObject {\n  type: TimelineInteractableElementType;\n  element: SVGElement;\n}\n","/**\n * Zipkin:\n * - https://github.com/openzipkin/zipkin-api/blob/master/thrift/zipkinCore.thrift\n * - span has `error` tag, and its value is whatever\n * - span has `http.status_code` tag, and its value >= 500\n *    - this kind of error is not explicity indicated with red\n * - any annotation value contains `error` keyword (not tag)\n *    - this is indicated with yellow mark (https://github.com/openzipkin/zipkin/issues/2138#issuecomment-405787230)\n *    - TODO: This not a bad idea!\n *\n * Jaeger:\n * - https://github.com/opentracing/specification/blob/master/semantic_conventions.md\n * - span has `error` tag, and its value is `true`\n * - `http.status_code` tag >= 500\n *    - jaeger does nothing special with these spans\n * - log has `event` field, and its value is `error`\n * - log has `error` field, and its value is whatever (in hotrod demo)\n * - log has `level` field, and its value is `error` (in hotrod demo)\n */\n\nimport { Span, SpanLog } from './interfaces';\n\nexport function checkSpan(span: Span) {\n  return span.tags.hasOwnProperty('error');\n}\n\nexport function checkTag(key: string, value: any) {\n  if (key == 'error') return true;\n  return false;\n}\n\nexport function checkLog(log: SpanLog) {\n  for (const key in log.fields) {\n    const value = log.fields[key];\n    if (checkLogField(key, value)) return true;\n  }\n  return false;\n}\n\nexport function checkLogField(key: string, value: any) {\n  if (key == 'error') return true;\n  if (key == 'event' && value == 'error') return true;\n  if (key == 'level' && value == 'error') return true;\n  return false;\n}\n","import find from 'lodash/find';\nimport defaults from 'lodash/defaults';\nimport { Span, SpanLog } from '../../model/interfaces';\nimport * as shortid from 'shortid';\nimport { textColorFor } from '../ui/color-helper';\nimport {\n  TimelineInteractableElementAttribute,\n  TimelineInteractableElementType,\n} from './interaction';\nimport Axis from './axis';\nimport chroma from 'chroma-js';\nimport * as ErrorDetection from '../../model/error-detection';\n\nconst SVG_NS = 'http://www.w3.org/2000/svg';\n\nexport interface SpanViewStyle {\n  barRadius: number;\n  barHeight: number;\n  barMinWidth: number;\n  barMarginVertical: number;\n  labelFontSize: number;\n  labelOffsetLeft: number;\n  labelSnappedOffsetLeft: number;\n  labelOffsetTop: number;\n  errorTriangleSize: number;\n  errorTriangleColor: string;\n}\n\nexport interface SpanViewComputedStyles extends SpanViewStyle {\n  width: number;\n  x: number;\n  y: number;\n  rowHeight: number; // barHeight + 2 * verticalMargin\n  barColorDefault: string;\n  barColorHover: string;\n  labelColor: string;\n  borderColor: string;\n}\n\nexport interface SpanViewSharedOptions {\n  axis: Axis;\n  labelFor: (span: Span) => string;\n  colorFor: (span: Span) => string;\n}\n\nexport interface SpanLogViewObject {\n  id: string;\n  line: SVGLineElement;\n  log: SpanLog;\n}\n\nexport class SpanView {\n  span: Span;\n  private sharedOptions: SpanViewSharedOptions;\n\n  private container = document.createElementNS(SVG_NS, 'g');\n  private barRect = document.createElementNS(SVG_NS, 'rect');\n  private labelText = document.createElementNS(SVG_NS, 'text');\n  private clipPath = document.createElementNS(SVG_NS, 'clipPath');\n  private clipPathRect = document.createElementNS(SVG_NS, 'rect');\n  private errorTriangle = document.createElementNS(SVG_NS, 'polygon');\n  private logViews: SpanLogViewObject[] = [];\n\n  private readonly computedStyles: SpanViewComputedStyles;\n\n  constructor(options: {\n    span: Span;\n    sharedOptions: SpanViewSharedOptions;\n    style?: Partial<SpanViewStyle>;\n  }) {\n    this.span = options.span;\n    this.sharedOptions = options.sharedOptions;\n\n    const style = defaults(options.style, {\n      barRadius: 1,\n      barHeight: 18,\n      barMinWidth: 1,\n      barMarginVertical: 3,\n      labelFontSize: 10,\n      labelOffsetLeft: 5,\n      labelSnappedOffsetLeft: 5,\n      labelOffsetTop: 1,\n      errorTriangleColor: '#ff0000',\n      errorTriangleSize: 10,\n    } as SpanViewStyle);\n    this.computedStyles = {\n      ...style,\n      width: 0,\n      x: 0,\n      y: 0,\n      rowHeight: 2 * style.barMarginVertical + style.barHeight,\n      barColorDefault: '',\n      barColorHover: '',\n      labelColor: '',\n      borderColor: '',\n    };\n\n    this.container.style.cursor = 'pointer';\n    this.labelText.style.cursor = 'pointer';\n\n    this.barRect.setAttribute('x', '0');\n    this.barRect.setAttribute('y', '0');\n    this.barRect.setAttribute('rx', style.barRadius + '');\n    this.barRect.setAttribute('ry', style.barRadius + '');\n    this.barRect.setAttribute('height', style.barHeight + '');\n    this.container.appendChild(this.barRect);\n\n    this.errorTriangle.setAttribute('fill', style.errorTriangleColor);\n\n    this.labelText.setAttribute('x', style.labelOffsetLeft + '');\n    this.labelText.setAttribute(\n      'y',\n      style.barHeight / 2 + style.barMarginVertical + style.labelOffsetTop + ''\n    );\n    this.labelText.setAttribute('font-size', style.labelFontSize + '');\n    // this.labelText.setAttribute('font-weight', '600');\n\n    this.clipPathRect.setAttribute('rx', style.barRadius + '');\n    this.clipPathRect.setAttribute('ry', style.barRadius + '');\n    this.clipPathRect.setAttribute('height', style.barHeight + '');\n    this.clipPath.appendChild(this.clipPathRect);\n  }\n\n  mount(options: { parent: SVGGElement; svgDefs: SVGDefsElement }) {\n    options.parent.appendChild(this.container);\n    options.svgDefs.appendChild(this.clipPath);\n  }\n\n  unmount() {\n    const parent1 = this.container.parentElement;\n    parent1?.removeChild(this.container);\n\n    const parent2 = this.clipPath.parentElement;\n    parent2?.removeChild(this.clipPath);\n  }\n\n  // can throw\n  // - this.sharedOptions.colorFor\n  // - this.updateLabelText\n  reuse(span: Span) {\n    this.span = span;\n\n    const baseColor = this.sharedOptions.colorFor(span);\n    this.computedStyles.barColorDefault = chroma(baseColor).alpha(0.75).css();\n    this.computedStyles.barColorHover = chroma(baseColor).alpha(1.0).css();\n    const textColor = textColorFor(this.computedStyles.barColorDefault);\n    this.computedStyles.labelColor = textColor;\n    this.computedStyles.borderColor = chroma(baseColor)\n      .darken(1)\n      .alpha(1.0)\n      .css();\n\n    this.updateColorStyle('normal');\n    this.updateLabelText();\n    this.hideLabel();\n\n    this.container.setAttribute(\n      TimelineInteractableElementAttribute,\n      TimelineInteractableElementType.SPAN_VIEW_CONTAINER\n    );\n    this.container.setAttribute('data-span-id', span.id);\n    this.clipPath.id = `clip-path-span-${span.id}`;\n    this.labelText.setAttribute('clip-path', `url(#${this.clipPath.id})`);\n\n    if (ErrorDetection.checkSpan(span)) {\n      this.errorTriangle.setAttribute('clip-path', `url(#${this.clipPath.id})`);\n      this.container.appendChild(this.errorTriangle);\n    } else if (this.errorTriangle.parentElement) {\n      this.errorTriangle.removeAttribute('clip-path');\n      this.errorTriangle.parentElement.removeChild(this.errorTriangle);\n    }\n\n    const { x, barHeight } = this.computedStyles;\n    this.logViews.forEach((l) => this.container.removeChild(l.line));\n\n    this.logViews = this.span.logs.map((log) => {\n      const id = shortid.generate();\n      const line = document.createElementNS(SVG_NS, 'line');\n      line.setAttribute('y1', '-4');\n      line.setAttribute('y2', barHeight + 4 + '');\n      line.setAttribute('stroke', 'rgba(0, 0, 0, 0.5)');\n      line.setAttribute('stroke-width', '1');\n      // line.setAttribute('clip-path', `url(#${this.clipPath.id})`);\n\n      let logAdjustmentX = 0;\n      if (ErrorDetection.checkLog(log)) {\n        line.setAttribute('stroke', 'rgba(176, 8, 13, 0.9)');\n        line.setAttribute('stroke-width', '2');\n        logAdjustmentX = -1;\n      }\n\n      const logX =\n        this.sharedOptions.axis.input2output(log.timestamp) -\n        x +\n        logAdjustmentX;\n      line.setAttribute('x1', logX + '');\n      line.setAttribute('x2', logX + '');\n\n      return { id, log, line };\n    });\n  }\n\n  dispose() {\n    this.unmount();\n  }\n\n  /**\n   * This method just updates options object, it does not\n   * change any style/view of the span. You need to explicitly\n   * call related `spanView.updateX()` method(s).\n   */\n  setSharedOptions(newSharedOptions: SpanViewSharedOptions) {\n    this.sharedOptions = newSharedOptions;\n  }\n\n  // Can throw\n  // - this.options.labelFor\n  updateLabelText() {\n    this.labelText.textContent = this.sharedOptions.labelFor(this.span);\n  }\n\n  updateColorStyle(style: 'normal' | 'hover' | 'selected') {\n    let barColor = this.computedStyles.barColorDefault;\n    let labelTextColor = this.computedStyles.labelColor;\n    let strokeWidth = 0;\n    let strokeColor = 'transparent';\n\n    if (style === 'hover') {\n      barColor = this.computedStyles.barColorHover;\n      strokeWidth = 0;\n      strokeColor = 'transparent';\n    } else if (style === 'selected') {\n      strokeWidth = 3;\n      strokeColor = this.computedStyles.borderColor;\n    }\n\n    this.barRect.setAttribute('fill', barColor);\n    this.barRect.setAttribute('stroke-width', strokeWidth + '');\n    this.barRect.setAttribute('stroke', strokeColor);\n    this.labelText.setAttribute('fill', labelTextColor);\n  }\n\n  updateVerticalPosition(rowIndex: number, dontApplyTransform = false) {\n    const { x, rowHeight, barMarginVertical } = this.computedStyles;\n    const y = rowIndex * rowHeight + barMarginVertical; // Relative y in pixels to group container\n    this.computedStyles.y = y;\n    !dontApplyTransform &&\n      this.container.setAttribute('transform', `translate(${x}, ${y})`);\n  }\n\n  updateHorizontalPosition() {\n    const { axis } = this.sharedOptions;\n    const { y, labelSnappedOffsetLeft, labelOffsetLeft } = this.computedStyles;\n    const x = axis.input2output(this.span.startTime);\n    this.computedStyles.x = x;\n    this.container.setAttribute('transform', `translate(${x}, ${y})`);\n\n    // Snap the label text to left of the screen\n    if (x < 0) {\n      this.labelText.setAttribute('x', -x + labelSnappedOffsetLeft + '');\n    } else {\n      this.labelText.setAttribute('x', labelOffsetLeft + '');\n    }\n\n    // Update logs\n    this.logViews.forEach((logView) => {\n      const logX = axis.input2output(logView.log.timestamp) - x;\n      logView.line.setAttribute('x1', logX + '');\n      logView.line.setAttribute('x2', logX + '');\n    });\n  }\n\n  updateWidth() {\n    const { axis } = this.sharedOptions;\n    const { barMinWidth, errorTriangleSize } = this.computedStyles;\n    const startX = axis.input2output(this.span.startTime);\n    const width = Math.max(\n      axis.input2output(this.span.finishTime) - startX,\n      barMinWidth\n    );\n    this.computedStyles.width = width;\n    this.barRect.setAttribute('width', width + '');\n    this.clipPathRect.setAttribute('width', width + '');\n    this.errorTriangle.setAttribute(\n      'points',\n      `${width - errorTriangleSize},0 ${width},0 ${width},${errorTriangleSize}`\n    );\n\n    this.labelText.setAttribute('display', width < 30 ? 'none' : '');\n  }\n\n  // can throw\n  // - this.sharedOptions.colorFor\n  updateColors() {\n    const baseColor = this.sharedOptions.colorFor(this.span);\n    this.computedStyles.barColorDefault = chroma(baseColor).alpha(0.8).css();\n    this.computedStyles.barColorHover = chroma(baseColor).alpha(1.0).css();\n    const textColor = textColorFor(this.computedStyles.barColorDefault);\n    this.computedStyles.labelColor = textColor;\n    this.computedStyles.borderColor = chroma(baseColor)\n      .darken(1)\n      .alpha(1.0)\n      .css();\n\n    this.barRect.setAttribute('fill', this.computedStyles.barColorDefault);\n    // this.barRect.setAttribute('stroke', ??); // TODO: We don't know what the current style is\n    this.labelText.setAttribute('fill', this.computedStyles.labelColor);\n  }\n\n  showLabel() {\n    if (!this.labelText.parentElement)\n      this.container.appendChild(this.labelText);\n  }\n\n  hideLabel() {\n    if (this.labelText.parentElement)\n      this.container.removeChild(this.labelText);\n  }\n\n  showLogs() {\n    this.logViews.forEach(({ line }) => this.container.appendChild(line));\n  }\n\n  hideLogs() {\n    this.logViews.forEach((l) => l.line.parentElement?.removeChild(l.line));\n  }\n\n  getLogViewById(logId: string) {\n    return find(this.logViews, (l) => l.id === logId);\n  }\n\n  getLogViews() {\n    return this.logViews;\n  }\n\n  // Get\n  getNearbyLogViews(absoluteX: number, threshold = 10) {\n    const logViews: { logView: SpanLogViewObject; distance: number }[] = [];\n    this.logViews.forEach((logView) => {\n      const logX = this.sharedOptions.axis.input2output(logView.log.timestamp);\n      const distance = Math.abs(absoluteX - logX);\n      if (distance > 10) return;\n      logViews.push({ logView, distance });\n    });\n    return logViews;\n  }\n\n  getComputedStyles() {\n    return this.computedStyles;\n  }\n\n  static getPropsFromContainer(el: Element) {\n    return {\n      id: el.getAttribute('data-span-id'),\n    };\n  }\n\n  static getPropsFromLogCircle(el: Element) {\n    return {\n      id: el.getAttribute('data-log-id'),\n      spanId: el.getAttribute('data-span-id'),\n    };\n  }\n}\n","import isNumber from 'lodash/isNumber';\nimport forEach from 'lodash/forEach';\nimport every from 'lodash/every';\nimport { SpanGroup } from '../../model/span-group/span-group';\nimport { SpanView, SpanViewSharedOptions } from './span-view';\nimport SpanGroupNode from '../../model/span-group/span-group-node';\nimport {\n  TimelineInteractableElementAttribute,\n  TimelineInteractableElementType,\n} from './interaction';\nimport defaults from 'lodash/defaults';\n\nconst SVG_NS = 'http://www.w3.org/2000/svg';\n\nexport enum SpanGroupLayoutType {\n  FILL = 'fill',\n  COMPACT = 'compact',\n  WATERFALL = 'waterfall',\n}\n\nexport class SpanGroupViewStyle {\n  spansContainerMarginTop: number;\n  spansContainerMarginBottom: number;\n  labelFontSize: number;\n  labelColor: string;\n  labelOffsetX: number;\n  labelOffsetY: number;\n  seperatorLineColor: string;\n  seperatorLineWidth: number;\n}\n\nexport class SpanGroupViewComputedStyles extends SpanGroupViewStyle {\n  y: number;\n  isCollapsed: boolean;\n  height: number; // in px\n}\n\nexport class SpanGroupView {\n  readonly spanGroup: SpanGroup;\n  private spanViews: { [key: string]: SpanView } = {};\n  private label: string;\n\n  private spansContainer = document.createElementNS(SVG_NS, 'g');\n  private seperatorLine = document.createElementNS(SVG_NS, 'line');\n  private labelText = document.createElementNS(SVG_NS, 'text');\n  private svgDefs?: SVGDefsElement;\n\n  private layoutType = SpanGroupLayoutType.FILL;\n  private rowsAndSpanIntervals: number[][][] = [];\n  private spanIdToRowIndex: { [key: string]: number } = {};\n\n  private readonly computedStyles: SpanGroupViewComputedStyles;\n\n  constructor(options: {\n    group: SpanGroup;\n    layoutType: SpanGroupLayoutType;\n    label?: string;\n    style?: Partial<SpanGroupViewStyle>;\n  }) {\n    this.spanGroup = options.group;\n    this.layoutType = options.layoutType;\n    this.label = options.label;\n\n    const style = defaults(options.style, {\n      spansContainerMarginTop: 20,\n      spansContainerMarginBottom: 10,\n      labelFontSize: 10,\n      labelColor: '#000',\n      labelOffsetX: 3,\n      labelOffsetY: 13,\n      seperatorLineColor: '#eee',\n      seperatorLineWidth: 1,\n    } as SpanGroupViewStyle);\n    this.computedStyles = {\n      ...style,\n      y: 0,\n      height: 0,\n      isCollapsed: false,\n    };\n    Object.defineProperty(this.computedStyles, 'height', {\n      get: () => {\n        const {\n          isCollapsed,\n          spansContainerMarginTop,\n          spansContainerMarginBottom,\n        } = this.computedStyles;\n        if (isCollapsed) {\n          return spansContainerMarginTop;\n        }\n\n        const rowHeight =\n          Object.values(this.spanViews)[0]?.getComputedStyles().rowHeight ?? 0;\n\n        return (\n          spansContainerMarginTop +\n          spansContainerMarginBottom +\n          this.rowsAndSpanIntervals.length * rowHeight\n        );\n      },\n    });\n\n    this.seperatorLine.setAttribute('x1', '0');\n    this.seperatorLine.setAttribute('x2', '0');\n    this.seperatorLine.setAttribute('y1', '0');\n    this.seperatorLine.setAttribute('y2', '0');\n    this.seperatorLine.setAttribute('stroke', style.seperatorLineColor);\n    this.seperatorLine.setAttribute(\n      'stroke-width',\n      style.seperatorLineWidth + ''\n    );\n\n    const prefixChar = this.computedStyles.isCollapsed ? '' : '';\n    this.labelText.textContent = `${prefixChar} ${\n      this.label || this.spanGroup.name\n    }`;\n    this.labelText.style.cursor = 'pointer';\n    this.labelText.setAttribute('fill', style.labelColor);\n    this.labelText.setAttribute('x', '0');\n    this.labelText.setAttribute('y', '0');\n    this.labelText.setAttribute('font-size', `${style.labelFontSize}px`);\n    this.labelText.setAttribute(\n      TimelineInteractableElementAttribute,\n      TimelineInteractableElementType.GROUP_VIEW_LABEL_TEXT\n    );\n    this.labelText.setAttribute('data-group-id', this.spanGroup.id);\n  }\n\n  // can throw\n  // - spanView.reuse\n  init(options: {\n    groupNamePanel: SVGGElement;\n    timelinePanel: SVGGElement;\n    svgDefs: SVGDefsElement;\n    spanViewSharedOptions: SpanViewSharedOptions;\n  }) {\n    options.timelinePanel.appendChild(this.spansContainer);\n    options.groupNamePanel.appendChild(this.seperatorLine);\n    options.groupNamePanel.appendChild(this.labelText);\n    this.svgDefs = options.svgDefs;\n\n    // Set-up span views\n    this.spanGroup.getAll().forEach((span) => {\n      // TODO: Reuse spanviews\n      const spanView = new SpanView({\n        span,\n        sharedOptions: options.spanViewSharedOptions,\n      });\n      spanView.reuse(span);\n      this.spanViews[span.id] = spanView;\n    });\n  }\n\n  dispose() {\n    // Unmount self\n    const parent1 = this.spansContainer.parentElement;\n    parent1?.removeChild(this.spansContainer);\n    const parent2 = this.seperatorLine.parentElement;\n    parent2?.removeChild(this.seperatorLine);\n    const parent3 = this.labelText.parentElement;\n    parent3?.removeChild(this.labelText);\n\n    // Unmount spans\n    const spanViews = Object.values(this.spanViews);\n    spanViews.forEach((v) => v.dispose());\n    this.spanViews = {};\n    // TODO: Re-use spanviews!\n\n    this.rowsAndSpanIntervals = [];\n    this.spanIdToRowIndex = {};\n  }\n\n  toggleView() {\n    this.computedStyles.isCollapsed = !this.computedStyles.isCollapsed;\n\n    const prefixChar = this.computedStyles.isCollapsed ? '' : '';\n    this.labelText.textContent = `${prefixChar} ${\n      this.label || this.spanGroup.name\n    }`;\n    // this.updateLabelTextDecoration();\n\n    this.layout();\n\n    return !this.computedStyles.isCollapsed;\n  }\n\n  getSpanViewById(spanId: string) {\n    return this.spanViews[spanId];\n  }\n\n  getAllSpanViews() {\n    return Object.values(this.spanViews);\n  }\n\n  setSpanViewSharedOptions(newOptions: SpanViewSharedOptions) {\n    Object.values(this.spanViews).forEach((s) =>\n      s.setSharedOptions(newOptions)\n    );\n  }\n\n  updatePosition(options: { y: number }) {\n    const {\n      labelOffsetX,\n      labelOffsetY,\n      spansContainerMarginTop,\n    } = this.computedStyles;\n    this.spansContainer.setAttribute(\n      'transform',\n      `translate(0, ${options.y + spansContainerMarginTop})`\n    );\n    this.seperatorLine.setAttribute('transform', `translate(0, ${options.y})`);\n    this.labelText.setAttribute(\n      'transform',\n      `translate(${labelOffsetX}, ${options.y + labelOffsetY})`\n    );\n    this.computedStyles.y = options.y;\n  }\n\n  updateSeperatorLineWidths(width: number) {\n    this.seperatorLine.setAttribute('x2', width + '');\n  }\n\n  updateLabelTextDecoration() {\n    this.labelText.setAttribute(\n      'text-decoration',\n      this.computedStyles.isCollapsed ? 'underline' : ''\n    );\n    this.labelText.setAttribute(\n      'font-style',\n      this.computedStyles.isCollapsed ? 'italic' : ''\n    );\n  }\n\n  bringSpanViewToTop(spanId: string) {\n    const spanView = this.spanViews[spanId];\n    spanView.mount({\n      parent: this.spansContainer,\n      svgDefs: this.svgDefs!,\n    });\n  }\n\n  setLayoutType(layoutType: SpanGroupLayoutType) {\n    this.layoutType = layoutType;\n    // TODO: Call .layout() maybe?\n  }\n\n  layout() {\n    this.rowsAndSpanIntervals = [];\n    this.spanIdToRowIndex = {};\n    const { spanGroup: group, spanViews } = this;\n    const nodeQueue: SpanGroupNode[] = [\n      ...group.rootNodes,\n      ...group.orphanNodes,\n    ].sort((a, b) => {\n      const spanA = group.get(a.spanId);\n      const spanB = group.get(b.spanId);\n      return spanA.startTime - spanB.startTime;\n    });\n\n    const allSpans = group.getAll();\n\n    // If collapsed, hide all the spans\n    if (this.computedStyles.isCollapsed) {\n      forEach(spanViews, (v) => v.unmount());\n\n      this.rowsAndSpanIntervals = [];\n      this.spanIdToRowIndex = {};\n\n      return;\n    }\n\n    // Depth-first search\n    let i = 0;\n    while (nodeQueue.length > 0) {\n      const node = nodeQueue.shift()!;\n      const spanView = spanViews[node.spanId];\n\n      const { startTime, finishTime } = spanView.span;\n      let availableRowIndex = 0;\n\n      switch (this.layoutType) {\n        case SpanGroupLayoutType.FILL: {\n          availableRowIndex = this.getAvailableRow({ startTime, finishTime });\n          break;\n        }\n        case SpanGroupLayoutType.COMPACT: {\n          let minRowIndex = 0;\n          if (node.parentOrFollows) {\n            let parentRowIndex = this.spanIdToRowIndex[\n              node.parentOrFollows.spanId\n            ];\n            if (isNumber(parentRowIndex)) minRowIndex = parentRowIndex + 1;\n          }\n          availableRowIndex = this.getAvailableRow({\n            startTime,\n            finishTime,\n            minRowIndex,\n          });\n          break;\n        }\n        case SpanGroupLayoutType.WATERFALL: {\n          availableRowIndex = i;\n          break;\n        }\n      }\n\n      if (!this.rowsAndSpanIntervals[availableRowIndex])\n        this.rowsAndSpanIntervals[availableRowIndex] = [];\n      this.rowsAndSpanIntervals[availableRowIndex].push([\n        startTime,\n        finishTime,\n      ]);\n      this.spanIdToRowIndex[node.spanId] = availableRowIndex;\n\n      spanView.showLabel();\n      spanView.updateWidth();\n      spanView.updateVerticalPosition(availableRowIndex, true);\n      spanView.updateHorizontalPosition();\n\n      spanView.mount({\n        parent: this.spansContainer,\n        svgDefs: this.svgDefs!,\n      });\n\n      node.children\n        .sort((a, b) => {\n          const spanA = group.get(a.spanId);\n          const spanB = group.get(b.spanId);\n          return spanA.startTime - spanB.startTime;\n        })\n        .reverse() // because we're unshifting\n        .forEach((childNode) => nodeQueue.unshift(childNode));\n\n      i++;\n    } // while loop ended\n  }\n\n  handleAxisTranslate() {\n    // Traverse just visible spans\n    Object.keys(this.spanIdToRowIndex).forEach((spanId) => {\n      const spanView = this.spanViews[spanId];\n      spanView.updateHorizontalPosition();\n    });\n  }\n\n  handleAxisZoom() {\n    // Traverse just visible spans\n    Object.keys(this.spanIdToRowIndex).forEach((spanId) => {\n      const spanView = this.spanViews[spanId];\n      const rowIndex = this.spanIdToRowIndex[spanId];\n      spanView.updateVerticalPosition(rowIndex, true);\n      spanView.updateHorizontalPosition();\n      spanView.updateWidth();\n    });\n  }\n\n  handleAxisUpdate() {\n    // Traverse just visible spans\n    Object.keys(this.spanIdToRowIndex).forEach((spanId) => {\n      const spanView = this.spanViews[spanId];\n      const rowIndex = this.spanIdToRowIndex[spanId];\n      spanView.updateVerticalPosition(rowIndex, true);\n      spanView.updateHorizontalPosition();\n      spanView.updateWidth();\n    });\n  }\n\n  /**\n   * TODO: Bunun daha efficent halini yazabilirsin:\n   * Her row'daki (`rowsAndSpanIntervals`) interval'larin sirali oldugundan eminsin\n   * Eger `options.finishTime` bir defa `interval[0]`den kucuk oldugunda hep kucuk olacak.\n   */\n  getAvailableRow(options: {\n    startTime: number;\n    finishTime: number;\n    minRowIndex?: number;\n  }) {\n    let rowIndex = options.minRowIndex || 0;\n    while (rowIndex < this.rowsAndSpanIntervals.length) {\n      const spanIntervals = this.rowsAndSpanIntervals[rowIndex];\n\n      const isRowAvaliable = every(spanIntervals, ([s, f]) => {\n        if (options.finishTime <= s) return true;\n        if (options.startTime >= f) return true;\n        return false;\n      });\n\n      if (isRowAvaliable) return rowIndex;\n      rowIndex++;\n    }\n\n    return rowIndex;\n  }\n\n  getComputedStyles() {\n    return this.computedStyles;\n  }\n\n  static getPropsFromLabelText(el: Element) {\n    return {\n      id: el.getAttribute('data-group-id'),\n    };\n  }\n}\n","// Borrowed from:\n// https://github.com/d3/d3-array/blob/master/src/ticks.js\n\nvar e10 = Math.sqrt(50),\n  e5 = Math.sqrt(10),\n  e2 = Math.sqrt(2);\n\nexport default function (start: number, stop: number, count: number) {\n  var reverse,\n    i = -1,\n    n,\n    ticks: number[],\n    step;\n\n  (stop = +stop), (start = +start), (count = +count);\n  if (start === stop && count > 0) return [start];\n  if ((reverse = stop < start)) (n = start), (start = stop), (stop = n);\n  if ((step = tickIncrement(start, stop, count)) === 0 || !isFinite(step))\n    return [];\n\n  if (step > 0) {\n    start = Math.ceil(start / step);\n    stop = Math.floor(stop / step);\n    ticks = new Array((n = Math.ceil(stop - start + 1)));\n    while (++i < n) ticks[i] = (start + i) * step;\n  } else {\n    start = Math.floor(start * step);\n    stop = Math.ceil(stop * step);\n    ticks = new Array((n = Math.ceil(start - stop + 1)));\n    while (++i < n) ticks[i] = (start - i) / step;\n  }\n\n  if (reverse) ticks.reverse();\n\n  return ticks;\n}\n\nfunction tickIncrement(start: number, stop: number, count: number) {\n  var step = (stop - start) / Math.max(0, count),\n    power = Math.floor(Math.log(step) / Math.LN10),\n    error = step / Math.pow(10, power);\n  return power >= 0\n    ? (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1) *\n        Math.pow(10, power)\n    : -Math.pow(10, -power) /\n        (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1);\n}\n\nexport function tickStep(start: number, stop: number, count: number) {\n  var step0 = Math.abs(stop - start) / Math.max(0, count),\n    step1 = Math.pow(10, Math.floor(Math.log(step0) / Math.LN10)),\n    error = step0 / step1;\n  if (error >= e10) step1 *= 10;\n  else if (error >= e5) step1 *= 5;\n  else if (error >= e2) step1 *= 2;\n  return stop < start ? -step1 : step1;\n}\n","import ticks from '../../utils/ticks';\n\nexport default class Axis {\n  private scale: number;\n  private offset: number;\n  private minScale: number;\n\n  constructor(\n    private inputRange: [number, number],\n    private outputRange: [number, number]\n  ) {\n    this.reset(inputRange, outputRange);\n  }\n\n  getInputRange() {\n    return this.inputRange.slice();\n  }\n\n  getOutputRange() {\n    return this.outputRange.slice();\n  }\n\n  /**\n   * Resets the both input and output domain range and re-inits\n   * scale & offset & minScale to fit them all.\n   *\n   * TODO: Generalize this logic like updateOutputRange(), but it accepts\n   * both input + output range and it will try to preserve current settings while\n   * updating all.\n   */\n  reset(inputRange: [number, number], outputRange: [number, number]) {\n    // Input range cannot be zero\n    if (inputRange[1] - inputRange[0] <= 0) {\n      inputRange[1] = inputRange[0] + 1;\n    }\n\n    this.inputRange = inputRange;\n    this.outputRange = outputRange;\n\n    this.scale =\n      (outputRange[1] - outputRange[0]) / (inputRange[1] - inputRange[0]);\n    this.offset = outputRange[0] - this.scale * inputRange[0];\n    this.minScale = this.scale;\n  }\n\n  /**\n   * Updates output domain range. It's used when window is resized.\n   * It tries to preserve current scale and offset, however they may change\n   * like when window size is increasing, scale may increase due to fill\n   * empty spaces.\n   */\n  updateOutputRange(outputRange: [number, number]) {\n    this.outputRange = outputRange;\n    this.minScale =\n      (outputRange[1] - outputRange[0]) /\n      (this.inputRange[1] - this.inputRange[0]);\n\n    if (this.scale < this.minScale) {\n      this.scale = this.minScale;\n      this.offset = outputRange[0] - this.scale * this.inputRange[0];\n    }\n\n    this.preventTranslatingOutOfRange();\n  }\n\n  input2output(x: number) {\n    return x * this.scale + this.offset;\n  }\n\n  output2input(y: number) {\n    return (y - this.offset) / this.scale;\n  }\n\n  zoom(factor: number, anchorOutputPoint: number) {\n    const newScale = Math.max(this.scale * factor, this.minScale);\n    if (newScale === this.scale) return;\n    this.scale = newScale;\n    this.offset = anchorOutputPoint * (1 - factor) + this.offset * factor;\n    this.preventTranslatingOutOfRange();\n  }\n\n  translate(delta: number) {\n    this.offset += delta;\n    this.preventTranslatingOutOfRange();\n  }\n\n  /**\n   * Without changing the original input and output ranges (which are actual\n   * domain boundaries), updates zoom and translation so that input range perfectly\n   * fits to output range. This is used for focusing selected spans according to viewport.\n   */\n  focus(inputRange: [number, number], outputRange: [number, number]) {\n    this.scale = Math.max(\n      (outputRange[1] - outputRange[0]) / (inputRange[1] - inputRange[0]),\n      this.minScale\n    );\n    this.offset = outputRange[0] - this.scale * inputRange[0];\n    this.preventTranslatingOutOfRange();\n  }\n\n  private preventTranslatingOutOfRange() {\n    const minInput = this.inputRange[0];\n    const minOutput = this.input2output(minInput);\n    if (minOutput > this.outputRange[0]) {\n      this.offset += this.outputRange[0] - minOutput;\n    }\n\n    const maxInput = this.inputRange[1];\n    const maxOutput = this.input2output(maxInput);\n    if (maxOutput < this.outputRange[1]) {\n      this.offset += this.outputRange[1] - maxOutput;\n    }\n  }\n\n  ticks(count: number) {\n    const originInput = this.inputRange[0];\n    // We want to use a time domain that t=0 is trace start\n    // Relative means \"relative to trace start\"\n    const visibleInputStart = this.output2input(this.outputRange[0]);\n    const visibleRelativeInputStart = visibleInputStart - originInput;\n    const visibleInputFinish = this.output2input(this.outputRange[1]);\n    const visibleRelativeFinishStart = visibleInputFinish - originInput;\n    return ticks(\n      visibleRelativeInputStart,\n      visibleRelativeFinishStart,\n      count\n    ).map((inputRelative: number) => {\n      const input = inputRelative + originInput; // in us probably\n      return {\n        inputRelative,\n        input,\n        output: this.input2output(input),\n      };\n    });\n  }\n}\n","import EventEmitter from 'events';\nimport { Machine, interpret, actions } from 'xstate';\n\nconst { send, cancel } = actions;\n\nconst DOUBLE_CLICK_WAIT_TIME = 0;\nconst PAN_DETECTION_DELTA_X = 3;\nconst PAN_DETECTION_DELTA_Y = 3;\n\nexport enum MouseHandlerEvent {\n  CLICK = 'gh_click',\n  DOUBLE_CLICK = 'gh_double_click',\n  PAN_START = 'gh_pan_start',\n  PAN_MOVE = 'gh_pan_move',\n  PAN_END = 'gh_pan_end',\n  WHEEL = 'gh_wheel',\n  IDLE_MOVE = 'gh_idle_move',\n  IDLE_LEAVE = 'gh_idle_leave',\n}\n\ninterface MouseHandlerStateSchema {\n  states: {\n    idle: {};\n    waitForInitialUp: {};\n    waitForSecondDown: {};\n    waitForSecondUp: {};\n    pan: {};\n  };\n}\n\ntype MouseHandlerStateEvent =\n  | { type: 'MOUSE_DOWN'; mouseEvent: MouseEvent }\n  | { type: 'MOUSE_MOVE'; mouseEvent: MouseEvent }\n  | { type: 'MOUSE_UP'; mouseEvent: MouseEvent }\n  | { type: 'MOUSE_LEAVE'; mouseEvent: MouseEvent }\n  | { type: 'DOUBLE_CLICK_TIMEOUT'; mouseEvent: MouseEvent };\n\ninterface MouseHandlerStateContext {\n  firstDown: MouseEvent | null;\n  secondDown: MouseEvent | null;\n}\n\nexport default class MouseHandler extends EventEmitter {\n  private machine = Machine<\n    MouseHandlerStateContext,\n    MouseHandlerStateSchema,\n    MouseHandlerStateEvent\n  >(\n    {\n      key: 'mouseHandlerStateMachine',\n      initial: 'idle',\n      context: { firstDown: null, secondDown: null },\n      states: {\n        idle: {\n          entry: ['clearFirstDown', 'clearSecondDown'],\n          on: {\n            MOUSE_DOWN: {\n              actions: ['saveEventAsFirstDown'],\n              target: 'waitForInitialUp',\n            },\n\n            MOUSE_UP: {\n              target: undefined,\n            },\n\n            MOUSE_MOVE: {\n              actions: ['emitdIdleMove'],\n              target: undefined,\n            },\n\n            MOUSE_LEAVE: {\n              actions: ['emitdIdleLeave'],\n              target: undefined,\n            },\n          },\n        },\n\n        waitForInitialUp: {\n          on: {\n            // Another mouse button is pressed,\n            // Ignore the initial down event and save the current one as initial down and stay in the same state\n            MOUSE_DOWN: [\n              {\n                actions: ['saveEventAsFirstDown'],\n                target: undefined,\n              },\n            ],\n\n            // A button is released\n            MOUSE_UP: [\n              // If another mouse button is released, ignore event\n              {\n                cond: {\n                  type: 'isDifferentButton',\n                  with: 'firstDown',\n                },\n                target: undefined, // noop\n              },\n              // We now know it's the same button\n              // If it's already too late for double click, emit click event\n              {\n                cond: {\n                  type: 'isTooLateForDoubleClick',\n                  with: 'initialDown',\n                },\n                actions: ['emitClickForFirstDown'],\n                target: 'idle',\n              },\n              // We have enough time to double click event\n              {\n                target: 'waitForSecondDown',\n              },\n            ],\n\n            // Mouse is moving while a button is being pressed\n            MOUSE_MOVE: [\n              {\n                cond: {\n                  type: 'isNearby',\n                  to: 'initialDown',\n                },\n                target: undefined,\n              },\n              // We now know user is panning\n              {\n                target: 'pan',\n              },\n            ],\n\n            // Mouse is leaved, ignore the event\n            MOUSE_LEAVE: {\n              target: 'idle',\n            },\n          },\n        },\n\n        waitForSecondDown: {\n          entry: 'setDoubleClickTimeout',\n          on: {\n            DOUBLE_CLICK_TIMEOUT: {\n              actions: ['clearDoubleClickTimeout', 'emitClickForFirstDown'],\n              target: 'idle',\n            },\n\n            MOUSE_DOWN: [\n              {\n                cond: {\n                  type: 'isDifferentButton',\n                  with: 'firstDown',\n                },\n                actions: [\n                  'clearDoubleClickTimeout',\n                  'emitClickForFirstDown',\n                  'saveEventAsFirstDown',\n                ],\n                target: 'waitForInitialUp',\n              },\n              // We now know it's the same button\n              {\n                actions: ['saveEventAsSecondDown'],\n                target: 'waitForSecondUp',\n              },\n            ],\n\n            MOUSE_MOVE: {\n              target: undefined,\n            },\n\n            MOUSE_UP: {\n              target: undefined,\n            },\n\n            MOUSE_LEAVE: {\n              actions: ['clearDoubleClickTimeout', 'emitClickForFirstDown'],\n              target: 'idle',\n            },\n          },\n        },\n\n        waitForSecondUp: {\n          on: {\n            DOUBLE_CLICK_TIMEOUT: {\n              actions: [\n                'clearDoubleClickTimeout',\n                'emitClickForFirstDown',\n                'saveEventAsFirstDown',\n              ],\n              target: 'waitForInitialUp',\n            },\n\n            // Another mouse button is pressed,\n            // Ignore the initial down event and save the current one as initial down and stay in the same state\n            MOUSE_DOWN: [\n              {\n                actions: [\n                  'clearDoubleClickTimeout',\n                  'emitClickForFirstDown',\n                  'saveEventAsFirstDown',\n                ],\n                target: 'waitForInitialUp',\n              },\n            ],\n\n            // A button is released\n            MOUSE_UP: [\n              // If another mouse button is released, ignore event\n              {\n                cond: {\n                  type: 'isDifferentButton',\n                  with: 'secondDown',\n                },\n                target: undefined, // noop\n              },\n              // We now know it's the same button\n              // If it's already too late for double click, emit click event\n              // This will not gonna happen because there is a timeout up there\n              {\n                cond: {\n                  type: 'isTooLateForDoubleClick',\n                  with: 'secondDown',\n                },\n                actions: [\n                  'clearDoubleClickTimeout',\n                  'emitClickForFirstDown',\n                  'emitClickForSecondDown',\n                ],\n                target: 'idle',\n              },\n              // Double clicked\n              {\n                actions: ['clearDoubleClickTimeout', 'emitDoubleClick'],\n                target: 'idle',\n              },\n            ],\n\n            // Mouse is moving while a button is being pressed\n            MOUSE_MOVE: [\n              {\n                cond: {\n                  type: 'isNearby',\n                  to: 'initialDown',\n                },\n                target: undefined,\n              },\n              // We now know user is panning\n              {\n                actions: ['clearDoubleClickTimeout'],\n                target: 'pan',\n              },\n            ],\n\n            // Mouse is leaved, ignore the event\n            MOUSE_LEAVE: {\n              actions: ['clearDoubleClickTimeout', 'emitClickForFirstDown'],\n              target: 'idle',\n            },\n          },\n        },\n\n        pan: {\n          entry: ['emitPanStart'],\n          exit: ['emitPanEnd'],\n          on: {\n            MOUSE_DOWN: {\n              actions: ['saveEventAsFirstDown'],\n              target: 'waitForInitialUp',\n            },\n\n            MOUSE_UP: [\n              {\n                cond: {\n                  type: 'isDifferentButton',\n                  with: 'firstDown',\n                },\n                target: undefined,\n              },\n              // We now know pressed button is released\n              { target: 'idle' },\n            ],\n\n            MOUSE_MOVE: {\n              actions: ['emitPanMove'],\n              target: undefined,\n            },\n\n            MOUSE_LEAVE: {\n              target: 'idle',\n            },\n          },\n        },\n      },\n    },\n    {\n      actions: {\n        clearFirstDown: (context, event) => {\n          context.firstDown = null;\n        },\n        clearSecondDown: (context, event) => {\n          context.secondDown = null;\n        },\n        saveEventAsFirstDown: (context, event) => {\n          context.firstDown = event.mouseEvent;\n        },\n        saveEventAsSecondDown: (context, event) => {\n          context.secondDown = event.mouseEvent;\n        },\n        emitdIdleMove: (context, event) => {\n          this.emit(MouseHandlerEvent.IDLE_MOVE, event.mouseEvent);\n        },\n        emitdIdleLeave: (context, event) => {\n          this.emit(MouseHandlerEvent.IDLE_LEAVE, event.mouseEvent);\n        },\n        emitClickForFirstDown: (context, event) => {\n          this.emit(MouseHandlerEvent.CLICK, context.firstDown);\n        },\n        emitClickForSecondDown: (context, event) => {\n          this.emit(MouseHandlerEvent.CLICK, context.secondDown);\n        },\n        emitDoubleClick: (context, event) => {\n          this.emit(MouseHandlerEvent.DOUBLE_CLICK, context.firstDown);\n        },\n        setDoubleClickTimeout: send('DOUBLE_CLICK_TIMEOUT', {\n          delay: DOUBLE_CLICK_WAIT_TIME,\n          id: 'doubleClickTimeout',\n        }),\n        clearDoubleClickTimeout: cancel('DOUBLE_CLICK_TIMEOUT'),\n        emitPanStart: (context, event) => {\n          this.emit(MouseHandlerEvent.PAN_START, event.mouseEvent);\n        },\n        emitPanEnd: (context, event) => {\n          this.emit(MouseHandlerEvent.PAN_END, event.mouseEvent);\n        },\n        emitPanMove: (context, event) => {\n          this.emit(MouseHandlerEvent.PAN_MOVE, event.mouseEvent);\n        },\n      },\n\n      guards: {\n        isDifferentButton: (context, event, { cond }) => {\n          const refMouseEvent: MouseEvent | null = (context as any)[\n            (cond as any).with\n          ];\n          if (!refMouseEvent) return false;\n          return refMouseEvent.button !== event.mouseEvent.button;\n        },\n        isTooLateForDoubleClick: (context, event, { cond }) => {\n          const refMouseEvent: MouseEvent | null = (context as any)[\n            (cond as any).with\n          ];\n          if (!refMouseEvent) return false;\n          return (\n            event.mouseEvent.timeStamp - refMouseEvent.timeStamp >=\n            DOUBLE_CLICK_WAIT_TIME\n          );\n        },\n        isNearby: (context, event, { cond }) => {\n          const refMouseEvent: MouseEvent | null = (context as any)[\n            (cond as any).to\n          ];\n          if (!refMouseEvent) return false;\n          const deltaX = Math.abs(\n            event.mouseEvent.offsetX - refMouseEvent.offsetX\n          );\n          const deltaY = Math.abs(\n            event.mouseEvent.offsetY - refMouseEvent.offsetY\n          );\n          return (\n            deltaX < PAN_DETECTION_DELTA_X && deltaY < PAN_DETECTION_DELTA_Y\n          );\n        },\n      },\n    }\n  );\n  private service = interpret(this.machine);\n  private binded = {\n    onMouseDown: this.onMouseDown.bind(this),\n    onMouseMove: this.onMouseMove.bind(this),\n    onMouseUp: this.onMouseUp.bind(this),\n    onMouseLeave: this.onMouseLeave.bind(this),\n    onWheel: this.onWheel.bind(this),\n    onContextMenu: this.onContextMenu.bind(this),\n  };\n\n  constructor(private element: SVGSVGElement) {\n    super();\n\n    // this.service.onTransition((state) => {\n    //   if (state.changed) {\n    //     console.log('state change', state.value)\n    //   }\n    // });\n  }\n\n  init() {\n    this.element.addEventListener('mousedown', this.binded.onMouseDown, false);\n    this.element.addEventListener('mousemove', this.binded.onMouseMove, false);\n    this.element.addEventListener('mouseup', this.binded.onMouseUp, false);\n    this.element.addEventListener(\n      'mouseleave',\n      this.binded.onMouseLeave,\n      false\n    );\n    this.element.addEventListener('wheel', this.binded.onWheel, false);\n    this.element.addEventListener(\n      'contextmenu',\n      this.binded.onContextMenu,\n      false\n    );\n\n    this.service.start();\n  }\n\n  dispose() {\n    this.element.removeEventListener(\n      'mousedown',\n      this.binded.onMouseDown,\n      false\n    );\n    this.element.removeEventListener(\n      'mousemove',\n      this.binded.onMouseMove,\n      false\n    );\n    this.element.removeEventListener('mouseup', this.binded.onMouseUp, false);\n    this.element.removeEventListener(\n      'mouseleave',\n      this.binded.onMouseLeave,\n      false\n    );\n    this.element.removeEventListener('wheel', this.binded.onWheel, false);\n    this.element.removeEventListener(\n      'contextmenu',\n      this.binded.onContextMenu,\n      false\n    );\n\n    this.removeAllListeners();\n\n    this.service.stop();\n  }\n\n  onMouseDown(e: MouseEvent) {\n    this.service.send({ type: 'MOUSE_DOWN', mouseEvent: e });\n  }\n\n  onMouseMove(e: MouseEvent) {\n    this.service.send({ type: 'MOUSE_MOVE', mouseEvent: e });\n  }\n\n  onMouseUp(e: MouseEvent) {\n    this.service.send({ type: 'MOUSE_UP', mouseEvent: e });\n  }\n\n  onMouseLeave(e: MouseEvent) {\n    this.service.send({ type: 'MOUSE_LEAVE', mouseEvent: e });\n  }\n\n  onWheel(e: WheelEvent) {\n    this.emit(MouseHandlerEvent.WHEEL, e);\n  }\n\n  onContextMenu(e: MouseEvent) {\n    e.preventDefault();\n  }\n}\n","import values from 'lodash/values';\nimport isArray from 'lodash/isArray';\nimport { Span } from '../interfaces';\nimport { Trace } from '../trace';\nimport { SpanGroup } from '../span-group/span-group';\n\nexport interface SpanGroupingRawOptions {\n  key: string;\n  name: string;\n  rawCode: string;\n  compiledCode: string;\n}\n\nexport interface SpanGroupingOptions {\n  key: string; // grouping unique key, like `trace`\n  name: string; // human readable name, `Trace`\n  groupBy: (span: Span, trace: Trace) => [string, string]; // [ group id, human readable group name ]\n}\n\nexport class SpanGrouping {\n  private groups: { [key: string]: SpanGroup } = {};\n  private spanIdToGroupId: { [key: string]: string } = {};\n\n  constructor(private options: SpanGroupingOptions) {\n    // Noop\n  }\n\n  // can throw\n  // - invalid return type\n  // - this.options.groupBy\n  addSpan(span: Span, trace: Trace) {\n    if (this.spanIdToGroupId[span.id]) return;\n\n    const result = this.options.groupBy(span, trace);\n    if (!isArray(result) || result.length !== 2) {\n      throw new Error(\n        'Group function must return array with 2 strings: [ groupId, groupName ]'\n      );\n    }\n\n    const [groupId, groupName] = result;\n    if (!this.groups[groupId])\n      this.groups[groupId] = new SpanGroup(groupId, groupName);\n    const group = this.groups[groupId];\n    group.add(span);\n    this.spanIdToGroupId[span.id] = groupId;\n  }\n\n  removeSpan(spanOrId: Span | string) {\n    const id = typeof spanOrId == 'object' ? spanOrId.id : spanOrId;\n    const groupId = this.spanIdToGroupId[id];\n    if (!groupId) return;\n    delete this.spanIdToGroupId[id];\n    const group = this.groups[groupId];\n    group.remove(id);\n    if (group.length === 0) delete this.groups[groupId];\n  }\n\n  getAllGroups() {\n    return values(this.groups);\n  }\n\n  getGroupById(id: string) {\n    return this.groups[id];\n  }\n\n  groupOf(spanOrId: Span | string) {\n    const id = typeof spanOrId === 'object' ? spanOrId.id : spanOrId;\n    const groupId = this.spanIdToGroupId[id];\n    if (!groupId) return;\n    return this.groups[groupId];\n  }\n}\n","import { TimelineView } from '../timeline-view';\n\nexport default class BaseDecoration {\n  protected underlayElements: SVGElement[] = [];\n  protected overlayElements: SVGElement[] = [];\n\n  constructor(protected timelineView: TimelineView) {\n    // Noop\n  }\n\n  prepare(...args: any[]): void {\n    // To be implemented\n  }\n\n  mount() {\n    this.underlayElements.forEach(\n      (el) =>\n        !el.parentElement &&\n        this.timelineView.decorationUnderlayPanel.appendChild(el)\n    );\n    this.overlayElements.forEach(\n      (el) =>\n        !el.parentElement &&\n        this.timelineView.decorationOverlayPanel.appendChild(el)\n    );\n  }\n\n  unmount() {\n    this.underlayElements.forEach((el) => el.parentElement?.removeChild(el));\n    this.overlayElements.forEach((el) => el.parentElement?.removeChild(el));\n  }\n\n  update(): void {\n    // To be implemented\n  }\n}\n","import defaults from 'lodash/defaults';\nimport BaseDecoration from './base';\nimport { SpanView } from '../span-view';\nimport { SpanGroupView } from '../span-group-view';\nimport {\n  TimelineInteractableElementAttribute,\n  TimelineInteractableElementType,\n} from '../interaction';\nimport * as shortid from 'shortid';\n\nconst SVG_NS = 'http://www.w3.org/2000/svg';\n\nexport interface SpanConnectionDecorationSettings {\n  spanId1: string;\n  spanId2: string;\n  strokeWidth?: number;\n  strokeColor?: string;\n  strokeDasharray?: string;\n  barHeight?: number;\n  hoverStrokeWidth?: number;\n  hoverStrokeColor?: string;\n}\n\nexport class SpanConnectionDecoration extends BaseDecoration {\n  readonly id = shortid.generate();\n  private settings: SpanConnectionDecorationSettings = {\n    spanId1: '',\n    spanId2: '',\n    strokeWidth: 1,\n    strokeColor: 'rgba(0, 0, 0, 0.5)',\n    strokeDasharray: '0',\n    barHeight: 18,\n    hoverStrokeWidth: 1,\n    hoverStrokeColor: 'rgba(0, 0, 0, 1)',\n  };\n  private container = document.createElementNS(SVG_NS, 'g');\n  private spanView1: SpanView;\n  private groupView1: SpanGroupView;\n  private spanView2: SpanView;\n  private groupView2: SpanGroupView;\n  private path = document.createElementNS(SVG_NS, 'path');\n\n  prepare(settings: SpanConnectionDecorationSettings) {\n    this.settings = defaults(settings, this.settings);\n\n    this.path.parentElement?.removeChild(this.path);\n\n    this.groupView1 = null;\n    this.spanView1 = null;\n    this.groupView2 = null;\n    this.spanView2 = null;\n\n    const [groupView1, spanView1] = this.timelineView.findSpanView(\n      this.settings.spanId1\n    );\n    if (!groupView1 || !spanView1) return false; // this will force timelineview to unmount this decoration\n    this.groupView1 = groupView1;\n    this.spanView1 = spanView1;\n\n    const [groupView2, spanView2] = this.timelineView.findSpanView(\n      this.settings.spanId2\n    );\n    if (!groupView2 || !spanView2) return false; // this will force timelineview to unmount this decoration\n    this.groupView2 = groupView2;\n    this.spanView2 = spanView2;\n\n    this.path.setAttribute('fill', 'transparent');\n    this.path.setAttribute('stroke-width', settings.strokeWidth + '');\n    this.path.setAttribute('stroke', settings.strokeColor);\n    this.path.setAttribute('marker-end', `url(#arrow-head)`);\n    this.path.setAttribute('stroke-dasharray', settings.strokeDasharray);\n    this.path.setAttribute('cursor', `default`);\n\n    this.path.setAttribute(\n      TimelineInteractableElementAttribute,\n      TimelineInteractableElementType.SPAN_CONNECTION\n    );\n    this.path.setAttribute('data-span-connection-id', this.id);\n    this.path.setAttribute('data-from-span-id', spanView1.span.id);\n    this.path.setAttribute('data-to-span-id', spanView2.span.id);\n\n    this.container.appendChild(this.path);\n    this.overlayElements = [this.container];\n  }\n\n  update() {\n    if (!this.groupView1 || !this.spanView1) return;\n    if (!this.groupView2 || !this.spanView2) return;\n\n    const spanView1Props = this.spanView1.getComputedStyles();\n    const groupView1Props = this.groupView1.getComputedStyles();\n    const spanView2Props = this.spanView2.getComputedStyles();\n    const groupView2Props = this.groupView2.getComputedStyles();\n    const halfBarHeight = this.settings.barHeight / 2;\n    const arrowHeadOffsetLeft = -3;\n    const shouldHide =\n      groupView1Props.isCollapsed && groupView2Props.isCollapsed; // Do not show if both groups are collapsed\n\n    let fromX = Math.min(\n      spanView1Props.x + spanView1Props.width,\n      spanView2Props.x\n    );\n    let fromY =\n      groupView1Props.y +\n      groupView1Props.spansContainerMarginTop +\n      (groupView1Props.isCollapsed ? 0 : spanView1Props.y) +\n      halfBarHeight;\n    let fromSpanStartX = spanView1Props.x;\n    let toX = spanView2Props.x + arrowHeadOffsetLeft;\n    let toY =\n      groupView2Props.y +\n      groupView2Props.spansContainerMarginTop +\n      (groupView2Props.isCollapsed ? 0 : spanView2Props.y) +\n      halfBarHeight;\n\n    const angle = (Math.atan2(toY - fromY, toX - fromX) / Math.PI) * 180;\n    let isVertical = false;\n\n    let fromControlX = 0;\n    let fromControlY = 0;\n    let toControlX = 0;\n    let toControlY = 0;\n\n    if (angle > 45 && angle < 135) {\n      isVertical = true;\n    } else if (angle < -45 && angle > -135) {\n      isVertical = true;\n    }\n\n    // If it's vertical line, put an offset so that they dont collide with span bar rect\n    if (isVertical) {\n      if (fromY < toY) {\n        fromY += halfBarHeight;\n        fromControlY = fromY + 5;\n      } else if (fromY > toY) {\n        fromY -= halfBarHeight;\n        fromControlY = fromY - 5;\n      }\n\n      let toControlXOffset = 20;\n      toControlY = toY;\n\n      // If y distance is higher than 1 row, increase the control point offset\n      const verticalDistance = Math.abs(toControlY - fromControlY);\n      if (verticalDistance > 100) {\n        toControlXOffset = 50;\n      } else if (verticalDistance > 30) {\n        toControlXOffset = 25;\n      }\n\n      // fromX = Math.max(fromSpanStartX, fromX - toControlXOffset);\n      fromControlX = fromX;\n      toControlX = toX - toControlXOffset;\n    } else {\n      // Just draw horizontal linear-ish line\n      fromControlX = fromX + 50;\n      fromControlY = fromY;\n      toControlX = toX - 50;\n      toControlY = toY;\n\n      // If there is two sequential bars on the same row\n      // and they're like snapped to each other, handle it\n      const distanceX = toX - fromX;\n      if (fromY == toY && distanceX < 10) {\n        fromX = Math.max(fromX - 15, spanView1Props.x);\n        fromY -= halfBarHeight;\n        toX = Math.min(toX + 15, spanView2Props.x + spanView2Props.width);\n        toY -= halfBarHeight - arrowHeadOffsetLeft;\n\n        fromControlX = fromX;\n        fromControlY = fromY - 15;\n        toControlX = toX;\n        toControlY = toY - 15;\n      }\n    }\n\n    this.path.setAttribute('opacity', shouldHide ? '0' : '1');\n    this.path.setAttribute(\n      'd',\n      `M ${fromX} ${fromY} C ${fromControlX} ${fromControlY}, ${toControlX}  ${toControlY}, ${toX} ${toY}`\n    );\n  }\n\n  updateStyle(style: 'normal' | 'hover') {\n    if (style == 'normal') {\n      this.path.setAttribute('stroke-width', this.settings.strokeWidth + '');\n      this.path.setAttribute('stroke', this.settings.strokeColor);\n      this.path.setAttribute('cursor', `default`);\n      return;\n    } else if (style == 'hover') {\n      this.path.setAttribute(\n        'stroke-width',\n        this.settings.hoverStrokeWidth + ''\n      );\n      this.path.setAttribute('stroke', this.settings.hoverStrokeColor);\n      this.path.setAttribute('cursor', `pointer`);\n    }\n  }\n\n  static getPropsFromPathElement(el: Element) {\n    return {\n      id: el.getAttribute('data-span-connection-id'),\n      fromSpanId: el.getAttribute('data-from-span-id'),\n      toSpanId: el.getAttribute('data-to-span-id'),\n    };\n  }\n}\n","import defaults from 'lodash/defaults';\nimport BaseDecoration from './base';\n\nconst SVG_NS = 'http://www.w3.org/2000/svg';\n\ninterface IntervalHighlightDecorationSettings {\n  startTimestamp: number;\n  finishTimestamp: number;\n  lineColor?: string;\n  lineWidth?: number;\n  lineDashArray?: string;\n  fillColor?: string;\n}\nexport default class IntervalHighlightDecoration extends BaseDecoration {\n  private settings: IntervalHighlightDecorationSettings = {\n    startTimestamp: 0,\n    finishTimestamp: 0,\n    lineColor: '#000',\n    lineWidth: 1,\n    lineDashArray: '2',\n    fillColor: 'transparent',\n  };\n  private lineLeft = document.createElementNS(SVG_NS, 'line');\n  private lineRight = document.createElementNS(SVG_NS, 'line');\n  private rect = document.createElementNS(SVG_NS, 'rect');\n\n  prepare(settings: IntervalHighlightDecorationSettings) {\n    this.settings = defaults(settings, this.settings);\n\n    [this.lineLeft, this.lineRight].forEach((line) => {\n      line.setAttribute('x1', '0');\n      line.setAttribute('x2', '0');\n      line.setAttribute('y1', '0');\n      line.setAttribute('stroke', this.settings.lineColor);\n      line.setAttribute('stroke-width', this.settings.lineWidth + '');\n      line.setAttribute('stroke-dasharray', this.settings.lineDashArray);\n    });\n\n    this.rect.setAttribute('x', '0');\n    this.rect.setAttribute('y', '0');\n    this.rect.setAttribute('fill', this.settings.fillColor);\n\n    this.underlayElements = [this.rect, this.lineLeft, this.lineRight];\n  }\n\n  update() {\n    const timelineComputedStyles = this.timelineView.getComputedStyles();\n    const height = Math.max(\n      timelineComputedStyles.contentHeight,\n      timelineComputedStyles.height\n    );\n    this.rect.setAttribute('height', height + '');\n    this.lineLeft.setAttribute('y2', height + '');\n    this.lineRight.setAttribute('y2', height + '');\n\n    const xStart = this.timelineView.axis.input2output(\n      this.settings.startTimestamp\n    );\n    const xFinish = this.timelineView.axis.input2output(\n      this.settings.finishTimestamp\n    );\n\n    if (isNaN(xStart) || isNaN(xFinish)) return;\n\n    this.rect.setAttribute('width', xFinish - xStart + '');\n    this.rect.setAttribute('transform', `translate(${xStart}, 0)`);\n    this.lineLeft.setAttribute('transform', `translate(${xStart}, 0)`);\n    this.lineRight.setAttribute('transform', `translate(${xFinish}, 0)`);\n  }\n}\n","import { formatMicroseconds } from '../../utils/format-microseconds';\nimport Axis from './axis';\nimport defaultsDeep from 'lodash/defaultsDeep';\n\nconst SVG_NS = 'http://www.w3.org/2000/svg';\n\nexport interface SelectionViewOptions {\n  parent: SVGElement;\n  axis: Axis;\n  style?: {\n    backgroundColor?: string;\n    borderColor?: string;\n    borderWidth?: number;\n    textColor?: string;\n    textSize?: number;\n  };\n}\n\nexport default class SelectionView {\n  private options: SelectionViewOptions;\n  private startPos = { x: 0, y: 0 };\n  private currentPos = { x: 0, y: 0 };\n  private container = document.createElementNS(SVG_NS, 'g');\n  private rect = document.createElementNS(SVG_NS, 'rect');\n  private durationText = document.createElementNS(SVG_NS, 'text');\n\n  constructor(options: SelectionViewOptions) {\n    this.options = defaultsDeep(options, {\n      style: {\n        backgroundColor: 'rgba(58, 122, 217, 0.25)',\n        borderColor: '#3E7CD6',\n        borderWidth: 1,\n        textColor: '#3E7CD6',\n        textSize: 10,\n      },\n    });\n    this.container.appendChild(this.rect);\n    this.container.appendChild(this.durationText);\n\n    this.rect.setAttribute('fill', this.options.style.backgroundColor);\n    this.rect.setAttribute('stroke', this.options.style.borderColor);\n    this.rect.setAttribute('stroke-width', this.options.style.borderWidth + '');\n\n    this.durationText.setAttribute(\n      'font-size',\n      this.options.style.textSize + ''\n    );\n    this.durationText.setAttribute('fill', this.options.style.textColor);\n    this.durationText.setAttribute('text-anchor', 'middle');\n  }\n\n  mount() {\n    !this.container.parentElement &&\n      this.options.parent.appendChild(this.container);\n  }\n\n  unmount() {\n    this.container.parentElement?.removeChild(this.container);\n  }\n\n  start(x: number, y: number) {\n    this.startPos = { x, y };\n  }\n\n  /**\n   * Calculates the rect (x, y, width, height)\n   */\n  private calculateRect(x: number, y: number) {\n    const xLeft = Math.min(x, this.startPos.x);\n    const yTop = Math.min(y, this.startPos.y);\n    const xRight = Math.max(x, this.startPos.x);\n    const yBottom = Math.max(y, this.startPos.y);\n    const width = xRight - xLeft;\n    const height = yBottom - yTop;\n\n    return { x: xLeft, y: yTop, width, height };\n  }\n\n  update(mouseX: number, mouseY: number) {\n    this.currentPos = { x: mouseX, y: mouseY };\n    const { x, y, width, height } = this.calculateRect(mouseX, mouseY);\n\n    const [startTime, finishTime] = [\n      this.options.axis.output2input(x),\n      this.options.axis.output2input(x + width),\n    ];\n\n    this.rect.setAttribute('x', x + '');\n    this.rect.setAttribute('y', y + '');\n    this.rect.setAttribute('width', width + '');\n    this.rect.setAttribute('height', height + '');\n    this.durationText.textContent = formatMicroseconds(finishTime - startTime);\n    this.durationText.setAttribute('x', x + width / 2 + '');\n    this.durationText.setAttribute('y', y + height + 14 + '');\n  }\n\n  stop() {\n    const { x, y } = this.currentPos;\n    return this.calculateRect(x, y);\n  }\n}\n","import api from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../node_modules/css-loader/dist/cjs.js!./span-tooltip.css\";\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","import isNumber from 'lodash/isNumber';\nimport cloneDeep from 'lodash/cloneDeep';\nimport { SpanView } from '../timeline/span-view';\nimport { formatMicroseconds } from '../../utils/format-microseconds';\nimport Axis from '../timeline/axis';\nimport { Stage } from '../../model/stage';\nimport { serviceNameOf } from '../../model/span-grouping/service-name';\nimport * as ErrorDetection from '../../model/error-detection';\n\nimport './span-tooltip.css';\nimport CommentSvgText from '!!raw-loader!@mdi/svg/svg/comment-outline.svg';\nimport TagSvgText from '!!raw-loader!@mdi/svg/svg/tag-outline.svg';\nimport AlertSvgText from '!!raw-loader!@mdi/svg/svg/alert.svg';\n\nexport interface SpanTooltipContentOptions {\n  axis: Axis;\n  spanView?: SpanView;\n  showServiceName?: boolean;\n  showNearbyLogs?: boolean;\n  spanTagsToShow?: string[];\n  processTagsToShow?: string[];\n  // logFieldsToShow?: string[];\n}\n\nexport class SpanTooltipContent {\n  private options: SpanTooltipContentOptions;\n  private elements = {\n    container: document.createElement('div'),\n    header: document.createElement('div'),\n    headerTime: document.createElement('span'),\n    headerOperationName: document.createElement('span'),\n    headerRight: document.createElement('div'),\n    serviceNameContainer: document.createElement('div'),\n    serviceName: document.createElement('span'),\n    tags: document.createElement('div'),\n    processTags: document.createElement('div'),\n    logs: document.createElement('div'),\n  };\n  private stage = Stage.getSingleton();\n  private nearbyLogsCacheId = '';\n\n  constructor(options: SpanTooltipContentOptions) {\n    this.options = Object.assign(\n      {\n        showNearbyLogs: true,\n        showServiceName: false,\n        spanTagsToShow: [],\n        processTagsToShow: [],\n        // logFieldsToShow: []\n      },\n      options\n    );\n    const els = this.elements;\n\n    els.header.classList.add('span-tooltip-header');\n    els.container.appendChild(els.header);\n\n    const headerLeft = document.createElement('div');\n    headerLeft.classList.add('left');\n    els.header.appendChild(headerLeft);\n    els.headerRight.classList.add('right');\n    els.header.appendChild(els.headerRight);\n\n    els.headerTime.classList.add('span-tooltip-time');\n    headerLeft.appendChild(els.headerTime);\n    els.headerOperationName.classList.add('span-tooltip-operation-name');\n    headerLeft.appendChild(els.headerOperationName);\n\n    els.serviceNameContainer.classList.add(\n      'span-tooltip-tag',\n      'span-service-name-container',\n      'span-tooltip-border-top'\n    );\n    els.serviceNameContainer.style.display = 'none';\n    els.container.appendChild(els.serviceNameContainer);\n    const serviceNameLeft = document.createElement('span');\n    serviceNameLeft.classList.add('tag-path');\n    serviceNameLeft.textContent = 'Service:';\n    els.serviceNameContainer.appendChild(serviceNameLeft);\n    els.serviceName.classList.add('tag-value');\n    els.serviceNameContainer.appendChild(els.serviceName);\n\n    els.tags.classList.add('span-tooltip-tags', 'span-tooltip-border-top');\n    els.tags.style.display = 'none';\n    els.container.appendChild(els.tags);\n\n    els.processTags.classList.add(\n      'span-tooltip-process-tags',\n      'span-tooltip-border-top'\n    );\n    els.processTags.style.display = 'none';\n    els.container.appendChild(els.processTags);\n\n    // els.logs.classList.add('span-tooltip-logs');\n    els.logs.style.display = 'none';\n    els.container.appendChild(els.logs);\n  }\n\n  get element() {\n    return this.elements.container;\n  }\n\n  getOptions() {\n    return cloneDeep(this.options);\n  }\n\n  setShowServiceName(value: boolean) {\n    this.options.showServiceName = value;\n    this.updateSpan(this.options.spanView);\n  }\n\n  setShowNearbyLogs(value: boolean) {\n    this.options.showNearbyLogs = value;\n    this.updateSpan(this.options.spanView);\n  }\n\n  setSpanTagsToShow(tags: string[]) {\n    this.options.spanTagsToShow = tags;\n    this.setupTags();\n  }\n\n  setProcessTagsToShow(tags: string[]) {\n    this.options.processTagsToShow = tags;\n    this.setupProcessTags();\n  }\n\n  updateSpan(spanView: SpanView) {\n    this.options.spanView = spanView;\n    const span = spanView.span;\n    const els = this.elements;\n\n    const totalTime = span.finishTime - span.startTime;\n    const selfTime = this.stage.getSpanSelfTime(span.id);\n    let timeText = formatMicroseconds(span.finishTime - span.startTime);\n\n    // TODO: This is not working correctly (I guess)\n    // Analyze it after fixing self-time\n    if (isNumber(selfTime) && selfTime != totalTime) {\n      const selfTimePretty = formatMicroseconds(selfTime);\n      timeText = `${timeText} (self ${selfTimePretty})`;\n    }\n\n    els.headerTime.textContent = timeText;\n    els.headerOperationName.innerHTML =\n      (ErrorDetection.checkSpan(span)\n        ? `<span class=\"span-tooltip-error-icon\">${AlertSvgText}</span>`\n        : '') + span.operationName;\n\n    // Handle tags & logs count\n    els.headerRight.innerHTML =\n      `<span class=\"span-tooltip-tag-count\">${\n        Object.keys(span.tags).length\n      }</span>` +\n      `<span class=\"span-tooltip-tag-icon\">${TagSvgText}</span>` +\n      `<span class=\"span-tooltip-log-count\">${span.logs.length}</span>` +\n      `<span class=\"span-tooltip-log-icon\">${CommentSvgText}</span>`;\n\n    // Handle service name\n    const serviceName = serviceNameOf(span);\n    if (this.options.showServiceName && serviceName) {\n      els.serviceName.textContent = serviceName;\n      els.serviceNameContainer.style.display = '';\n    } else {\n      els.serviceName.textContent = '';\n      els.serviceNameContainer.style.display = 'none';\n    }\n\n    // Handle tags\n    this.setupTags();\n    this.setupProcessTags();\n  }\n\n  private setupTags() {\n    if (!this.options.spanView) return false;\n    const span = this.options.spanView.span;\n    const els = this.elements;\n    els.tags.innerHTML = '<div class=\"section-header\">Tags</div>';\n\n    const tagKeysSorted = this.options.spanTagsToShow.sort();\n    // const tagKeysSorted = Object.keys(span.tags).sort();\n    let displayedTagCount = 0;\n    tagKeysSorted.forEach((tagKey) => {\n      const value = span.tags[tagKey];\n      if (!value) return;\n      const tagEl = document.createElement('div');\n      tagEl.classList.add('span-tooltip-tag', 'margin-left');\n      tagEl.innerHTML =\n        `<span class=\"tag-path\">${tagKey}:</span>` +\n        `<span class=\"tag-value\">${value}</span>`;\n      els.tags.appendChild(tagEl);\n      displayedTagCount++;\n    });\n    els.tags.style.display = displayedTagCount == 0 ? 'none' : 'block';\n  }\n\n  private setupProcessTags() {\n    if (!this.options.spanView) return false;\n    const span = this.options.spanView.span;\n    const els = this.elements;\n    els.processTags.innerHTML =\n      '<div class=\"section-header\">Process Tags</div>';\n\n    const tagKeysSorted = this.options.processTagsToShow.sort();\n    // const tagKeysSorted = Object.keys(\n    //   span.process ? span.process.tags || {} : {}\n    // ).sort();\n    let displayedTagCount = 0;\n    tagKeysSorted.forEach((tagKey) => {\n      const value = span.process.tags[tagKey];\n      if (!value) return;\n      const tagEl = document.createElement('div');\n      tagEl.classList.add('span-tooltip-tag', 'margin-left');\n      tagEl.innerHTML =\n        `<span class=\"tag-path\">${tagKey}</span>` +\n        `<span class=\"tag-value\">${value}</span>`;\n      els.processTags.appendChild(tagEl);\n      displayedTagCount++;\n    });\n    els.processTags.style.display = displayedTagCount == 0 ? 'none' : 'block';\n  }\n\n  updateMousePos(mouseX: number, mouseY: number) {\n    const els = this.elements;\n    if (!this.options.showNearbyLogs || !this.options.spanView) {\n      els.logs.style.display = 'none';\n      return;\n    }\n\n    const previousLogsCacheId = this.nearbyLogsCacheId;\n    const nearbyLogs = this.options.spanView.getNearbyLogViews(mouseX);\n    this.nearbyLogsCacheId = nearbyLogs.map((l) => l.logView.id).join('');\n\n    // If logs are not changed, early terminate\n    if (this.nearbyLogsCacheId == previousLogsCacheId) {\n      return;\n    }\n\n    els.logs.innerHTML = '';\n\n    nearbyLogs.forEach((log) => {\n      const time = formatMicroseconds(\n        log.logView.log.timestamp - this.options.axis.getInputRange()[0]\n      );\n\n      const logContainer = document.createElement('div');\n      logContainer.classList.add('span-tooltip-log', 'span-tooltip-border-top');\n      let html = `<div class=\"section-header\">Log @ ${time}</div>`;\n\n      // const logFields = this.options.logFieldsToShow;\n      const logFields = Object.keys(log.logView.log.fields);\n      logFields.forEach((key) => {\n        const value = log.logView.log.fields[key];\n        const extraClass = ErrorDetection.checkLogField(key, value)\n          ? 'error'\n          : '';\n        if (!value) return;\n        html +=\n          `<span class=\"log-field-key ${extraClass}\">${key}:</span>` +\n          `<span class=\"log-field-value ${extraClass}\">${value}</span>`;\n      });\n\n      logContainer.innerHTML = html;\n      els.logs.appendChild(logContainer);\n    });\n\n    els.logs.style.display = nearbyLogs.length == 0 ? 'none' : 'block';\n  }\n}\n","import defaults from 'lodash/defaults';\nimport BaseDecoration from './base';\nimport { formatMicroseconds } from '../../../utils/format-microseconds';\n\nconst SVG_NS = 'http://www.w3.org/2000/svg';\n\ninterface VerticalLineDecorationSettings {\n  timestamp: number;\n  lineColor?: string;\n  lineWidth?: number;\n  position?: 'overlay' | 'underlay';\n  displayTime?: boolean;\n  timeOffsetToBottom?: number;\n  timeOffsetToLine?: number;\n  timeFontColor?: string;\n  timeFontSize?: number;\n}\nexport default class VerticalLineDecoration extends BaseDecoration {\n  private settings: VerticalLineDecorationSettings = {\n    timestamp: 0,\n    lineColor: '#ccc',\n    lineWidth: 1,\n    position: 'underlay',\n    displayTime: true,\n    timeOffsetToBottom: 10,\n    timeOffsetToLine: 5,\n    timeFontColor: '#aaa',\n    timeFontSize: 12,\n  };\n  private line = document.createElementNS(SVG_NS, 'line');\n  private text = document.createElementNS(SVG_NS, 'text');\n\n  prepare(settings: VerticalLineDecorationSettings) {\n    this.settings = defaults(settings, this.settings);\n\n    this.line.setAttribute('x1', '0');\n    this.line.setAttribute('x2', '0');\n    this.line.setAttribute('y1', '0');\n    this.line.setAttribute('stroke', this.settings.lineColor);\n    this.line.setAttribute('stroke-width', this.settings.lineWidth + '');\n\n    this.text.textContent = '';\n    this.text.setAttribute('x', '0');\n    this.text.setAttribute('y', '0');\n    this.text.setAttribute('fill', this.settings.timeFontColor);\n    this.text.setAttribute('font-size', this.settings.timeFontSize + '');\n\n    const elements = this.settings.displayTime\n      ? [this.line, this.text]\n      : [this.line];\n\n    if (this.settings.position === 'overlay') {\n      this.overlayElements = elements;\n      this.underlayElements = [];\n    } else {\n      this.overlayElements = [];\n      this.underlayElements = elements;\n    }\n  }\n\n  setTimestampFromScreenPositionX(offsetX: number) {\n    this.settings.timestamp = this.timelineView.axis.output2input(offsetX);\n  }\n\n  update() {\n    if (this.settings.timestamp == 0) return;\n\n    const timelineComputedStyles = this.timelineView.getComputedStyles();\n    const height = Math.max(\n      timelineComputedStyles.contentHeight,\n      timelineComputedStyles.height\n    );\n    this.line.setAttribute('y2', height + '');\n\n    const relativeTimeFromStart =\n      (this.settings.timestamp - this.timelineView.axis.getInputRange()[0]) /\n      1000;\n    this.text.textContent = formatMicroseconds(relativeTimeFromStart);\n\n    const x = this.timelineView.axis.input2output(this.settings.timestamp);\n\n    if (!isNaN(x)) {\n      const isOnLeftSide = x <= timelineComputedStyles.width / 2;\n      const textX = isOnLeftSide\n        ? x + this.settings.timeOffsetToLine\n        : x - this.settings.timeOffsetToLine;\n      this.line.setAttribute('transform', `translate(${x}, 0)`);\n      const textY =\n        timelineComputedStyles.height -\n        this.settings.timeOffsetToBottom -\n        timelineComputedStyles.panelTranslateY;\n      this.text.setAttribute('transform', `translate(${textX}, ${textY})`);\n      this.text.setAttribute('text-anchor', isOnLeftSide ? 'start' : 'end');\n    }\n  }\n}\n","import api from \"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../../node_modules/css-loader/dist/cjs.js!./widget-toolbar.css\";\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","import api from \"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../../node_modules/css-loader/dist/cjs.js!./widget-toolbar-select.css\";\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","import find from 'lodash/find';\nimport findIndex from 'lodash/findIndex';\n\nimport './widget-toolbar.css';\nimport './widget-toolbar-select.css';\nimport CodeSvgText from '!!raw-loader!@mdi/svg/svg/code-tags.svg';\nimport SettingsSvgText from '!!raw-loader!@mdi/svg/svg/settings-outline.svg';\n\nexport interface WidgetToolbarSelectOptions {\n  width?: number;\n  items: WidgetToolbarSelectItem[];\n  onSelect: (item: WidgetToolbarSelectItem) => void;\n}\n\nexport type WidgetToolbarSelectItem =\n  | {\n      type: 'item';\n      id: string;\n      text: string;\n      altText?: string;\n      icon?: 'code-tags' | 'settings-outline';\n      disabled?: boolean;\n    }\n  | { type: 'divider' };\n\nexport class WidgetToolbarSelect {\n  readonly element = document.createElement('div');\n  private selectedItemId: string = null;\n\n  private binded = {\n    onClick: this.onClick.bind(this),\n  };\n\n  constructor(private options: WidgetToolbarSelectOptions) {\n    if (options.width) {\n      this.element.style.width = `${options.width}px`;\n    }\n\n    this.element.addEventListener('click', this.binded.onClick, false);\n    this.render();\n  }\n\n  updateItems(newItems: WidgetToolbarSelectItem[]) {\n    this.options.items = newItems;\n    this.render();\n  }\n\n  render() {\n    this.element.innerHTML = '';\n\n    this.options.items.forEach((item) => {\n      const el = document.createElement('div');\n\n      // Divider\n      if (item.type == 'divider') {\n        el.classList.add('item-divider');\n        this.element.appendChild(el);\n        return;\n      }\n\n      // Normal item\n      el.classList.add('item');\n      item.disabled && el.classList.add('disabled');\n\n      // Decorate\n      let iconHtml = '';\n      let textHtml = item.text;\n      let altTextHtml = '';\n      if (item.icon == 'code-tags') {\n        iconHtml = CodeSvgText;\n        textHtml = `<span class=\"text\">${item.text}</span>`;\n      } else if (item.icon == 'settings-outline') {\n        iconHtml = SettingsSvgText;\n        textHtml = `<span class=\"text\">${item.text}</span>`;\n      }\n\n      if (item.altText) {\n        altTextHtml = `<span class=\"alt\">${item.altText}</span>`;\n      }\n\n      el.innerHTML = `${iconHtml} ${textHtml} ${altTextHtml}`.trim();\n      el.setAttribute('data-item-id', item.id);\n      this.element.appendChild(el);\n    });\n  }\n\n  select(id: string) {\n    const item = find(this.options.items, (item) => (item as any).id == id);\n    if (!item) return false;\n    if (item.type == 'divider') return false;\n    if (item.disabled) return false;\n    const itemEl = this.element.querySelector(`[data-item-id=\"${id}\"]`);\n    if (!itemEl) return false;\n\n    // Unselect the previous one\n    if (this.selectedItemId) {\n      const currentSelectedItem = this.element.querySelector(\n        `[data-item-id=\"${this.selectedItemId}\"]`\n      );\n      currentSelectedItem?.classList.remove('selected');\n    }\n\n    this.selectedItemId = item.id;\n    itemEl.classList.add('selected');\n  }\n\n  private onClick(e: MouseEvent) {\n    const itemEl = (e.target as Element).closest('[data-item-id]');\n    if (!itemEl) return;\n    const itemId = itemEl.getAttribute('data-item-id');\n    const item = find(this.options.items, (item) => (item as any).id == itemId);\n    if (!item) return;\n    if (item.type == 'divider') return;\n    if (item.disabled) return;\n    this.options.onSelect?.(item);\n  }\n\n  dispose() {\n    this.element.removeEventListener('click', this.binded.onClick, false);\n    this.selectedItemId = null;\n  }\n}\n","import tippy, { Instance as TippyInstance } from 'tippy.js';\nimport {\n  WidgetToolbarSelect,\n  WidgetToolbarSelectItem,\n} from '../widget-toolbar/widget-toolbar-select';\nimport find from 'lodash/find';\nimport EventEmitter from 'events';\n\nimport '../context-menu/context-menu.css';\n\nexport enum ContextMenuEvent {\n  SHOW_SPAN_IN_TABLE_VIEW = 'showSpanInTableView',\n  SHOW_SPAN_IN_TIMELINE_VIEW = 'showSpanInTimelineView',\n}\n\nexport interface ContextMenuItem {\n  selectItem: WidgetToolbarSelectItem;\n  onSelected?: () => void;\n  emitEvent?: {\n    event: ContextMenuEvent;\n    data?: any;\n  };\n}\n\nlet _singletonIns: ContextMenuManager;\n\nexport class ContextMenuManager extends EventEmitter {\n  private tippy: TippyInstance;\n  private _isShowing = false;\n  get isShowing() {\n    return this._isShowing;\n  }\n\n  private binded = {\n    onMenuItemClick: this.onMenuItemClick.bind(this),\n  };\n\n  private menuItems: ContextMenuItem[] = [];\n  private menu = new WidgetToolbarSelect({\n    // width: 150,\n    items: [],\n    onSelect: this.binded.onMenuItemClick,\n  });\n\n  static getSingleton() {\n    if (!_singletonIns) _singletonIns = new ContextMenuManager();\n    return _singletonIns;\n  }\n\n  init() {\n    this.tippy = tippy(document.body, {\n      lazy: false,\n      interactive: true,\n      duration: 0,\n      updateDuration: 0,\n      trigger: 'custom',\n      arrow: false,\n      content: this.menu.element,\n      multiple: true,\n      placement: 'bottom-start',\n      theme: 'context-menu',\n      onCreate(instance) {\n        instance.popperInstance.reference = {\n          clientWidth: 0,\n          clientHeight: 0,\n          getBoundingClientRect() {\n            return {\n              width: 0,\n              height: 0,\n              top: 0,\n              bottom: 0,\n              left: 0,\n              right: 0,\n            };\n          },\n        };\n      },\n      onShow: () => {\n        this._isShowing = true;\n      },\n      onHide: () => {\n        this._isShowing = false;\n      },\n    });\n  }\n\n  show(options: { x: number; y: number; menuItems: ContextMenuItem[] }) {\n    this.menuItems = options.menuItems;\n    this.menu.updateItems(options.menuItems.map((i) => i.selectItem));\n\n    Object.assign(this.tippy.popperInstance.reference, {\n      clientWidth: 0,\n      clientHeight: 0,\n      getBoundingClientRect: () => {\n        return {\n          width: 0,\n          height: 0,\n          top: options.y,\n          bottom: options.y,\n          left: options.x,\n          right: options.x,\n        };\n      },\n    });\n    this.tippy.popperInstance.update();\n    this.tippy.show();\n  }\n\n  hide() {\n    this.tippy.hide();\n  }\n\n  private onMenuItemClick(item: WidgetToolbarSelectItem) {\n    if (item.type == 'divider') return;\n    if (item.disabled) return;\n\n    const menuItem = find(\n      this.menuItems,\n      (i) => (i.selectItem as any).id == item.id\n    );\n    if (menuItem) {\n      menuItem.onSelected?.();\n      if (menuItem.emitEvent) {\n        this.emit(menuItem.emitEvent.event, menuItem.emitEvent.data);\n      }\n\n      this.hide();\n    } else {\n      this.hide();\n    }\n  }\n\n  dispose() {\n    this.tippy.destroy();\n    this.menuItems = [];\n    this.menu.dispose();\n    this.removeAllListeners();\n  }\n}\n","import api from \"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../../node_modules/css-loader/dist/cjs.js!./context-menu.css\";\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","export function copyToClipboard(str: string) {\n  const el = document.createElement('textarea');\n  el.value = str;\n  document.body.appendChild(el);\n  el.select();\n  document.execCommand('copy');\n  document.body.removeChild(el);\n}\n","import forEach from 'lodash/forEach';\nimport find from 'lodash/find';\nimport remove from 'lodash/remove';\nimport uniq from 'lodash/uniq';\nimport isString from 'lodash/isString';\nimport isArray from 'lodash/isArray';\nimport isFunction from 'lodash/isFunction';\nimport differenceBy from 'lodash/differenceBy';\nimport defaults from 'lodash/defaults';\nimport { SpanGroupView, SpanGroupLayoutType } from './span-group-view';\nimport Axis from './axis';\nimport EventEmitter from 'events';\nimport MouseHandler, { MouseHandlerEvent } from './mouse-handler';\nimport { SpanView, SpanViewSharedOptions } from './span-view';\nimport { Trace } from '../../model/trace';\nimport {\n  SpanGrouping,\n  SpanGroupingOptions,\n} from '../../model/span-grouping/span-grouping';\nimport processSpanGroupingOptions from '../../model/span-grouping/process';\nimport {\n  TimelineInteractableElementAttribute,\n  TimelineInteractableElementType,\n  TimelineInteractedElementObject,\n} from './interaction';\nimport {\n  SpanColoringOptions,\n  operationColoringOptions,\n} from '../../model/span-coloring-manager';\nimport {\n  SpanLabellingOptions,\n  operationLabellingOptions,\n} from '../../model/span-labelling-manager';\nimport { SpanConnectionDecoration } from './decorations/span-connection';\nimport IntervalHighlightDecoration from './decorations/interval-highlight';\nimport { formatMicroseconds } from '../../utils/format-microseconds';\nimport SelectionView from './selection-view';\nimport { SpanTooltipContent } from '../span-tooltip/span-tooltip-content';\nimport tippy, { Instance as TippyInstance } from 'tippy.js';\nimport { Span } from '../../model/interfaces';\nimport VerticalLineDecoration from './decorations/vertical-line';\nimport {\n  ContextMenuManager,\n  ContextMenuEvent,\n} from '../ui/context-menu/context-menu-manager';\nimport { copyToClipboard } from '../../utils/copy-to-clipboard';\n\nconst SVG_NS = 'http://www.w3.org/2000/svg';\n\nexport enum TimelineViewEvent {\n  SPAN_SELECTED = 'tve_span_selected',\n}\n\nexport enum TimelineTool {\n  MOVE = 'move',\n  RULER = 'ruler',\n}\n\nexport interface TimelineViewStyle {\n  timeRulerHeight: number;\n  timeRulerTickLength: number; // in px\n  timeRulerTickLineColor: string;\n  timeRulerTickTextOffsetTop: number;\n  timeRulerTickTextColor: string;\n  timeRulerTickTextSize: number;\n  initialSpanMarginToViewport: number;\n}\n\nexport interface TimelineViewComputedStyles extends TimelineViewStyle {\n  width: number; // svg width\n  height: number; // svg height\n  contentHeight: number; // in px\n  panelTranslateY: number;\n}\n\nexport class TimelineView extends EventEmitter {\n  private svg = document.createElementNS(SVG_NS, 'svg');\n  private defs = document.createElementNS(SVG_NS, 'defs');\n\n  private tickContainer = document.createElementNS(SVG_NS, 'g');\n  private tickElements: { text: SVGTextElement; line: SVGLineElement }[] = [];\n\n  private bodyContainer = document.createElementNS(SVG_NS, 'g');\n  private bodyClipPath = document.createElementNS(SVG_NS, 'clipPath');\n  private bodyClipPathRect = document.createElementNS(SVG_NS, 'rect');\n\n  private groupNamePanel = document.createElementNS(SVG_NS, 'g');\n  private timelinePanel = document.createElementNS(SVG_NS, 'g');\n\n  readonly decorationUnderlayPanel = document.createElementNS(SVG_NS, 'g');\n  readonly decorationOverlayPanel = document.createElementNS(SVG_NS, 'g');\n  readonly decorations = {\n    logVerticalLine: new VerticalLineDecoration(this),\n    selectedSpanIntervalHighlight: new IntervalHighlightDecoration(this),\n    selectedSpanConnections: [] as SpanConnectionDecoration[],\n    hoveredSpanConnections: [] as SpanConnectionDecoration[],\n  };\n\n  readonly mouseHandler = new MouseHandler(this.svg);\n  readonly axis = ((window as any).axis = new Axis([0, 0], [0, 0]));\n\n  private traces: Trace[] = [];\n  private spanGrouping: SpanGrouping;\n  private groupViews: SpanGroupView[] = [];\n\n  private groupLayoutMode = SpanGroupLayoutType.COMPACT; // Do not forget to change related config in timeline-wrapper\n  private readonly spanViewSharedOptions: SpanViewSharedOptions = {\n    axis: this.axis,\n    colorFor: operationColoringOptions.colorBy, // Do not forget to change related config in timeline-wrapper\n    labelFor: operationLabellingOptions.labelBy, // Do not forget to change related config in timeline-wrapper\n  };\n\n  private hoveredElements: TimelineInteractedElementObject[] = [];\n  private selectedSpanId: string;\n\n  private selectionView = new SelectionView({\n    parent: this.svg,\n    axis: this.axis,\n  });\n\n  private _tool = TimelineTool.MOVE;\n\n  private spanTooltipTippy: TippyInstance;\n  private spanTooltipContent = new SpanTooltipContent({\n    axis: this.axis,\n  });\n  private spanTooltipStuffCache = {\n    svgBBTop: 0,\n    idleMouseClientX: 0,\n  };\n\n  private contextMenuManager = ContextMenuManager.getSingleton();\n\n  private readonly computedStyles: TimelineViewComputedStyles;\n\n  private binded = {\n    onMouseIdleMove: this.onMouseIdleMove.bind(this),\n    onMouseIdleLeave: this.onMouseIdleLeave.bind(this),\n    onMousePanStart: this.onMousePanStart.bind(this),\n    onMousePanMove: this.onMousePanMove.bind(this),\n    onMousePanEnd: this.onMousePanEnd.bind(this),\n    onWheel: this.onWheel.bind(this),\n    onClick: this.onClick.bind(this),\n  };\n\n  constructor(options?: { style?: Partial<TimelineViewStyle> }) {\n    super();\n\n    const style = defaults(options?.style, {\n      timeRulerHeight: 20,\n      timeRulerTickLength: 200,\n      timeRulerTickLineColor: '#eee',\n      timeRulerTickTextOffsetTop: 14,\n      timeRulerTickTextColor: '#999',\n      timeRulerTickTextSize: 10,\n      initialSpanMarginToViewport: 5,\n    } as TimelineViewStyle);\n    this.computedStyles = {\n      ...style,\n      width: 0,\n      height: 0,\n      contentHeight: 0,\n      panelTranslateY: 0,\n    };\n\n    this.svg.setAttributeNS(\n      'http://www.w3.org/2000/xmlns/',\n      'xmlns:xlink',\n      'http://www.w3.org/1999/xlink'\n    );\n    this.svg.classList.add('timeline-svg');\n\n    this.svg.appendChild(this.defs);\n\n    const tooltipShadowFilter = document.createElementNS(SVG_NS, 'filter');\n    tooltipShadowFilter.id = 'tooltip-shadow';\n    tooltipShadowFilter.setAttribute('x', '-50%');\n    tooltipShadowFilter.setAttribute('y', '-50%');\n    tooltipShadowFilter.setAttribute('width', '200%');\n    tooltipShadowFilter.setAttribute('height', '200%');\n    tooltipShadowFilter.innerHTML = `<feDropShadow stdDeviation=\"3 3\" in=\"SourceGraphic\" dx=\"0\" dy=\"5\" flood-color=\"#1F3646\" flood-opacity=\"0.5\" result=\"dropShadow\"/>`;\n    this.defs.appendChild(tooltipShadowFilter);\n\n    const arrowMarker = document.createElementNS(SVG_NS, 'marker');\n    arrowMarker.id = 'arrow-head';\n    arrowMarker.setAttribute('viewBox', '0 0 10 10');\n    arrowMarker.setAttribute('refX', '5');\n    arrowMarker.setAttribute('refY', '5');\n    arrowMarker.setAttribute('markerWidth', '6');\n    arrowMarker.setAttribute('markerHeight', '6');\n    arrowMarker.setAttribute('orient', 'auto-start-reverse');\n    arrowMarker.innerHTML = `<path d=\"M 0 0 L 10 5 L 0 10 z\" />`;\n    this.defs.appendChild(arrowMarker);\n\n    // Set-up grouping\n    this.spanGrouping = new SpanGrouping(processSpanGroupingOptions); // Do not forget to change related config in timeline-wrapper\n  }\n\n  init(options: { width: number; height: number }) {\n    let width = options?.width;\n    let height = options?.height;\n    if (!width || !height) {\n      throw new Error('Missing timeline dimensions');\n    }\n    this.resize(width, height);\n    this.setupPanels();\n    this.mouseHandler.init();\n\n    // Bind events\n    this.mouseHandler.on(\n      MouseHandlerEvent.IDLE_MOVE,\n      this.binded.onMouseIdleMove\n    );\n    this.mouseHandler.on(\n      MouseHandlerEvent.IDLE_LEAVE,\n      this.binded.onMouseIdleLeave\n    );\n    this.mouseHandler.on(\n      MouseHandlerEvent.PAN_START,\n      this.binded.onMousePanStart\n    );\n    this.mouseHandler.on(\n      MouseHandlerEvent.PAN_MOVE,\n      this.binded.onMousePanMove\n    );\n    this.mouseHandler.on(MouseHandlerEvent.PAN_END, this.binded.onMousePanEnd);\n    this.mouseHandler.on(MouseHandlerEvent.WHEEL, this.binded.onWheel);\n    this.mouseHandler.on(MouseHandlerEvent.CLICK, this.binded.onClick);\n\n    this.spanTooltipTippy = tippy(document.body, {\n      lazy: false,\n      duration: 0,\n      updateDuration: 0,\n      trigger: 'custom',\n      arrow: true,\n      content: this.spanTooltipContent.element,\n      multiple: true,\n      placement: 'top',\n      theme: 'span-tooltip',\n      onCreate(instance) {\n        instance.popperInstance.reference = {\n          clientWidth: 0,\n          clientHeight: 0,\n          getBoundingClientRect() {\n            return {\n              width: 0,\n              height: 0,\n              top: 0,\n              bottom: 0,\n              left: 0,\n              right: 0,\n            };\n          },\n        };\n      },\n    });\n    // this.spanTooltipTippy.hide = () => {};\n  }\n\n  mount(parentElement: HTMLDivElement) {\n    parentElement.appendChild(this.svg);\n  }\n\n  unmount() {\n    this.svg.parentElement?.removeChild(this.svg);\n  }\n\n  resize(width: number, height: number) {\n    this.computedStyles.width = width;\n    this.computedStyles.height = height;\n    const {\n      timeRulerHeight,\n      initialSpanMarginToViewport,\n    } = this.computedStyles;\n\n    this.svg.setAttribute('width', `${width}`);\n    this.svg.setAttribute('height', `${height}`);\n    this.svg.setAttribute('viewBox', `0 0 ${width} ${height}`);\n\n    this.bodyClipPathRect.setAttribute('width', `${width}`);\n    this.bodyClipPathRect.setAttribute('height', `${height - timeRulerHeight}`);\n\n    this.axis.updateOutputRange([\n      initialSpanMarginToViewport,\n      width - initialSpanMarginToViewport,\n    ]);\n\n    this.groupViews.forEach((g) => g.handleAxisUpdate());\n    this.updateAllDecorations();\n    this.updateTicks();\n\n    this.groupViews.forEach((v) => v.updateSeperatorLineWidths(width));\n    this.keepPanelTraslateYInScreen();\n\n    const svgRect = this.svg.getBoundingClientRect();\n    this.spanTooltipStuffCache.svgBBTop = svgRect.top;\n  }\n\n  private updateAllDecorations(forceReprepare = false) {\n    for (const decoration of Object.values(this.decorations)) {\n      const decorations = isArray(decoration) ? decoration : [decoration];\n\n      if (forceReprepare) {\n        for (const d of decorations) {\n          const rv = d.prepare({} as any) as any;\n          if (rv === false) d.unmount();\n        }\n      }\n\n      for (const d of decorations) {\n        d.update();\n      }\n    }\n  }\n\n  private setupPanels() {\n    const { width, height, timeRulerHeight } = this.computedStyles;\n\n    this.bodyClipPath.id = 'body-clip-path';\n    this.bodyClipPathRect.setAttribute('x', `0`);\n    this.bodyClipPathRect.setAttribute('y', `0`);\n    this.bodyClipPathRect.setAttribute('width', `${width}`);\n    this.bodyClipPathRect.setAttribute('height', `${height - timeRulerHeight}`);\n    this.bodyClipPath.appendChild(this.bodyClipPathRect);\n    this.defs.appendChild(this.bodyClipPath);\n\n    this.svg.appendChild(this.tickContainer);\n\n    this.bodyContainer.setAttribute('x', `0`);\n    this.bodyContainer.setAttribute('y', `0`);\n    this.bodyContainer.setAttribute(\n      'transform',\n      `translate(0, ${timeRulerHeight})`\n    );\n    this.bodyContainer.setAttribute('clip-path', 'url(#body-clip-path)');\n    this.bodyContainer.appendChild(this.decorationUnderlayPanel);\n    this.bodyContainer.appendChild(this.groupNamePanel);\n    this.bodyContainer.appendChild(this.timelinePanel);\n    this.bodyContainer.appendChild(this.decorationOverlayPanel);\n    this.svg.appendChild(this.bodyContainer);\n  }\n\n  getSpanTooltipContent() {\n    return this.spanTooltipContent;\n  }\n\n  // Array order is from deepest element to root\n  private getInteractedElementsFromMouseEvent(\n    e: MouseEvent\n  ): TimelineInteractedElementObject[] {\n    let element = e.target as SVGElement | null;\n    const matches: TimelineInteractedElementObject[] = [];\n\n    while (element && element !== this.svg) {\n      if (element.hasAttribute(TimelineInteractableElementAttribute)) {\n        matches.push({\n          type: element.getAttribute(\n            TimelineInteractableElementAttribute\n          )! as any,\n          element: element,\n        });\n      }\n      element = (element.parentElement as unknown) as SVGElement;\n    }\n\n    return matches;\n  }\n\n  dispose() {\n    this.mouseHandler.removeListener(\n      MouseHandlerEvent.IDLE_MOVE,\n      this.binded.onMouseIdleMove\n    );\n    this.mouseHandler.removeListener(\n      MouseHandlerEvent.IDLE_LEAVE,\n      this.binded.onMouseIdleLeave\n    );\n    this.mouseHandler.removeListener(\n      MouseHandlerEvent.PAN_START,\n      this.binded.onMousePanStart\n    );\n    this.mouseHandler.removeListener(\n      MouseHandlerEvent.PAN_MOVE,\n      this.binded.onMousePanMove\n    );\n    this.mouseHandler.removeListener(\n      MouseHandlerEvent.WHEEL,\n      this.binded.onWheel\n    );\n    this.mouseHandler.removeListener(\n      MouseHandlerEvent.CLICK,\n      this.binded.onClick\n    );\n\n    this.mouseHandler.dispose();\n\n    this.removeAllListeners();\n  }\n\n  updateGroupLayoutMode(groupLayoutType: SpanGroupLayoutType) {\n    this.groupLayoutMode = groupLayoutType;\n    this.groupViews.forEach((g) => {\n      g.setLayoutType(groupLayoutType);\n      g.layout();\n    });\n    this.updateGroupVerticalPositions();\n    this.updateAllDecorations();\n    this.keepPanelTraslateYInScreen();\n\n    window.Countly &&\n      window.Countly.add_event({\n        key: 'draw_layout_changed',\n        count: 1,\n        segmentation: {\n          type: groupLayoutType,\n        },\n      });\n  }\n\n  // can throw\n  // - this.spanGrouping.addSpan\n  // - this.layout\n  updateSpanGrouping(spanGroupingOptions: SpanGroupingOptions) {\n    // TODO: Dispose previous grouping maybe?\n    this.spanGrouping = new SpanGrouping(spanGroupingOptions);\n    this.traces.forEach((t) =>\n      t.spans.forEach((s) => this.spanGrouping.addSpan(s, t))\n    );\n    this.layout();\n\n    window.Countly &&\n      window.Countly.add_event({\n        key: 'span_grouping_changed',\n        count: 1,\n        segmentation: {\n          type: spanGroupingOptions.key,\n        },\n      });\n  }\n\n  // can throw\n  // - s.updateColors\n  updateSpanColoring(options: SpanColoringOptions) {\n    this.spanViewSharedOptions.colorFor = options.colorBy;\n    this.groupViews.forEach((g) => {\n      g.setSpanViewSharedOptions(this.spanViewSharedOptions);\n      g.getAllSpanViews().forEach((s) => s.updateColors());\n    });\n\n    window.Countly &&\n      window.Countly.add_event({\n        key: 'span_coloring_changed',\n        count: 1,\n        segmentation: {\n          type: options.key,\n        },\n      });\n  }\n\n  // can throw\n  // - s.updateLabelText\n  updateSpanLabelling(options: SpanLabellingOptions) {\n    this.spanViewSharedOptions.labelFor = options.labelBy;\n    this.groupViews.forEach((g) => {\n      g.setSpanViewSharedOptions(this.spanViewSharedOptions);\n      g.getAllSpanViews().forEach((s) => s.updateLabelText());\n    });\n\n    window.Countly &&\n      window.Countly.add_event({\n        key: 'span_labeling_changed',\n        count: 1,\n        segmentation: {\n          type: options.key,\n        },\n      });\n  }\n\n  get tool() {\n    return this._tool;\n  }\n\n  updateTool(tool: TimelineTool) {\n    this._tool = tool;\n  }\n\n  getTraces() {\n    return this.traces;\n  }\n\n  // can throw\n  // - this.spanGrouping.addSpan\n  // - this.layout\n  addTrace(trace: Trace) {\n    const idMatch = find(this.traces, (t) => t.id === trace.id);\n    if (idMatch) {\n      return false;\n    }\n\n    this.traces.push(trace);\n    trace.spans.forEach((s) => this.spanGrouping.addSpan(s, trace));\n\n    this.layout();\n    return true;\n  }\n\n  // can throw\n  // - this.layout\n  removeTrace(trace: Trace) {\n    const removeds = remove(this.traces, (t) => t.id === trace.id);\n    if (removeds.length === 0) {\n      return false;\n    }\n\n    let isSelectedSpanRemoved = false;\n    trace.spans.forEach((s) => {\n      this.spanGrouping.removeSpan(s);\n      if (this.selectedSpanId && s.id == this.selectedSpanId) {\n        isSelectedSpanRemoved = true;\n      }\n    });\n\n    this.layout();\n    if (isSelectedSpanRemoved) {\n      this.selectSpan(null, true);\n    }\n    return true;\n  }\n\n  findGroupView(\n    groupId: string | ((groupView: SpanGroupView) => boolean)\n  ): SpanGroupView | undefined {\n    if (isString(groupId)) {\n      return find(this.groupViews, (g) => g.spanGroup.id === groupId);\n    } else if (isFunction(groupId)) {\n      return find(this.groupViews, groupId);\n    } else {\n      throw new Error('Unsupported argument type');\n    }\n  }\n\n  findSpanView(\n    spanId: string | ((spanView: SpanView) => boolean)\n  ): [SpanGroupView | undefined, SpanView | undefined] {\n    if (isString(spanId)) {\n      const groupView = find(\n        this.groupViews,\n        (g) => !!g.getSpanViewById(spanId)\n      );\n      return [groupView, groupView?.getSpanViewById(spanId)];\n    } else if (isFunction(spanId)) {\n      for (let groupView of this.groupViews) {\n        const spanViews = groupView.getAllSpanViews();\n        const spanView = find(spanViews, spanId);\n        if (spanView) {\n          return [groupView, spanView];\n        }\n      }\n      return [undefined, undefined];\n    } else {\n      throw new Error('Unsupported argument type');\n    }\n  }\n\n  findSpanViews(\n    predicate: (spanView: SpanView) => boolean\n  ): [SpanGroupView, SpanView][] {\n    const acc: [SpanGroupView, SpanView][] = [];\n    for (let groupView of this.groupViews) {\n      const spanViews = groupView.getAllSpanViews();\n      spanViews.filter(predicate).forEach((spanView) => {\n        acc.push([groupView, spanView]);\n      });\n    }\n    return acc;\n  }\n\n  // can throw\n  // - groupView.init\n  layout() {\n    let startTimestamp = Infinity;\n    let finishTimestamp = -Infinity;\n    this.traces.forEach((trace) => {\n      startTimestamp = Math.min(startTimestamp, trace.startTime);\n      finishTimestamp = Math.max(finishTimestamp, trace.finishTime);\n    });\n\n    const { width, initialSpanMarginToViewport } = this.computedStyles;\n\n    this.axis.reset(\n      [startTimestamp, finishTimestamp],\n      [initialSpanMarginToViewport, width - initialSpanMarginToViewport]\n    );\n\n    this.groupViews.forEach((v) => v.dispose());\n    this.groupViews = [];\n\n    const groups = this.spanGrouping\n      .getAllGroups()\n      .sort((a, b) => a.startTimestamp - b.startTimestamp);\n    const groupNameCounter: { [key: string]: number } = {};\n    groups.forEach((group) => {\n      let groupLabel = group.name;\n      if (!groupNameCounter[group.name]) groupNameCounter[group.name] = 0;\n      groupNameCounter[group.name]++;\n      if (groupNameCounter[group.name] > 1) {\n        groupLabel = `${group.name} ${groupNameCounter[group.name]}`;\n      }\n\n      const groupView = new SpanGroupView({\n        group,\n        layoutType: this.groupLayoutMode,\n        label: groupLabel,\n      });\n      groupView.init({\n        groupNamePanel: this.groupNamePanel,\n        timelinePanel: this.timelinePanel,\n        svgDefs: this.defs,\n        spanViewSharedOptions: this.spanViewSharedOptions,\n      });\n      groupView.updateSeperatorLineWidths(width);\n      groupView.layout();\n\n      this.groupViews.push(groupView);\n    });\n\n    // TODO: Check if selected span id is still existing, if it doesn't remove it from selecteds,\n    // Re-select the previous ones\n\n    this.updateGroupVerticalPositions();\n\n    // Annotations\n    this.updateAllDecorations(true); // Force re-prepare because all the groupViews and spanViews are replaced w/ new\n    this.updateTicks();\n\n    // Reset vertical panning\n    this.setPanelTranslateY(0);\n  }\n\n  private updateGroupVerticalPositions() {\n    let y = 0;\n\n    this.groupViews.forEach((groupView, i) => {\n      groupView.updatePosition({ y });\n      y += groupView.getComputedStyles().height;\n    });\n\n    this.computedStyles.contentHeight = y;\n  }\n\n  translateX(delta: number) {\n    this.axis.translate(delta);\n    this.groupViews.forEach((g) => g.handleAxisTranslate());\n    this.updateAllDecorations();\n    this.updateTicks();\n  }\n\n  translateY(delta: number) {\n    const {\n      height,\n      contentHeight,\n      panelTranslateY,\n      timeRulerHeight,\n    } = this.computedStyles;\n    const bodyHeight = height - timeRulerHeight;\n    if (contentHeight <= bodyHeight) return;\n\n    const newTranslateY = panelTranslateY + delta;\n    const newPanelTranslateY = Math.min(\n      Math.max(newTranslateY, bodyHeight - contentHeight),\n      0\n    );\n    this.setPanelTranslateY(newPanelTranslateY);\n  }\n\n  setPanelTranslateY(y: number) {\n    this.computedStyles.panelTranslateY = y;\n    this.groupNamePanel.setAttribute('transform', `translate(0, ${y})`);\n    this.timelinePanel.setAttribute('transform', `translate(0, ${y})`);\n    this.decorationUnderlayPanel.setAttribute(\n      'transform',\n      `translate(0, ${y})`\n    );\n    this.decorationOverlayPanel.setAttribute('transform', `translate(0, ${y})`);\n  }\n\n  getComputedStyles() {\n    return this.computedStyles;\n  }\n\n  private keepPanelTraslateYInScreen() {\n    const {\n      height,\n      panelTranslateY,\n      contentHeight,\n      timeRulerHeight,\n    } = this.computedStyles;\n    const bodyHeight = height - timeRulerHeight;\n    const bottomY = panelTranslateY + contentHeight;\n    const offsetSnapToBottom = bodyHeight - bottomY;\n    if (offsetSnapToBottom <= 0) return;\n    const newTranslateY = Math.min(panelTranslateY + offsetSnapToBottom, 0); // Can be max 0\n    this.setPanelTranslateY(newTranslateY);\n  }\n\n  zoom(scaleFactor: number, anchorPosX: number) {\n    this.axis.zoom(scaleFactor, anchorPosX);\n    this.groupViews.forEach((g) => g.handleAxisZoom());\n    this.updateAllDecorations();\n    this.updateTicks();\n  }\n\n  selectSpan(spanId: string, silent = false) {\n    // If a span is already selected, update its style\n    if (this.selectedSpanId) {\n      const previousSelectedSpanView = this.findSpanView(\n        this.selectedSpanId\n      )[1];\n      if (previousSelectedSpanView) {\n        previousSelectedSpanView.updateColorStyle('normal');\n        previousSelectedSpanView.hideLogs();\n      }\n    }\n\n    // Unmount all the selected spans connections\n    this.decorations.selectedSpanIntervalHighlight.unmount();\n    this.decorations.selectedSpanConnections.forEach((c) => c.unmount());\n    this.decorations.hoveredSpanConnections.forEach((c) => c.unmount());\n\n    this.selectedSpanId = spanId;\n    // If new span exists\n    const [groupView, spanView] = spanId\n      ? this.findSpanView(spanId)\n      : [null, null];\n    if (spanId && spanView && groupView) {\n      spanView.updateColorStyle('selected');\n      spanView.showLogs();\n      groupView.bringSpanViewToTop(spanId);\n      this.showSelectedSpanConnections(this.selectedSpanId);\n\n      this.decorations.selectedSpanIntervalHighlight.prepare({\n        startTimestamp: spanView.span.startTime,\n        finishTimestamp: spanView.span.finishTime,\n        lineColor: 'rgba(62, 124, 214, 0.25)',\n        lineWidth: 1,\n        lineDashArray: '2',\n        fillColor: 'rgba(58, 122, 217, 0.05)',\n      });\n      this.decorations.selectedSpanIntervalHighlight.update();\n      this.decorations.selectedSpanIntervalHighlight.mount();\n    }\n\n    if (!silent) {\n      this.emit(TimelineViewEvent.SPAN_SELECTED, this.selectedSpanId);\n    }\n  }\n\n  getSelectedSpanId() {\n    return this.selectedSpanId;\n  }\n\n  focusSpans(spanIds: string[]) {\n    if (!spanIds || spanIds.length == 0) return;\n    if (this.traces.length == 0) return;\n\n    spanIds = uniq(spanIds);\n\n    let minStartTime = Infinity;\n    let maxFinishTime = -Infinity;\n    let minY = Infinity;\n    let maxY = -Infinity;\n\n    spanIds.forEach((spanId) => {\n      const [groupView, spanView] = this.findSpanView(spanId);\n      if (!groupView || !spanView) return;\n      const span = spanView.span;\n\n      minStartTime = Math.min(minStartTime, span.startTime);\n      maxFinishTime = Math.max(maxFinishTime, span.finishTime);\n\n      const spanStyles = spanView.getComputedStyles();\n      const yTop = groupView.getComputedStyles().y + spanStyles.y;\n      const yBottom = yTop + spanStyles.rowHeight;\n      minY = Math.min(minY, yTop);\n      maxY = Math.max(maxY, yBottom);\n    });\n\n    if (\n      !isFinite(minStartTime) ||\n      !isFinite(maxFinishTime) ||\n      !isFinite(minY) ||\n      !isFinite(maxY)\n    ) {\n      return;\n    }\n\n    const {\n      width,\n      height,\n      contentHeight,\n      timeRulerHeight,\n    } = this.computedStyles;\n\n    this.axis.focus(\n      [minStartTime, maxFinishTime],\n      [width / 4, (width * 3) / 4]\n    );\n    // Copied from .zoom() method\n    this.groupViews.forEach((g) => g.handleAxisZoom());\n    this.updateAllDecorations();\n    this.updateTicks();\n\n    // Handle translate y\n    const bodyHeight = height - timeRulerHeight; // viewport height\n    // if content is already smaller than viewport, noop\n    if (contentHeight > bodyHeight) {\n      const newTranslateY = -((minY + maxY) / 2) + bodyHeight / 2;\n      const panelTranslateY = Math.min(\n        Math.max(newTranslateY, bodyHeight - contentHeight),\n        0\n      );\n      this.setPanelTranslateY(panelTranslateY);\n    }\n  }\n\n  // Changes just the translation, not zoom factor\n  translateToSpanIfNotInViewport(spanId: string) {\n    const [groupView, spanView] = this.findSpanView(spanId);\n    if (!groupView || !spanView) return;\n    const span = spanView.span;\n    const spanStyles = spanView.getComputedStyles();\n    const spanYTop = groupView.getComputedStyles().y + spanStyles.y;\n    const spanYBottom = spanYTop + spanStyles.rowHeight;\n\n    const {\n      height,\n      contentHeight,\n      panelTranslateY,\n      timeRulerHeight,\n    } = this.computedStyles;\n\n    // Handle translate y\n    const bodyHeight = height - timeRulerHeight; // viewport height\n    // if content is already smaller than viewport, noop\n    if (contentHeight > bodyHeight) {\n      const viewportTopY = -panelTranslateY;\n      const viewportBottomY = -panelTranslateY + bodyHeight;\n\n      if (spanYBottom > viewportBottomY) {\n        const newTranslateY = panelTranslateY - (spanYBottom - viewportBottomY);\n        this.setPanelTranslateY(newTranslateY);\n      } else if (spanYTop < viewportTopY) {\n        const newTranslateY = panelTranslateY + (viewportTopY - spanYTop + 10);\n        this.setPanelTranslateY(newTranslateY);\n      } else {\n        // in viewport, noop\n      }\n    }\n\n    // Handle translate x\n    const spanXLeft = this.axis.input2output(span.startTime);\n    const spanXRight = this.axis.input2output(span.finishTime);\n    const [viewportLeftX, viewportRightX] = this.axis.getOutputRange();\n    if (spanXRight < viewportLeftX) {\n      const delta = viewportLeftX - spanXRight + 50;\n      this.translateX(delta);\n    } else if (spanXLeft > viewportRightX) {\n      const delta = viewportRightX - spanXLeft - 50;\n      this.translateX(delta);\n    } else {\n      // in viewport, noop\n    }\n  }\n\n  showLogVerticalLine(timestamp: number) {\n    this.decorations.logVerticalLine.prepare({\n      timestamp,\n      lineColor: 'rgba(0, 0, 0, 0.75)',\n      lineWidth: 1,\n      position: 'overlay',\n      displayTime: false,\n    });\n    this.decorations.logVerticalLine.update();\n    this.decorations.logVerticalLine.mount();\n  }\n\n  hideLogVerticalLine() {\n    this.decorations.logVerticalLine.unmount();\n  }\n\n  ////////////////////////////////////////\n  //////////// EVENT-HANDLING ////////////\n  ////////////////////////////////////////\n\n  private onMouseIdleMove(e: MouseEvent) {\n    if (this.traces.length === 0) return;\n\n    // If context menu is dislaying, prevent span tooltip\n    if (this.contextMenuManager.isShowing) return;\n\n    // We want to update immdieadely span tooltip\n    this.spanTooltipContent.updateMousePos(e.offsetX, e.offsetY);\n\n    // When we're hacking tippy.js to show it custom coordinates.\n    // We're overriding it's element reference when a span is mouse-entered (line 769)\n    // When user is mouse-moving on span, we want to follow mouse coordinate\n    // That's why we update coordinate cache and popper instance\n    this.spanTooltipStuffCache.idleMouseClientX = e.clientX;\n    this.spanTooltipTippy.popperInstance.update();\n\n    // TODO: Maybe debounce below?\n    const matches = this.getInteractedElementsFromMouseEvent(e);\n\n    const previousHoveredElements = this.hoveredElements;\n    this.hoveredElements = matches;\n\n    const removed = differenceBy(\n      previousHoveredElements,\n      matches,\n      ({ element }) => element\n    );\n    const added = differenceBy(\n      matches,\n      previousHoveredElements,\n      ({ element }) => element\n    );\n\n    removed.forEach(({ type, element }) => {\n      switch (type) {\n        case TimelineInteractableElementType.SPAN_VIEW_CONTAINER: {\n          const { id: spanId } = SpanView.getPropsFromContainer(element);\n          if (!spanId) return;\n          this.spanTooltipTippy.hide();\n          if (this.selectedSpanId == spanId) return;\n          const spanView = this.findSpanView(spanId)[1];\n          if (!spanView) return;\n          spanView.updateColorStyle('normal');\n          spanView.hideLogs();\n          this.decorations.hoveredSpanConnections.forEach((d) => d.unmount());\n          return;\n        }\n\n        case TimelineInteractableElementType.SPAN_CONNECTION: {\n          const {\n            id: spanConnectionId,\n          } = SpanConnectionDecoration.getPropsFromPathElement(element);\n          if (!spanConnectionId) return;\n          const spanConnection = find(\n            this.decorations.selectedSpanConnections,\n            (d) => d.id == spanConnectionId\n          );\n          if (!spanConnection) return;\n          spanConnection.updateStyle('normal');\n          return;\n        }\n      }\n    });\n\n    added.forEach(({ type, element }) => {\n      switch (type) {\n        case TimelineInteractableElementType.SPAN_VIEW_CONTAINER: {\n          const { id: spanId } = SpanView.getPropsFromContainer(element);\n          if (!spanId) return;\n          const [groupView, spanView] = this.findSpanView(spanId);\n\n          if (spanView) {\n            // Show span tooltip, even if it's selected!\n            this.spanTooltipContent.updateSpan(spanView);\n            // HACK ALERT: To show tippy.js at custom coordinates\n            Object.assign(this.spanTooltipTippy.popperInstance.reference, {\n              clientWidth: 0,\n              clientHeight: 0,\n              getBoundingClientRect: () => {\n                const {\n                  panelTranslateY,\n                  timeRulerHeight,\n                } = this.computedStyles;\n                const spanViewProp = spanView.getComputedStyles();\n                const groupViewProp = groupView.getComputedStyles();\n                const top =\n                  this.spanTooltipStuffCache.svgBBTop +\n                  spanViewProp.y +\n                  groupViewProp.y +\n                  groupViewProp.spansContainerMarginTop +\n                  timeRulerHeight +\n                  panelTranslateY;\n                return {\n                  width: 0,\n                  height: spanViewProp.barHeight,\n                  top: top,\n                  bottom: top + spanViewProp.barHeight,\n                  left: this.spanTooltipStuffCache.idleMouseClientX,\n                  right: this.spanTooltipStuffCache.idleMouseClientX,\n                };\n              },\n            });\n            this.spanTooltipTippy.popperInstance.update();\n            this.spanTooltipTippy.show();\n          }\n\n          // If it's already selected, early terminate\n          // Because we don't want to update span style or show span connection\n          // It's already showing by selection logic\n          if (this.selectedSpanId == spanId) return;\n          if (!spanView) return;\n          spanView.updateColorStyle('hover');\n          spanView.showLogs();\n          this.showHoveredSpanConnections(spanId);\n\n          return;\n        }\n\n        case TimelineInteractableElementType.SPAN_CONNECTION: {\n          // If there is no span selected, no hover\n          if (!this.selectedSpanId) return;\n          const {\n            id: spanConnectionId,\n            fromSpanId,\n            toSpanId,\n          } = SpanConnectionDecoration.getPropsFromPathElement(element);\n          if (!spanConnectionId) return;\n\n          // If span connection is nothing to do with current selected span, no hover\n          if (\n            this.selectedSpanId != fromSpanId &&\n            this.selectedSpanId != toSpanId\n          ) {\n            return;\n          }\n\n          const spanConnection = find(\n            this.decorations.selectedSpanConnections,\n            (d) => d.id == spanConnectionId\n          );\n          if (!spanConnection) return;\n          spanConnection.updateStyle('hover');\n          return;\n        }\n      }\n    });\n\n    if (removed.length === 0 && added.length === 0) return;\n  }\n\n  private onMouseIdleLeave(e: MouseEvent) {\n    this.decorations.hoveredSpanConnections.forEach((d) => d.unmount());\n    this.spanTooltipTippy.hide();\n  }\n\n  private onMousePanStart(e: MouseEvent) {\n    this.spanTooltipTippy.hide();\n    this.selectionView.unmount();\n\n    if (this.traces.length === 0) return;\n\n    if (this._tool == TimelineTool.RULER) {\n      this.selectionView.start(e.offsetX, e.offsetY);\n      this.selectionView.update(e.offsetX, e.offsetY);\n      this.selectionView.mount();\n    }\n  }\n\n  private onMousePanMove(e: MouseEvent) {\n    if (this.traces.length === 0) return;\n\n    if (this._tool == TimelineTool.RULER) {\n      this.selectionView.update(e.offsetX, e.offsetY);\n    } else {\n      // Translate\n      this.translateX(e.movementX);\n      this.translateY(e.movementY);\n    }\n  }\n\n  private onMousePanEnd(e: MouseEvent) {\n    if (this.traces.length === 0) return;\n\n    const isMouseLeaveBeforeUp = e.type == 'mouseleave';\n    this.selectionView.unmount();\n\n    if (this._tool == TimelineTool.RULER && !isMouseLeaveBeforeUp) {\n      // TODO: e.offsetX, e.offsetY are way wrong, fix it in MouseHandler;\n      const rect = this.selectionView.stop();\n    }\n  }\n\n  private onWheel(e: WheelEvent) {\n    if (this.traces.length === 0) return;\n    this.spanTooltipTippy.popperInstance.update();\n    this.zoom(1 - 0.0025 * e.deltaY, e.offsetX);\n  }\n\n  private onClick(e: MouseEvent) {\n    this.spanTooltipTippy.hide();\n\n    if (!e) return; // Sometimes event can be garbage-collected\n\n    // Get interacted element\n    const matches = this.getInteractedElementsFromMouseEvent(e);\n\n    let clickedSpanId: string | null = null;\n    let clickedGroupLabelId: string | null = null;\n    let clickedSpanConnectionTargetSpanId: string | null = null;\n\n    forEach(matches, ({ type, element }) => {\n      switch (type) {\n        case TimelineInteractableElementType.SPAN_VIEW_CONTAINER: {\n          const { id: spanId } = SpanView.getPropsFromContainer(element);\n          if (!spanId) return;\n          clickedSpanId = spanId;\n          return;\n        }\n\n        case TimelineInteractableElementType.GROUP_VIEW_LABEL_TEXT: {\n          const { id: groupId } = SpanGroupView.getPropsFromLabelText(element);\n          if (!groupId) return;\n          clickedGroupLabelId = groupId;\n          return;\n        }\n\n        case TimelineInteractableElementType.SPAN_CONNECTION: {\n          // If there is no span selected, no click\n          if (!this.selectedSpanId) return;\n          const {\n            id: spanConnectionId,\n            fromSpanId,\n            toSpanId,\n          } = SpanConnectionDecoration.getPropsFromPathElement(element);\n          if (!spanConnectionId) return;\n\n          // If span connection is nothing to do with current selected span, no click\n          if (\n            this.selectedSpanId != fromSpanId &&\n            this.selectedSpanId != toSpanId\n          ) {\n            return;\n          }\n\n          clickedSpanConnectionTargetSpanId =\n            fromSpanId == this.selectedSpanId ? toSpanId : fromSpanId;\n          return;\n        }\n      }\n    });\n\n    // If left button clicked\n    if (e.button == 0) {\n      const groupView =\n        clickedGroupLabelId && this.findGroupView(clickedGroupLabelId);\n      if (clickedGroupLabelId && groupView) {\n        const isVisible = groupView.toggleView();\n        this.updateGroupVerticalPositions();\n        this.keepPanelTraslateYInScreen();\n        this.updateAllDecorations();\n\n        return; // Early terminate so that selection does not lost\n      }\n\n      if (clickedSpanConnectionTargetSpanId) {\n        this.selectSpan(clickedSpanConnectionTargetSpanId);\n        this.translateToSpanIfNotInViewport(clickedSpanConnectionTargetSpanId);\n        return; // Early terminate so that selection does not lost\n      }\n\n      // Select clicked span, or nothing (deselectes all of them)\n      this.selectSpan(clickedSpanId);\n      return;\n    }\n\n    // If right button click\n    if (e.button == 2) {\n      // If clicked on a span, show context menu\n      if (clickedSpanId) {\n        this.contextMenuManager.show({\n          x: e.clientX,\n          y: e.clientY,\n          menuItems: [\n            {\n              selectItem: {\n                type: 'item',\n                text: 'Show in Table View',\n                id: 'showInTableView',\n              },\n              emitEvent: {\n                event: ContextMenuEvent.SHOW_SPAN_IN_TABLE_VIEW,\n                data: clickedSpanId,\n              },\n            },\n            {\n              selectItem: {\n                type: 'item',\n                text: 'Focus',\n                altText: 'F',\n                id: 'focus',\n              },\n              onSelected: () => this.focusSpans([clickedSpanId]),\n            },\n            {\n              selectItem: {\n                type: 'item',\n                text: 'Copy Span To Clipboard',\n                id: 'copyToClipboard',\n                altText: 'C',\n              },\n              onSelected: () => this.copySpanToClipboard(clickedSpanId),\n            },\n          ],\n        });\n        return;\n      }\n\n      return;\n    }\n  }\n\n  private copySpanToClipboard(spanId: string) {\n    if (!spanId) return;\n    const [groupView, spanView] = this.findSpanView(spanId);\n    if (!spanView) return;\n    copyToClipboard(JSON.stringify(spanView.span, null, 4));\n  }\n\n  ///////////////////////////////////////\n  //////////// TICK HANDLING ////////////\n  ///////////////////////////////////////\n\n  private updateTicks() {\n    if (this.traces.length == 0) {\n      this.tickElements.forEach(({ text, line }) => {\n        text.parentElement?.removeChild(text);\n        line.parentElement?.removeChild(line);\n      });\n      return;\n    }\n\n    const {\n      width,\n      height,\n      timeRulerTickLength,\n      timeRulerTickLineColor,\n      timeRulerTickTextOffsetTop,\n      timeRulerTickTextColor,\n      timeRulerTickTextSize,\n    } = this.computedStyles;\n    const tickCount = Math.round(width / timeRulerTickLength);\n    const ticks = this.axis.ticks(tickCount);\n\n    ticks.forEach((tick, i) => {\n      if (!this.tickElements[i]) {\n        this.tickElements[i] = {\n          line: document.createElementNS(SVG_NS, 'line'),\n          text: document.createElementNS(SVG_NS, 'text'),\n        };\n      }\n\n      const { line, text } = this.tickElements[i];\n\n      line.setAttribute('x1', tick.output + '');\n      line.setAttribute('x2', tick.output + '');\n      line.setAttribute('y1', '0');\n      line.setAttribute('y2', height + '');\n      line.setAttribute('stroke', timeRulerTickLineColor);\n      line.setAttribute('stroke-width', '1');\n      this.tickContainer.appendChild(line);\n\n      text.textContent = formatMicroseconds(tick.inputRelative);\n      text.setAttribute('x', tick.output - 4 + '');\n      text.setAttribute('y', timeRulerTickTextOffsetTop + '');\n      text.setAttribute('fill', timeRulerTickTextColor);\n      text.setAttribute('font-size', timeRulerTickTextSize + '');\n      text.setAttribute('text-anchor', 'end');\n      this.tickContainer.appendChild(text);\n    });\n\n    // Remove unused ones\n    if (this.tickElements.length > ticks.length) {\n      for (let i = ticks.length; i < this.tickElements.length; i++) {\n        const { line, text } = this.tickElements[i];\n        line.parentElement?.removeChild(line);\n        text.parentElement?.removeChild(text);\n      }\n    }\n  }\n\n  private showSelectedSpanConnections(spanId: string) {\n    const [groupView, spanView] = this.findSpanView(spanId);\n    if (!groupView || !spanView) return;\n    const span = spanView.span;\n    const that = this;\n\n    // Clean-up\n    this.decorations.selectedSpanConnections.forEach((d) => d.unmount());\n    this.decorations.selectedSpanConnections = [];\n\n    // Parent connection(s) recursive\n    handleParentConnection(span);\n\n    function handleParentConnection(span: Span) {\n      // CAUTION: We're assuming the first `childOf` or `followsFrom` reference as the parent.\n      const parentRef = find(span.references, (ref) => {\n        return ref.type == 'childOf' || ref.type == 'followsFrom';\n      });\n      if (!parentRef) return;\n\n      const [refGroupView, refSpanView] = that.findSpanView(parentRef.spanId);\n      if (!refGroupView || !refSpanView) return;\n\n      const decoration = new SpanConnectionDecoration(that);\n      decoration.prepare({\n        spanId1: refSpanView.span.id,\n        spanId2: span.id,\n        strokeDasharray: parentRef.type == 'followsFrom' ? '2' : '0',\n      });\n      decoration.update();\n      decoration.mount();\n\n      that.decorations.selectedSpanConnections.push(decoration);\n      handleParentConnection(refSpanView.span);\n    }\n\n    // Children connections\n    const childrenMatches = this.findSpanViews((v) => {\n      const selfReferences = find(\n        v.span.references,\n        (r) => r.spanId === span.id\n      );\n      return !!selfReferences;\n    });\n\n    childrenMatches.forEach(([refGroupView, refSpanView]) => {\n      const ref = find(\n        refSpanView.span.references,\n        (r) => r.spanId === span.id\n      );\n      const decoration = new SpanConnectionDecoration(this);\n      decoration.prepare({\n        spanId1: span.id,\n        spanId2: refSpanView.span.id,\n        strokeDasharray: ref.type == 'followsFrom' ? '2' : '0',\n      });\n      decoration.update();\n      decoration.mount();\n\n      this.decorations.selectedSpanConnections.push(decoration);\n    });\n  }\n\n  // Sorry for duplication, or not sorry\n  private showHoveredSpanConnections(spanId: string) {\n    const [groupView, spanView] = this.findSpanView(spanId);\n    if (!groupView || !spanView) return;\n    const span = spanView.span;\n\n    // Clean-up\n    this.decorations.hoveredSpanConnections.forEach((d) => d.unmount());\n    this.decorations.hoveredSpanConnections = [];\n\n    // Parent connection(s)\n    span.references.forEach((ref) => {\n      const [refGroupView, refSpanView] = this.findSpanView(ref.spanId);\n      if (!refGroupView || !refSpanView) return;\n\n      const decoration = new SpanConnectionDecoration(this);\n      decoration.prepare({\n        spanId1: refSpanView.span.id,\n        spanId2: span.id,\n        strokeDasharray: ref.type == 'followsFrom' ? '2' : '0',\n      });\n      decoration.update();\n      decoration.mount();\n\n      this.decorations.hoveredSpanConnections.push(decoration);\n    });\n\n    // Children connections\n    const childrenMatches = this.findSpanViews((v) => {\n      const selfReferences = find(\n        v.span.references,\n        (r) => r.spanId === span.id\n      );\n      return !!selfReferences;\n    });\n\n    childrenMatches.forEach(([refGroupView, refSpanView]) => {\n      const ref = find(\n        refSpanView.span.references,\n        (r) => r.spanId === span.id\n      );\n      const decoration = new SpanConnectionDecoration(this);\n      decoration.prepare({\n        spanId1: span.id,\n        spanId2: refSpanView.span.id,\n        strokeDasharray: ref.type == 'followsFrom' ? '2' : '0',\n      });\n      decoration.update();\n      decoration.mount();\n\n      this.decorations.hoveredSpanConnections.push(decoration);\n    });\n  }\n}\n","import api from \"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../../node_modules/css-loader/dist/cjs.js!./widget-toolbar-multi-select.css\";\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","import Fuse from 'fuse.js';\nimport find from 'lodash/find';\nimport groupBy from 'lodash/groupBy';\nimport sortBy from 'lodash/sortBy';\nimport debounce from 'lodash/debounce';\nimport './widget-toolbar-multi-select.css';\n\nexport interface WidgetToolbarMultiSelectOptions {\n  width?: number;\n  maxItemContainerHeight?: number;\n  items: WidgetToolbarMultiSelectItem[];\n  onSelect: (item: WidgetToolbarMultiSelectItem) => void;\n  onUnselect: (item: WidgetToolbarMultiSelectItem) => void;\n  onSearchInput?: (input: string) => void;\n  emptyMessage: string;\n}\n\nexport interface WidgetToolbarMultiSelectItem {\n  id: string;\n  text: string;\n  category?: string;\n  selected?: boolean;\n  disabled?: boolean;\n}\n\nexport class WidgetToolbarMultiSelect {\n  private elements = {\n    container: document.createElement('div'),\n    itemsContainer: document.createElement('div'),\n    searchInput: document.createElement('input'),\n  };\n\n  private fuse: Fuse<\n    WidgetToolbarMultiSelectItem,\n    Fuse.FuseOptions<WidgetToolbarMultiSelectItem>\n  >;\n\n  private binded = {\n    onSearchInput: debounce(this.onSearchInput.bind(this), 100),\n    onItemContainerClick: this.onItemContainerClick.bind(this),\n  };\n\n  constructor(private options: WidgetToolbarMultiSelectOptions) {\n    const els = this.elements;\n\n    // This is for applying correctly marginTop to search input\n    els.container.style.overflow = 'hidden';\n\n    if (options.width) els.container.style.width = `${options.width}px`;\n\n    els.searchInput.type = 'search';\n    els.searchInput.classList.add(\n      'widget-toolbar-multi-select-search',\n      'small'\n    );\n    els.searchInput.placeholder = 'Search...';\n    els.searchInput.addEventListener('input', this.binded.onSearchInput, false);\n    els.container.appendChild(els.searchInput);\n\n    if (options.maxItemContainerHeight) {\n      els.itemsContainer.style.overflowY = 'auto';\n      els.itemsContainer.style.maxHeight = `${options.maxItemContainerHeight}px`;\n    }\n    els.itemsContainer.classList.add('widget-toolbar-multi-select-items');\n    els.container.appendChild(els.itemsContainer);\n\n    this.fuse = new Fuse(options.items, { keys: ['id', 'text'] });\n    this.render();\n\n    // Bind events\n    els.itemsContainer.addEventListener(\n      'click',\n      this.binded.onItemContainerClick,\n      false\n    );\n  }\n\n  get element() {\n    return this.elements.container;\n  }\n\n  updateItems(newItems: WidgetToolbarMultiSelectItem[]) {\n    this.options.items = newItems;\n    this.fuse = new Fuse(newItems, { keys: ['id', 'text'] });\n    this.elements.searchInput.value = '';\n    this.render();\n  }\n\n  getSelectedItems() {\n    return this.options.items.filter((i) => i.selected);\n  }\n\n  render() {\n    this.elements.itemsContainer.innerHTML = '';\n\n    if (this.options.items.length == 0) {\n      this.elements.itemsContainer.innerHTML = `<div class=\"empty\">${this.options.emptyMessage}</div>`;\n      return;\n    }\n\n    // If user is searching something, do not render category stuff -- just items\n    const searchQuery = this.elements.searchInput.value.trim();\n    if (searchQuery) {\n      const results = this.fuse.search(searchQuery);\n      if (results.length == 0) {\n        this.elements.itemsContainer.innerHTML = `<div class=\"empty\">No matches</div>`;\n        return;\n      }\n\n      results.forEach((item: any) => {\n        const itemElement = document.createElement('div');\n        itemElement.setAttribute('data-item-id', item.id);\n        itemElement.textContent = item.text;\n        itemElement.classList.add('widget-toolbar-multi-select-item');\n        if (item.selected) itemElement.classList.add('selected');\n        if (item.disabled) itemElement.classList.add('disabled');\n        this.elements.itemsContainer.appendChild(itemElement);\n      });\n\n      return;\n    }\n\n    // Render w/ category headers\n    const itemsByCategories = groupBy(\n      this.options.items,\n      (item) => item.category || ''\n    );\n    const categories = Object.keys(itemsByCategories);\n    categories.sort();\n\n    categories.forEach((category) => {\n      if (category) {\n        const categoryHeaderElement = document.createElement('div');\n        categoryHeaderElement.classList.add(\n          'widget-toolbar-multi-select-category'\n        );\n        categoryHeaderElement.textContent = category;\n        this.elements.itemsContainer.appendChild(categoryHeaderElement);\n      }\n\n      const items = itemsByCategories[category];\n      const itemsSorted = sortBy(items, (item) => item.text);\n      itemsSorted.forEach((item) => {\n        const itemElement = document.createElement('div');\n        itemElement.setAttribute('data-item-id', item.id);\n        itemElement.textContent = item.text;\n        itemElement.classList.add('widget-toolbar-multi-select-item');\n        if (item.selected) itemElement.classList.add('selected');\n        if (item.disabled) itemElement.classList.add('disabled');\n        this.elements.itemsContainer.appendChild(itemElement);\n      });\n    });\n  }\n\n  select(id: string) {\n    const item = find(this.options.items, (item) => item.id == id);\n    if (!item) return false;\n    if (item.disabled) return false;\n    const itemEl = this.elements.itemsContainer.querySelector(\n      `[data-item-id=\"${id}\"]`\n    );\n    if (!itemEl) return false;\n    item.selected = true;\n    itemEl.classList.add('selected');\n  }\n\n  unselect(id: string) {\n    const item = find(this.options.items, (item) => item.id == id);\n    if (!item) return false;\n    if (item.disabled) return false;\n    const itemEl = this.elements.itemsContainer.querySelector(\n      `[data-item-id=\"${id}\"]`\n    );\n    if (!itemEl) return false;\n    item.selected = false;\n    itemEl.classList.remove('selected');\n  }\n\n  private onSearchInput(e: Event) {\n    this.render();\n    this.options.onSearchInput?.(this.elements.searchInput.value);\n  }\n\n  private onItemContainerClick(e: MouseEvent) {\n    const itemEl = (e.target as Element).closest('[data-item-id]');\n    if (!itemEl) return;\n    const itemId = itemEl.getAttribute('data-item-id');\n    const item = find(this.options.items, (item) => item.id == itemId);\n    if (!item) return;\n\n    if (item.selected) {\n      this.options.onUnselect?.(item);\n    } else {\n      this.options.onSelect?.(item);\n    }\n  }\n\n  dispose() {\n    const els = this.elements;\n    els.searchInput.removeEventListener(\n      'input',\n      this.binded.onSearchInput,\n      false\n    );\n    els.itemsContainer.removeEventListener(\n      'click',\n      this.binded.onItemContainerClick,\n      false\n    );\n  }\n}\n","import api from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../node_modules/css-loader/dist/cjs.js!./form-modal-content.css\";\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","import * as monaco from 'monaco-editor/esm/vs/editor/editor.api';\nimport { TypeScriptManager } from './typescript-manager';\nimport { Stage } from '../../model/stage';\nimport { Span } from '../../model/interfaces';\nimport * as shortid from 'shortid';\nimport {\n  SpanColoringRawOptions,\n  SpanColoringOptions,\n} from '../../model/span-coloring-manager';\nimport throttle from 'lodash/throttle';\nimport isString from 'lodash/isString';\nimport isFunction from 'lodash/isFunction';\nimport flatMap from 'lodash/flatMap';\nimport sampleSize from 'lodash/sampleSize';\nimport { ModalManager } from '../ui/modal/modal-manager';\n\nimport CheckCircleOutlineSvg from '!!raw-loader!@mdi/svg/svg/check-circle-outline.svg';\nimport AlertCircleOutlineSvg from '!!raw-loader!@mdi/svg/svg/alert-circle-outline.svg';\nimport CloseCircleOutlineSvg from '!!raw-loader!@mdi/svg/svg/close-circle-outline.svg';\nimport './form-modal-content.css';\n\nexport interface SpanColoringFormModalContentOptions {\n  // showNameField?: boolean; // TODO: Implement it when you need it!\n  rawOptions?: SpanColoringRawOptions;\n}\n\nexport class SpanColoringFormModalContent {\n  private elements = {\n    container: document.createElement('div'),\n    monacoContainer: document.createElement('div'),\n    testResultContainer: document.createElement('div'),\n    cancelButton: document.createElement('button'),\n    saveButton: document.createElement('button'),\n    testButton: document.createElement('button'),\n  };\n  private model?: monaco.editor.ITextModel;\n  private editor?: monaco.editor.IStandaloneCodeEditor;\n  private editorContentChangeListener?: monaco.IDisposable;\n  private tsManager = TypeScriptManager.getSingleton();\n  private stage = Stage.getSingleton();\n\n  private binded = {\n    onCancelButtonClick: this.onCancelButtonClick.bind(this),\n    onSaveButtonClick: this.onSaveButtonClick.bind(this),\n    onTestButtonClick: this.onTestButtonClick.bind(this),\n    onMonacoEditorContentChange: throttle(\n      this.onMonacoEditorContentChange.bind(this),\n      100\n    ),\n  };\n\n  constructor(private options: SpanColoringFormModalContentOptions) {\n    // Prepare DOM\n    const els = this.elements;\n    els.container.classList.add('customization-form-modal-content');\n\n    els.monacoContainer.classList.add('monaco-container');\n    els.container.appendChild(els.monacoContainer);\n\n    els.testResultContainer.classList.add('test-result');\n    els.testResultContainer.style.display = 'none';\n    els.container.appendChild(els.testResultContainer);\n\n    const buttonsContainer = document.createElement('div');\n    buttonsContainer.classList.add('buttons');\n    els.container.appendChild(buttonsContainer);\n\n    const leftButtons = document.createElement('div');\n    leftButtons.classList.add('left');\n    buttonsContainer.appendChild(leftButtons);\n\n    const rightButtons = document.createElement('div');\n    rightButtons.classList.add('right');\n    buttonsContainer.appendChild(rightButtons);\n\n    els.cancelButton.classList.add('cancel');\n    els.cancelButton.textContent = 'Cancel';\n    leftButtons.appendChild(els.cancelButton);\n\n    els.testButton.classList.add('test');\n    els.testButton.textContent = 'Test';\n    rightButtons.appendChild(els.testButton);\n\n    els.saveButton.classList.add('save', 'primary');\n    els.saveButton.textContent = 'Save';\n    els.saveButton.disabled = true;\n    rightButtons.appendChild(els.saveButton);\n  }\n\n  init() {\n    this.elements.cancelButton.addEventListener(\n      'click',\n      this.binded.onCancelButtonClick,\n      false\n    );\n    this.elements.testButton.addEventListener(\n      'click',\n      this.binded.onTestButtonClick,\n      false\n    );\n    this.elements.saveButton.addEventListener(\n      'click',\n      this.binded.onSaveButtonClick,\n      false\n    );\n\n    // Must be called after the container is mounted and ready,\n    // so that it can gather its dimensions correctly\n    this.initMonacoEditor();\n  }\n\n  private initMonacoEditor() {\n    const code = this.options.rawOptions\n      ? this.options.rawOptions.rawCode\n      : `// Do something with \"span\" and return a CSS-valid color code\\n` +\n        `function colorBy(span: Span): string {\\n` +\n        `    return '#D0E2F2';\\n` +\n        `}\\n`;\n\n    this.model = monaco.editor.createModel(code, 'typescript');\n    this.editor = monaco.editor.create(this.elements.monacoContainer, {\n      minimap: { enabled: false },\n    });\n    this.editor.setModel(this.model);\n\n    // https://github.com/Microsoft/monaco-editor/issues/1017#issuecomment-414615634\n    this.editor.addCommand(\n      monaco.KeyCode.Escape,\n      () => {\n        if (document.activeElement) (document.activeElement as any).blur();\n      },\n      '!findWidgetVisible && !inReferenceSearchEditor && !editorHasSelection'\n    );\n    this.editor.focus();\n\n    this.editorContentChangeListener = this.model.onDidChangeContent(\n      this.binded.onMonacoEditorContentChange\n    );\n  }\n\n  getElement() {\n    return this.elements.container;\n  }\n\n  private onMonacoEditorContentChange() {\n    this.elements.testResultContainer.style.display = 'none';\n    this.elements.saveButton.disabled = true;\n  }\n\n  private onCancelButtonClick() {\n    const modal = ModalManager.getSingleton().findModalFromElement(\n      this.elements.container\n    );\n    if (!modal) throw new Error(`Could not find modal instance`);\n    modal.close({ data: { action: 'cancel' } });\n  }\n\n  private async onSaveButtonClick() {\n    try {\n      const result = await this.onTestButtonClick();\n      const modal = ModalManager.getSingleton().findModalFromElement(\n        this.elements.container\n      );\n      if (!modal) throw new Error(`Could not find modal instance`);\n      modal.close({ data: { action: 'save', ...result } });\n    } catch (err) {}\n  }\n\n  private async onTestButtonClick() {\n    this.elements.saveButton.disabled = true;\n    this.elements.testResultContainer.style.display = 'none';\n\n    try {\n      const result = await this.test();\n\n      this.elements.saveButton.disabled = false;\n      if (result.testedSpans.length == 0) {\n        this.showTestResult({\n          type: 'warning',\n          title: 'No spans in the stage to test',\n          body:\n            `Span coloring function seems OK, you can save it. However it's not tested on any real ` +\n            `spans, since there is no trace added to the stage.`,\n        });\n      } else {\n        this.showTestResult({\n          type: 'success',\n          title: 'Test successful',\n          body: `Span coloring function seems OK. It's tested on ${\n            result.testedSpans.length\n          } span(s) in\n            the stage and here are some samples: <br />\n            <ul>\n              ${sampleSize(result.testedSpans, 3)\n                .map(\n                  (test) =>\n                    `<li>\n                  ${test.span.operationName} => <pre>${test.rv}</pre>\n                </li>`\n                )\n                .join('')}\n            </ul>`,\n        });\n      }\n\n      return result;\n    } catch (err) {\n      this.showTestResult({\n        type: 'error',\n        title: err.message,\n        body: err.description || '',\n      });\n    }\n  }\n\n  private showTestResult(options: {\n    type: 'success' | 'warning' | 'error';\n    title: string;\n    body?: string;\n  }) {\n    const el = this.elements.testResultContainer;\n    el.classList.remove('success', 'warning', 'error');\n    el.classList.add(options.type);\n    const svg = {\n      success: CheckCircleOutlineSvg,\n      warning: AlertCircleOutlineSvg,\n      error: CloseCircleOutlineSvg,\n    }[options.type];\n    el.innerHTML = `${svg}\n      <div class=\"title\">${options.title}</div>\n      <div class=\"body\">${options.body || ''}</div>`;\n    el.style.display = 'block';\n  }\n\n  private async test() {\n    if (!this.model) throw new Error('Monaco text model is not ready');\n    if (!this.editor) throw new Error('Monaco editor is not ready');\n    const tsCode = this.editor.getValue();\n    const compiledJSCode = await this.tsManager.compile(this.model.uri);\n\n    let colorByFn: Function | undefined = undefined;\n    try {\n      colorByFn = TypeScriptManager.generateFunction(compiledJSCode, 'colorBy');\n    } catch (err) {\n      if (err.message == `colorBy is not defined`) {\n        const customErr = new Error(`Unexpected \"colorBy\" function`);\n        (customErr as any).description = `You have to declare a function named \"colorBy\" and it has to return a color string.`;\n        throw customErr;\n      }\n\n      throw err;\n    }\n\n    if (!isFunction(colorByFn)) {\n      const err = new Error(`Unexpected \"colorBy\" function`);\n      (err as any).description = `You have to declare a function named \"colorBy\" and it has to return a color string.`;\n      throw err;\n    }\n\n    const spansToTest = flatMap(this.stage.getAllTraces(), (t) => t.spans);\n    const testedSpans: { span: Span; rv: string }[] = [];\n    for (let span of spansToTest) {\n      const rv = colorByFn(span);\n      if (!isString(rv)) {\n        console.error(\n          `Return value of \"colorBy\" function must be string, but recieved \"${typeof rv}\" for span`,\n          span\n        );\n        const err = new Error(`Function returned not a string`);\n        (err as any).description =\n          `Return value of \"colorBy\" function has to be a string, but got \"${typeof rv}\" ` +\n          `for a span. Please check your console for further details. Press Command+Option+I or Ctrl+Option+I to ` +\n          `open devtools.`;\n        throw err;\n      }\n      testedSpans.push({ span, rv });\n    }\n\n    return { tsCode, compiledJSCode, colorBy: colorByFn, testedSpans };\n  }\n\n  dispose() {\n    this.elements.cancelButton.removeEventListener(\n      'click',\n      this.binded.onCancelButtonClick,\n      false\n    );\n    this.elements.testButton.removeEventListener(\n      'click',\n      this.binded.onTestButtonClick,\n      false\n    );\n    this.elements.saveButton.removeEventListener(\n      'click',\n      this.binded.onSaveButtonClick,\n      false\n    );\n\n    this.editor?.dispose();\n    this.model?.dispose();\n    this.editorContentChangeListener?.dispose();\n    this.editor = undefined;\n    this.model = undefined;\n    this.editorContentChangeListener = undefined;\n  }\n}\n","import * as monaco from 'monaco-editor/esm/vs/editor/editor.api';\nimport { TypeScriptManager } from './typescript-manager';\nimport { Stage } from '../../model/stage';\nimport { Span } from '../../model/interfaces';\nimport * as shortid from 'shortid';\nimport {\n  SpanGroupingRawOptions,\n  SpanGroupingOptions,\n} from '../../model/span-grouping/span-grouping';\nimport throttle from 'lodash/throttle';\nimport isArray from 'lodash/isArray';\nimport isFunction from 'lodash/isFunction';\nimport flatMap from 'lodash/flatMap';\nimport sampleSize from 'lodash/sampleSize';\nimport { ModalManager } from '../ui/modal/modal-manager';\n\nimport CheckCircleOutlineSvg from '!!raw-loader!@mdi/svg/svg/check-circle-outline.svg';\nimport AlertCircleOutlineSvg from '!!raw-loader!@mdi/svg/svg/alert-circle-outline.svg';\nimport CloseCircleOutlineSvg from '!!raw-loader!@mdi/svg/svg/close-circle-outline.svg';\nimport './form-modal-content.css';\n\nexport interface SpanGroupingFormModalContentOptions {\n  // showNameField?: boolean; // TODO: Implement it when you need it!\n  rawOptions?: SpanGroupingRawOptions;\n}\n\nexport class SpanGroupingFormModalContent {\n  private elements = {\n    container: document.createElement('div'),\n    monacoContainer: document.createElement('div'),\n    testResultContainer: document.createElement('div'),\n    cancelButton: document.createElement('button'),\n    saveButton: document.createElement('button'),\n    testButton: document.createElement('button'),\n  };\n  private model?: monaco.editor.ITextModel;\n  private editor?: monaco.editor.IStandaloneCodeEditor;\n  private editorContentChangeListener?: monaco.IDisposable;\n  private tsManager = TypeScriptManager.getSingleton();\n  private stage = Stage.getSingleton();\n\n  private binded = {\n    onCancelButtonClick: this.onCancelButtonClick.bind(this),\n    onSaveButtonClick: this.onSaveButtonClick.bind(this),\n    onTestButtonClick: this.onTestButtonClick.bind(this),\n    onMonacoEditorContentChange: throttle(\n      this.onMonacoEditorContentChange.bind(this),\n      100\n    ),\n  };\n\n  constructor(private options: SpanGroupingFormModalContentOptions) {\n    // Prepare DOM\n    const els = this.elements;\n    els.container.classList.add('customization-form-modal-content');\n\n    els.monacoContainer.classList.add('monaco-container');\n    els.container.appendChild(els.monacoContainer);\n\n    els.testResultContainer.classList.add('test-result');\n    els.testResultContainer.style.display = 'none';\n    els.container.appendChild(els.testResultContainer);\n\n    const buttonsContainer = document.createElement('div');\n    buttonsContainer.classList.add('buttons');\n    els.container.appendChild(buttonsContainer);\n\n    const leftButtons = document.createElement('div');\n    leftButtons.classList.add('left');\n    buttonsContainer.appendChild(leftButtons);\n\n    const rightButtons = document.createElement('div');\n    rightButtons.classList.add('right');\n    buttonsContainer.appendChild(rightButtons);\n\n    els.cancelButton.classList.add('cancel');\n    els.cancelButton.textContent = 'Cancel';\n    leftButtons.appendChild(els.cancelButton);\n\n    els.testButton.classList.add('test');\n    els.testButton.textContent = 'Test';\n    rightButtons.appendChild(els.testButton);\n\n    els.saveButton.classList.add('save', 'primary');\n    els.saveButton.textContent = 'Save';\n    els.saveButton.disabled = true;\n    rightButtons.appendChild(els.saveButton);\n  }\n\n  init() {\n    this.elements.cancelButton.addEventListener(\n      'click',\n      this.binded.onCancelButtonClick,\n      false\n    );\n    this.elements.testButton.addEventListener(\n      'click',\n      this.binded.onTestButtonClick,\n      false\n    );\n    this.elements.saveButton.addEventListener(\n      'click',\n      this.binded.onSaveButtonClick,\n      false\n    );\n\n    // Must be called after the container is mounted and ready,\n    // so that it can gather its dimensions correctly\n    this.initMonacoEditor();\n  }\n\n  private initMonacoEditor() {\n    const code = this.options.rawOptions\n      ? this.options.rawOptions.rawCode\n      : `// Do something with \"span\" and \"trace\"\\n` +\n        `// and return a tuple [groupId, groupName]\\n` +\n        `// where groupId is a unique string to be used for grouping\\n` +\n        `// and groupName is human readable string for displaying\\n` +\n        `function groupBy(span: Span, trace: Trace): [string, string] {\\n` +\n        `    // Let's group by service name\\n` +\n        `    let serviceName = 'unknown';\\n\\n` +\n        `    // Handle jaeger spans\\n` +\n        `    if (span.process && span.process.serviceName) {\\n` +\n        `        serviceName = span.process.serviceName;\\n` +\n        `    }\\n\\n` +\n        `    // Handle zipkin spans\\n` +\n        `    if (span.localEndpoint && span.localEndpoint.serviceName) {\\n` +\n        `        serviceName = span.localEndpoint.serviceName;\\n` +\n        `    }\\n\\n` +\n        `    return [serviceName, serviceName];\\n` +\n        `}\\n`;\n\n    this.model = monaco.editor.createModel(code, 'typescript');\n    this.editor = monaco.editor.create(this.elements.monacoContainer, {\n      minimap: { enabled: false },\n    });\n    this.editor.setModel(this.model);\n\n    // https://github.com/Microsoft/monaco-editor/issues/1017#issuecomment-414615634\n    this.editor.addCommand(\n      monaco.KeyCode.Escape,\n      () => {\n        if (document.activeElement) (document.activeElement as any).blur();\n      },\n      '!findWidgetVisible && !inReferenceSearchEditor && !editorHasSelection'\n    );\n    this.editor.focus();\n\n    this.editorContentChangeListener = this.model.onDidChangeContent(\n      this.binded.onMonacoEditorContentChange\n    );\n  }\n\n  getElement() {\n    return this.elements.container;\n  }\n\n  private onMonacoEditorContentChange() {\n    this.elements.testResultContainer.style.display = 'none';\n    this.elements.saveButton.disabled = true;\n  }\n\n  private onCancelButtonClick() {\n    const modal = ModalManager.getSingleton().findModalFromElement(\n      this.elements.container\n    );\n    if (!modal) throw new Error(`Could not find modal instance`);\n    modal.close({ data: { action: 'cancel' } });\n  }\n\n  private async onSaveButtonClick() {\n    try {\n      const result = await this.onTestButtonClick();\n      const modal = ModalManager.getSingleton().findModalFromElement(\n        this.elements.container\n      );\n      if (!modal) throw new Error(`Could not find modal instance`);\n      modal.close({ data: { action: 'save', ...result } });\n    } catch (err) {}\n  }\n\n  private async onTestButtonClick() {\n    this.elements.saveButton.disabled = true;\n    this.elements.testResultContainer.style.display = 'none';\n\n    try {\n      const result = await this.test();\n\n      this.elements.saveButton.disabled = false;\n      if (result.testedSpans.length == 0) {\n        this.showTestResult({\n          type: 'warning',\n          title: 'No spans in the stage to test',\n          body:\n            `Span grouping function seems OK, you can save it. However it's not tested on any real ` +\n            `spans, since there is no trace added to the stage.`,\n        });\n      } else {\n        this.showTestResult({\n          type: 'success',\n          title: 'Test successful',\n          body: `Span grouping function seems OK. It's tested on ${\n            result.testedSpans.length\n          } span(s) in\n            the stage and here are some samples: <br />\n            <ul>\n              ${sampleSize(result.testedSpans, 3)\n                .map(\n                  (test) =>\n                    `<li>\n                  ${test.span.operationName} => <pre>${test.rv}</pre>\n                </li>`\n                )\n                .join('')}\n            </ul>`,\n        });\n      }\n\n      return result;\n    } catch (err) {\n      this.showTestResult({\n        type: 'error',\n        title: err.message,\n        body: err.description || '',\n      });\n    }\n  }\n\n  private showTestResult(options: {\n    type: 'success' | 'warning' | 'error';\n    title: string;\n    body?: string;\n  }) {\n    const el = this.elements.testResultContainer;\n    el.classList.remove('success', 'warning', 'error');\n    el.classList.add(options.type);\n    const svg = {\n      success: CheckCircleOutlineSvg,\n      warning: AlertCircleOutlineSvg,\n      error: CloseCircleOutlineSvg,\n    }[options.type];\n    el.innerHTML = `${svg}\n      <div class=\"title\">${options.title}</div>\n      <div class=\"body\">${options.body || ''}</div>`;\n    el.style.display = 'block';\n  }\n\n  private async test() {\n    if (!this.model) throw new Error('Monaco text model is not ready');\n    if (!this.editor) throw new Error('Monaco editor is not ready');\n    const tsCode = this.editor.getValue();\n    const compiledJSCode = await this.tsManager.compile(this.model.uri);\n\n    let groupByFn: Function | undefined = undefined;\n    try {\n      groupByFn = TypeScriptManager.generateFunction(compiledJSCode, 'groupBy');\n    } catch (err) {\n      if (err.message == `groupBy is not defined`) {\n        const customErr = new Error(`Unexpected \"groupBy\" function`);\n        (customErr as any).description = `You have to declare a function named \"groupBy\" and it has to return a tuple [string, string].`;\n        throw customErr;\n      }\n\n      throw err;\n    }\n\n    if (!isFunction(groupByFn)) {\n      const err = new Error(`Unexpected \"groupBy\" function`);\n      (err as any).description = `You have to declare a function named \"groupBy\" and it has to return a tuple [string, string].`;\n      throw err;\n    }\n\n    const spansToTest = flatMap(this.stage.getAllTraces(), (t) => t.spans);\n    const testedSpans: { span: Span; rv: string[] }[] = [];\n    for (let span of spansToTest) {\n      const rv = groupByFn(span);\n      if (!isArray(rv)) {\n        console.error(\n          `Return value of \"groupBy\" function must be string tuple, but recieved \"${typeof rv}\" for span`,\n          span\n        );\n        const err = new Error(`Function returned not a string tuple`);\n        (err as any).description =\n          `Return value of \"groupBy\" function has to be a string tuple, but got \"${typeof rv}\" ` +\n          `for a span. Please check your console for further details. Press Command+Option+I or Ctrl+Option+I to ` +\n          `open devtools.`;\n        throw err;\n      }\n      testedSpans.push({ span, rv });\n    }\n\n    return { tsCode, compiledJSCode, groupBy: groupByFn, testedSpans };\n  }\n\n  dispose() {\n    this.elements.cancelButton.removeEventListener(\n      'click',\n      this.binded.onCancelButtonClick,\n      false\n    );\n    this.elements.testButton.removeEventListener(\n      'click',\n      this.binded.onTestButtonClick,\n      false\n    );\n    this.elements.saveButton.removeEventListener(\n      'click',\n      this.binded.onSaveButtonClick,\n      false\n    );\n\n    this.editor?.dispose();\n    this.model?.dispose();\n    this.editorContentChangeListener?.dispose();\n    this.editor = undefined;\n    this.model = undefined;\n    this.editorContentChangeListener = undefined;\n  }\n}\n","import * as monaco from 'monaco-editor/esm/vs/editor/editor.api';\nimport { TypeScriptManager } from './typescript-manager';\nimport { Stage } from '../../model/stage';\nimport { Span } from '../../model/interfaces';\nimport * as shortid from 'shortid';\nimport {\n  SpanLabellingRawOptions,\n  SpanLabellingOptions,\n} from '../../model/span-labelling-manager';\nimport throttle from 'lodash/throttle';\nimport isString from 'lodash/isString';\nimport isFunction from 'lodash/isFunction';\nimport flatMap from 'lodash/flatMap';\nimport sampleSize from 'lodash/sampleSize';\nimport { ModalManager } from '../ui/modal/modal-manager';\n\nimport CheckCircleOutlineSvg from '!!raw-loader!@mdi/svg/svg/check-circle-outline.svg';\nimport AlertCircleOutlineSvg from '!!raw-loader!@mdi/svg/svg/alert-circle-outline.svg';\nimport CloseCircleOutlineSvg from '!!raw-loader!@mdi/svg/svg/close-circle-outline.svg';\nimport './form-modal-content.css';\n\nexport interface SpanLabellingFormModalContentOptions {\n  // showNameField?: boolean; // TODO: Implement it when you need it!\n  rawOptions?: SpanLabellingRawOptions;\n}\n\nexport class SpanLabellingFormModalContent {\n  private elements = {\n    container: document.createElement('div'),\n    monacoContainer: document.createElement('div'),\n    testResultContainer: document.createElement('div'),\n    cancelButton: document.createElement('button'),\n    saveButton: document.createElement('button'),\n    testButton: document.createElement('button'),\n  };\n  private model?: monaco.editor.ITextModel;\n  private editor?: monaco.editor.IStandaloneCodeEditor;\n  private editorContentChangeListener?: monaco.IDisposable;\n  private tsManager = TypeScriptManager.getSingleton();\n  private stage = Stage.getSingleton();\n\n  private binded = {\n    onCancelButtonClick: this.onCancelButtonClick.bind(this),\n    onSaveButtonClick: this.onSaveButtonClick.bind(this),\n    onTestButtonClick: this.onTestButtonClick.bind(this),\n    onMonacoEditorContentChange: throttle(\n      this.onMonacoEditorContentChange.bind(this),\n      100\n    ),\n  };\n\n  constructor(private options: SpanLabellingFormModalContentOptions) {\n    // Prepare DOM\n    const els = this.elements;\n    els.container.classList.add('customization-form-modal-content');\n\n    els.monacoContainer.classList.add('monaco-container');\n    els.container.appendChild(els.monacoContainer);\n\n    els.testResultContainer.classList.add('test-result');\n    els.testResultContainer.style.display = 'none';\n    els.container.appendChild(els.testResultContainer);\n\n    const buttonsContainer = document.createElement('div');\n    buttonsContainer.classList.add('buttons');\n    els.container.appendChild(buttonsContainer);\n\n    const leftButtons = document.createElement('div');\n    leftButtons.classList.add('left');\n    buttonsContainer.appendChild(leftButtons);\n\n    const rightButtons = document.createElement('div');\n    rightButtons.classList.add('right');\n    buttonsContainer.appendChild(rightButtons);\n\n    els.cancelButton.classList.add('cancel');\n    els.cancelButton.textContent = 'Cancel';\n    leftButtons.appendChild(els.cancelButton);\n\n    els.testButton.classList.add('test');\n    els.testButton.textContent = 'Test';\n    rightButtons.appendChild(els.testButton);\n\n    els.saveButton.classList.add('save', 'primary');\n    els.saveButton.textContent = 'Save';\n    els.saveButton.disabled = true;\n    rightButtons.appendChild(els.saveButton);\n  }\n\n  init() {\n    this.elements.cancelButton.addEventListener(\n      'click',\n      this.binded.onCancelButtonClick,\n      false\n    );\n    this.elements.testButton.addEventListener(\n      'click',\n      this.binded.onTestButtonClick,\n      false\n    );\n    this.elements.saveButton.addEventListener(\n      'click',\n      this.binded.onSaveButtonClick,\n      false\n    );\n\n    // Must be called after the container is mounted and ready,\n    // so that it can gather its dimensions correctly\n    this.initMonacoEditor();\n  }\n\n  private initMonacoEditor() {\n    const code = this.options.rawOptions\n      ? this.options.rawOptions.rawCode\n      : `// Do something with \"span\" and return a string\\n` +\n        `function labelBy(span: Span): string {\\n` +\n        `    return span.operationName;\\n` +\n        `}\\n`;\n\n    this.model = monaco.editor.createModel(code, 'typescript');\n    this.editor = monaco.editor.create(this.elements.monacoContainer, {\n      minimap: { enabled: false },\n    });\n    this.editor.setModel(this.model);\n\n    // https://github.com/Microsoft/monaco-editor/issues/1017#issuecomment-414615634\n    this.editor.addCommand(\n      monaco.KeyCode.Escape,\n      () => {\n        if (document.activeElement) (document.activeElement as any).blur();\n      },\n      '!findWidgetVisible && !inReferenceSearchEditor && !editorHasSelection'\n    );\n    this.editor.focus();\n\n    this.editorContentChangeListener = this.model.onDidChangeContent(\n      this.binded.onMonacoEditorContentChange\n    );\n  }\n\n  getElement() {\n    return this.elements.container;\n  }\n\n  private onMonacoEditorContentChange() {\n    this.elements.testResultContainer.style.display = 'none';\n    this.elements.saveButton.disabled = true;\n  }\n\n  private onCancelButtonClick() {\n    const modal = ModalManager.getSingleton().findModalFromElement(\n      this.elements.container\n    );\n    if (!modal) throw new Error(`Could not find modal instance`);\n    modal.close({ data: { action: 'cancel' } });\n  }\n\n  private async onSaveButtonClick() {\n    try {\n      const result = await this.onTestButtonClick();\n      const modal = ModalManager.getSingleton().findModalFromElement(\n        this.elements.container\n      );\n      if (!modal) throw new Error(`Could not find modal instance`);\n      modal.close({ data: { action: 'save', ...result } });\n    } catch (err) {}\n  }\n\n  private async onTestButtonClick() {\n    this.elements.saveButton.disabled = true;\n    this.elements.testResultContainer.style.display = 'none';\n\n    try {\n      const result = await this.test();\n\n      this.elements.saveButton.disabled = false;\n      if (result.testedSpans.length == 0) {\n        this.showTestResult({\n          type: 'warning',\n          title: 'No spans in the stage to test',\n          body:\n            `Span labelling function seems OK, you can save it. However it's not tested on any real ` +\n            `spans, since there is no trace added to the stage.`,\n        });\n      } else {\n        this.showTestResult({\n          type: 'success',\n          title: 'Test successful',\n          body: `Span labelling function seems OK. It's tested on ${\n            result.testedSpans.length\n          } span(s) in\n            the stage and here are some samples: <br />\n            <ul>\n              ${sampleSize(result.testedSpans, 3)\n                .map(\n                  (test) =>\n                    `<li>\n                  ${test.span.operationName} => <pre>${test.rv}</pre>\n                </li>`\n                )\n                .join('')}\n            </ul>`,\n        });\n      }\n\n      return result;\n    } catch (err) {\n      this.showTestResult({\n        type: 'error',\n        title: err.message,\n        body: err.description || '',\n      });\n    }\n  }\n\n  private showTestResult(options: {\n    type: 'success' | 'warning' | 'error';\n    title: string;\n    body?: string;\n  }) {\n    const el = this.elements.testResultContainer;\n    el.classList.remove('success', 'warning', 'error');\n    el.classList.add(options.type);\n    const svg = {\n      success: CheckCircleOutlineSvg,\n      warning: AlertCircleOutlineSvg,\n      error: CloseCircleOutlineSvg,\n    }[options.type];\n    el.innerHTML = `${svg}\n      <div class=\"title\">${options.title}</div>\n      <div class=\"body\">${options.body || ''}</div>`;\n    el.style.display = 'block';\n  }\n\n  private async test() {\n    if (!this.model) throw new Error('Monaco text model is not ready');\n    if (!this.editor) throw new Error('Monaco editor is not ready');\n    const tsCode = this.editor.getValue();\n    const compiledJSCode = await this.tsManager.compile(this.model.uri);\n\n    let labelByFn: Function | undefined = undefined;\n    try {\n      labelByFn = TypeScriptManager.generateFunction(compiledJSCode, 'labelBy');\n    } catch (err) {\n      if (err.message == `labelBy is not defined`) {\n        const customErr = new Error(`Unexpected \"labelBy\" function`);\n        (customErr as any).description = `You have to declare a function named \"labelBy\" and it has to return a string.`;\n        throw customErr;\n      }\n\n      throw err;\n    }\n\n    if (!isFunction(labelByFn)) {\n      const err = new Error(`Unexpected \"labelBy\" function`);\n      (err as any).description = `You have to declare a function named \"labelBy\" and it has to return a string.`;\n      throw err;\n    }\n\n    const spansToTest = flatMap(this.stage.getAllTraces(), (t) => t.spans);\n    const testedSpans: { span: Span; rv: string }[] = [];\n    for (let span of spansToTest) {\n      const rv = labelByFn(span);\n      if (!isString(rv)) {\n        console.error(\n          `Return value of \"labelBy\" function must be string, but recieved \"${typeof rv}\" for span`,\n          span\n        );\n        const err = new Error(`Function returned not a string`);\n        (err as any).description =\n          `Return value of \"labelBy\" function has to be a string, but got \"${typeof rv}\" ` +\n          `for a span. Please check your console for further details. Press Command+Option+I or Ctrl+Option+I to ` +\n          `open devtools.`;\n        throw err;\n      }\n      testedSpans.push({ span, rv });\n    }\n\n    return { tsCode, compiledJSCode, labelBy: labelByFn, testedSpans };\n  }\n\n  dispose() {\n    this.elements.cancelButton.removeEventListener(\n      'click',\n      this.binded.onCancelButtonClick,\n      false\n    );\n    this.elements.testButton.removeEventListener(\n      'click',\n      this.binded.onTestButtonClick,\n      false\n    );\n    this.elements.saveButton.removeEventListener(\n      'click',\n      this.binded.onSaveButtonClick,\n      false\n    );\n\n    this.editor?.dispose();\n    this.model?.dispose();\n    this.editorContentChangeListener?.dispose();\n    this.editor = undefined;\n    this.model = undefined;\n    this.editorContentChangeListener = undefined;\n  }\n}\n","import api from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../node_modules/css-loader/dist/cjs.js!./timeline-wrapper.css\";\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","import { TimelineView, TimelineTool } from '../timeline/timeline-view';\nimport tippy, { Instance as TippyInstance } from 'tippy.js';\nimport {\n  WidgetToolbarSelect,\n  WidgetToolbarSelectItem,\n} from '../ui/widget-toolbar/widget-toolbar-select';\nimport {\n  WidgetToolbarMultiSelect,\n  WidgetToolbarMultiSelectItem,\n} from '../ui/widget-toolbar/widget-toolbar-multi-select';\nimport processGroupingOptions from '../../model/span-grouping/process';\nimport serviceNameGroupingOptions from '../../model/span-grouping/service-name';\nimport traceGroupingOptions from '../../model/span-grouping/trace';\nimport {\n  SpanColoringManager,\n  SpanColoringRawOptions,\n  operationColoringOptions,\n  serviceColoringOptions,\n  selfTimeColoringOptions,\n} from '../../model/span-coloring-manager';\nimport {\n  SpanLabellingManager,\n  SpanLabellingRawOptions,\n  operationLabellingOptions,\n  serviceOperationLabellingOptions,\n} from '../../model/span-labelling-manager';\nimport { SpanGroupingManager } from '../../model/span-grouping/manager';\nimport { SpanGroupingRawOptions } from '../../model/span-grouping/span-grouping';\nimport { SpanGroupLayoutType } from '../timeline/span-group-view';\nimport { Modal, ModalCloseTriggerType } from '../ui/modal/modal';\nimport { ModalManager } from '../ui/modal/modal-manager';\nimport { SpanColoringFormModalContent } from '../customization/span-coloring-form-modal-content';\nimport { SpanGroupingFormModalContent } from '../customization/span-grouping-form-modal-content';\nimport { SpanLabellingFormModalContent } from '../customization/span-labelling-form-modal-content';\nimport { TooltipManager } from '../ui/tooltip/tooltip-manager';\nimport { Trace } from '../../model/trace';\nimport { Stage } from '../../model/stage';\nimport Noty from 'noty';\nimport { convertFromJaegerTrace } from '../../model/jaeger';\nimport { copyToClipboard } from '../../utils/copy-to-clipboard';\n\nimport SvgTextbox from '!!raw-loader!@mdi/svg/svg/textbox.svg';\nimport SvgFormatColorFill from '!!raw-loader!@mdi/svg/svg/format-color-fill.svg';\nimport SvgSort from '!!raw-loader!@mdi/svg/svg/sort.svg';\nimport SvgCursorMove from '!!raw-loader!@mdi/svg/svg/cursor-move.svg';\nimport SvgRuler from '!!raw-loader!@mdi/svg/svg/ruler-square.svg';\nimport SvgTooltipEdit from '!!raw-loader!@mdi/svg/svg/tooltip-edit.svg';\nimport SvgDatabase from '!!raw-loader!@mdi/svg/svg/database.svg';\nimport SvgSatellite from '!!raw-loader!@mdi/svg/svg/satellite-uplink.svg';\nimport './timeline-wrapper.css';\n\nconst TOOLBAR_HEIGHT = 30;\n\nexport class TimelineWrapper {\n  readonly timeline = new TimelineView();\n  private stage = Stage.getSingleton();\n  private elements = {\n    container: document.createElement('div'),\n    toolbar: document.createElement('div'),\n    toolbarBtn: {\n      moveTool: document.createElement('div'),\n      rulerTool: document.createElement('div'),\n      groupingMode: document.createElement('div'),\n      spanLabellingMode: document.createElement('div'),\n      spanColoringMode: document.createElement('div'),\n      groupLayoutMode: document.createElement('div'),\n      spanTooltipCustomization: document.createElement('div'),\n    },\n    timelineContainer: document.createElement('div'),\n    emptyMessage: {\n      container: document.createElement('div'),\n      sampleTraceButtonHotrod: document.createElement('span'),\n      sampleTraceButtonRaftConsensus: document.createElement('span'),\n    },\n  };\n  private dropdowns: {\n    groupingMode: TippyInstance;\n    spanLabellingMode: TippyInstance;\n    spanColoringMode: TippyInstance;\n    groupLayoutMode: TippyInstance;\n    spanTooltipCustomization: TippyInstance;\n  };\n\n  private spanColoringMode = operationColoringOptions.key; // Do not forget to change default value of TimelineView\n  private customSpanColoringFormModalContent: SpanColoringFormModalContent;\n  private customSpanColoringRawOptions: SpanColoringRawOptions;\n\n  private spanGroupingMode = processGroupingOptions.key; // Do not forget to change default value of TimelineView\n  private customSpanGroupingFormModalContent: SpanGroupingFormModalContent;\n  private customSpanGroupingRawOptions: SpanGroupingRawOptions;\n\n  private spanLabellingMode = operationLabellingOptions.key; // Do not forget to change default value of TimelineView\n  private customSpanLabellingFormModalContent: SpanLabellingFormModalContent;\n  private customSpanLabellingRawOptions: SpanLabellingRawOptions;\n\n  private groupLayoutMode = SpanGroupLayoutType.COMPACT; // Do not forget to change default value of TimelineView\n\n  private timelineToolBeforeTemporarySwitchToRulerTool: TimelineTool;\n\n  private binded = {\n    onSpanGroupingModeMenuItemClick: this.onSpanGroupingModeMenuItemClick.bind(\n      this\n    ),\n    onCustomSpanGroupingModalClose: this.onCustomSpanGroupingModalClose.bind(\n      this\n    ),\n    onSpanLabellingMenuItemClick: this.onSpanLabellingMenuItemClick.bind(this),\n    onCustomSpanLabellingModalClose: this.onCustomSpanLabellingModalClose.bind(\n      this\n    ),\n    onSpanColoringMenuItemClick: this.onSpanColoringMenuItemClick.bind(this),\n    onCustomSpanColoringModalClose: this.onCustomSpanColoringModalClose.bind(\n      this\n    ),\n    onGroupLayoutMenuItemClick: this.onGroupLayoutMenuItemClick.bind(this),\n    onMoveToolClick: this.onMoveToolClick.bind(this),\n    onRulerToolClick: this.onRulerToolClick.bind(this),\n    onSpanTooltipCustomizationMultiSelectSelect: this.onSpanTooltipCustomizationMultiSelectSelect.bind(\n      this\n    ),\n    onSpanTooltipCustomizationMultiSelectUnselect: this.onSpanTooltipCustomizationMultiSelectUnselect.bind(\n      this\n    ),\n    onSpanTooltipCustomizationMultiSelectSearchInput: this.onSpanTooltipCustomizationMultiSelectSearchInput.bind(\n      this\n    ),\n    onKeyDown: this.onKeyDown.bind(this),\n    onKeyUp: this.onKeyUp.bind(this),\n    onSampleTraceButtonHotrodClick: this.onSampleTraceButtonHotrodClick.bind(\n      this\n    ),\n    onSampleTraceButtonRaftConcensusClick: this.onSampleTraceButtonRaftConcensusClick.bind(\n      this\n    ),\n  };\n\n  private spanGroupingModeMenu = new WidgetToolbarSelect({\n    // width: 150,\n    items: [\n      { type: 'item', text: 'Trace', id: traceGroupingOptions.key },\n      { type: 'item', text: 'Process', id: processGroupingOptions.key },\n      { type: 'item', text: 'Service', id: serviceNameGroupingOptions.key },\n      { type: 'divider' },\n      { type: 'item', text: 'Custom', icon: 'code-tags', id: 'custom' },\n      // {\n      //   type: 'item',\n      //   text: 'Manage All',\n      //   icon: 'settings-outline',\n      //   id: 'manage-all',\n      //   disabled: true\n      // }\n    ],\n    onSelect: this.binded.onSpanGroupingModeMenuItemClick,\n  });\n  private spanLabellingModeMenu = new WidgetToolbarSelect({\n    // width: 150,\n    items: [\n      { type: 'item', text: 'Operation', id: operationLabellingOptions.key },\n      {\n        type: 'item',\n        text: 'Service + Operation',\n        id: serviceOperationLabellingOptions.key,\n      },\n      { type: 'divider' },\n      { type: 'item', text: 'Custom', icon: 'code-tags', id: 'custom' },\n      // {\n      //   type: 'item',\n      //   text: 'Manage All',\n      //   icon: 'settings-outline',\n      //   id: 'manage-all',\n      //   disabled: true\n      // }\n    ],\n    onSelect: this.binded.onSpanLabellingMenuItemClick,\n  });\n  private spanColoringModeMenu = new WidgetToolbarSelect({\n    // width: 150,\n    items: [\n      { type: 'item', text: 'Operation', id: operationColoringOptions.key },\n      { type: 'item', text: 'Service', id: serviceColoringOptions.key },\n      { type: 'item', text: 'Self Time', id: selfTimeColoringOptions.key },\n      { type: 'divider' },\n      { type: 'item', text: 'Custom', icon: 'code-tags', id: 'custom' },\n      // {\n      //   type: 'item',\n      //   text: 'Manage All',\n      //   icon: 'settings-outline',\n      //   id: 'manage-all',\n      //   disabled: true\n      // }\n    ],\n    onSelect: this.binded.onSpanColoringMenuItemClick,\n  });\n  private groupLayoutModeMenu = new WidgetToolbarSelect({\n    // width: 150,\n    items: [\n      { type: 'item', text: 'Fill', id: SpanGroupLayoutType.FILL },\n      { type: 'item', text: 'Compact', id: SpanGroupLayoutType.COMPACT },\n      { type: 'item', text: 'Waterfall', id: SpanGroupLayoutType.WATERFALL },\n    ],\n    onSelect: this.binded.onGroupLayoutMenuItemClick,\n  });\n\n  private spanTooltipCustomizationMultiSelect = new WidgetToolbarMultiSelect({\n    width: 200,\n    maxItemContainerHeight: 125,\n    onSelect: this.binded.onSpanTooltipCustomizationMultiSelectSelect,\n    onUnselect: this.binded.onSpanTooltipCustomizationMultiSelectUnselect,\n    onSearchInput: this.binded.onSpanTooltipCustomizationMultiSelectSearchInput,\n    items: [],\n    emptyMessage: 'No Fields',\n  });\n\n  constructor() {\n    const { container, toolbar, timelineContainer } = this.elements;\n    container.classList.add('timeline-wrapper');\n    container.setAttribute('tabindex', '-1');\n    container.appendChild(toolbar);\n    timelineContainer.classList.add('timeline-container');\n    container.appendChild(timelineContainer);\n    this.prepareToolbar();\n    this.prepareEmptyMessage();\n    this.timeline.mount(timelineContainer);\n  }\n\n  private prepareEmptyMessage() {\n    const { timelineContainer, emptyMessage } = this.elements;\n    emptyMessage.container.classList.add('empty-message-container');\n\n    const innerContainer = document.createElement('div');\n    emptyMessage.container.appendChild(innerContainer);\n\n    const dragDropText = document.createElement('div');\n    dragDropText.classList.add('drag-drop-text');\n    dragDropText.innerHTML = ` Drag & drop JSON files exported from Jaeger, or Zipkin.`;\n    innerContainer.appendChild(dragDropText);\n\n    const dataSourcesText = document.createElement('div');\n    dataSourcesText.classList.add('data-sources-text');\n    dataSourcesText.innerHTML = ` Use Data Sources ${SvgDatabase} to search traces in Jaeger and Zipkin services.`;\n    innerContainer.appendChild(dataSourcesText);\n\n    const sampleTraceText = document.createElement('div');\n    sampleTraceText.classList.add('sample-trace-text');\n    sampleTraceText.appendChild(\n      document.createTextNode(\n        ' Load some example traces to get started easily: '\n      )\n    );\n\n    emptyMessage.sampleTraceButtonHotrod.classList.add(\n      'empty-message-link'\n    );\n    emptyMessage.sampleTraceButtonHotrod.textContent = 'jaeger/hotrod';\n    emptyMessage.sampleTraceButtonHotrod.addEventListener(\n      'click',\n      this.binded.onSampleTraceButtonHotrodClick,\n      false\n    );\n    sampleTraceText.appendChild(emptyMessage.sampleTraceButtonHotrod);\n\n    sampleTraceText.appendChild(document.createTextNode(', '));\n\n    emptyMessage.sampleTraceButtonRaftConsensus.classList.add(\n      'empty-message-link'\n    );\n    emptyMessage.sampleTraceButtonRaftConsensus.textContent = 'raft-consensus';\n    emptyMessage.sampleTraceButtonRaftConsensus.addEventListener(\n      'click',\n      this.binded.onSampleTraceButtonRaftConcensusClick,\n      false\n    );\n    sampleTraceText.appendChild(emptyMessage.sampleTraceButtonRaftConsensus);\n\n    innerContainer.appendChild(sampleTraceText);\n\n    const raftConsensusSimulation = document.createElement('div');\n    raftConsensusSimulation.classList.add('raft-consensus-demo-app-text');\n    const RAFT_CONSENSUS_DEMO_LINK = `https://deniz.co/raft-consensus`;\n    // const RAFT_CONSENSUS_DEMO_LINK = `http://localhost:8080/raft-consensus`; // for local development\n    raftConsensusSimulation.innerHTML = ` Use <a href=\"${RAFT_CONSENSUS_DEMO_LINK}\" class=\"empty-message-link\" target=\"_blank\">the demo app</a> that simulates raft consensus algorithm and import traces from there.`;\n    innerContainer.appendChild(raftConsensusSimulation);\n\n    timelineContainer.appendChild(emptyMessage.container);\n  }\n\n  private prepareToolbar() {\n    const toolbarEl = this.elements.toolbar;\n    const btn = this.elements.toolbarBtn;\n\n    toolbarEl.classList.add('widget-toolbar', 'widget-toolbar');\n\n    // Panes\n    const leftPane = document.createElement('div');\n    leftPane.classList.add('widget-toolbar-pane');\n    toolbarEl.appendChild(leftPane);\n\n    const middlePane = document.createElement('div');\n    middlePane.classList.add('widget-toolbar-pane', 'middle');\n    toolbarEl.appendChild(middlePane);\n\n    const rightPane = document.createElement('div');\n    rightPane.classList.add('widget-toolbar-pane', 'right');\n    toolbarEl.appendChild(rightPane);\n\n    // Buttons\n    btn.moveTool.classList.add('widget-toolbar-button');\n    btn.moveTool.innerHTML = SvgCursorMove;\n    leftPane.appendChild(btn.moveTool);\n\n    btn.rulerTool.classList.add('widget-toolbar-button');\n    btn.rulerTool.innerHTML = SvgRuler;\n    leftPane.appendChild(btn.rulerTool);\n\n    btn.groupingMode.classList.add('widget-toolbar-button', 'fix-stroke');\n    btn.groupingMode.innerHTML = `<svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" viewBox=\"0 0 24 24\">\n        <g>\n          <rect height=\"6\" width=\"18\" y=\"4\" x=\"2\" fill=\"none\" stroke-width=\"2\"></rect>\n          <line stroke-dasharray=\"2,2\" y2=\"14\" x2=\"24\" y1=\"14\" x1=\"0\" fill=\"none\" stroke-width=\"2\"></line>\n          <rect height=\"6\" width=\"18\" y=\"17\" x=\"2\" stroke=\"none\"></rect>\n        </g>\n      </svg>`;\n    middlePane.appendChild(btn.groupingMode);\n\n    btn.spanLabellingMode.classList.add('widget-toolbar-button');\n    btn.spanLabellingMode.innerHTML = SvgTextbox;\n    middlePane.appendChild(btn.spanLabellingMode);\n\n    btn.spanColoringMode.classList.add(\n      'widget-toolbar-button',\n      'span-coloring'\n    );\n    btn.spanColoringMode.innerHTML = SvgFormatColorFill;\n    middlePane.appendChild(btn.spanColoringMode);\n\n    btn.groupLayoutMode.classList.add('widget-toolbar-button', 'group-layout');\n    btn.groupLayoutMode.innerHTML = SvgSort;\n    middlePane.appendChild(btn.groupLayoutMode);\n\n    btn.spanTooltipCustomization.classList.add('widget-toolbar-button');\n    btn.spanTooltipCustomization.innerHTML = SvgTooltipEdit;\n    rightPane.appendChild(btn.spanTooltipCustomization);\n  }\n\n  // can throw\n  // - this.timeline.addTrace\n  init(options: { width: number; height: number }) {\n    this.timeline.init({\n      width: options.width,\n      height: options.height - TOOLBAR_HEIGHT,\n    });\n    this.initTooltips();\n    this.initDropdowns();\n\n    this.updateSelectedTool();\n    const btn = this.elements.toolbarBtn;\n    btn.moveTool.addEventListener('click', this.binded.onMoveToolClick, false);\n    btn.rulerTool.addEventListener(\n      'click',\n      this.binded.onRulerToolClick,\n      false\n    );\n\n    // Select default menus\n    this.spanGroupingModeMenu.select(this.spanGroupingMode);\n    this.spanLabellingModeMenu.select(this.spanLabellingMode);\n    this.spanColoringModeMenu.select(this.spanColoringMode);\n    this.groupLayoutModeMenu.select(this.groupLayoutMode);\n\n    // Bind events\n    this.elements.container.addEventListener(\n      'keydown',\n      this.binded.onKeyDown,\n      false\n    );\n    this.elements.container.addEventListener(\n      'keyup',\n      this.binded.onKeyUp,\n      false\n    );\n\n    // Initial data\n    this.stage.getAllTraces().forEach((trace) => this.addTrace(trace));\n  }\n\n  private initTooltips() {\n    const tooltipManager = TooltipManager.getSingleton();\n    const btn = this.elements.toolbarBtn;\n    tooltipManager.addToSingleton([\n      [\n        btn.moveTool,\n        {\n          content: 'Move Tool',\n          multiple: true,\n        },\n      ],\n      [\n        btn.rulerTool,\n        {\n          content: 'Ruler Tool',\n          multiple: true,\n        },\n      ],\n      [\n        btn.groupingMode,\n        {\n          content: 'Span Grouping',\n          multiple: true,\n        },\n      ],\n      [\n        btn.spanLabellingMode,\n        {\n          content: 'Span Labelling',\n          multiple: true,\n        },\n      ],\n      [\n        btn.spanColoringMode,\n        {\n          content: 'Span Coloring',\n          multiple: true,\n        },\n      ],\n      [\n        btn.groupLayoutMode,\n        {\n          content: 'Draw Layout',\n          multiple: true,\n        },\n      ],\n      [\n        btn.spanTooltipCustomization,\n        {\n          content: 'Customize Span Tooltip',\n          multiple: true,\n        },\n      ],\n    ]);\n  }\n\n  private initDropdowns() {\n    const btn = this.elements.toolbarBtn;\n    this.dropdowns = {\n      groupingMode: tippy(btn.groupingMode, {\n        content: this.spanGroupingModeMenu.element,\n        multiple: true,\n        appendTo: document.body,\n        placement: 'bottom',\n        duration: 0,\n        updateDuration: 0,\n        theme: 'widget-toolbar-select',\n        trigger: 'click',\n        interactive: true,\n      }),\n      spanLabellingMode: tippy(btn.spanLabellingMode, {\n        content: this.spanLabellingModeMenu.element,\n        multiple: true,\n        appendTo: document.body,\n        placement: 'bottom',\n        duration: 0,\n        updateDuration: 0,\n        theme: 'widget-toolbar-select',\n        trigger: 'click',\n        interactive: true,\n      }),\n      spanColoringMode: tippy(btn.spanColoringMode, {\n        content: this.spanColoringModeMenu.element,\n        multiple: true,\n        appendTo: document.body,\n        placement: 'bottom',\n        duration: 0,\n        updateDuration: 0,\n        theme: 'widget-toolbar-select',\n        trigger: 'click',\n        interactive: true,\n      }),\n      groupLayoutMode: tippy(btn.groupLayoutMode, {\n        content: this.groupLayoutModeMenu.element,\n        multiple: true,\n        appendTo: document.body,\n        placement: 'bottom',\n        duration: 0,\n        updateDuration: 0,\n        theme: 'widget-toolbar-select',\n        trigger: 'click',\n        interactive: true,\n      }),\n      spanTooltipCustomization: tippy(btn.spanTooltipCustomization, {\n        content: this.spanTooltipCustomizationMultiSelect.element,\n        multiple: true,\n        appendTo: document.body,\n        placement: 'bottom',\n        duration: 0,\n        updateDuration: 0,\n        theme: 'widget-toolbar-multi-select',\n        trigger: 'click',\n        interactive: true,\n      }),\n    };\n  }\n\n  private onKeyDown(e: KeyboardEvent) {\n    // If user is typing on any kind of input element which is\n    // child of this component, we don't want to trigger shortcuts\n    if (e.target != this.elements.container) return;\n\n    switch (e.key) {\n      case 'f': {\n        const selectedSpanId = this.timeline.getSelectedSpanId();\n        if (!selectedSpanId) return;\n        this.timeline.focusSpans([selectedSpanId]);\n        return;\n      }\n\n      case 'w': {\n        this.timeline.translateY(10);\n        return;\n      }\n\n      case 'a': {\n        this.timeline.translateX(10);\n        return;\n      }\n\n      case 's': {\n        this.timeline.translateY(-10);\n        return;\n      }\n\n      case 'd': {\n        this.timeline.translateX(-10);\n        return;\n      }\n\n      case 'c': {\n        if (!(e.ctrlKey || e.metaKey)) return;\n        const selectedSpanId = this.timeline.getSelectedSpanId();\n        if (!selectedSpanId) return;\n        const span = this.stage.getMainSpanGroup().get(selectedSpanId);\n        if (!span) return;\n        copyToClipboard(JSON.stringify(span, null, 4));\n        return;\n      }\n\n      case 'Alt': {\n        if (this.timeline.tool == TimelineTool.RULER) return;\n        this.timelineToolBeforeTemporarySwitchToRulerTool = this.timeline.tool;\n        this.timeline.updateTool(TimelineTool.RULER);\n        this.updateSelectedTool();\n        return;\n      }\n    }\n  }\n\n  private onKeyUp(e: KeyboardEvent) {\n    // If user is typing on any kind of input element which is\n    // child of this component, we don't want to trigger shortcuts\n    if (e.target != this.elements.container) return;\n\n    switch (e.key) {\n      case 'Alt': {\n        if (this.timelineToolBeforeTemporarySwitchToRulerTool) {\n          this.timeline.updateTool(\n            this.timelineToolBeforeTemporarySwitchToRulerTool\n          );\n          this.timelineToolBeforeTemporarySwitchToRulerTool = null;\n          this.updateSelectedTool();\n        }\n        return;\n      }\n    }\n  }\n\n  private onMoveToolClick() {\n    this.timeline.updateTool(TimelineTool.MOVE);\n    this.updateSelectedTool();\n  }\n\n  private onRulerToolClick() {\n    this.timeline.updateTool(TimelineTool.RULER);\n    this.updateSelectedTool();\n  }\n\n  private onSpanGroupingModeMenuItemClick(item: WidgetToolbarSelectItem) {\n    if (item.type == 'divider') return;\n    this.dropdowns.groupingMode.hide();\n\n    if (item.id === 'manage-all') {\n      // TODO\n      return;\n    }\n\n    if (item.id === 'custom') {\n      this.customSpanGroupingFormModalContent = new SpanGroupingFormModalContent(\n        {\n          rawOptions: this.customSpanGroupingRawOptions,\n        }\n      );\n      const modal = new Modal({\n        content: this.customSpanGroupingFormModalContent.getElement(),\n        onClose: this.binded.onCustomSpanGroupingModalClose,\n        shouldAutoFocusFirstElement: true,\n      });\n      ModalManager.getSingleton().show(modal);\n      this.customSpanGroupingFormModalContent.init(); // must be called after modal is rendered\n      return;\n    }\n\n    const spanGroupingOptions = SpanGroupingManager.getSingleton().getOptions(\n      item.id\n    );\n    if (!spanGroupingOptions) {\n      new Noty({\n        text: `Unknown span grouping: \"${item.id}\"`,\n        type: 'error',\n      }).show();\n      return;\n    }\n\n    try {\n      this.timeline.updateSpanGrouping(spanGroupingOptions);\n      this.spanGroupingMode = item.id;\n      this.spanGroupingModeMenu.select(item.id);\n    } catch (err) {\n      console.error(err);\n      new Noty({\n        text:\n          `Unexpected error while grouping spans or layout: \"${err.message} <br /><br />\"` +\n          `Please check your console for further details. Press Cmd+Option+I or Ctrl+Option+I to ` +\n          `open devtools.`,\n        type: 'error',\n      }).show();\n    }\n  }\n\n  private onCustomSpanGroupingModalClose(\n    triggerType: ModalCloseTriggerType,\n    data: any\n  ) {\n    if (this.customSpanGroupingFormModalContent) {\n      this.customSpanGroupingFormModalContent.dispose();\n      this.customSpanGroupingFormModalContent = null;\n    }\n\n    if (\n      triggerType != ModalCloseTriggerType.CLOSE_METHOD_CALL ||\n      data.action != 'save'\n    ) {\n      return;\n    }\n\n    this.customSpanGroupingRawOptions = {\n      key: 'custom',\n      name: 'Custom',\n      rawCode: data.tsCode,\n      compiledCode: data.compiledJSCode,\n    };\n\n    try {\n      this.timeline.updateSpanGrouping({\n        key: 'custom',\n        name: 'Custom',\n        groupBy: data.groupBy,\n      });\n      this.spanGroupingMode = 'custom';\n      this.spanGroupingModeMenu.select('custom');\n    } catch (err) {\n      console.error(err);\n      new Noty({\n        text:\n          `Unexpected error while grouping spans or layout: \"${err.message} <br /><br />\"` +\n          `Please check your console for further details. Press Cmd+Option+I or Ctrl+Option+I to ` +\n          `open devtools.`,\n        type: 'error',\n      }).show();\n    }\n  }\n\n  private onSpanLabellingMenuItemClick(item: WidgetToolbarSelectItem) {\n    if (item.type == 'divider') return;\n    this.dropdowns.spanLabellingMode.hide();\n\n    if (item.id === 'manage-all') {\n      // TODO\n      return;\n    }\n\n    if (item.id === 'custom') {\n      this.customSpanLabellingFormModalContent = new SpanLabellingFormModalContent(\n        {\n          rawOptions: this.customSpanLabellingRawOptions,\n        }\n      );\n      const modal = new Modal({\n        content: this.customSpanLabellingFormModalContent.getElement(),\n        onClose: this.binded.onCustomSpanLabellingModalClose,\n        shouldAutoFocusFirstElement: true,\n      });\n      ModalManager.getSingleton().show(modal);\n      this.customSpanLabellingFormModalContent.init(); // must be called after modal is rendered\n      return;\n    }\n\n    const spanLabellingOptions = SpanLabellingManager.getSingleton().getOptions(\n      item.id\n    );\n    if (!spanLabellingOptions) {\n      // message.error(`Unknown span labelling: \"${item.id}\"`);\n      return;\n    }\n\n    try {\n      this.timeline.updateSpanLabelling(spanLabellingOptions);\n      this.spanLabellingMode = item.id;\n      this.spanLabellingModeMenu.select(item.id);\n    } catch (err) {\n      console.error(err);\n      new Noty({\n        text:\n          `Unexpected error while labelling spans: \"${err.message} <br /><br />\"` +\n          `Please check your console for further details. Press Cmd+Option+I or Ctrl+Option+I to ` +\n          `open devtools.`,\n        type: 'error',\n      });\n    }\n  }\n\n  private onCustomSpanLabellingModalClose(\n    triggerType: ModalCloseTriggerType,\n    data: any\n  ) {\n    if (this.customSpanLabellingFormModalContent) {\n      this.customSpanLabellingFormModalContent.dispose();\n      this.customSpanLabellingFormModalContent = null;\n    }\n\n    if (\n      triggerType != ModalCloseTriggerType.CLOSE_METHOD_CALL ||\n      data.action != 'save'\n    ) {\n      return;\n    }\n\n    this.customSpanLabellingRawOptions = {\n      key: 'custom',\n      name: 'Custom',\n      rawCode: data.tsCode,\n      compiledCode: data.compiledJSCode,\n    };\n\n    try {\n      this.timeline.updateSpanLabelling({\n        key: 'custom',\n        name: 'Custom',\n        labelBy: data.labelBy,\n      });\n      this.spanLabellingMode = 'custom';\n      this.spanLabellingModeMenu.select('custom');\n    } catch (err) {\n      console.error(err);\n      new Noty({\n        text:\n          `Unexpected error while labelling spans: \"${err.message} <br /><br />\"` +\n          `Please check your console for further details. Press Cmd+Option+I or Ctrl+Option+I to ` +\n          `open devtools.`,\n        type: 'error',\n      });\n    }\n  }\n\n  private onSpanColoringMenuItemClick(item: WidgetToolbarSelectItem) {\n    if (item.type == 'divider') return;\n    this.dropdowns.spanColoringMode.hide();\n\n    if (item.id === 'manage-all') {\n      // TODO\n      return;\n    }\n\n    if (item.id === 'custom') {\n      this.customSpanColoringFormModalContent = new SpanColoringFormModalContent(\n        {\n          rawOptions: this.customSpanColoringRawOptions,\n        }\n      );\n      const modal = new Modal({\n        content: this.customSpanColoringFormModalContent.getElement(),\n        onClose: this.binded.onCustomSpanColoringModalClose,\n        shouldAutoFocusFirstElement: true,\n      });\n      ModalManager.getSingleton().show(modal);\n      this.customSpanColoringFormModalContent.init(); // must be called after modal is rendered\n      return;\n    }\n\n    const spanColoringOptions = SpanColoringManager.getSingleton().getOptions(\n      item.id\n    );\n    if (!spanColoringOptions) {\n      new Noty({\n        text: ` Unknown span coloring: \"${item.id}\"`,\n        type: 'error',\n      });\n      return;\n    }\n\n    try {\n      this.timeline.updateSpanColoring(spanColoringOptions);\n      this.spanColoringMode = item.id;\n      this.spanColoringModeMenu.select(item.id);\n    } catch (err) {\n      console.error(err);\n      new Noty({\n        text:\n          `Unexpected error while coloring spans: \"${err.message} <br /><br />\"` +\n          `Please check your console for further details. Press Cmd+Option+I or Ctrl+Option+I to ` +\n          `open devtools.`,\n        type: 'error',\n      }).show();\n    }\n  }\n\n  private onCustomSpanColoringModalClose(\n    triggerType: ModalCloseTriggerType,\n    data: any\n  ) {\n    if (this.customSpanColoringFormModalContent) {\n      this.customSpanColoringFormModalContent.dispose();\n      this.customSpanColoringFormModalContent = null;\n    }\n\n    if (\n      triggerType != ModalCloseTriggerType.CLOSE_METHOD_CALL ||\n      data.action != 'save'\n    ) {\n      return;\n    }\n\n    this.customSpanColoringRawOptions = {\n      key: 'custom',\n      name: 'Custom',\n      rawCode: data.tsCode,\n      compiledCode: data.compiledJSCode,\n    };\n\n    try {\n      this.timeline.updateSpanColoring({\n        key: 'custom',\n        name: 'Custom',\n        colorBy: data.colorBy,\n      });\n      this.spanColoringMode = 'custom';\n      this.spanColoringModeMenu.select('custom');\n    } catch (err) {\n      console.error(err);\n      new Noty({\n        text:\n          `Unexpected error while coloring spans: \"${err.message} <br /><br />\"` +\n          `Please check your console for further details. Press Cmd+Option+I or Ctrl+Option+I to ` +\n          `open devtools.`,\n        type: 'error',\n      }).show();\n    }\n  }\n\n  private onGroupLayoutMenuItemClick(item: WidgetToolbarSelectItem) {\n    if (item.type == 'divider') return;\n    this.timeline.updateGroupLayoutMode(item.id as SpanGroupLayoutType);\n    this.groupLayoutModeMenu.select(item.id);\n    this.dropdowns.groupLayoutMode.hide();\n  }\n\n  private onSpanTooltipCustomizationMultiSelectSelect(\n    item: WidgetToolbarMultiSelectItem\n  ) {\n    this.spanTooltipCustomizationMultiSelect.select(item.id);\n\n    const spanTooltipContent = this.timeline.getSpanTooltipContent();\n    const options = spanTooltipContent.getOptions();\n    if (item.id == 'serviceName') {\n      spanTooltipContent.setShowServiceName(true);\n    } else if (item.id == 'nearbyLogs') {\n      spanTooltipContent.setShowNearbyLogs(true);\n    } else if (item.id.indexOf('tag.') == 0) {\n      const tag = item.id.replace('tag.', '');\n      const newTags = options.spanTagsToShow.slice();\n      if (newTags.indexOf(tag) == -1) {\n        newTags.push(tag);\n        spanTooltipContent.setSpanTagsToShow(newTags);\n      }\n    } else if (item.id.indexOf('process.tag.') == 0) {\n      const tag = item.id.replace('process.tag.', '');\n      const newTags = options.processTagsToShow.slice();\n      if (newTags.indexOf(tag) == -1) {\n        newTags.push(tag);\n        spanTooltipContent.setProcessTagsToShow(newTags);\n      }\n    } else {\n      console.warn(`Unknown span tooltip field: \"${item.id}\"`);\n    }\n  }\n\n  private onSpanTooltipCustomizationMultiSelectUnselect(\n    item: WidgetToolbarMultiSelectItem\n  ) {\n    this.spanTooltipCustomizationMultiSelect.unselect(item.id);\n\n    const spanTooltipContent = this.timeline.getSpanTooltipContent();\n    const options = spanTooltipContent.getOptions();\n    if (item.id == 'serviceName') {\n      spanTooltipContent.setShowServiceName(false);\n    } else if (item.id == 'nearbyLogs') {\n      spanTooltipContent.setShowNearbyLogs(false);\n    } else if (item.id.indexOf('tag.') == 0) {\n      const tag = item.id.replace('tag.', '');\n      const newTags = options.spanTagsToShow.slice();\n      if (newTags.indexOf(tag) > -1) {\n        newTags.splice(newTags.indexOf(tag), 1);\n        spanTooltipContent.setSpanTagsToShow(newTags);\n      }\n    } else if (item.id.indexOf('process.tag.') == 0) {\n      const tag = item.id.replace('process.tag.', '');\n      const newTags = options.processTagsToShow.slice();\n      if (newTags.indexOf(tag) > -1) {\n        newTags.splice(newTags.indexOf(tag), 1);\n        spanTooltipContent.setProcessTagsToShow(newTags);\n      }\n    } else {\n      console.warn(`Unknown span tooltip field: \"${item.id}\"`);\n    }\n  }\n\n  private onSpanTooltipCustomizationMultiSelectSearchInput() {\n    // Probably height of the multi-select is changed,\n    // if tippy is forced to render top position, this breaks the\n    // arrow positioning. This is a workaround for updating its\n    // position again\n    this.dropdowns.spanTooltipCustomization.popperInstance.update();\n  }\n\n  private updateSelectedTool() {\n    const btn = this.elements.toolbarBtn;\n    const toolButtons = {\n      [TimelineTool.MOVE]: btn.moveTool,\n      [TimelineTool.RULER]: btn.rulerTool,\n    };\n    Object.values(toolButtons).forEach((el) => el.classList.remove('selected'));\n    const selectedTool = toolButtons[this.timeline.tool];\n    selectedTool?.classList.add('selected');\n  }\n\n  private updateSpanTooltipCustomizationMultiSelect() {\n    const tooltipOptions = this.timeline.getSpanTooltipContent().getOptions();\n    const items: WidgetToolbarMultiSelectItem[] = [\n      {\n        id: 'serviceName',\n        text: 'Service Name',\n        selected: tooltipOptions.showServiceName,\n      },\n      {\n        id: 'nearbyLogs',\n        text: 'Nearby Logs',\n        selected: tooltipOptions.showNearbyLogs,\n      },\n    ];\n\n    const allSpanTagKeys = Object.keys(this.stage.getAllSpanTags());\n    allSpanTagKeys.forEach((tag) => {\n      items.push({\n        id: `tag.${tag}`,\n        text: `tag.${tag}`,\n        category: 'Span Tags',\n      });\n    });\n\n    const allProcessTagKeys = Object.keys(this.stage.getAllProcessTags());\n    allProcessTagKeys.forEach((tag) => {\n      items.push({\n        id: `process.tag.${tag}`,\n        text: `process.tag.${tag}`,\n        category: 'Process Tags',\n      });\n    });\n\n    this.spanTooltipCustomizationMultiSelect.updateItems(items);\n  }\n\n  private async onSampleTraceButtonHotrodClick(e: MouseEvent) {\n    const hotrod = await import(\n      /* webpackChunkName: \"hotrod\" */ '../../../mock/jaeger-hotrod.json'\n    );\n    const spans = convertFromJaegerTrace(hotrod.default.data[0]);\n    const trace = new Trace(spans);\n    this.stage.addTrace(trace);\n\n    window.Countly &&\n      window.Countly.add_event({\n        key: 'trace_added_example',\n        count: 1,\n        segmentation: {\n          trace: 'jaeger/hotrod',\n        },\n      });\n  }\n\n  private async onSampleTraceButtonRaftConcensusClick(e: MouseEvent) {\n    const raftConsensus = await import(\n      /* webpackChunkName: \"raft-consensus\" */ '../../../mock/stalk-stage-2020-05-10--12-48-55.json'\n    );\n    raftConsensus.default.traces.forEach((spans: any) => {\n      const trace = new Trace(spans);\n      this.stage.addTrace(trace);\n    });\n\n    window.Countly &&\n      window.Countly.add_event({\n        key: 'trace_added_example',\n        count: 1,\n        segmentation: {\n          trace: 'raft-concensus',\n        },\n      });\n  }\n\n  addTrace(trace: Trace) {\n    try {\n      this.timeline.addTrace(trace);\n      this.updateSpanTooltipCustomizationMultiSelect();\n      this.elements.emptyMessage.container.style.display =\n        this.timeline.getTraces().length > 0 ? 'none' : '';\n    } catch (err) {\n      console.error(err);\n      new Noty({\n        text:\n          `Unexpected error while adding trace: \"${err.message} <br /><br />\"` +\n          `Please check your console for further details. Press Cmd+Option+I or Ctrl+Option+I to ` +\n          `open devtools.`,\n        type: 'error',\n      }).show();\n    }\n  }\n\n  removeTrace(trace: Trace) {\n    try {\n      this.timeline.removeTrace(trace);\n      this.updateSpanTooltipCustomizationMultiSelect();\n      this.elements.emptyMessage.container.style.display =\n        this.timeline.getTraces().length > 0 ? 'none' : '';\n    } catch (err) {\n      console.error(err);\n      new Noty({\n        text:\n          `Unexpected error while adding trace: \"${err.message} <br /><br />\"` +\n          `Please check your console for further details. Press Cmd+Option+I or Ctrl+Option+I to ` +\n          `open devtools.`,\n        type: 'error',\n      }).show();\n    }\n  }\n\n  mount(parentEl: HTMLElement) {\n    parentEl.appendChild(this.elements.container);\n  }\n\n  unmount() {\n    const parent = this.elements.container.parentElement;\n    parent?.removeChild(this.elements.container);\n  }\n\n  resize(width: number, height: number) {\n    this.timeline.resize(width, height - TOOLBAR_HEIGHT);\n  }\n\n  dispose() {\n    const tooltipManager = TooltipManager.getSingleton();\n    const btn = this.elements.toolbarBtn;\n    tooltipManager.removeFromSingleton([\n      btn.moveTool,\n      btn.rulerTool,\n      btn.groupingMode,\n      btn.spanLabellingMode,\n      btn.spanColoringMode,\n      btn.groupLayoutMode,\n      btn.spanTooltipCustomization,\n    ]);\n    const { emptyMessage } = this.elements;\n\n    for (let tippy of Object.values(this.dropdowns)) {\n      tippy.destroy();\n    }\n    this.dropdowns = null;\n\n    this.elements.container.removeEventListener(\n      'keydown',\n      this.binded.onKeyDown,\n      false\n    );\n    this.elements.container.removeEventListener(\n      'keyup',\n      this.binded.onKeyUp,\n      false\n    );\n\n    btn.moveTool.removeEventListener(\n      'click',\n      this.binded.onMoveToolClick,\n      false\n    );\n    btn.rulerTool.removeEventListener(\n      'click',\n      this.binded.onRulerToolClick,\n      false\n    );\n    emptyMessage.sampleTraceButtonHotrod.removeEventListener(\n      'click',\n      this.binded.onSampleTraceButtonHotrodClick,\n      false\n    );\n    emptyMessage.sampleTraceButtonRaftConsensus.removeEventListener(\n      'click',\n      this.binded.onSampleTraceButtonRaftConcensusClick,\n      false\n    );\n\n    this.spanGroupingModeMenu.dispose();\n    this.groupLayoutModeMenu.dispose();\n    this.spanColoringModeMenu.dispose();\n    this.spanLabellingModeMenu.dispose();\n  }\n}\n","import { Widget } from '@phosphor/widgets';\nimport isBoolean from 'lodash/isBoolean';\n\nexport interface WidgetWrapperOptions {\n  title: string;\n  closable?: boolean;\n  onResize?: (msg: { width: number; height: number }) => void;\n  onClose?: () => void;\n  onAfterShow?: () => void;\n}\n\n// A tiny wrapper around phosphor-widget\nexport class WidgetWrapper extends Widget {\n  constructor(private options: WidgetWrapperOptions) {\n    super();\n\n    this.title.label = options.title;\n    this.title.closable = isBoolean(options.closable) ? options.closable : true;\n  }\n\n  protected onResize(msg: any) {\n    this.options.onResize?.(msg);\n  }\n\n  protected onCloseRequest(msg: any) {\n    super.onCloseRequest(msg);\n    this.options.onClose?.();\n  }\n\n  protected onAfterShow(msg: any) {\n    super.onAfterShow(msg);\n    this.options.onAfterShow?.();\n  }\n}\n","import * as monaco from 'monaco-editor/esm/vs/editor/editor.api';\nimport { TypeScriptManager } from './typescript-manager';\nimport { Stage } from '../../model/stage';\nimport { Span } from '../../model/interfaces';\nimport * as shortid from 'shortid';\nimport throttle from 'lodash/throttle';\nimport isBoolean from 'lodash/isBoolean';\nimport isFunction from 'lodash/isFunction';\nimport sampleSize from 'lodash/sampleSize';\nimport { ModalManager } from '../ui/modal/modal-manager';\n\nimport CheckCircleOutlineSvg from '!!raw-loader!@mdi/svg/svg/check-circle-outline.svg';\nimport AlertCircleOutlineSvg from '!!raw-loader!@mdi/svg/svg/alert-circle-outline.svg';\nimport CloseCircleOutlineSvg from '!!raw-loader!@mdi/svg/svg/close-circle-outline.svg';\nimport './form-modal-content.css';\n\nexport interface SpanFilteringRawOptions {\n  key: string;\n  name: string;\n  rawCode: string;\n  compiledCode: string;\n}\n\nexport interface SpanFilteringOptions {\n  key: string;\n  name: string;\n  filterBy: (span: Span) => boolean;\n}\n\nexport interface SpanFilteringFormModalContentOptions {\n  // showNameField?: boolean; // TODO: Implement it when you need it!\n  rawOptions?: SpanFilteringRawOptions;\n}\n\nexport class SpanFilteringFormModalContent {\n  private elements = {\n    container: document.createElement('div'),\n    monacoContainer: document.createElement('div'),\n    testResultContainer: document.createElement('div'),\n    cancelButton: document.createElement('button'),\n    saveButton: document.createElement('button'),\n    testButton: document.createElement('button'),\n  };\n  private model?: monaco.editor.ITextModel;\n  private editor?: monaco.editor.IStandaloneCodeEditor;\n  private editorContentChangeListener?: monaco.IDisposable;\n  private tsManager = TypeScriptManager.getSingleton();\n  private stage = Stage.getSingleton();\n\n  private binded = {\n    onCancelButtonClick: this.onCancelButtonClick.bind(this),\n    onSaveButtonClick: this.onSaveButtonClick.bind(this),\n    onTestButtonClick: this.onTestButtonClick.bind(this),\n    onMonacoEditorContentChange: throttle(\n      this.onMonacoEditorContentChange.bind(this),\n      100\n    ),\n  };\n\n  constructor(private options: SpanFilteringFormModalContentOptions) {\n    // Prepare DOM\n    const els = this.elements;\n    els.container.classList.add('customization-form-modal-content');\n\n    els.monacoContainer.classList.add('monaco-container');\n    els.container.appendChild(els.monacoContainer);\n\n    els.testResultContainer.classList.add('test-result');\n    els.testResultContainer.style.display = 'none';\n    els.container.appendChild(els.testResultContainer);\n\n    const buttonsContainer = document.createElement('div');\n    buttonsContainer.classList.add('buttons');\n    els.container.appendChild(buttonsContainer);\n\n    const leftButtons = document.createElement('div');\n    leftButtons.classList.add('left');\n    buttonsContainer.appendChild(leftButtons);\n\n    const rightButtons = document.createElement('div');\n    rightButtons.classList.add('right');\n    buttonsContainer.appendChild(rightButtons);\n\n    els.cancelButton.classList.add('cancel');\n    els.cancelButton.textContent = 'Cancel';\n    leftButtons.appendChild(els.cancelButton);\n\n    els.testButton.classList.add('test');\n    els.testButton.textContent = 'Test';\n    rightButtons.appendChild(els.testButton);\n\n    els.saveButton.classList.add('save', 'primary');\n    els.saveButton.textContent = 'Save';\n    els.saveButton.disabled = true;\n    rightButtons.appendChild(els.saveButton);\n  }\n\n  init() {\n    this.elements.cancelButton.addEventListener(\n      'click',\n      this.binded.onCancelButtonClick,\n      false\n    );\n    this.elements.testButton.addEventListener(\n      'click',\n      this.binded.onTestButtonClick,\n      false\n    );\n    this.elements.saveButton.addEventListener(\n      'click',\n      this.binded.onSaveButtonClick,\n      false\n    );\n\n    // Must be called after the container is mounted and ready,\n    // so that it can gather its dimensions correctly\n    this.initMonacoEditor();\n  }\n\n  private initMonacoEditor() {\n    const code = this.options.rawOptions\n      ? this.options.rawOptions.rawCode\n      : `// Do something with \"span\" and return a boolean\\n` +\n        `function filterBy(span: Span): boolean {\\n` +\n        `    return (/keyword/ig).test(span.operationName);\\n` +\n        `}\\n`;\n\n    this.model = monaco.editor.createModel(code, 'typescript');\n    this.editor = monaco.editor.create(this.elements.monacoContainer, {\n      minimap: { enabled: false },\n    });\n    this.editor.setModel(this.model);\n\n    // https://github.com/Microsoft/monaco-editor/issues/1017#issuecomment-414615634\n    this.editor.addCommand(\n      monaco.KeyCode.Escape,\n      () => {\n        if (document.activeElement) (document.activeElement as any).blur();\n      },\n      '!findWidgetVisible && !inReferenceSearchEditor && !editorHasSelection'\n    );\n    this.editor.focus();\n\n    this.editorContentChangeListener = this.model.onDidChangeContent(\n      this.binded.onMonacoEditorContentChange\n    );\n  }\n\n  getElement() {\n    return this.elements.container;\n  }\n\n  private onMonacoEditorContentChange() {\n    this.elements.testResultContainer.style.display = 'none';\n    this.elements.saveButton.disabled = true;\n  }\n\n  private onCancelButtonClick() {\n    const modal = ModalManager.getSingleton().findModalFromElement(\n      this.elements.container\n    );\n    if (!modal) throw new Error(`Could not find modal instance`);\n    modal.close({ data: { action: 'cancel' } });\n  }\n\n  private async onSaveButtonClick() {\n    try {\n      const result = await this.onTestButtonClick();\n      const modal = ModalManager.getSingleton().findModalFromElement(\n        this.elements.container\n      );\n      if (!modal) throw new Error(`Could not find modal instance`);\n      modal.close({ data: { action: 'save', ...result } });\n    } catch (err) {}\n  }\n\n  private async onTestButtonClick() {\n    this.elements.saveButton.disabled = true;\n    this.elements.testResultContainer.style.display = 'none';\n\n    try {\n      const result = await this.test();\n\n      this.elements.saveButton.disabled = false;\n      if (result.testedSpans.length == 0) {\n        this.showTestResult({\n          type: 'warning',\n          title: 'No spans in the stage to test',\n          body:\n            `Span filtering function seems OK, you can save it. However it's not tested on any real ` +\n            `spans, since there is no trace added to the stage.`,\n        });\n      } else {\n        this.showTestResult({\n          type: 'success',\n          title: 'Test successful',\n          body: `Span filtering function seems OK. It's tested on ${\n            result.testedSpans.length\n          } span(s) in\n            the stage and here are some samples: <br />\n            <ul>\n              ${sampleSize(result.testedSpans, 3)\n                .map(\n                  (test) =>\n                    `<li>\n                  ${test.span.operationName} => <pre>${test.rv}</pre>\n                </li>`\n                )\n                .join('')}\n            </ul>`,\n        });\n      }\n\n      return result;\n    } catch (err) {\n      this.showTestResult({\n        type: 'error',\n        title: err.message,\n        body: err.description || '',\n      });\n    }\n  }\n\n  private showTestResult(options: {\n    type: 'success' | 'warning' | 'error';\n    title: string;\n    body?: string;\n  }) {\n    const el = this.elements.testResultContainer;\n    el.classList.remove('success', 'warning', 'error');\n    el.classList.add(options.type);\n    const svg = {\n      success: CheckCircleOutlineSvg,\n      warning: AlertCircleOutlineSvg,\n      error: CloseCircleOutlineSvg,\n    }[options.type];\n    el.innerHTML = `${svg}\n      <div class=\"title\">${options.title}</div>\n      <div class=\"body\">${options.body || ''}</div>`;\n    el.style.display = 'block';\n  }\n\n  private async test() {\n    if (!this.model) throw new Error('Monaco text model is not ready');\n    if (!this.editor) throw new Error('Monaco editor is not ready');\n    const tsCode = this.editor.getValue();\n    const compiledJSCode = await this.tsManager.compile(this.model.uri);\n\n    let filterByFn: Function | undefined = undefined;\n    try {\n      filterByFn = TypeScriptManager.generateFunction(\n        compiledJSCode,\n        'filterBy'\n      );\n    } catch (err) {\n      if (err.message == `filterBy is not defined`) {\n        const customErr = new Error(`Unexpected \"filterBy\" function`);\n        (customErr as any).description = `You have to declare a function named \"filterBy\" and it has to return a boolean.`;\n        throw customErr;\n      }\n\n      throw err;\n    }\n\n    if (!isFunction(filterByFn)) {\n      const err = new Error(`Unexpected \"filterBy\" function`);\n      (err as any).description = `You have to declare a function named \"filterBy\" and it has to return a boolean.`;\n      throw err;\n    }\n\n    const spansToTest = this.stage.getAllSpans();\n    const testedSpans: { span: Span; rv: boolean }[] = [];\n    for (let span of spansToTest) {\n      const rv = filterByFn(span);\n      if (!isBoolean(rv)) {\n        console.error(\n          `Return value of \"filterBy\" function must be a boolean, but recieved \"${typeof rv}\" for span`,\n          span\n        );\n        const err = new Error(`Function returned not a boolean`);\n        (err as any).description =\n          `Return value of \"filterBy\" function has to be a string, but got \"${typeof rv}\" ` +\n          `for a span. Please check your console for further details. Press Command+Option+I or Ctrl+Option+I to ` +\n          `open devtools.`;\n        throw err;\n      }\n      testedSpans.push({ span, rv });\n    }\n\n    return { tsCode, compiledJSCode, filterBy: filterByFn, testedSpans };\n  }\n\n  dispose() {\n    this.elements.cancelButton.removeEventListener(\n      'click',\n      this.binded.onCancelButtonClick,\n      false\n    );\n    this.elements.testButton.removeEventListener(\n      'click',\n      this.binded.onTestButtonClick,\n      false\n    );\n    this.elements.saveButton.removeEventListener(\n      'click',\n      this.binded.onSaveButtonClick,\n      false\n    );\n\n    this.editor?.dispose();\n    this.model?.dispose();\n    this.editorContentChangeListener?.dispose();\n    this.editor = undefined;\n    this.model = undefined;\n    this.editorContentChangeListener = undefined;\n  }\n}\n","import api from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../node_modules/css-loader/dist/cjs.js!./spans-table.css\";\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","import tippy, { Instance as TippyInstance } from 'tippy.js';\nimport {\n  WidgetToolbarMultiSelect,\n  WidgetToolbarMultiSelectItem,\n} from '../ui/widget-toolbar/widget-toolbar-multi-select';\nimport { Stage, StageEvent } from '../../model/stage';\nimport { Trace } from '../../model/trace';\nimport { formatMicroseconds } from '../../utils/format-microseconds';\nimport { TooltipManager } from '../ui/tooltip/tooltip-manager';\nimport { serviceNameOf } from '../../model/span-grouping/service-name';\nimport * as Tabulator from 'tabulator-tables';\nimport { Span } from '../../model/interfaces';\nimport find from 'lodash/find';\nimport remove from 'lodash/remove';\nimport sampleSize from 'lodash/sampleSize';\nimport cloneDeep from 'lodash/cloneDeep';\nimport EventEmitter from 'events';\nimport {\n  ContextMenuManager,\n  ContextMenuEvent,\n} from '../ui/context-menu/context-menu-manager';\nimport { Modal, ModalCloseTriggerType } from '../ui/modal/modal';\nimport { ModalManager } from '../ui/modal/modal-manager';\nimport {\n  SpanFilteringFormModalContent,\n  SpanFilteringRawOptions,\n} from '../customization/span-filtering-form-modal-content';\nimport Noty from 'noty';\nimport { copyToClipboard } from '../../utils/copy-to-clipboard';\n\nimport SvgFilter from '!!raw-loader!@mdi/svg/svg/filter.svg';\nimport SvgFilterRemove from '!!raw-loader!@mdi/svg/svg/filter-remove.svg';\nimport SvgViewColumn from '!!raw-loader!@mdi/svg/svg/view-column.svg';\nimport '../ui/widget-toolbar/widget-toolbar.css';\nimport 'tabulator-tables/dist/css/tabulator_simple.min.css';\nimport './spans-table.css';\n\nconst TOOLBAR_HEIGHT = 27;\n\nexport interface SpanRowData {\n  span: Span;\n  spanOriginal: Span;\n  totalTime: number;\n  selfTime: number;\n  serviceName: string;\n}\n\nexport enum SpansTableViewEvent {\n  SPAN_SELECTED = 'span_selected',\n}\n\nexport class SpansTableView extends EventEmitter {\n  private stage = Stage.getSingleton();\n  private contextMenuManager = ContextMenuManager.getSingleton();\n  private table: Tabulator;\n  private spanRows: SpanRowData[] = [];\n  private selectedSpanId: string;\n\n  private elements = {\n    container: document.createElement('div'),\n    toolbar: document.createElement('div'),\n    toolbarBtn: {\n      filter: document.createElement('div'),\n      removeFilter: document.createElement('div'),\n      columns: document.createElement('div'),\n    },\n    tableContainer: document.createElement('div'),\n  };\n  private viewPropertiesCache = {\n    width: 0,\n    height: 0,\n  };\n\n  private binded = {\n    onTraceAdded: this.onTraceAdded.bind(this),\n    onTraceRemoved: this.onTraceRemoved.bind(this),\n    onColumnsMultiSelectSelect: this.onColumnsMultiSelectSelect.bind(this),\n    onColumnsMultiSelectUnselect: this.onColumnsMultiSelectUnselect.bind(this),\n    onColumnsMultiSelectSearchInput: this.onColumnsMultiSelectSearchInput.bind(\n      this\n    ),\n    onFilterButtonClick: this.onFilterButtonClick.bind(this),\n    onRemoveFilterButtonClick: this.onRemoveFilterButtonClick.bind(this),\n    onSpanFilteringModalClose: this.onSpanFilteringModalClose.bind(this),\n    formatTimestamp: this.formatTimestamp.bind(this),\n    formatDuration: this.formatDuration.bind(this),\n    formatTags: this.formatTags.bind(this),\n    formatProcessTags: this.formatProcessTags.bind(this),\n    onRowClick: this.onRowClick.bind(this),\n    onRowContext: this.onRowContext.bind(this),\n    onKeyDown: this.onKeyDown.bind(this),\n  };\n\n  private columnDefinitions = {\n    id: { title: 'Span ID', field: 'span.id' } as Tabulator.ColumnDefinition,\n    traceId: {\n      title: 'Trace ID',\n      field: 'span.traceId',\n    } as Tabulator.ColumnDefinition,\n    operationName: {\n      title: 'Operation Name',\n      field: 'span.operationName',\n    } as Tabulator.ColumnDefinition,\n    serviceName: {\n      title: 'Service Name',\n      field: 'serviceName',\n    } as Tabulator.ColumnDefinition,\n    startTime: {\n      title: 'Start Time',\n      field: 'span.startTime',\n      formatter: this.binded.formatTimestamp,\n    } as Tabulator.ColumnDefinition,\n    finishTime: {\n      title: 'Finish Time',\n      field: 'span.finishTime',\n      formatter: this.binded.formatTimestamp,\n    } as Tabulator.ColumnDefinition,\n    totalTime: {\n      title: 'Total Time',\n      field: 'totalTime',\n      formatter: this.binded.formatDuration,\n    } as Tabulator.ColumnDefinition,\n    selfTime: {\n      title: 'Self Time',\n      field: 'selfTime',\n      formatter: this.binded.formatDuration,\n    } as Tabulator.ColumnDefinition,\n    tags: {\n      title: 'Tags',\n      field: 'span.tags',\n      formatter: this.binded.formatTags,\n      headerSort: false,\n    } as Tabulator.ColumnDefinition,\n    processTags: {\n      title: 'Process Tags',\n      field: 'span.process.tags',\n      formatter: this.binded.formatProcessTags,\n      headerSort: false,\n    } as Tabulator.ColumnDefinition,\n  };\n\n  private dropdowns: {\n    columnsSelection: TippyInstance;\n  };\n  private columnsMultiSelect = new WidgetToolbarMultiSelect({\n    width: 200,\n    maxItemContainerHeight: 125,\n    onSelect: this.binded.onColumnsMultiSelectSelect,\n    onUnselect: this.binded.onColumnsMultiSelectUnselect,\n    onSearchInput: this.binded.onColumnsMultiSelectSearchInput,\n    items: [],\n    emptyMessage: 'No Spans',\n  });\n\n  private spanFilteringFn: (span: Span) => boolean;\n  private spanFilteringFormModalContent: SpanFilteringFormModalContent;\n  private spanFilteringRawOptions: SpanFilteringRawOptions;\n\n  constructor() {\n    super();\n\n    const { container, toolbar, tableContainer } = this.elements;\n    container.classList.add('spans-table-view');\n    container.appendChild(toolbar);\n    container.appendChild(tableContainer);\n    this.prepareToolbar();\n  }\n\n  private prepareToolbar() {\n    const toolbarEl = this.elements.toolbar;\n    const btn = this.elements.toolbarBtn;\n\n    toolbarEl.classList.add('widget-toolbar', 'widget-toolbar');\n\n    // Panes\n    const leftPane = document.createElement('div');\n    leftPane.classList.add('widget-toolbar-pane');\n    toolbarEl.appendChild(leftPane);\n\n    const middlePane = document.createElement('div');\n    middlePane.classList.add('widget-toolbar-pane', 'middle');\n    toolbarEl.appendChild(middlePane);\n\n    const rightPane = document.createElement('div');\n    rightPane.classList.add('widget-toolbar-pane', 'right');\n    toolbarEl.appendChild(rightPane);\n\n    // Left buttons\n    btn.filter.classList.add('widget-toolbar-button');\n    btn.filter.innerHTML = SvgFilter;\n    leftPane.appendChild(btn.filter);\n\n    btn.removeFilter.classList.add('widget-toolbar-button');\n    btn.removeFilter.innerHTML = SvgFilterRemove;\n    btn.removeFilter.classList.add('disabled');\n    leftPane.appendChild(btn.removeFilter);\n\n    // Right buttons\n    btn.columns.classList.add('widget-toolbar-button');\n    btn.columns.innerHTML = SvgViewColumn;\n    rightPane.appendChild(btn.columns);\n  }\n\n  init(options: { width: number; height: number }) {\n    this.viewPropertiesCache = {\n      width: options.width,\n      height: options.height,\n    };\n    this.initTooltips();\n    this.initDropdowns();\n\n    // Bind events\n    this.stage.on(StageEvent.TRACE_ADDED, this.binded.onTraceAdded);\n    this.stage.on(StageEvent.TRACE_REMOVED, this.binded.onTraceRemoved);\n    this.elements.toolbarBtn.filter.addEventListener(\n      'click',\n      this.binded.onFilterButtonClick,\n      false\n    );\n    this.elements.toolbarBtn.removeFilter.addEventListener(\n      'click',\n      this.binded.onRemoveFilterButtonClick,\n      false\n    );\n    this.elements.container.addEventListener(\n      'keydown',\n      this.binded.onKeyDown,\n      false\n    );\n\n    // Prepare initial data\n    this.spanRows = this.stage\n      .getAllSpans()\n      .map((span) => this.span2RowData(span));\n\n    // Init table\n    this.table = new Tabulator(this.elements.tableContainer, {\n      autoResize: false, // This causes to lose focus when widget is hidden\n      height: this.viewPropertiesCache.height - TOOLBAR_HEIGHT,\n      data: this.spanRows,\n      layout: 'fitDataFill',\n      movableColumns: true,\n      selectable: 1,\n      columns: [\n        this.columnDefinitions.startTime,\n        this.columnDefinitions.totalTime,\n        this.columnDefinitions.selfTime,\n        this.columnDefinitions.operationName,\n        this.columnDefinitions.serviceName,\n      ],\n      initialSort: [\n        { column: this.columnDefinitions.startTime.field, dir: 'asc' },\n      ],\n      rowClick: this.binded.onRowClick,\n      rowContext: this.binded.onRowContext,\n      keybindings: false,\n    });\n\n    // Init column picker\n    this.updateColumnsMultiSelectItems();\n  }\n\n  private initTooltips() {\n    const tooltipManager = TooltipManager.getSingleton();\n    const btn = this.elements.toolbarBtn;\n    tooltipManager.addToSingleton([\n      [\n        btn.filter,\n        {\n          content: 'Filter Spans',\n          multiple: true,\n        },\n      ],\n    ]);\n    tooltipManager.addToSingleton([\n      [\n        btn.removeFilter,\n        {\n          content: 'Remove Span Filter',\n          multiple: true,\n        },\n      ],\n    ]);\n    tooltipManager.addToSingleton([\n      [\n        btn.columns,\n        {\n          content: 'Customize Columns',\n          multiple: true,\n        },\n      ],\n    ]);\n  }\n\n  private initDropdowns() {\n    this.dropdowns = {\n      columnsSelection: tippy(this.elements.toolbarBtn.columns, {\n        content: this.columnsMultiSelect.element,\n        multiple: true,\n        appendTo: document.body,\n        placement: 'bottom',\n        duration: 0,\n        updateDuration: 0,\n        theme: 'widget-toolbar-multi-select',\n        trigger: 'click',\n        interactive: true,\n      }),\n    };\n  }\n\n  private async onTraceAdded(trace: Trace) {\n    let includesErrorTag = false;\n    trace.spans.forEach((span) => {\n      if (span.tags.hasOwnProperty('error')) includesErrorTag = true;\n      this.spanRows.push(this.span2RowData(span));\n    });\n\n    // If any span includes `error` tag, add error column if not already added!\n    if (includesErrorTag) {\n      const currentColumns = this.table.getColumnDefinitions();\n      const isAdded = !!find(\n        currentColumns,\n        (col) => col.field == getColumnFieldSelectorByTag('error')\n      );\n      if (!isAdded) {\n        this.addColumnGracefullyBeforeTagsOrProcessTagsColumn({\n          // The title and field must be same with normal generated\n          // column struct, see: `onColumnsMultiSelectSelect()` method\n          title: getColumnIdByTag('error'),\n          field: getColumnFieldSelectorByTag('error'),\n          formatter: (cell) => {\n            const spanRow = cell.getRow().getData();\n            return spanRow.span.tags.error || '';\n          },\n        });\n      }\n    }\n\n    this.updateColumnsMultiSelectItems();\n    await this.updateTableData();\n  }\n\n  private async onTraceRemoved(trace: Trace) {\n    trace.spans.forEach((span) =>\n      remove(this.spanRows, (spanRow) => spanRow.span.id == span.id)\n    );\n\n    this.updateColumnsMultiSelectItems();\n    await this.updateTableData();\n  }\n\n  private updateColumnsMultiSelectItems() {\n    const currentColumns = this.table.getColumnDefinitions();\n    const items: WidgetToolbarMultiSelectItem[] = Object.keys(\n      this.columnDefinitions\n    ).map((id) => {\n      const def = (this.columnDefinitions as any)[id];\n      const selected = !!find(currentColumns, (col) => col.field == def.field);\n      return { id, text: def.title as string, selected };\n    });\n\n    Object.keys(this.stage.getAllSpanTags()).forEach((tag) => {\n      const selected = !!find(\n        currentColumns,\n        (col) => col.field == getColumnFieldSelectorByTag(tag)\n      );\n      items.push({\n        id: getColumnIdByTag(tag),\n        text: getColumnIdByTag(tag),\n        category: 'Span Tags',\n        selected,\n      });\n    });\n\n    Object.keys(this.stage.getAllProcessTags()).forEach((tag) => {\n      const selected = !!find(\n        currentColumns,\n        (col) => col.field == getColumnFieldSelectorByProcessTag(tag)\n      );\n      items.push({\n        id: getColumnIdByProcessTag(tag),\n        text: getColumnIdByProcessTag(tag),\n        category: 'Process Tags',\n        selected,\n      });\n    });\n\n    // There may be left-over columns in the table, which means that\n    // column is added when some trace is added in stage. However that trace\n    // removed now, and that column is not existing in future stage state.\n    // When that happens, there is no way to remove that columns.\n    currentColumns.forEach((col) => {\n      if (!!find(items, (item) => item.text == col.title)) return;\n      items.push({\n        id: col.title,\n        text: col.title,\n        category:\n          col.title.indexOf(TAG_ID_PREFIX) == 0\n            ? 'Span Tags'\n            : col.title.indexOf(PROCESS_TAG_ID_PREFIX) == 0\n            ? 'Process Tags'\n            : undefined,\n        selected: true,\n      });\n    });\n\n    this.columnsMultiSelect.updateItems(items);\n  }\n\n  private onColumnsMultiSelectSelect(item: WidgetToolbarMultiSelectItem) {\n    this.columnsMultiSelect.select(item.id);\n\n    let columnDefinition: Tabulator.ColumnDefinition = (this\n      .columnDefinitions as any)[item.id];\n\n    if (!columnDefinition && item.id.indexOf(TAG_ID_PREFIX) == 0) {\n      const tagKey = item.id.replace(TAG_ID_PREFIX, '');\n      columnDefinition = {\n        title: item.id,\n        field: `span.tags.${tagKey}`,\n        formatter: (cell) => {\n          const spanRow = cell.getRow().getData();\n          return spanRow.span.tags[tagKey] || '';\n        },\n      };\n    }\n\n    if (!columnDefinition && item.id.indexOf(PROCESS_TAG_ID_PREFIX) == 0) {\n      const tagKey = item.id.replace(PROCESS_TAG_ID_PREFIX, '');\n      columnDefinition = {\n        title: item.id,\n        field: `span.process.tags.${tagKey}`,\n        formatter: (cell) => {\n          const spanRow = cell.getRow().getData();\n          const processTags = spanRow.span.process\n            ? spanRow.span.process.tags || {}\n            : {};\n          return processTags[tagKey] || '';\n        },\n      };\n    }\n\n    if (!columnDefinition) {\n      console.error(`Unknown column id: \"${item.id}\"`, item);\n      throw new Error(`Unknown column id: \"${item.id}\"`);\n    }\n\n    this.addColumnGracefullyBeforeTagsOrProcessTagsColumn(columnDefinition);\n  }\n\n  private addColumnGracefullyBeforeTagsOrProcessTagsColumn(\n    def: Tabulator.ColumnDefinition\n  ) {\n    const currentColumns = this.table.getColumnDefinitions();\n    const columnDef = find(currentColumns, (col) => {\n      return (\n        col.field == this.columnDefinitions.tags.field ||\n        col.field == this.columnDefinitions.processTags.field\n      );\n    });\n\n    if (columnDef) {\n      this.table.addColumn(def, true, columnDef.field);\n    } else {\n      this.table.addColumn(def);\n    }\n  }\n\n  private onColumnsMultiSelectUnselect(item: WidgetToolbarMultiSelectItem) {\n    this.columnsMultiSelect.unselect(item.id);\n    let fieldToDelete: string = '';\n\n    if ((this.columnDefinitions as any)[item.id]) {\n      fieldToDelete = (this.columnDefinitions as any)[item.id].field;\n    }\n\n    if (!fieldToDelete && item.id.indexOf(TAG_ID_PREFIX) == 0) {\n      const tagKey = item.id.replace(TAG_ID_PREFIX, '');\n      fieldToDelete = `span.tags.${tagKey}`;\n    }\n\n    if (!fieldToDelete && item.id.indexOf(PROCESS_TAG_ID_PREFIX) == 0) {\n      const tagKey = item.id.replace(PROCESS_TAG_ID_PREFIX, '');\n      fieldToDelete = `span.process.tags.${tagKey}`;\n    }\n\n    if (!fieldToDelete) {\n      console.error(`Unknown column id: \"${item.id}\"`, item);\n      throw new Error(`Unknown column id: \"${item.id}\"`);\n    }\n\n    this.table.deleteColumn(fieldToDelete);\n  }\n\n  private onColumnsMultiSelectSearchInput() {\n    // Probably height of the multi-select is changed,\n    // if tippy is forced to render top position, this breaks the\n    // arrow positioning. This is a workaround for updating its\n    // position again\n    this.dropdowns.columnsSelection.popperInstance.update();\n  }\n\n  private span2RowData(span: Span) {\n    const totalTime = span.finishTime - span.startTime;\n    const selfTime = this.stage.getSpanSelfTime(span.id);\n    const serviceName = serviceNameOf(span);\n\n    // When a custom `tag` column added, tabulator defines a property\n    // in all of the span tags object, even if it's undefined. This is\n    // a mutation that we don't want now. As a workaround, clone the span.\n    const spanCopy = cloneDeep(span);\n\n    return {\n      id: span.id,\n      span: spanCopy,\n      spanOriginal: span,\n      totalTime,\n      selfTime,\n      serviceName,\n    };\n  }\n\n  private formatTimestamp(cell: any) {\n    return formatMicroseconds(cell.getValue() - this.stage.startTimestamp);\n  }\n\n  private formatDuration(cell: any) {\n    return formatMicroseconds(cell.getValue());\n  }\n\n  private formatTags(cell: any) {\n    const spanRowData = cell.getRow().getData();\n    let html = '';\n\n    // TODO: Sort these with occurance frequency\n    Object.keys(spanRowData.spanOriginal.tags)\n      .sort((a, b) => {\n        if (a > b) return 1;\n        if (a < b) return -1;\n        return 0;\n      })\n      .forEach((tag) => {\n        const value = spanRowData.spanOriginal.tags[tag];\n\n        html += `<span class=\"spans-table-tag\">${tag}:</span>\n        <span class=\"spans-table-value\">${value}</span>`;\n      });\n\n    return html;\n  }\n\n  private formatProcessTags(cell: any) {\n    const spanRowData = cell.getRow().getData();\n    let html = '';\n\n    Object.keys(\n      spanRowData.spanOriginal.process\n        ? spanRowData.spanOriginal.process.tags || {}\n        : {}\n    )\n      .sort((a, b) => {\n        if (a > b) return 1;\n        if (a < b) return -1;\n        return 0;\n      })\n      .forEach((tag) => {\n        const value = spanRowData.spanOriginal.process.tags[tag];\n\n        html += `<span class=\"spans-table-tag\">${tag}:</span>\n        <span class=\"spans-table-value\">${value}</span>`;\n      });\n\n    return html;\n  }\n\n  private async updateTableData() {\n    const filterFn = this.spanFilteringFn;\n    if (filterFn) {\n      try {\n        const results = this.spanRows.filter((spanRow) => {\n          // Perform filtering on original span object\n          // `spanRow.span` can be modified depending on visible columns by tabulator\n          return filterFn(spanRow.spanOriginal);\n        });\n\n        await this.table.replaceData(results);\n        this.updateRowSelectionGracefully();\n      } catch (err) {\n        console.error(err);\n        new Noty({\n          text:\n            `Unexpected error while filtering spans: \"${err.message} <br /><br />\"` +\n            `Please check your console for further details. Press Command+Option+I or Ctrl+Option+I to ` +\n            `open devtools.`,\n          type: 'error',\n        }).show();\n      }\n\n      return;\n    }\n\n    await this.table.replaceData(this.spanRows);\n    this.updateRowSelectionGracefully();\n  }\n\n  private updateRowSelectionGracefully() {\n    if (!this.selectedSpanId) return;\n    this.selectSpan(this.selectedSpanId, true);\n  }\n\n  private showFilterModal() {\n    this.spanFilteringFormModalContent = new SpanFilteringFormModalContent({\n      rawOptions: this.spanFilteringRawOptions,\n    });\n    const modal = new Modal({\n      content: this.spanFilteringFormModalContent.getElement(),\n      onClose: this.binded.onSpanFilteringModalClose,\n      shouldAutoFocusFirstElement: true,\n    });\n    ModalManager.getSingleton().show(modal);\n    this.spanFilteringFormModalContent.init(); // must be called after modal is rendered\n  }\n\n  private onFilterButtonClick() {\n    this.showFilterModal();\n  }\n\n  private async onSpanFilteringModalClose(\n    triggerType: ModalCloseTriggerType,\n    data: any\n  ) {\n    if (this.spanFilteringFormModalContent) {\n      this.spanFilteringFormModalContent.dispose();\n      this.spanFilteringFormModalContent = null;\n    }\n\n    if (\n      triggerType != ModalCloseTriggerType.CLOSE_METHOD_CALL ||\n      data.action != 'save'\n    ) {\n      return;\n    }\n\n    this.spanFilteringRawOptions = {\n      key: 'custom',\n      name: 'Custom',\n      rawCode: data.tsCode,\n      compiledCode: data.compiledJSCode,\n    };\n    this.spanFilteringFn = data.filterBy;\n\n    this.elements.toolbarBtn.filter.classList.add('selected');\n    this.elements.toolbarBtn.removeFilter.classList.remove('disabled');\n\n    await this.updateTableData();\n  }\n\n  private async onRemoveFilterButtonClick() {\n    await this.removeFilter();\n  }\n\n  async removeFilter() {\n    this.spanFilteringFn = null;\n\n    this.elements.toolbarBtn.filter.classList.remove('selected');\n    this.elements.toolbarBtn.removeFilter.classList.add('disabled');\n\n    await this.updateTableData();\n  }\n\n  selectSpan(spanId: string, silent = false) {\n    if (!spanId) {\n      this.selectedSpanId = null;\n      this.table.deselectRow();\n      !silent && this.emit(SpansTableViewEvent.SPAN_SELECTED, null);\n      return;\n    }\n\n    const row = this.table.getRow(spanId);\n    if (!row) {\n      this.selectedSpanId = null;\n      this.table.deselectRow();\n      !silent && this.emit(SpansTableViewEvent.SPAN_SELECTED, null);\n      return;\n    }\n\n    this.selectedSpanId = spanId;\n    this.table.deselectRow();\n    row.select();\n    !silent && this.emit(SpansTableViewEvent.SPAN_SELECTED, spanId);\n  }\n\n  focusSpan(spanId: string) {\n    const row = this.table.getRow(spanId);\n    if (!row) return;\n    this.table.scrollToRow(spanId);\n  }\n\n  redrawTable() {\n    // Tabulator's layout mode `fitDataFill` is a little buggy\n    // When the widget is not shown, a new trace is added\n    // Row widths are broken. So as a workaround, we will check\n    // the first cell's width of some random rows are equal or not\n    // If they'are not equal, force re-render the table.\n    let forceRerender = false;\n\n    const columnCount = this.table.getColumnDefinitions().length;\n    for (let columnNo = 1; columnNo <= columnCount; columnNo++) {\n      const cells = this.elements.tableContainer.querySelectorAll(\n        `.tabulator-table > .tabulator-row .tabulator-cell:nth-child(${columnNo})`\n      );\n      const randomCells = sampleSize(cells, 5) as HTMLElement[];\n      if (randomCells.length > 2) {\n        const widthOfFirstCell = randomCells[0].offsetWidth;\n        const areEqual = randomCells.every(\n          (el) => el.offsetWidth === widthOfFirstCell\n        );\n        if (!areEqual) {\n          forceRerender = true;\n          break;\n        }\n      }\n    }\n\n    this.table.redraw(forceRerender);\n  }\n\n  private onRowClick(e: any, row: Tabulator.RowComponent) {\n    const spanRow = row.getData() as SpanRowData;\n    this.selectSpan(spanRow.span.id);\n  }\n\n  private onRowContext(e: MouseEvent, row: Tabulator.RowComponent) {\n    e.preventDefault();\n    const spanRow = row.getData() as SpanRowData;\n\n    this.contextMenuManager.show({\n      x: e.clientX,\n      y: e.clientY,\n      menuItems: [\n        {\n          selectItem: {\n            type: 'item',\n            text: 'Show in Timeline View',\n            id: 'showInTimelineView',\n          },\n          emitEvent: {\n            event: ContextMenuEvent.SHOW_SPAN_IN_TIMELINE_VIEW,\n            data: spanRow.span.id,\n          },\n        },\n        {\n          selectItem: {\n            type: 'item',\n            text: 'Copy Span To Clipboard',\n            id: 'copyToClipboard',\n            altText: 'C',\n          },\n          onSelected: () => this.copySpanToClipboard(spanRow.span.id),\n        },\n      ],\n    });\n  }\n\n  private copySpanToClipboard(spanId: string) {\n    if (!spanId) return;\n    const spanRow = find(this.spanRows, (row) => row.span.id == spanId);\n    if (!spanRow) return;\n    copyToClipboard(JSON.stringify(spanRow.spanOriginal, null, 4));\n  }\n\n  getSelectedSpanId() {\n    return this.selectedSpanId;\n  }\n\n  private onKeyDown(e: KeyboardEvent) {\n    // If user is typing on any kind of input element which is\n    // child of this component, we don't want to trigger shortcuts\n    if (\n      e.target instanceof HTMLInputElement ||\n      e.target instanceof HTMLTextAreaElement\n    ) {\n      return;\n    }\n\n    // CMD + F => Focus to search input elemen\n    if (e.key == 'f' && (e.ctrlKey || e.metaKey)) {\n      this.showFilterModal();\n      return;\n    }\n\n    // CMD + C => Copy the JSON of selected span (if exists)\n    if (e.key == 'c' && (e.ctrlKey || e.metaKey)) {\n      if (!this.selectedSpanId) return;\n      const span = this.stage.getMainSpanGroup().get(this.selectedSpanId);\n      if (!span) return;\n      copyToClipboard(JSON.stringify(span, null, 4));\n      return;\n    }\n  }\n\n  mount(parentEl: HTMLElement) {\n    parentEl.appendChild(this.elements.container);\n  }\n\n  unmount() {\n    const parent = this.elements.container.parentElement;\n    parent?.removeChild(this.elements.container);\n  }\n\n  resize(width: number, height: number) {\n    this.viewPropertiesCache = { width, height };\n    this.table.setHeight(height - TOOLBAR_HEIGHT);\n    this.redrawTable();\n  }\n\n  dispose() {\n    this.table?.destroy();\n    this.table = null;\n\n    this.elements.toolbarBtn.filter.removeEventListener(\n      'click',\n      this.binded.onFilterButtonClick,\n      false\n    );\n    this.elements.toolbarBtn.removeFilter.removeEventListener(\n      'click',\n      this.binded.onRemoveFilterButtonClick,\n      false\n    );\n    this.elements.container.removeEventListener(\n      'keydown',\n      this.binded.onKeyDown,\n      false\n    );\n\n    this.stage.removeListener(StageEvent.TRACE_ADDED, this.binded.onTraceAdded);\n    this.stage.removeListener(\n      StageEvent.TRACE_ADDED,\n      this.binded.onTraceRemoved\n    );\n\n    const tooltipManager = TooltipManager.getSingleton();\n    const btn = this.elements.toolbarBtn;\n    tooltipManager.removeFromSingleton([btn.columns]);\n\n    for (let tippy of Object.values(this.dropdowns)) {\n      tippy.destroy();\n    }\n    this.dropdowns = null;\n\n    this.removeAllListeners();\n  }\n}\n\nconst TAG_ID_PREFIX = `tag.`;\nconst PROCESS_TAG_ID_PREFIX = `process.tag.`;\n\nfunction getColumnIdByTag(tag: string) {\n  return `${TAG_ID_PREFIX}${tag}`;\n}\n\nfunction getColumnFieldSelectorByTag(tag: string) {\n  return `span.tags.${tag}`;\n}\n\nfunction getColumnIdByProcessTag(tag: string) {\n  return `${PROCESS_TAG_ID_PREFIX}${tag}`;\n}\n\nfunction getColumnFieldSelectorByProcessTag(tag: string) {\n  return `span.process.tags.${tag}`;\n}\n","import api from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../node_modules/css-loader/dist/cjs.js!./span-summary.css\";\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","import find from 'lodash/find';\nimport { Stage, StageEvent } from '../../model/stage';\nimport { TimelineView, TimelineViewEvent } from '../timeline/timeline-view';\nimport {\n  SpansTableView,\n  SpansTableViewEvent,\n} from '../spans-table/spans-table';\nimport { serviceNameOf } from '../../model/span-grouping/service-name';\nimport { formatMicroseconds } from '../../utils/format-microseconds';\nimport {\n  ContextMenuManager,\n  ContextMenuEvent,\n} from '../ui/context-menu/context-menu-manager';\n\nimport SvgAlert from '!!raw-loader!@mdi/svg/svg/alert.svg';\nimport SvgAlertCircle from '!!raw-loader!@mdi/svg/svg/alert-circle-outline.svg';\nimport SvgCursorDefaultClick from '!!raw-loader!@mdi/svg/svg/cursor-default-click-outline.svg';\nimport './span-summary.css';\n\nexport class SpanSummaryView {\n  private stage = Stage.getSingleton();\n  private timeline: TimelineView;\n  private spansTable: SpansTableView;\n  private contextMenuManager = ContextMenuManager.getSingleton();\n  private elements = {\n    container: document.createElement('div'),\n  };\n  private selectedSpanId: string;\n\n  private binded = {\n    onTimelineSpanSelected: this.onTimelineSpanSelected.bind(this),\n    onSpansTableSpanSelected: this.onSpansTableSpanSelected.bind(this),\n    onStageTraceRemoved: this.onStageTraceRemoved.bind(this),\n    onContextMenu: this.onContextMenu.bind(this),\n  };\n\n  constructor() {\n    const { container } = this.elements;\n    container.classList.add('span-summary');\n  }\n\n  init(options: { timeline: TimelineView; spansTable: SpansTableView }) {\n    this.timeline = options.timeline;\n    this.spansTable = options.spansTable;\n\n    // Bind events\n    this.timeline.on(\n      TimelineViewEvent.SPAN_SELECTED,\n      this.binded.onTimelineSpanSelected\n    );\n    this.spansTable.on(\n      SpansTableViewEvent.SPAN_SELECTED,\n      this.binded.onSpansTableSpanSelected\n    );\n    this.stage.on(StageEvent.TRACE_REMOVED, this.binded.onStageTraceRemoved);\n    this.elements.container.addEventListener(\n      'contextmenu',\n      this.binded.onContextMenu,\n      false\n    );\n\n    // Initial render\n    this.render(\n      this.timeline.getSelectedSpanId() || this.spansTable.getSelectedSpanId()\n    );\n  }\n\n  private onTimelineSpanSelected(spanId: string) {\n    this.render(spanId);\n  }\n\n  private onSpansTableSpanSelected(spanId: string) {\n    this.render(spanId);\n  }\n\n  private render(spanId: string) {\n    if (!spanId) {\n      this.selectedSpanId = null;\n      this.elements.container.innerHTML = `<div class=\"no-span-selected\">\n        ${SvgCursorDefaultClick}\n        <span>No Span Selected</span>\n      </div>`;\n      return;\n    }\n\n    if (spanId == this.selectedSpanId) return;\n    this.selectedSpanId = spanId;\n\n    const mainSpanGroup = this.stage.getMainSpanGroup();\n    const span = mainSpanGroup.get(spanId);\n\n    if (!span) {\n      this.elements.container.innerHTML = `<div class=\"no-span-selected\">\n        ${SvgAlertCircle}\n        <span>Span not found: \"${spanId}\"</span>\n      </div>`;\n      return;\n    }\n\n    // References\n    let referencesBody = ``;\n    if (span.references.length == 0) {\n      referencesBody = `<span class=\"no-references\">\n        This span has no references, it's a root span.\n      </span>`;\n    } else {\n      referencesBody = span.references\n        .map((ref) => {\n          const refSpan = mainSpanGroup.get(ref.spanId);\n          if (!refSpan) {\n            return `<div class=\"key-value-row\">\n            <div class=\"key\">${ref.type}:</div>\n            <div class=\"value bold alert\" title=\"Span not found in the stage\">${ref.spanId} ${SvgAlert}</div>\n          </div>`;\n          }\n          return `<div class=\"key-value-row\" data-ref-span-id=\"${ref.spanId}\">\n          <div class=\"key\">${ref.type}:</div>\n          <div class=\"value bold\">${refSpan.operationName}</div>\n        </div>`;\n        })\n        .join('');\n    }\n\n    this.elements.container.innerHTML = `<div class=\"span-summary-content\">\n      <div class=\"operation-name\">${span.operationName}</div>\n      <div class=\"key-value-row\">\n        <div class=\"key\">Service:</div>\n        <div class=\"value bold\">${serviceNameOf(span)}</div>\n      </div>\n      <div class=\"key-value-row\">\n        <div class=\"key\">Total Time:</div>\n        <div class=\"value bold\">${formatMicroseconds(\n          span.finishTime - span.startTime\n        )}</div>\n      </div>\n      <div class=\"key-value-row\">\n        <div class=\"key\">Self Time:</div>\n        <div class=\"value bold\">${formatMicroseconds(\n          this.stage.getSpanSelfTime(span.id)\n        )}</div>\n      </div>\n      <div class=\"key-value-row\" title=\"Relative to stage beginning\">\n        <div class=\"key\">Start Time:</div>\n        <div class=\"value\">${formatMicroseconds(\n          span.startTime - this.stage.startTimestamp\n        )}</div>\n      </div>\n      <div class=\"key-value-row\" title=\"Relative to stage beginning\">\n        <div class=\"key\">Finish Time:</div>\n        <div class=\"value\">${formatMicroseconds(\n          span.finishTime - this.stage.startTimestamp\n        )}</div>\n      </div>\n      <div class=\"key-value-row\">\n        <div class=\"key\">Span ID:</div>\n        <div class=\"value\">${span.id}</div>\n      </div>\n      <div class=\"key-value-row\">\n        <div class=\"key\">Trace ID:</div>\n        <div class=\"value\">${span.traceId}</div>\n      </div>\n\n      <div class=\"references-title\">References</div>\n      ${referencesBody}\n    </div>`;\n  }\n\n  private onStageTraceRemoved() {\n    if (!this.selectedSpanId) return;\n    const doesStillExist = !!this.stage\n      .getMainSpanGroup()\n      .get(this.selectedSpanId);\n    if (doesStillExist) return;\n    this.render(null);\n  }\n\n  private onContextMenu(e: MouseEvent) {\n    const el = (e.target as HTMLElement).closest('[data-ref-span-id]');\n    if (!el) return;\n    e.preventDefault();\n    const refSpanId = el.getAttribute('data-ref-span-id');\n\n    this.contextMenuManager.show({\n      x: e.clientX,\n      y: e.clientY,\n      menuItems: [\n        {\n          selectItem: {\n            type: 'item',\n            text: 'Show Span in Timeline View',\n            id: 'showInTimelineView',\n          },\n          emitEvent: {\n            event: ContextMenuEvent.SHOW_SPAN_IN_TIMELINE_VIEW,\n            data: refSpanId,\n          },\n        },\n        {\n          selectItem: {\n            type: 'item',\n            text: 'Show Span in Table View',\n            id: 'showInTableView',\n          },\n          emitEvent: {\n            event: ContextMenuEvent.SHOW_SPAN_IN_TABLE_VIEW,\n            data: refSpanId,\n          },\n        },\n      ],\n    });\n  }\n\n  mount(parentEl: HTMLElement) {\n    parentEl.appendChild(this.elements.container);\n  }\n\n  unmount() {\n    const parent = this.elements.container.parentElement;\n    parent?.removeChild(this.elements.container);\n  }\n\n  resize(width: number, height: number) {\n    // NOOP\n  }\n\n  dispose() {\n    this.timeline.removeListener(\n      TimelineViewEvent.SPAN_SELECTED,\n      this.binded.onTimelineSpanSelected\n    );\n    this.spansTable.removeListener(\n      SpansTableViewEvent.SPAN_SELECTED,\n      this.binded.onSpansTableSpanSelected\n    );\n    this.stage.removeListener(\n      StageEvent.TRACE_REMOVED,\n      this.binded.onStageTraceRemoved\n    );\n    this.elements.container.removeEventListener(\n      'contextmenu',\n      this.binded.onContextMenu,\n      false\n    );\n  }\n}\n","export function createElementFromHTML(htmlString: string) {\n  // Remove any html comments\n  // https://stackoverflow.com/a/5654032\n  const COMMENT_PSEUDO_COMMENT_OR_LT_BANG = new RegExp(\n    '<!--[\\\\s\\\\S]*?(?:-->)?' +\n    '<!---+>?' + // A comment with no body\n      '|<!(?![dD][oO][cC][tT][yY][pP][eE]|\\\\[CDATA\\\\[)[^>]*>?' +\n      '|<[?][^>]*>?', // A pseudo-comment\n    'g'\n  );\n\n  const div = document.createElement('div');\n  div.innerHTML = htmlString\n    .trim()\n    .replace(COMMENT_PSEUDO_COMMENT_OR_LT_BANG, '');\n\n  return div.firstChild;\n}\n","import api from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../node_modules/css-loader/dist/cjs.js!./span-tags.css\";\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","import Fuse from 'fuse.js';\nimport { Stage, StageEvent } from '../../model/stage';\nimport debounce from 'lodash/debounce';\nimport { TimelineView, TimelineViewEvent } from '../timeline/timeline-view';\nimport {\n  SpansTableView,\n  SpansTableViewEvent,\n} from '../spans-table/spans-table';\nimport * as ErrorDetection from '../../model/error-detection';\nimport { createElementFromHTML } from '../../utils/create-element';\n\nimport SvgMagnify from '!!raw-loader!@mdi/svg/svg/magnify.svg';\nimport SvgCursorDefaultClick from '!!raw-loader!@mdi/svg/svg/cursor-default-click-outline.svg';\nimport SvgEmoticonSad from '!!raw-loader!@mdi/svg/svg/emoticon-sad-outline.svg';\nimport '../ui/widget-toolbar/widget-toolbar.css';\nimport './span-tags.css';\n\ninterface SpanTagItem {\n  key: string;\n  value: string;\n}\n\nexport class SpanTagsView {\n  private stage = Stage.getSingleton();\n  private timeline: TimelineView;\n  private spansTable: SpansTableView;\n  private selectedSpanId: string;\n  private tagItems: SpanTagItem[] = [];\n  private fuse: Fuse<SpanTagItem, Fuse.FuseOptions<SpanTagItem>> = new Fuse(\n    [],\n    { keys: ['key', 'value'] }\n  );\n\n  private elements = {\n    container: document.createElement('div'),\n    toolbar: document.createElement('div'),\n    searchInput: document.createElement('input'),\n    contentContainer: document.createElement('div'),\n  };\n\n  private binded = {\n    onSearchInput: debounce(this.onSearchInput.bind(this), 100),\n    onTimelineSpanSelected: this.onTimelineSpanSelected.bind(this),\n    onSpansTableSpanSelected: this.onSpansTableSpanSelected.bind(this),\n    onStageTraceRemoved: this.onStageTraceRemoved.bind(this),\n  };\n\n  constructor() {\n    const { container, toolbar, contentContainer } = this.elements;\n    container.classList.add('span-tags');\n\n    this.prepareToolbar();\n    container.appendChild(toolbar);\n\n    contentContainer.classList.add('content-container');\n    container.appendChild(contentContainer);\n  }\n\n  private prepareToolbar() {\n    const toolbarEl = this.elements.toolbar;\n    const searchInput = this.elements.searchInput;\n\n    toolbarEl.classList.add('widget-toolbar');\n\n    // Search icon & input\n    const inputContainer = document.createElement('div');\n    inputContainer.classList.add('input-with-svg-icon-container');\n    toolbarEl.appendChild(inputContainer);\n    searchInput.type = 'search';\n    searchInput.placeholder = 'Search...';\n    searchInput.classList.add('small', 'borderless');\n    inputContainer.appendChild(searchInput);\n    inputContainer.appendChild(createElementFromHTML(SvgMagnify));\n  }\n\n  init(options: { timeline: TimelineView; spansTable: SpansTableView }) {\n    this.timeline = options.timeline;\n    this.spansTable = options.spansTable;\n\n    // Bind events\n    this.elements.searchInput.addEventListener(\n      'input',\n      this.binded.onSearchInput,\n      false\n    );\n    this.timeline.on(\n      TimelineViewEvent.SPAN_SELECTED,\n      this.binded.onTimelineSpanSelected\n    );\n    this.spansTable.on(\n      SpansTableViewEvent.SPAN_SELECTED,\n      this.binded.onSpansTableSpanSelected\n    );\n    this.stage.on(StageEvent.TRACE_REMOVED, this.binded.onStageTraceRemoved);\n\n    // Initial render\n    this.render();\n  }\n\n  private render() {\n    if (!this.selectedSpanId) {\n      this.elements.contentContainer.innerHTML = `<div class=\"content-message\">\n        ${SvgCursorDefaultClick}\n        <span>No Span Selected</span>\n      </div>`;\n      return;\n    }\n\n    // If searching\n    const searchQuery = this.elements.searchInput.value.trim();\n    if (searchQuery) {\n      const results = this.fuse.search(searchQuery);\n      if (results.length == 0) {\n        this.elements.contentContainer.innerHTML = `<div class=\"content-message\">\n          ${SvgEmoticonSad}\n          <span>No Result</span>\n        </div>`;\n        return;\n      }\n\n      this.renderTagItems(results as any);\n      return;\n    }\n\n    // Not searching, display all\n    if (this.tagItems.length == 0) {\n      this.elements.contentContainer.innerHTML = `<div class=\"content-message\">\n        ${SvgEmoticonSad}\n        <span>No Tags</span>\n      </div>`;\n      return;\n    }\n\n    this.renderTagItems(this.tagItems);\n  }\n\n  private renderTagItems(tagItems: SpanTagItem[]) {\n    this.elements.contentContainer.innerHTML = tagItems\n      .map(({ key, value }) => {\n        const errorClass = ErrorDetection.checkTag(key, value) ? 'error' : '';\n        return `<div class=\"key-value-row ${errorClass}\">\n        <div class=\"key\">${key}:</div>\n        <div class=\"value bold\">${value}</div>\n      </div>`;\n      })\n      .join('');\n  }\n\n  private onSearchInput(e: InputEvent) {\n    this.render();\n  }\n\n  private onTimelineSpanSelected(spanId: string) {\n    this.updateSpan(spanId);\n  }\n\n  private onSpansTableSpanSelected(spanId: string) {\n    this.updateSpan(spanId);\n  }\n\n  private updateSpan(spanId: string) {\n    if (this.selectedSpanId == spanId) return;\n\n    if (!spanId) {\n      this.selectedSpanId = null;\n      this.tagItems = [];\n      this.fuse = new Fuse([], { keys: ['key', 'value'] });\n      this.render();\n      return;\n    }\n\n    const mainSpanGroup = this.stage.getMainSpanGroup();\n    const span = mainSpanGroup.get(spanId); // TODO: If span does not exists?\n    this.selectedSpanId = spanId;\n    this.tagItems = Object.keys(span.tags)\n      .sort((a, b) => {\n        if (a < b) return -1;\n        if (a > b) return 1;\n        return 0;\n      })\n      .map((key) => ({ key, value: span.tags[key] }));\n    this.fuse = new Fuse(this.tagItems, { keys: ['key', 'value'] });\n    this.render();\n  }\n\n  private onStageTraceRemoved() {\n    if (!this.selectedSpanId) return;\n    const doesStillExist = !!this.stage\n      .getMainSpanGroup()\n      .get(this.selectedSpanId);\n    if (doesStillExist) return;\n    this.updateSpan(null);\n  }\n\n  mount(parentEl: HTMLElement) {\n    parentEl.appendChild(this.elements.container);\n  }\n\n  unmount() {\n    const parent = this.elements.container.parentElement;\n    parent?.removeChild(this.elements.container);\n  }\n\n  resize(width: number, height: number) {\n    // NOOP\n  }\n\n  dispose() {\n    this.elements.searchInput.removeEventListener(\n      'input',\n      this.binded.onSearchInput,\n      false\n    );\n    this.timeline.removeListener(\n      TimelineViewEvent.SPAN_SELECTED,\n      this.binded.onTimelineSpanSelected\n    );\n    this.spansTable.removeListener(\n      SpansTableViewEvent.SPAN_SELECTED,\n      this.binded.onSpansTableSpanSelected\n    );\n    this.stage.removeListener(\n      StageEvent.TRACE_REMOVED,\n      this.binded.onStageTraceRemoved\n    );\n  }\n}\n","import api from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../node_modules/css-loader/dist/cjs.js!./span-process-tags.css\";\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","import Fuse from 'fuse.js';\nimport { Stage, StageEvent } from '../../model/stage';\nimport debounce from 'lodash/debounce';\nimport { TimelineView, TimelineViewEvent } from '../timeline/timeline-view';\nimport {\n  SpansTableView,\n  SpansTableViewEvent,\n} from '../spans-table/spans-table';\nimport { createElementFromHTML } from '../../utils/create-element';\n\nimport SvgMagnify from '!!raw-loader!@mdi/svg/svg/magnify.svg';\nimport SvgCursorDefaultClick from '!!raw-loader!@mdi/svg/svg/cursor-default-click-outline.svg';\nimport SvgEmoticonSad from '!!raw-loader!@mdi/svg/svg/emoticon-sad-outline.svg';\nimport '../ui/widget-toolbar/widget-toolbar.css';\nimport './span-process-tags.css';\n\ninterface SpanProcessTagItem {\n  key: string;\n  value: string;\n}\n\nexport class SpanProcessTagsView {\n  private stage = Stage.getSingleton();\n  private timeline: TimelineView;\n  private spansTable: SpansTableView;\n  private selectedSpanId: string;\n  private processTagItems: SpanProcessTagItem[] = [];\n  private fuse: Fuse<\n    SpanProcessTagItem,\n    Fuse.FuseOptions<SpanProcessTagItem>\n  > = new Fuse([], { keys: ['key', 'value'] });\n\n  private elements = {\n    container: document.createElement('div'),\n    toolbar: document.createElement('div'),\n    searchInput: document.createElement('input'),\n    contentContainer: document.createElement('div'),\n  };\n\n  private binded = {\n    onSearchInput: debounce(this.onSearchInput.bind(this), 100),\n    onTimelineSpanSelected: this.onTimelineSpanSelected.bind(this),\n    onSpansTableSpanSelected: this.onSpansTableSpanSelected.bind(this),\n    onStageTraceRemoved: this.onStageTraceRemoved.bind(this),\n  };\n\n  constructor() {\n    const { container, toolbar, contentContainer } = this.elements;\n    container.classList.add('span-process-tags');\n\n    this.prepareToolbar();\n    container.appendChild(toolbar);\n\n    contentContainer.classList.add('content-container');\n    container.appendChild(contentContainer);\n  }\n\n  private prepareToolbar() {\n    const toolbarEl = this.elements.toolbar;\n    const searchInput = this.elements.searchInput;\n\n    toolbarEl.classList.add('widget-toolbar');\n\n    // Search icon & input\n    const inputContainer = document.createElement('div');\n    inputContainer.classList.add('input-with-svg-icon-container');\n    toolbarEl.appendChild(inputContainer);\n    searchInput.type = 'search';\n    searchInput.placeholder = 'Search...';\n    searchInput.classList.add('small', 'borderless');\n    inputContainer.appendChild(searchInput);\n    inputContainer.appendChild(createElementFromHTML(SvgMagnify));\n  }\n\n  init(options: { timeline: TimelineView; spansTable: SpansTableView }) {\n    this.timeline = options.timeline;\n    this.spansTable = options.spansTable;\n\n    // Bind events\n    this.elements.searchInput.addEventListener(\n      'input',\n      this.binded.onSearchInput,\n      false\n    );\n    this.timeline.on(\n      TimelineViewEvent.SPAN_SELECTED,\n      this.binded.onTimelineSpanSelected\n    );\n    this.spansTable.on(\n      SpansTableViewEvent.SPAN_SELECTED,\n      this.binded.onSpansTableSpanSelected\n    );\n    this.stage.on(StageEvent.TRACE_REMOVED, this.binded.onStageTraceRemoved);\n\n    // Initial render\n    this.render();\n  }\n\n  private render() {\n    if (!this.selectedSpanId) {\n      this.elements.contentContainer.innerHTML = `<div class=\"content-message\">\n        ${SvgCursorDefaultClick}\n        <span>No Span Selected</span>\n      </div>`;\n      return;\n    }\n\n    // If searching\n    const searchQuery = this.elements.searchInput.value.trim();\n    if (searchQuery) {\n      const results = this.fuse.search(searchQuery);\n      if (results.length == 0) {\n        this.elements.contentContainer.innerHTML = `<div class=\"content-message\">\n          ${SvgEmoticonSad}\n          <span>No Result</span>\n        </div>`;\n        return;\n      }\n\n      this.renderTagItems(results as any);\n      return;\n    }\n\n    // Not searching, display all\n    if (this.processTagItems.length == 0) {\n      this.elements.contentContainer.innerHTML = `<div class=\"content-message\">\n        ${SvgEmoticonSad}\n        <span>No Tags</span>\n      </div>`;\n      return;\n    }\n\n    this.renderTagItems(this.processTagItems);\n  }\n\n  private renderTagItems(tagItems: SpanProcessTagItem[]) {\n    this.elements.contentContainer.innerHTML = tagItems\n      .map(({ key, value }) => {\n        const errorClass = key.toLowerCase() == 'error' ? 'error' : '';\n        return `<div class=\"key-value-row ${errorClass}\">\n        <div class=\"key\">${key}:</div>\n        <div class=\"value bold\">${value}</div>\n      </div>`;\n      })\n      .join('');\n  }\n\n  private onSearchInput(e: InputEvent) {\n    this.render();\n  }\n\n  private onTimelineSpanSelected(spanId: string) {\n    this.updateSpan(spanId);\n  }\n\n  private onSpansTableSpanSelected(spanId: string) {\n    this.updateSpan(spanId);\n  }\n\n  private updateSpan(spanId: string) {\n    if (this.selectedSpanId == spanId) return;\n\n    if (!spanId) {\n      this.selectedSpanId = null;\n      this.processTagItems = [];\n      this.fuse = new Fuse([], { keys: ['key', 'value'] });\n      this.render();\n      return;\n    }\n\n    const mainSpanGroup = this.stage.getMainSpanGroup();\n    const span = mainSpanGroup.get(spanId); // TODO: If span does not exists?\n    this.selectedSpanId = spanId;\n    const processTags = span.process ? span.process.tags || {} : {};\n    this.processTagItems = Object.keys(processTags)\n      .sort((a, b) => {\n        if (a < b) return -1;\n        if (a > b) return 1;\n        return 0;\n      })\n      .map((key) => ({ key, value: processTags[key] }));\n    this.fuse = new Fuse(this.processTagItems, { keys: ['key', 'value'] });\n    this.render();\n  }\n\n  private onStageTraceRemoved() {\n    if (!this.selectedSpanId) return;\n    const doesStillExist = !!this.stage\n      .getMainSpanGroup()\n      .get(this.selectedSpanId);\n    if (doesStillExist) return;\n    this.updateSpan(null);\n  }\n\n  mount(parentEl: HTMLElement) {\n    parentEl.appendChild(this.elements.container);\n  }\n\n  unmount() {\n    const parent = this.elements.container.parentElement;\n    parent?.removeChild(this.elements.container);\n  }\n\n  resize(width: number, height: number) {\n    // NOOP\n  }\n\n  dispose() {\n    this.elements.searchInput.removeEventListener(\n      'input',\n      this.binded.onSearchInput,\n      false\n    );\n    this.timeline.removeListener(\n      TimelineViewEvent.SPAN_SELECTED,\n      this.binded.onTimelineSpanSelected\n    );\n    this.spansTable.removeListener(\n      SpansTableViewEvent.SPAN_SELECTED,\n      this.binded.onSpansTableSpanSelected\n    );\n    this.stage.removeListener(\n      StageEvent.TRACE_REMOVED,\n      this.binded.onStageTraceRemoved\n    );\n  }\n}\n","import api from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../node_modules/css-loader/dist/cjs.js!./span-log-item.css\";\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","import defaults from 'lodash/defaults';\nimport { SpanLog } from '../../model/interfaces';\nimport { formatMicroseconds } from '../../utils/format-microseconds';\nimport { Stage } from '../../model/stage';\nimport * as ErrorDetection from '../../model/error-detection';\n\nimport './span-log-item.css';\nimport AlertSvgText from '!!raw-loader!@mdi/svg/svg/alert.svg';\n\nexport interface SpanLogItemViewOptions {\n  log: SpanLog;\n  isExpanded: boolean;\n  title: string;\n}\n\nexport class SpanLogItemView {\n  private stage = Stage.getSingleton();\n  private elements = {\n    container: document.createElement('div'),\n    header: document.createElement('div'),\n    body: document.createElement('div'),\n  };\n  private options: SpanLogItemViewOptions;\n\n  // This is for fuse.js searching\n  fields: {\n    key: string;\n    value: string;\n  }[] = [];\n\n  private binded = {\n    onHeaderClick: this.onHeaderClick.bind(this),\n  };\n\n  constructor() {\n    const el = this.elements;\n    el.container.classList.add('span-log-item');\n\n    el.header.classList.add('span-log-item-header');\n    el.container.appendChild(el.header);\n\n    el.body.classList.add('span-log-item-body');\n    el.container.appendChild(el.body);\n  }\n\n  init(options: Partial<SpanLogItemViewOptions>) {\n    this.options = defaults(options, {\n      log: null,\n      isExpanded: false,\n      title: null,\n    });\n\n    if (!this.options.title) {\n      const timeStr = formatMicroseconds(\n        this.options.log.timestamp - this.stage.startTimestamp\n      );\n      this.options.title = `t = ${timeStr}`;\n    }\n\n    // Prepare the `fields` for fuse.js search\n    this.fields = Object.keys(this.options.log.fields)\n      .sort((a, b) => {\n        if (a < b) return -1;\n        if (a > b) return 1;\n        return 0;\n      })\n      .map((key) => {\n        const value = this.options.log.fields[key];\n        return { key, value };\n      });\n\n    // Bind events\n    this.elements.header.addEventListener(\n      'click',\n      this.binded.onHeaderClick,\n      false\n    );\n\n    // Initial render\n    this.render();\n  }\n\n  expand() {\n    this.options.isExpanded = true;\n    this.render();\n  }\n\n  collapse() {\n    this.options.isExpanded = false;\n    this.render();\n  }\n\n  private render() {\n    this.elements.container.setAttribute(\n      'data-log-timestamp',\n      `${this.options.log.timestamp}`\n    );\n\n    if (this.options.isExpanded) {\n      this.renderExpanded();\n    } else {\n      this.renderCollapsed();\n    }\n  }\n\n  private renderCollapsed() {\n    const el = this.elements;\n    let hasError = false;\n\n    const inlineLogFieldsHtml = Object.keys(this.options.log.fields)\n      .sort((a, b) => {\n        if (a < b) return -1;\n        if (a > b) return 1;\n        return 0;\n      })\n      .map((key) => {\n        const value = this.options.log.fields[key];\n        if (ErrorDetection.checkLogField(key, value)) hasError = true;\n        return `<span class=\"key\">${key}:</span>\n          <span class=\"value\">${value}</span>`;\n      })\n      .join(' ');\n\n    el.header.innerHTML = `<span class=\"arrow-right\"></span>\n      <span class=\"title\" title=\"Relative to stage beginning\">${\n        this.options.title\n      }</span>\n      ${hasError ? AlertSvgText : ''}\n      <span class=\"curly\">{</span>\n      <span class=\"inline-fields\">${inlineLogFieldsHtml}</span>\n      <span class=\"curly\">}</span>`;\n\n    el.body.innerHTML = '';\n  }\n\n  private renderExpanded() {\n    const el = this.elements;\n    let hasError = false;\n\n    const logFieldsHtml = Object.keys(this.options.log.fields)\n      .sort((a, b) => {\n        if (a < b) return -1;\n        if (a > b) return 1;\n        return 0;\n      })\n      .map((key) => {\n        const value = this.options.log.fields[key];\n        if (ErrorDetection.checkLogField(key, value)) hasError = true;\n        return `<div class=\"body-row\">\n          <span class=\"key\">${key}:</span>\n          <span class=\"value\">${value}</span>\n        </div>`;\n      })\n      .join('');\n\n    el.header.innerHTML = `<span class=\"arrow-down\"></span>\n      <span class=\"title\">${this.options.title}</span>\n      ${hasError ? AlertSvgText : ''}\n      <span class=\"curly\">{</span>`;\n\n    el.body.innerHTML = `${logFieldsHtml}\n      <span class=\"curly\">}</span>`;\n  }\n\n  private onHeaderClick() {\n    this.options.isExpanded = !this.options.isExpanded;\n    this.render();\n  }\n\n  getLog() {\n    return this.options.log;\n  }\n\n  isEqual(logObject: any) {\n    if (this.options.log.timestamp != logObject.timestamp) return false;\n\n    // Fucking tabulator mutates the original log object and adds `error` or any other column\n    // key to object which is undefined. that's why we cannot use lodash's isEqual check\n    for (const key in this.options.log.fields) {\n      const value = this.options.log.fields[key];\n      if (value != logObject.fields[key]) return false;\n    }\n\n    return true;\n  }\n\n  getElement() {\n    return this.elements.container;\n  }\n\n  highlight() {\n    this.elements.container.classList.add('highlighted');\n  }\n\n  unhighlight() {\n    this.elements.container.classList.remove('highlighted');\n  }\n\n  mount(parentEl: HTMLElement) {\n    parentEl.appendChild(this.elements.container);\n  }\n\n  unmount() {\n    const parent = this.elements.container.parentElement;\n    parent?.removeChild(this.elements.container);\n  }\n\n  dispose() {\n    this.elements.header.removeEventListener(\n      'click',\n      this.binded.onHeaderClick,\n      false\n    );\n  }\n}\n","import api from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../node_modules/css-loader/dist/cjs.js!./span-logs.css\";\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","import Fuse from 'fuse.js';\nimport { Stage, StageEvent } from '../../model/stage';\nimport debounce from 'lodash/debounce';\nimport { TimelineView, TimelineViewEvent } from '../timeline/timeline-view';\nimport {\n  SpansTableView,\n  SpansTableViewEvent,\n} from '../spans-table/spans-table';\nimport { SpanLogItemView } from './span-log-item';\nimport { TooltipManager } from '../ui/tooltip/tooltip-manager';\nimport { createElementFromHTML } from '../../utils/create-element';\n\nimport SvgMagnify from '!!raw-loader!@mdi/svg/svg/magnify.svg';\nimport SvgCursorDefaultClick from '!!raw-loader!@mdi/svg/svg/cursor-default-click-outline.svg';\nimport SvgEmoticonSad from '!!raw-loader!@mdi/svg/svg/emoticon-sad-outline.svg';\nimport SvgExpandAll from '!!raw-loader!@mdi/svg/svg/expand-all.svg';\nimport SvgCollapseAll from '!!raw-loader!@mdi/svg/svg/collapse-all.svg';\nimport '../ui/widget-toolbar/widget-toolbar.css';\nimport './span-logs.css';\n\nexport class SpanLogsView {\n  private stage = Stage.getSingleton();\n  private timeline: TimelineView;\n  private spansTable: SpansTableView;\n  private selectedSpanId: string;\n  private logItemViews: SpanLogItemView[] = [];\n  private fuse: Fuse<\n    SpanLogItemView,\n    Fuse.FuseOptions<SpanLogItemView>\n  > = new Fuse([], { keys: ['fields.key', 'fields.value'] });\n\n  private elements = {\n    container: document.createElement('div'),\n    toolbar: document.createElement('div'),\n    toolbarBtn: {\n      expandAll: document.createElement('div'),\n      collapseAll: document.createElement('div'),\n    },\n    searchInput: document.createElement('input'),\n    contentContainer: document.createElement('div'),\n  };\n\n  private binded = {\n    onSearchInput: debounce(this.onSearchInput.bind(this), 100),\n    onTimelineSpanSelected: this.onTimelineSpanSelected.bind(this),\n    onSpansTableSpanSelected: this.onSpansTableSpanSelected.bind(this),\n    onExpandAllClick: this.onExpandAllClick.bind(this),\n    onCollapseAllClick: this.onCollapseAllClick.bind(this),\n    onMouseMove: this.onMouseMove.bind(this),\n    onMouseLeave: this.onMouseLeave.bind(this),\n    onScroll: this.onScroll.bind(this),\n    onStageTraceRemoved: this.onStageTraceRemoved.bind(this),\n  };\n\n  constructor() {\n    const { container, toolbar, contentContainer } = this.elements;\n    container.classList.add('span-logs');\n\n    this.prepareToolbar();\n    container.appendChild(toolbar);\n\n    contentContainer.classList.add('content-container');\n    container.appendChild(contentContainer);\n  }\n\n  private prepareToolbar() {\n    const toolbarEl = this.elements.toolbar;\n    const btn = this.elements.toolbarBtn;\n    const searchInput = this.elements.searchInput;\n\n    toolbarEl.classList.add('widget-toolbar');\n\n    // Panes\n    const leftPane = document.createElement('div');\n    leftPane.classList.add('widget-toolbar-pane');\n    toolbarEl.appendChild(leftPane);\n\n    const rightPane = document.createElement('div');\n    rightPane.classList.add('widget-toolbar-pane', 'right');\n    toolbarEl.appendChild(rightPane);\n\n    // Search icon & input\n    // Search icon & input\n    const inputContainer = document.createElement('div');\n    inputContainer.classList.add('input-with-svg-icon-container');\n    leftPane.appendChild(inputContainer);\n    searchInput.type = 'search';\n    searchInput.placeholder = 'Search...';\n    searchInput.classList.add('small', 'borderless');\n    inputContainer.appendChild(searchInput);\n    inputContainer.appendChild(createElementFromHTML(SvgMagnify));\n\n    // Right buttons\n    btn.expandAll.classList.add('widget-toolbar-button');\n    btn.expandAll.innerHTML = SvgExpandAll;\n    rightPane.appendChild(btn.expandAll);\n\n    btn.collapseAll.classList.add('widget-toolbar-button');\n    btn.collapseAll.innerHTML = SvgCollapseAll;\n    rightPane.appendChild(btn.collapseAll);\n  }\n\n  init(options: { timeline: TimelineView; spansTable: SpansTableView }) {\n    this.timeline = options.timeline;\n    this.spansTable = options.spansTable;\n    this.initTooltips();\n\n    // Bind events\n    this.elements.searchInput.addEventListener(\n      'input',\n      this.binded.onSearchInput,\n      false\n    );\n    this.timeline.on(\n      TimelineViewEvent.SPAN_SELECTED,\n      this.binded.onTimelineSpanSelected\n    );\n    this.spansTable.on(\n      SpansTableViewEvent.SPAN_SELECTED,\n      this.binded.onSpansTableSpanSelected\n    );\n    this.elements.toolbarBtn.expandAll.addEventListener(\n      'click',\n      this.binded.onExpandAllClick,\n      false\n    );\n    this.elements.toolbarBtn.collapseAll.addEventListener(\n      'click',\n      this.binded.onCollapseAllClick,\n      false\n    );\n    this.elements.contentContainer.addEventListener(\n      'scroll',\n      this.binded.onScroll,\n      false\n    );\n    this.elements.contentContainer.addEventListener(\n      'mousemove',\n      this.binded.onMouseMove,\n      false\n    );\n    this.elements.contentContainer.addEventListener(\n      'mouseleave',\n      this.binded.onMouseLeave,\n      false\n    );\n    this.stage.on(StageEvent.TRACE_REMOVED, this.binded.onStageTraceRemoved);\n\n    // Initial render\n    this.render();\n  }\n\n  private initTooltips() {\n    const tooltipManager = TooltipManager.getSingleton();\n    const btn = this.elements.toolbarBtn;\n    tooltipManager.addToSingleton([\n      [\n        btn.expandAll,\n        {\n          content: 'Expand All',\n          multiple: true,\n        },\n      ],\n      [\n        btn.collapseAll,\n        {\n          content: 'Collapse All',\n          multiple: true,\n        },\n      ],\n    ]);\n  }\n\n  private render() {\n    if (!this.selectedSpanId) {\n      this.elements.contentContainer.innerHTML = `<div class=\"content-message\">\n        ${SvgCursorDefaultClick}\n        <span>No Span Selected</span>\n      </div>`;\n      return;\n    }\n\n    // If searching\n    const searchQuery = this.elements.searchInput.value.trim();\n    if (searchQuery) {\n      const results = this.fuse.search(searchQuery);\n      if (results.length == 0) {\n        this.elements.contentContainer.innerHTML = `<div class=\"content-message\">\n          ${SvgEmoticonSad}\n          <span>No Result</span>\n        </div>`;\n        return;\n      }\n\n      this.renderLogItems(results as any);\n      return;\n    }\n\n    // Not searching, display all\n    if (this.logItemViews.length == 0) {\n      this.elements.contentContainer.innerHTML = `<div class=\"content-message\">\n        ${SvgEmoticonSad}\n        <span>No Logs</span>\n      </div>`;\n      return;\n    }\n\n    this.renderLogItems(this.logItemViews);\n  }\n\n  private renderLogItems(logItemViews: SpanLogItemView[]) {\n    this.logItemViews.forEach((v) => v.unmount());\n    this.elements.contentContainer.innerHTML = ``;\n    logItemViews.forEach((v) => v.mount(this.elements.contentContainer));\n  }\n\n  private onSearchInput(e: InputEvent) {\n    this.render();\n  }\n\n  private onTimelineSpanSelected(spanId: string) {\n    this.updateSpan(spanId);\n    this.logItemViews.forEach((v) => v.unhighlight());\n  }\n\n  private onSpansTableSpanSelected(spanId: string) {\n    this.updateSpan(spanId);\n    this.logItemViews.forEach((v) => v.unhighlight());\n  }\n\n  private updateSpan(spanId: string) {\n    if (this.selectedSpanId == spanId) return;\n\n    if (!spanId) {\n      this.selectedSpanId = null;\n      this.logItemViews.forEach((v) => {\n        v.unmount();\n        v.dispose();\n      });\n      this.logItemViews = [];\n      this.fuse = new Fuse([], { keys: ['fields.key', 'fields.value'] });\n      this.render();\n      return;\n    }\n\n    const mainSpanGroup = this.stage.getMainSpanGroup();\n    const span = mainSpanGroup.get(spanId); // TODO: If span does not exists?\n    this.selectedSpanId = spanId;\n    this.logItemViews = span.logs.map((log) => {\n      const logItemView = new SpanLogItemView();\n      logItemView.init({ log });\n      return logItemView;\n    });\n    this.fuse = new Fuse(this.logItemViews, {\n      keys: ['fields.key', 'fields.value'],\n    });\n    this.render();\n  }\n\n  private onExpandAllClick() {\n    this.logItemViews.forEach((v) => v.expand());\n  }\n\n  private onCollapseAllClick() {\n    this.logItemViews.forEach((v) => v.collapse());\n  }\n\n  private onScroll(e: MouseEvent) {\n    this.timeline.hideLogVerticalLine();\n  }\n\n  private onMouseMove(e: MouseEvent) {\n    const logItemEl = (e.target as HTMLElement).closest('[data-log-timestamp]');\n    if (!logItemEl) return this.timeline.hideLogVerticalLine();\n    const timestampStr = logItemEl.getAttribute('data-log-timestamp');\n    const timestamp = Number(timestampStr);\n    if (isNaN(timestamp)) return this.timeline.hideLogVerticalLine();\n    this.timeline.showLogVerticalLine(timestamp);\n  }\n\n  private onMouseLeave(e: MouseEvent) {\n    this.timeline.hideLogVerticalLine();\n  }\n\n  private onStageTraceRemoved() {\n    if (!this.selectedSpanId) return;\n    const doesStillExist = !!this.stage\n      .getMainSpanGroup()\n      .get(this.selectedSpanId);\n    if (doesStillExist) return;\n    this.updateSpan(null);\n  }\n\n  mount(parentEl: HTMLElement) {\n    parentEl.appendChild(this.elements.container);\n  }\n\n  unmount() {\n    const parent = this.elements.container.parentElement;\n    parent?.removeChild(this.elements.container);\n  }\n\n  resize(width: number, height: number) {\n    // NOOP\n  }\n\n  dispose() {\n    this.elements.searchInput.removeEventListener(\n      'input',\n      this.binded.onSearchInput,\n      false\n    );\n    this.timeline.removeListener(\n      TimelineViewEvent.SPAN_SELECTED,\n      this.binded.onTimelineSpanSelected\n    );\n    this.spansTable.removeListener(\n      SpansTableViewEvent.SPAN_SELECTED,\n      this.binded.onSpansTableSpanSelected\n    );\n    this.elements.toolbarBtn.expandAll.removeEventListener(\n      'click',\n      this.binded.onExpandAllClick,\n      false\n    );\n    this.elements.toolbarBtn.collapseAll.removeEventListener(\n      'click',\n      this.binded.onCollapseAllClick,\n      false\n    );\n    this.elements.contentContainer.removeEventListener(\n      'mousemove',\n      this.binded.onMouseMove,\n      false\n    );\n    this.elements.contentContainer.removeEventListener(\n      'mouseleave',\n      this.binded.onMouseLeave,\n      false\n    );\n    this.elements.contentContainer.removeEventListener(\n      'scroll',\n      this.binded.onScroll,\n      false\n    );\n    this.stage.removeListener(\n      StageEvent.TRACE_REMOVED,\n      this.binded.onStageTraceRemoved\n    );\n  }\n}\n","import db from './db';\n\nexport enum SettingsKey {\n  /**\n   * Do not use again. If you're going to,\n   * create a new enum and do not forget to version it!\n   * @deprecated\n   */\n  DOCK_LAYOUT = 'dock_layout',\n}\n\nexport interface SettingsRecord {\n  key: SettingsKey;\n  value: any;\n}\n\nlet singletonIns: SettingsManager;\n\nexport class SettingsManager {\n  private values: { [key: string]: any } = {};\n\n  static getSingleton(): SettingsManager {\n    if (!singletonIns) singletonIns = new SettingsManager();\n    return singletonIns;\n  }\n\n  async init() {\n    await db.open();\n    const records = await db.settings.toArray();\n    records.forEach(({ key, value }) => {\n      this.values[key] = value;\n    });\n  }\n\n  get(key: SettingsKey) {\n    return this.values[key];\n  }\n\n  async set(key: SettingsKey, value: any) {\n    if (this.values.hasOwnProperty(key)) {\n      await db.settings.update(key, { key, value });\n    } else {\n      await db.settings.put({ key, value });\n    }\n    this.values[key] = value;\n  }\n}\n","import api from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../node_modules/css-loader/dist/cjs.js!./trace-search-results-table.css\";\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","import { Trace } from '../../model/trace';\nimport { Stage } from '../../model/stage';\nimport { formatMicroseconds } from '../../utils/format-microseconds';\nimport * as Tabulator from 'tabulator-tables';\nimport find from 'lodash/find';\nimport sampleSize from 'lodash/sampleSize';\nimport cloneDeep from 'lodash/cloneDeep';\nimport EventEmitter from 'events';\nimport format from 'date-fns/format';\n\nimport SvgCheckCircle from '!!raw-loader!@mdi/svg/svg/check-circle.svg';\nimport SvgAlert from '!!raw-loader!@mdi/svg/svg/alert.svg';\nimport 'tabulator-tables/dist/css/tabulator_simple.min.css';\nimport './trace-search-results-table.css';\n\nexport interface TraceSearchResultsTableRowData {\n  id: string;\n  startTime: number;\n  finishTime: number;\n  duration: number;\n  name: string;\n  spanCount: number;\n  errorCount: number;\n  services: { [key: string]: number };\n}\n\nexport interface TraceSearchResultsTableOptions {\n  width: number;\n  height: number;\n  showInStageColumn?: boolean;\n  indicateTracesOverlappingWithStage?: boolean;\n  footerElement?: HTMLElement;\n  placeholderElement?: HTMLElement;\n}\n\nexport enum TraceSearchResultsTableEvent {\n  SELECTIONS_UPDATED = 'selections_updated',\n  TRACE_DOUBLE_CLICKED = 'trace_double_clicked',\n}\n\nexport class TraceSearchResultsTable extends EventEmitter {\n  private stage = Stage.getSingleton();\n  private options: TraceSearchResultsTableOptions;\n  private table: Tabulator;\n  private traceRows: TraceSearchResultsTableRowData[] = [];\n\n  private elements = {\n    container: document.createElement('div'),\n    tableContainer: document.createElement('div'),\n    loadingContainer: document.createElement('div'),\n  };\n  private viewPropertiesCache = {\n    width: 0,\n    height: 0,\n  };\n\n  private binded = {\n    formatTimestamp: this.formatTimestamp.bind(this),\n    formatDuration: this.formatDuration.bind(this),\n    formatServices: this.formatServices.bind(this),\n    formatInStage: this.formatInStage.bind(this),\n    rowSelectionChanged: this.rowSelectionChanged.bind(this),\n    rowDblClick: this.rowDblClick.bind(this),\n    rowFormatter: this.rowFormatter.bind(this),\n    onKeyDown: this.onKeyDown.bind(this),\n  };\n\n  private columnDefinitions = {\n    inStage: {\n      title: '',\n      field: 'inStage',\n      formatter: this.binded.formatInStage,\n      headerSort: false,\n    } as Tabulator.ColumnDefinition,\n    id: {\n      title: 'Id',\n      field: 'id',\n    } as Tabulator.ColumnDefinition,\n    startTime: {\n      title: 'Date',\n      field: 'startTime',\n      formatter: this.binded.formatTimestamp,\n    } as Tabulator.ColumnDefinition,\n    duration: {\n      title: 'Duration',\n      field: 'duration',\n      formatter: this.binded.formatDuration,\n    } as Tabulator.ColumnDefinition,\n    name: {\n      title: 'Root Span',\n      field: 'name',\n    } as Tabulator.ColumnDefinition,\n    spanCount: {\n      title: 'Span(s)',\n      field: 'spanCount',\n    } as Tabulator.ColumnDefinition,\n    errorCount: {\n      title: 'Error(s)',\n      field: 'errorCount',\n    } as Tabulator.ColumnDefinition,\n    services: {\n      title: 'Services & Span(s)',\n      field: 'services',\n      formatter: this.binded.formatServices,\n      headerSort: false,\n    } as Tabulator.ColumnDefinition,\n  };\n\n  constructor() {\n    super();\n\n    const { container, tableContainer, loadingContainer } = this.elements;\n    container.classList.add('search-modal-traces-table-view');\n    container.appendChild(tableContainer);\n\n    loadingContainer.classList.add('loading-container');\n    // Borrowed from https://tobiasahlin.com/spinkit/\n    loadingContainer.innerHTML = `<div class=\"sk-circle\">\n      <div class=\"sk-circle1 sk-child\"></div>\n      <div class=\"sk-circle2 sk-child\"></div>\n      <div class=\"sk-circle3 sk-child\"></div>\n      <div class=\"sk-circle4 sk-child\"></div>\n      <div class=\"sk-circle5 sk-child\"></div>\n      <div class=\"sk-circle6 sk-child\"></div>\n      <div class=\"sk-circle7 sk-child\"></div>\n      <div class=\"sk-circle8 sk-child\"></div>\n      <div class=\"sk-circle9 sk-child\"></div>\n      <div class=\"sk-circle10 sk-child\"></div>\n      <div class=\"sk-circle11 sk-child\"></div>\n      <div class=\"sk-circle12 sk-child\"></div>\n    </div>`;\n    this.toggleLoading(false);\n    container.appendChild(loadingContainer);\n  }\n\n  init(options: TraceSearchResultsTableOptions) {\n    this.options = options;\n    this.viewPropertiesCache = {\n      width: options.width,\n      height: options.height,\n    };\n\n    // Bind events\n    this.elements.container.addEventListener(\n      'keydown',\n      this.binded.onKeyDown,\n      false\n    );\n\n    const columns: Tabulator.ColumnDefinition[] = [];\n    if (this.options.showInStageColumn) {\n      columns.push(this.columnDefinitions.inStage);\n    }\n    columns.push(\n      ...[\n        this.columnDefinitions.startTime,\n        // this.columnDefinitions.id,\n        this.columnDefinitions.name,\n        this.columnDefinitions.duration,\n        this.columnDefinitions.spanCount,\n        this.columnDefinitions.errorCount,\n        this.columnDefinitions.services,\n      ]\n    );\n\n    // Init table\n    this.table = new Tabulator(this.elements.tableContainer, {\n      autoResize: false, // This causes to lose focus when widget is hidden\n      height: this.viewPropertiesCache.height || -1, // If tabulator initalizes with 0 height,\n      // it renders in classical mode (whatever the fuck that means) -- which prevents us\n      // from resizing it manually. So the fix is initalizing with -1 height\n      data: this.traceRows,\n      layout: 'fitDataFill',\n      movableColumns: true,\n      selectable: true,\n      columns,\n      initialSort: [\n        { column: this.columnDefinitions.startTime.field, dir: 'desc' },\n      ],\n      rowFormatter: this.binded.rowFormatter,\n      rowSelectionChanged: this.binded.rowSelectionChanged,\n      rowDblClick: this.binded.rowDblClick,\n      selectableRangeMode: 'click',\n      keybindings: false,\n      footerElement: this.options.footerElement,\n      placeholder: this.options.placeholderElement,\n    });\n  }\n\n  async updateTraces(traces: Trace[]) {\n    this.traceRows = traces.map((t) => this.trace2RowData(t));\n    await this.table.replaceData(this.traceRows);\n  }\n\n  async reloadData() {\n    await this.table.replaceData(this.traceRows);\n  }\n\n  private rowSelectionChanged(data: any, rows: any) {\n    this.emit(TraceSearchResultsTableEvent.SELECTIONS_UPDATED, data);\n  }\n\n  private rowDblClick(e: MouseEvent, row: any) {\n    const data: TraceSearchResultsTableRowData = row.getData();\n    this.emit(TraceSearchResultsTableEvent.TRACE_DOUBLE_CLICKED, data);\n  }\n\n  private trace2RowData(trace: Trace) {\n    return {\n      id: trace.id,\n      startTime: trace.startTime,\n      finishTime: trace.finishTime,\n      duration: trace.duration,\n      name: trace.name,\n      spanCount: trace.spanCount,\n      errorCount: trace.errorCount,\n      services: cloneDeep(trace.spanCountsByService),\n    };\n  }\n\n  private formatTimestamp(cell: any) {\n    return format(cell.getValue() / 1000, 'MMM dd, HH:mm:ss.SSS');\n  }\n\n  private formatDuration(cell: any) {\n    return formatMicroseconds(cell.getValue());\n  }\n\n  private formatServices(cell: any) {\n    const TraceRowData = cell.getRow().getData();\n    let html = '';\n\n    Object.keys(TraceRowData.services)\n      .sort((a, b) => {\n        if (a > b) return 1;\n        if (a < b) return -1;\n        return 0;\n      })\n      .forEach((serviceName) => {\n        const value = TraceRowData.services[serviceName];\n        if (!value) return;\n\n        html += `<span class=\"traces-table-tag\">${serviceName}:</span>\n        <span class=\"traces-table-value\">${value}</span>`;\n      });\n\n    return html;\n  }\n\n  private formatInStage(cell: any) {\n    const traceRowData = cell.getRow().getData();\n    let html = '';\n\n    const traceInStage = find(\n      this.stage.getAllTraces(),\n      (t) => t.id == traceRowData.id\n    );\n\n    if (!traceInStage) {\n      return html;\n    }\n\n    if (traceInStage.spanCount == traceRowData.spanCount) {\n      html = `<div class=\"in-stage-cell check\" title=\"Trace is already in the stage\">${SvgCheckCircle}</div>`;\n    } else {\n      html = `<div class=\"in-stage-cell alert\" title=\"Trace has been updated since it was added to stage\">${SvgAlert}</div>`;\n    }\n\n    return html;\n  }\n\n  private rowFormatter(row: any) {\n    const trace = row.getData();\n    const rowEl = row.getElement();\n\n    if (this.options.indicateTracesOverlappingWithStage) {\n      if (this.stage.getAllTraces().length > 0) {\n        const stageInterval = {\n          start: this.stage.startTimestamp,\n          end: this.stage.finishTimestamp,\n        };\n        const traceInterval = { start: trace.startTime, end: trace.finishTime };\n\n        if (areIntervalsOverlapping(traceInterval, stageInterval)) {\n          rowEl.style.fontWeight = '700';\n        } else {\n          rowEl.style.fontWeight = '';\n        }\n      } else {\n        rowEl.style.fontWeight = '';\n      }\n    }\n  }\n\n  private onKeyDown(e: KeyboardEvent) {\n    // If user is typing on any kind of input element which is\n    // child of this component, we don't want to trigger shortcuts\n    if (\n      e.target instanceof HTMLInputElement ||\n      e.target instanceof HTMLTextAreaElement\n    ) {\n      return;\n    }\n\n    // CMD + A => Select all\n    if (e.key == 'a' && (e.ctrlKey || e.metaKey)) {\n      this.table.selectRow();\n      return;\n    }\n\n    // ESC key => deselect all\n    if (e.which == 27) {\n      const selectedRows = this.table.getSelectedRows();\n      if (selectedRows.length == 0) return;\n      this.selectTrace(null);\n      e.stopPropagation(); // for modal closing\n      return;\n    }\n  }\n\n  toggleLoading(shouldShow: boolean) {\n    if (shouldShow) {\n      this.elements.loadingContainer.style.display = '';\n      return;\n    }\n\n    this.elements.loadingContainer.style.display = 'none';\n  }\n\n  redrawTable(force = false) {\n    if (!this.table) return;\n\n    // Tabulator's layout mode `fitDataFill` is a little buggy\n    // When the widget is not shown, a new trace is added\n    // Row widths are broken. So as a workaround, we will check\n    // the first cell's width of some random rows are equal or not\n    // If they'are not equal, force re-render the table.\n    let forceRerender = force;\n    const firstCells = this.elements.tableContainer.querySelectorAll(\n      '.tabulator-table > .tabulator-row .tabulator-cell:first-child'\n    );\n    const randomCells = sampleSize(firstCells, 10) as HTMLElement[];\n    if (randomCells.length > 2) {\n      const widthOfFirstCell = randomCells[0].offsetWidth;\n      const areEqual = randomCells.every(\n        (el) => el.offsetWidth === widthOfFirstCell\n      );\n      if (!areEqual) forceRerender = true;\n    }\n\n    this.table.redraw(forceRerender);\n  }\n\n  selectTrace(traceId: string) {\n    if (!traceId) {\n      this.table.deselectRow();\n      return;\n    }\n\n    const row = this.table.getRow(traceId);\n    if (!row) {\n      this.table.deselectRow();\n      return;\n    }\n\n    this.table.deselectRow();\n    row.select();\n  }\n\n  focusTrace(traceId: string) {\n    const row = this.table.getRow(traceId);\n    if (!row) return;\n    this.table.scrollToRow(traceId);\n  }\n\n  mount(parentEl: HTMLElement) {\n    parentEl.appendChild(this.elements.container);\n  }\n\n  unmount() {\n    const parent = this.elements.container.parentElement;\n    parent?.removeChild(this.elements.container);\n  }\n\n  resize(width: number, height: number) {\n    this.viewPropertiesCache = { width, height };\n    this.table.setHeight(height);\n    this.redrawTable();\n  }\n\n  dispose() {\n    this.table?.destroy();\n    this.table = null;\n\n    this.elements.container.removeEventListener(\n      'keydown',\n      this.binded.onKeyDown,\n      false\n    );\n  }\n}\n\nfunction areIntervalsOverlapping(\n  a: { start: number; end: number },\n  b: { start: number; end: number }\n) {\n  return a.start <= b.end && b.start <= a.end;\n}\n","// Derived from p5.js's map function\n// https://github.com/processing/p5.js/blob/1.0.0/src/math/calculation.js#L459\n\nexport default function (\n  n: number,\n  start1: number,\n  stop1: number,\n  start2: number,\n  stop2: number\n) {\n  const newval = ((n - start1) / (stop1 - start1)) * (stop2 - start2) + start2;\n  if (start2 < stop2) {\n    return constrain(newval, start2, stop2);\n  } else {\n    return constrain(newval, stop2, start2);\n  }\n}\n\nfunction constrain(n: number, low: number, high: number) {\n  return Math.max(Math.min(n, high), low);\n}\n","import api from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../node_modules/css-loader/dist/cjs.js!./trace-tooltip.css\";\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","import { formatMicroseconds } from '../../utils/format-microseconds';\nimport { Trace } from '../../model/trace';\n\nimport './trace-tooltip.css';\nimport CounterSvgText from '!!raw-loader!@mdi/svg/svg/rectangle.svg';\nimport AlertSvgText from '!!raw-loader!@mdi/svg/svg/alert.svg';\n\nexport class TraceTooltipContent {\n  private elements = {\n    container: document.createElement('div'),\n    time: document.createElement('span'),\n    name: document.createElement('span'),\n    right: document.createElement('div'),\n  };\n  private trace: Trace;\n\n  constructor() {\n    const els = this.elements;\n\n    els.container.classList.add('trace-tooltip');\n\n    const left = document.createElement('div');\n    left.classList.add('left');\n    els.container.appendChild(left);\n    els.right.classList.add('right');\n    els.container.appendChild(els.right);\n\n    els.time.classList.add('trace-tooltip-time');\n    left.appendChild(els.time);\n    els.name.classList.add('trace-tooltip-name');\n    left.appendChild(els.name);\n  }\n\n  get element() {\n    return this.elements.container;\n  }\n\n  updateTrace(trace: Trace) {\n    this.trace = trace;\n    const els = this.elements;\n\n    const timeText = formatMicroseconds(trace.duration);\n    els.time.textContent = timeText;\n\n    els.name.textContent = trace.name;\n\n    if (trace.errorCount > 0) {\n      els.right.innerHTML =\n        `<span class=\"trace-tooltip-span-count\">${trace.spanCount} span(s)</span>` +\n        `<span class=\"trace-tooltip-error-count\">${trace.errorCount}</span>` +\n        `<span class=\"trace-tooltip-error-icon\">${AlertSvgText}</span>`;\n    } else {\n      els.right.innerHTML = `<span class=\"trace-tooltip-span-count\">${trace.spanCount} span(s)</span>`;\n    }\n  }\n}\n","import { Trace } from '../../model/trace';\nimport defaults from 'lodash/defaults';\nimport find from 'lodash/find';\nimport map from '../../utils/map';\nimport { MPN65ColorAssigner } from '../ui/color-assigner-mpn65';\nimport ticks from '../../utils/ticks';\nimport { formatMicroseconds } from '../../utils/format-microseconds';\nimport isSameDay from 'date-fns/isSameDay';\nimport format from 'date-fns/format';\nimport EventEmitter from 'events';\nimport { TraceTooltipContent } from '../trace-tooltip/trace-tooltip-content';\nimport tippy, { Instance as TippyInstance } from 'tippy.js';\nimport { Stage, StageEvent } from '../../model/stage';\n\nconst SVG_NS = 'http://www.w3.org/2000/svg';\n\nexport interface TracesScatterPlotStyle {\n  xAxisTickInterval: number; // in px\n  yAxisTickInterval: number; // in px\n  axisTickLength: number;\n  axisTickWidth: number;\n  axisTickLabelColor: string;\n  axisTickLabelSize: number;\n  axisTickLabelOffset: number;\n  axisMarginTop: number;\n  axisMarginBottom: number;\n  axisMarginLeft: number;\n  axisMarginRight: number;\n  axisLineColor: string;\n  axisLineWidth: number;\n  pointFillOpacity: number;\n  pointFillOpacityHover: number;\n  pointRadius: number;\n  pointsMarginLeft: number;\n  pointsMarginTop: number;\n  pointsMarginRight: number;\n  pointsMarginBottom: number;\n}\n\nexport interface TracesScatterPlotComputedStyles\n  extends TracesScatterPlotStyle {\n  width: number;\n  height: number;\n}\n\nexport enum TracesScatterPlotEvent {\n  POINT_HOVERED = 'tsp_point_hovered',\n  POINT_UNHOVERED = 'tsp_point_unhovered',\n  POINT_CLICKED = 'tsp_point_clicked',\n}\n\nexport class TracesScatterPlot extends EventEmitter {\n  private stage = Stage.getSingleton();\n  private elements = {\n    svg: document.createElementNS(SVG_NS, 'svg'),\n    defs: document.createElementNS(SVG_NS, 'defs'),\n    chartContainer: document.createElementNS(SVG_NS, 'g'),\n    xAxisLine: document.createElementNS(SVG_NS, 'line'),\n    yAxisLine: document.createElementNS(SVG_NS, 'line'),\n    stageRect: document.createElementNS(SVG_NS, 'rect'),\n  };\n  private readonly computedStyles: TracesScatterPlotComputedStyles;\n  private colorAssigner = new MPN65ColorAssigner();\n\n  private traceTooltipTippy: TippyInstance;\n  private traceTooltipContent = new TraceTooltipContent();\n  private traceTooltipStuffCache = {\n    svgBBTop: 0,\n    svgBBLeft: 0,\n  };\n\n  private stageInterval: {\n    startTime: number;\n    finishTime: number;\n  };\n  private sceneStats: {\n    minDuration: number;\n    maxDuration: number;\n    minStartTime: number;\n    maxStartTime: number;\n  };\n  private points: {\n    trace: Trace; // You can rename this as `data`, you can take its type from generic\n    circle: SVGCircleElement;\n  }[] = [];\n  private xAxisTicks: {\n    ts: number;\n    tickLine: SVGLineElement;\n    labelText: SVGTextElement;\n  }[] = [];\n  private yAxisTicks: {\n    duration: number;\n    tickLine: SVGLineElement;\n    labelText: SVGTextElement;\n  }[] = [];\n\n  private hoveredPoint: {\n    trace: Trace;\n    circle: SVGCircleElement;\n  };\n\n  private binded = {\n    onMouseMove: this.onMouseMove.bind(this),\n    onMouseLeave: this.onMouseLeave.bind(this),\n    onClick: this.onClick.bind(this),\n    onStageUpdated: this.onStageUpdated.bind(this),\n  };\n\n  constructor(\n    private options?: {\n      showStageBoundaries: boolean;\n      style?: TracesScatterPlotStyle;\n    }\n  ) {\n    super();\n\n    const style = defaults(options?.style, {\n      xAxisTickInterval: 250,\n      yAxisTickInterval: 80,\n      axisTickLength: 5,\n      axisTickWidth: 1,\n      axisTickLabelColor: '#333',\n      axisTickLabelSize: 10,\n      axisTickLabelOffset: 3,\n      axisMarginTop: 20,\n      axisMarginBottom: 30,\n      axisMarginLeft: 50,\n      axisMarginRight: 20,\n      axisLineColor: '#999',\n      axisLineWidth: 1,\n      pointFillOpacity: 0.3,\n      pointFillOpacityHover: 1.0,\n      pointRadius: 6,\n      pointsMarginLeft: 20,\n      pointsMarginTop: 10,\n      pointsMarginRight: 20,\n      pointsMarginBottom: 10,\n    } as TracesScatterPlotStyle);\n    this.computedStyles = {\n      ...style,\n      width: 0,\n      height: 0,\n    };\n\n    const {\n      svg,\n      defs,\n      chartContainer,\n      xAxisLine,\n      yAxisLine,\n      stageRect,\n    } = this.elements;\n    svg.setAttributeNS(\n      'http://www.w3.org/2000/xmlns/',\n      'xmlns:xlink',\n      'http://www.w3.org/1999/xlink'\n    );\n    svg.classList.add('scatter-plot-svg');\n    svg.appendChild(defs);\n\n    chartContainer.setAttribute('x', `0`);\n    chartContainer.setAttribute('y', `0`);\n    svg.appendChild(chartContainer);\n\n    xAxisLine.setAttribute('stroke', style.axisLineColor);\n    xAxisLine.setAttribute('stroke-width', `${style.axisLineWidth}`);\n    xAxisLine.setAttribute('shape-rendering', `crispEdges`); // https://stackoverflow.com/a/34229584\n    chartContainer.appendChild(xAxisLine);\n\n    yAxisLine.setAttribute('stroke', style.axisLineColor);\n    yAxisLine.setAttribute('stroke-width', `${style.axisLineWidth}`);\n    yAxisLine.setAttribute('shape-rendering', `crispEdges`); // https://stackoverflow.com/a/34229584\n    chartContainer.appendChild(yAxisLine);\n\n    stageRect.setAttribute('fill', 'rgba(171, 196, 226, 0.25)');\n    stageRect.setAttribute('display', 'none');\n    chartContainer.appendChild(stageRect);\n\n    // Bind events\n    this.elements.svg.addEventListener(\n      'mousemove',\n      this.binded.onMouseMove,\n      false\n    );\n    this.elements.svg.addEventListener(\n      'mouseleave',\n      this.binded.onMouseLeave,\n      false\n    );\n    this.elements.svg.addEventListener('click', this.binded.onClick, false);\n    if (this.options?.showStageBoundaries) {\n      this.stage.on(StageEvent.TRACE_ADDED, this.binded.onStageUpdated);\n      this.stage.on(StageEvent.TRACE_REMOVED, this.binded.onStageUpdated);\n      this.onStageUpdated();\n    }\n\n    // Tooltip\n    this.traceTooltipTippy = tippy(document.body, {\n      lazy: false,\n      duration: 0,\n      updateDuration: 0,\n      trigger: 'custom',\n      arrow: true,\n      content: this.traceTooltipContent.element,\n      multiple: true,\n      placement: 'top',\n      theme: 'trace-tooltip',\n      onCreate(instance) {\n        instance.popperInstance.reference = {\n          clientWidth: 0,\n          clientHeight: 0,\n          getBoundingClientRect() {\n            return {\n              width: 0,\n              height: 0,\n              top: 0,\n              bottom: 0,\n              left: 0,\n              right: 0,\n            };\n          },\n        };\n      },\n    });\n    // this.traceTooltipTippy.hide = () => {};\n  }\n\n  mount(parentElement: HTMLDivElement) {\n    parentElement.appendChild(this.elements.svg);\n  }\n\n  unmount() {\n    const { svg } = this.elements;\n    svg.parentElement?.removeChild(svg);\n  }\n\n  init(options: { width: number; height: number }) {\n    this.resize(options.width, options.height);\n  }\n\n  setTraces(traces: Trace[]) {\n    let minDuration = Infinity;\n    let maxDuration = -Infinity;\n    let minStartTime = Infinity;\n    let maxStartTime = -Infinity;\n\n    traces.forEach((trace) => {\n      minDuration = Math.min(minDuration, trace.duration);\n      maxDuration = Math.max(maxDuration, trace.duration);\n      minStartTime = Math.min(minStartTime, trace.startTime);\n      maxStartTime = Math.max(maxStartTime, trace.startTime);\n    });\n\n    if (traces.length == 1) {\n      minDuration = minDuration - minDuration / 2;\n      maxDuration = maxDuration + maxDuration / 2;\n      minStartTime = minStartTime - 60000000; // 1 minute\n      maxStartTime = maxStartTime + 60000000; // 1 minute\n    }\n\n    this.sceneStats = {\n      minDuration,\n      maxDuration,\n      minStartTime,\n      maxStartTime,\n    };\n\n    // Unmount all the previous circles\n    this.points.forEach((p) => p.circle.parentElement?.removeChild(p.circle));\n\n    const s = this.computedStyles;\n\n    // New circles\n    this.points = traces.map((trace) => {\n      const circle = document.createElementNS(SVG_NS, 'circle');\n      const x = this.getX(trace.startTime);\n      const y = this.getY(trace.duration);\n\n      circle.setAttribute('cx', `${x}`);\n      circle.setAttribute('cy', `${y}`);\n      circle.setAttribute('r', `${s.pointRadius}`);\n      circle.setAttribute('fill', `${this.colorAssigner.colorFor(trace.name)}`);\n      circle.setAttribute('opacity', `${s.pointFillOpacity}`);\n      circle.setAttribute('cursor', `pointer`);\n      circle.setAttribute('data-trace-id', `${trace.id}`);\n\n      this.elements.chartContainer.appendChild(circle);\n\n      return {\n        trace,\n        circle,\n      };\n    });\n\n    // Unmount all the previous tick lines of y-axis\n    this.yAxisTicks.forEach((t) => {\n      t.tickLine.parentElement?.removeChild(t.tickLine);\n      t.labelText.parentElement?.removeChild(t.labelText);\n    });\n    // And the new ones\n    this.yAxisTicks = ticks(\n      minDuration,\n      maxDuration,\n      Math.ceil(s.height / s.yAxisTickInterval)\n    ).map((duration) => {\n      const tickLine = document.createElementNS(SVG_NS, 'line');\n      const labelText = document.createElementNS(SVG_NS, 'text');\n\n      const y = this.getY(duration);\n\n      tickLine.setAttribute('x1', `${s.axisMarginLeft - s.axisTickLength / 2}`);\n      tickLine.setAttribute('x2', `${s.axisMarginLeft + s.axisTickLength / 2}`);\n      tickLine.setAttribute('y1', `${y}`);\n      tickLine.setAttribute('y2', `${y}`);\n      tickLine.setAttribute('stroke', s.axisLineColor);\n      tickLine.setAttribute('stroke-width', `${s.axisTickWidth}`);\n      tickLine.setAttribute('shape-rendering', `crispEdges`);\n      this.elements.chartContainer.appendChild(tickLine);\n\n      labelText.setAttribute('text-anchor', 'end');\n      labelText.setAttribute('alignment-baseline', 'central');\n      labelText.setAttribute('text-rendering', 'optimizeLegibility');\n      labelText.setAttribute(\n        'x',\n        `${s.axisMarginLeft - s.axisTickLength / 2 - s.axisTickLabelOffset}`\n      );\n      labelText.setAttribute('y', `${y}`);\n      labelText.setAttribute('fill', s.axisTickLabelColor);\n      labelText.setAttribute('stroke', 'none');\n      labelText.setAttribute('font-size', `${s.axisTickLabelSize}`);\n      labelText.textContent = formatMicroseconds(duration);\n      this.elements.chartContainer.appendChild(labelText);\n\n      return {\n        duration,\n        tickLine,\n        labelText,\n      };\n    });\n\n    // Unmount all the previous tick lines of x-axis\n    this.xAxisTicks.forEach((t) => {\n      t.tickLine.parentElement?.removeChild(t.tickLine);\n      t.labelText.parentElement?.removeChild(t.labelText);\n    });\n    // And the new ones\n    const xAxisTickTimestamps = ticks(\n      minStartTime,\n      maxStartTime,\n      Math.ceil(s.width / s.xAxisTickInterval)\n    );\n    let areTicksSameDay = true;\n    if (xAxisTickTimestamps.length > 1) {\n      const firstDate = new Date(xAxisTickTimestamps[0] / 1000);\n      for (let i = 1; i < xAxisTickTimestamps.length; i++) {\n        const date = new Date(xAxisTickTimestamps[i] / 1000);\n        if (!isSameDay(firstDate, date)) {\n          areTicksSameDay = false;\n          break;\n        }\n      }\n    }\n    this.xAxisTicks = xAxisTickTimestamps.map((ts) => {\n      const tickLine = document.createElementNS(SVG_NS, 'line');\n      const labelText = document.createElementNS(SVG_NS, 'text');\n\n      const x = this.getX(ts);\n\n      tickLine.setAttribute('x1', `${x}`);\n      tickLine.setAttribute('x2', `${x}`);\n      tickLine.setAttribute(\n        'y1',\n        `${s.height - s.axisMarginBottom - s.axisTickLength / 2}`\n      );\n      tickLine.setAttribute(\n        'y2',\n        `${s.height - s.axisMarginBottom + s.axisTickLength / 2}`\n      );\n      tickLine.setAttribute('stroke', s.axisLineColor);\n      tickLine.setAttribute('stroke-width', `${s.axisTickWidth}`);\n      tickLine.setAttribute('shape-rendering', `crispEdges`);\n      this.elements.chartContainer.appendChild(tickLine);\n\n      labelText.setAttribute('text-anchor', 'middle');\n      labelText.setAttribute('alignment-baseline', 'before-edge');\n      labelText.setAttribute('text-rendering', 'optimizeLegibility');\n      labelText.setAttribute('x', `${x}`);\n      labelText.setAttribute(\n        'y',\n        `${\n          s.height -\n          s.axisMarginBottom +\n          s.axisTickLength / 2 +\n          s.axisTickLabelOffset\n        }`\n      );\n      labelText.setAttribute('fill', s.axisTickLabelColor);\n      labelText.setAttribute('stroke', 'none');\n      labelText.setAttribute('font-size', `${s.axisTickLabelSize}`);\n      labelText.textContent = format(\n        new Date(ts / 1000),\n        areTicksSameDay ? 'HH:mm:ss' : 'MMM dd, HH:mm:ss'\n      );\n      this.elements.chartContainer.appendChild(labelText);\n\n      return {\n        ts,\n        tickLine,\n        labelText,\n      };\n    });\n\n    // Update stage rect\n    this.updateStageRect();\n  }\n\n  resize(width: number, height: number) {\n    this.computedStyles.width = width;\n    this.computedStyles.height = height;\n\n    const { svg } = this.elements;\n    svg.setAttribute('width', `${width}`);\n    svg.setAttribute('height', `${height}`);\n    svg.setAttribute('viewBox', `0 0 ${width} ${height}`);\n\n    const svgRect = svg.getBoundingClientRect();\n    this.traceTooltipStuffCache.svgBBTop = svgRect.top;\n    this.traceTooltipStuffCache.svgBBLeft = svgRect.left;\n\n    this.updateAxises();\n    this.updatePoints();\n    this.updateTicks();\n    this.updateStageRect();\n  }\n\n  private updateAxises() {\n    const { xAxisLine, yAxisLine } = this.elements;\n    const s = this.computedStyles;\n\n    // x axis\n    xAxisLine.setAttribute('x1', `${s.axisMarginLeft}`);\n    xAxisLine.setAttribute('y1', `${s.height - s.axisMarginBottom}`);\n    xAxisLine.setAttribute('x2', `${s.width - s.axisMarginRight}`);\n    xAxisLine.setAttribute('y2', `${s.height - s.axisMarginBottom}`);\n\n    // y axis\n    yAxisLine.setAttribute('x1', `${s.axisMarginLeft}`);\n    yAxisLine.setAttribute('y1', `${s.axisMarginTop}`);\n    yAxisLine.setAttribute('x2', `${s.axisMarginLeft}`);\n    yAxisLine.setAttribute('y2', `${s.height - s.axisMarginBottom}`);\n  }\n\n  private updatePoints() {\n    if (this.points.length == 0) {\n      return;\n    }\n\n    this.points.forEach((p) => {\n      const x = this.getX(p.trace.startTime);\n      const y = this.getY(p.trace.duration);\n\n      p.circle.setAttribute('cx', `${x}`);\n      p.circle.setAttribute('cy', `${y}`);\n    });\n  }\n\n  private updateTicks() {\n    const s = this.computedStyles;\n\n    this.yAxisTicks.forEach((t) => {\n      const y = this.getY(t.duration);\n\n      t.tickLine.setAttribute(\n        'x1',\n        `${s.axisMarginLeft - s.axisTickLength / 2}`\n      );\n      t.tickLine.setAttribute(\n        'x2',\n        `${s.axisMarginLeft + s.axisTickLength / 2}`\n      );\n      t.tickLine.setAttribute('y1', `${y}`);\n      t.tickLine.setAttribute('y2', `${y}`);\n    });\n\n    this.xAxisTicks.forEach((t) => {\n      const x = this.getX(t.ts);\n\n      t.tickLine.setAttribute('x1', `${x}`);\n      t.tickLine.setAttribute('x2', `${x}`);\n      t.tickLine.setAttribute(\n        'y1',\n        `${s.height - s.axisMarginBottom - s.axisTickLength / 2}`\n      );\n      t.tickLine.setAttribute(\n        'y2',\n        `${s.height - s.axisMarginBottom + s.axisTickLength / 2}`\n      );\n\n      t.labelText.setAttribute('x', `${x}`);\n      t.labelText.setAttribute(\n        'y',\n        `${\n          s.height -\n          s.axisMarginBottom +\n          s.axisTickLength / 2 +\n          s.axisTickLabelOffset\n        }`\n      );\n    });\n  }\n\n  private getX(ts: number) {\n    const s = this.computedStyles;\n    return map(\n      ts,\n      this.sceneStats.minStartTime,\n      this.sceneStats.maxStartTime,\n      s.axisMarginLeft + s.pointsMarginLeft,\n      s.width - s.axisMarginRight - s.pointsMarginRight\n    );\n  }\n\n  private getY(duration: number) {\n    const s = this.computedStyles;\n    return map(\n      duration,\n      this.sceneStats.minDuration,\n      this.sceneStats.maxDuration,\n      s.height - s.axisMarginBottom - s.pointsMarginBottom,\n      s.axisMarginTop + s.pointsMarginTop\n    );\n  }\n\n  private onMouseMove(e: MouseEvent) {\n    const newHoveredPoint = this.getPointFromMouseEvent(e);\n    const s = this.computedStyles;\n\n    if (\n      this.hoveredPoint &&\n      this.hoveredPoint.trace.id != newHoveredPoint?.trace.id\n    ) {\n      this.traceTooltipTippy.hide();\n\n      const unhoveredPoint = this.hoveredPoint;\n      this.hoveredPoint = null;\n      unhoveredPoint.circle.setAttribute('opacity', `${s.pointFillOpacity}`);\n      this.emit(TracesScatterPlotEvent.POINT_UNHOVERED, unhoveredPoint.trace);\n    }\n\n    if (newHoveredPoint) {\n      // Show trace tooltip\n      this.traceTooltipContent.updateTrace(newHoveredPoint.trace);\n      // HACK ALERT: To show tippy.js at custom coordinates\n      Object.assign(this.traceTooltipTippy.popperInstance.reference, {\n        clientWidth: 0,\n        clientHeight: 0,\n        getBoundingClientRect: () => {\n          const { svgBBTop, svgBBLeft } = this.traceTooltipStuffCache;\n          const r = this.computedStyles.pointRadius;\n          const x = Number(newHoveredPoint.circle.getAttribute('cx'));\n          const y = Number(newHoveredPoint.circle.getAttribute('cy'));\n          const top = svgBBTop + y - r;\n          return {\n            width: 0,\n            height: r * 2,\n            top: top,\n            bottom: top + r * 2,\n            left: svgBBLeft + x,\n            right: svgBBLeft + x,\n          };\n        },\n      });\n      this.traceTooltipTippy.popperInstance.update();\n      this.traceTooltipTippy.show();\n\n      newHoveredPoint.circle.setAttribute(\n        'opacity',\n        `${s.pointFillOpacityHover}`\n      );\n      this.hoveredPoint = newHoveredPoint;\n      this.emit(TracesScatterPlotEvent.POINT_HOVERED, newHoveredPoint);\n    }\n  }\n\n  private onMouseLeave(e: MouseEvent) {\n    this.traceTooltipTippy.hide();\n\n    if (!this.hoveredPoint) {\n      return;\n    }\n\n    const s = this.computedStyles;\n    const unhoveredPoint = this.hoveredPoint;\n    this.hoveredPoint = null;\n    unhoveredPoint.circle.setAttribute('opacity', `${s.pointFillOpacity}`);\n    this.emit(TracesScatterPlotEvent.POINT_UNHOVERED, unhoveredPoint.trace);\n  }\n\n  private onClick(e: MouseEvent) {\n    const clickedPoint = this.getPointFromMouseEvent(e);\n    if (!clickedPoint) {\n      return;\n    }\n\n    this.emit(TracesScatterPlotEvent.POINT_CLICKED, clickedPoint.trace);\n  }\n\n  private onStageUpdated() {\n    const traces = this.stage.getAllTraces();\n    if (traces.length == 0) {\n      this.stageInterval = null;\n      return;\n    }\n\n    this.stageInterval = {\n      startTime: this.stage.startTimestamp,\n      finishTime: this.stage.finishTimestamp,\n    };\n\n    this.updateStageRect();\n  }\n\n  private updateStageRect() {\n    const { stageRect } = this.elements;\n    if (\n      !this.options?.showStageBoundaries ||\n      !this.stageInterval ||\n      !this.sceneStats\n    ) {\n      stageRect.setAttribute('display', 'none');\n      return;\n    }\n\n    // Check stage boundaries in current boundaries\n    const shouldRender = areIntervalsOverlapping(\n      {\n        start: this.sceneStats.minStartTime,\n        end: this.sceneStats.maxStartTime,\n      },\n      {\n        start: this.stageInterval.startTime,\n        end: this.stageInterval.finishTime,\n      }\n    );\n    if (!shouldRender) {\n      stageRect.setAttribute('display', 'none');\n      return;\n    }\n\n    // Two intervals can overlap partially, we must decide the boundaries manually\n    const rectStartTime = Math.max(\n      this.sceneStats.minStartTime,\n      this.stageInterval.startTime\n    );\n    const rectFinishTime = Math.min(\n      this.sceneStats.maxStartTime,\n      this.stageInterval.finishTime\n    );\n\n    const s = this.computedStyles;\n    const x1 = this.getX(rectStartTime);\n    const x2 = this.getX(rectFinishTime);\n\n    stageRect.setAttribute('display', '');\n    stageRect.setAttribute('x', `${x1}`);\n    stageRect.setAttribute('y', `${s.axisMarginTop}`);\n    stageRect.setAttribute('width', `${x2 - x1}`);\n    stageRect.setAttribute(\n      'height',\n      `${s.height - s.axisMarginTop - s.axisMarginBottom}`\n    );\n  }\n\n  private getPointFromMouseEvent(e: MouseEvent) {\n    let element = e.target as SVGElement | null;\n\n    while (element && element !== this.elements.svg) {\n      if (element.hasAttribute('data-trace-id')) {\n        const traceId = element.getAttribute('data-trace-id');\n        return find(this.points, (p) => p.trace.id == traceId);\n      }\n      element = (element.parentElement as unknown) as SVGElement;\n    }\n  }\n\n  dispose() {\n    // Unbind events\n    this.elements.svg.removeEventListener(\n      'mousemove',\n      this.binded.onMouseMove,\n      false\n    );\n    this.elements.svg.removeEventListener(\n      'mouseleave',\n      this.binded.onMouseLeave,\n      false\n    );\n    this.elements.svg.removeEventListener('click', this.binded.onClick, false);\n    this.stage.removeListener(\n      StageEvent.TRACE_ADDED,\n      this.binded.onStageUpdated\n    );\n    this.stage.removeListener(\n      StageEvent.TRACE_REMOVED,\n      this.binded.onStageUpdated\n    );\n  }\n}\n\nfunction areIntervalsOverlapping(\n  a: { start: number; end: number },\n  b: { start: number; end: number }\n) {\n  return a.start <= b.end && b.start <= a.end;\n}\n","/**\n * Go-style error handling, inspired by:\n * https://medium.com/javascript-in-plain-english/how-to-avoid-try-catch-statements-nesting-chaining-in-javascript-a79028b325c5\n */\n\nexport async function to<T>(promise: Promise<T>): Promise<[Error, T]> {\n  try {\n    return [undefined, await promise];\n  } catch (err) {\n    return [err, undefined];\n  }\n}\n","import api from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../node_modules/css-loader/dist/cjs.js!./jaeger-search.css\";\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","import { DataSource } from '../../model/datasource/interfaces';\nimport { Span } from '../../model/interfaces';\nimport { Trace } from '../../model/trace';\nimport {\n  DataSourceManager,\n  DataSourceManagerEvent,\n} from '../../model/datasource/manager';\nimport Noty from 'noty';\nimport { JaegerAPI, JaegerAPISearchQuery } from '../../model/jaeger';\nimport tippy, { Instance as TippyInstance } from 'tippy.js';\nimport {\n  TraceSearchResultsTable,\n  TraceSearchResultsTableEvent,\n  TraceSearchResultsTableRowData,\n} from './trace-search-results-table';\nimport parseDuration from 'parse-duration';\nimport find from 'lodash/find';\nimport flatpickr from 'flatpickr';\nimport {\n  TracesScatterPlot,\n  TracesScatterPlotEvent,\n} from '../traces-scatter-plot/traces-scatter-plot';\nimport { to } from '../../utils/to';\n\nimport SvgCheckCircle from '!!raw-loader!@mdi/svg/svg/check-circle.svg';\nimport SvgAlert from '!!raw-loader!@mdi/svg/svg/alert.svg';\nimport SvgAlertCircle from '!!raw-loader!@mdi/svg/svg/alert-circle.svg';\nimport SvgAlertCircleOutline from '!!raw-loader!@mdi/svg/svg/alert-circle-outline.svg';\nimport SvgEmoticonSad from '!!raw-loader!@mdi/svg/svg/emoticon-sad-outline.svg';\nimport SvgEmoticonCool from '!!raw-loader!@mdi/svg/svg/emoticon-cool-outline.svg';\nimport SvgArrowCollapseLeft from '!!raw-loader!@mdi/svg/svg/arrow-collapse-left.svg';\nimport SvgArrowCollapseRight from '!!raw-loader!@mdi/svg/svg/arrow-collapse-right.svg';\nimport './jaeger-search.css';\n\nexport interface JaegerSearchOptions {\n  dataSource: DataSource;\n  onTracesAdd?: (traces: Trace[]) => void;\n}\n\nexport enum JaegerLookbackValue {\n  LAST_HOUR = '1h',\n  LAST_2_HOURS = '2h',\n  LAST_3_HOURS = '3h',\n  LAST_6_HOURS = '6h',\n  LAST_12_HOURS = '12h',\n  LAST_24_HOURS = '24h',\n  LAST_2_DAYS = '2d',\n  LAST_7_DAYS = '7d',\n  CUSTOM = 'custom',\n}\n\nconst DATE_RANGE_SEPERATOR = ' - ';\n\nexport class JaegerSearch {\n  private dsManager = DataSourceManager.getSingleton();\n  private api: JaegerAPI;\n  private tracesTable = new TraceSearchResultsTable();\n  private tracesScatterPlot = new TracesScatterPlot({\n    showStageBoundaries: true,\n  });\n  private traceResults: Trace[] = [];\n  private selectedTraceIds: string[] = [];\n  private customLookbackFlatpickr: flatpickr.Instance;\n  private isSearchFormHidden = false;\n  private elements = {\n    container: document.createElement('div'),\n    header: {\n      statusContainer: document.createElement('span'),\n      statusContent: document.createElement('div'),\n    },\n    mainContainer: document.createElement('div'),\n    result: {\n      container: document.createElement('div'),\n      scatterPlotContainer: document.createElement('div'),\n      tableContainer: document.createElement('div'),\n      overlayContainer: document.createElement('div'),\n    },\n    footer: {\n      container: document.createElement('div'),\n      selectionText: document.createElement('span'),\n      addToStageButton: document.createElement('button'),\n    },\n    searchByTraceId: {\n      form: document.createElement('form'),\n      input: document.createElement('input'),\n      button: document.createElement('button'),\n    },\n    searchFormToggle: document.createElement('div'),\n    search: {\n      container: document.createElement('div'),\n      form: document.createElement('form'),\n      serviceSelect: document.createElement('select'),\n      operationSelect: document.createElement('select'),\n      tagsInput: document.createElement('input'),\n      lookbackSelect: document.createElement('select'),\n      customLookbackInput: document.createElement('input'),\n      minDurationInput: document.createElement('input'),\n      maxDurationInput: document.createElement('input'),\n      limitInput: document.createElement('input'),\n      button: document.createElement('button'),\n    },\n  };\n  private tippyInstaces: {\n    status: TippyInstance;\n  };\n\n  private binded = {\n    onDataSourceManagerUpdate: this.onDataSourceManagerUpdate.bind(this),\n    onSearchByTraceIdFormSubmit: this.onSearchByTraceIdFormSubmit.bind(this),\n    onSearcFormSubmit: this.onSearchFormSubmit.bind(this),\n    onServiceSelectChange: this.onServiceSelectChange.bind(this),\n    onLookbackSelectChange: this.onLookbackSelectChange.bind(this),\n    onTableSelectionUpdated: this.onTableSelectionUpdated.bind(this),\n    onTableTraceDoubleClicked: this.onTableTraceDoubleClicked.bind(this),\n    onAddToStageButtonClick: this.onAddToStageButtonClick.bind(this),\n    onTraceScatterPointClick: this.onTraceScatterPointClick.bind(this),\n    onStatusClick: this.onStatusClick.bind(this),\n    onSearchFormToggleClick: this.onSearchFormToggleClick.bind(this),\n  };\n\n  constructor(private options: JaegerSearchOptions) {\n    this.api = this.dsManager.apiFor(this.options.dataSource) as JaegerAPI;\n\n    // Prepare DOM\n    const els = this.elements;\n    els.container.classList.add('jaeger-search-modal-content');\n\n    const header = document.createElement('div');\n    header.classList.add('header');\n    els.container.appendChild(header);\n\n    els.mainContainer.classList.add('main');\n    if (this.isSearchFormHidden) {\n      els.mainContainer.classList.add('search-form-hidden');\n    }\n    els.container.appendChild(els.mainContainer);\n\n    els.search.container.classList.add('search-form-container');\n    els.mainContainer.appendChild(els.search.container);\n\n    els.searchFormToggle.classList.add('search-form-toggle');\n    els.searchFormToggle.innerHTML = this.isSearchFormHidden\n      ? SvgArrowCollapseRight\n      : SvgArrowCollapseLeft;\n    els.mainContainer.appendChild(els.searchFormToggle);\n\n    els.result.container.classList.add('result');\n    els.mainContainer.appendChild(els.result.container);\n\n    els.result.scatterPlotContainer.classList.add('scatter-plot-container');\n    els.result.container.appendChild(els.result.scatterPlotContainer);\n\n    els.result.tableContainer.classList.add('table-container');\n    els.result.container.appendChild(els.result.tableContainer);\n\n    els.footer.container.classList.add('footer');\n    els.result.container.appendChild(els.footer.container);\n\n    els.result.overlayContainer.classList.add('overlay-container');\n    els.result.container.appendChild(els.result.overlayContainer);\n    this.toggleRightPanelOverlay('ready');\n\n    // Header\n    const titleContainer = document.createElement('div');\n    titleContainer.classList.add('title-container');\n    header.appendChild(titleContainer);\n\n    const title = document.createElement('span');\n    title.textContent = `API Status:`;\n    titleContainer.appendChild(title);\n\n    els.header.statusContainer.classList.add('status');\n    titleContainer.appendChild(els.header.statusContainer);\n\n    // Search by trace id\n    {\n      const { form, input, button } = this.elements.searchByTraceId;\n      form.classList.add('search-by-trace-id', 'input-button-group');\n      header.appendChild(form);\n\n      input.classList.add('small');\n      input.required = true;\n      input.placeholder = 'Search by Trace ID...';\n      form.appendChild(input);\n\n      button.textContent = 'Search';\n      button.type = 'submit';\n      button.classList.add('secondary', 'small');\n      form.appendChild(button);\n    }\n\n    // Normal search\n    {\n      const {\n        form,\n        serviceSelect,\n        operationSelect,\n        tagsInput,\n        lookbackSelect,\n        customLookbackInput,\n        minDurationInput,\n        maxDurationInput,\n        limitInput,\n        button,\n      } = this.elements.search;\n      els.search.container.appendChild(form);\n\n      const serviceContainer = document.createElement('div');\n      serviceContainer.classList.add('field');\n      form.appendChild(serviceContainer);\n      const serviceTitleContainer = document.createElement('div');\n      serviceTitleContainer.textContent = 'Service';\n      serviceTitleContainer.classList.add('field-title');\n      serviceContainer.appendChild(serviceTitleContainer);\n      serviceSelect.classList.add('small');\n      serviceSelect.required = true;\n      serviceContainer.appendChild(serviceSelect);\n\n      const operationContainer = document.createElement('div');\n      operationContainer.classList.add('field');\n      form.appendChild(operationContainer);\n      const operationTitleContainer = document.createElement('div');\n      operationTitleContainer.textContent = 'Operation';\n      operationTitleContainer.classList.add('field-title');\n      operationContainer.appendChild(operationTitleContainer);\n      operationSelect.classList.add('small');\n      operationSelect.required = true;\n      operationContainer.appendChild(operationSelect);\n\n      const tagsContainer = document.createElement('div');\n      tagsContainer.classList.add('field');\n      form.appendChild(tagsContainer);\n      const tagsTitleContainer = document.createElement('div');\n      tagsTitleContainer.textContent = 'Tags';\n      tagsTitleContainer.classList.add('field-title');\n      tagsContainer.appendChild(tagsTitleContainer);\n      tagsInput.classList.add('small');\n      tagsInput.placeholder = 'http.status_code=200 error=true';\n      tagsContainer.appendChild(tagsInput);\n\n      const lookbackContainer = document.createElement('div');\n      lookbackContainer.classList.add('field');\n      form.appendChild(lookbackContainer);\n      const lookbackTitleContainer = document.createElement('div');\n      lookbackTitleContainer.textContent = 'Lookback';\n      lookbackTitleContainer.classList.add('field-title');\n      lookbackContainer.appendChild(lookbackTitleContainer);\n      lookbackSelect.classList.add('small');\n      lookbackSelect.required = true;\n      lookbackContainer.appendChild(lookbackSelect);\n\n      lookbackSelect.innerHTML = `<option value=\"${JaegerLookbackValue.LAST_HOUR}\">Last Hour</option>\n      <option value=\"${JaegerLookbackValue.LAST_2_HOURS}\">Last 2 Hours</option>\n      <option value=\"${JaegerLookbackValue.LAST_3_HOURS}\">Last 3 Hours</option>\n      <option value=\"${JaegerLookbackValue.LAST_6_HOURS}\">Last 6 Hours</option>\n      <option value=\"${JaegerLookbackValue.LAST_12_HOURS}\">Last 12 Hours</option>\n      <option value=\"${JaegerLookbackValue.LAST_24_HOURS}\">Last 24 Hours</option>\n      <option value=\"${JaegerLookbackValue.LAST_2_DAYS}\">Last 2 Days</option>\n      <option value=\"${JaegerLookbackValue.LAST_7_DAYS}\">Last 7 Days</option>\n      <option value=\"${JaegerLookbackValue.CUSTOM}\">Custom</option>`;\n\n      lookbackContainer.appendChild(customLookbackInput);\n\n      const minDurationContainer = document.createElement('div');\n      minDurationContainer.classList.add('field');\n      form.appendChild(minDurationContainer);\n      const minDurationTitleContainer = document.createElement('div');\n      minDurationTitleContainer.textContent = 'Min Duration';\n      minDurationTitleContainer.classList.add('field-title');\n      minDurationContainer.appendChild(minDurationTitleContainer);\n      minDurationInput.classList.add('small');\n      minDurationInput.placeholder = 'e.g. 1.2s, 100ms, 500us';\n      minDurationContainer.appendChild(minDurationInput);\n\n      const maxDurationContainer = document.createElement('div');\n      maxDurationContainer.classList.add('field');\n      form.appendChild(maxDurationContainer);\n      const maxDurationTitleContainer = document.createElement('div');\n      maxDurationTitleContainer.textContent = 'Max Duration';\n      maxDurationTitleContainer.classList.add('field-title');\n      maxDurationContainer.appendChild(maxDurationTitleContainer);\n      maxDurationInput.classList.add('small');\n      maxDurationInput.placeholder = 'e.g. 1.2s, 100ms, 500us';\n      maxDurationContainer.appendChild(maxDurationInput);\n\n      const limitContainer = document.createElement('div');\n      limitContainer.classList.add('field');\n      form.appendChild(limitContainer);\n      const limitTitleContainer = document.createElement('div');\n      limitTitleContainer.textContent = 'Limit';\n      limitTitleContainer.classList.add('field-title');\n      limitContainer.appendChild(limitTitleContainer);\n      limitInput.classList.add('small');\n      limitInput.type = 'number';\n      limitInput.min = '1';\n      limitInput.value = '100';\n      limitInput.required = true;\n      limitContainer.appendChild(limitInput);\n\n      button.textContent = 'Search';\n      button.type = 'submit';\n      button.classList.add('secondary', 'small');\n      form.appendChild(button);\n    }\n\n    // Bottom\n    {\n      els.footer.selectionText.innerHTML = 'No trace selected';\n      els.footer.container.appendChild(els.footer.selectionText);\n\n      els.footer.addToStageButton.classList.add('primary', 'small');\n      els.footer.addToStageButton.textContent = 'Add to Stage';\n      els.footer.addToStageButton.disabled = true;\n      els.footer.container.appendChild(els.footer.addToStageButton);\n    }\n  }\n\n  init() {\n    this.initTippyInstances();\n\n    // Bind events\n    this.dsManager.on(\n      DataSourceManagerEvent.UPDATED,\n      this.binded.onDataSourceManagerUpdate\n    );\n    this.tracesTable.on(\n      TraceSearchResultsTableEvent.SELECTIONS_UPDATED,\n      this.binded.onTableSelectionUpdated\n    );\n    this.tracesTable.on(\n      TraceSearchResultsTableEvent.TRACE_DOUBLE_CLICKED,\n      this.binded.onTableTraceDoubleClicked\n    );\n    this.elements.header.statusContainer.addEventListener(\n      'click',\n      this.binded.onStatusClick,\n      false\n    );\n    this.elements.searchByTraceId.form.addEventListener(\n      'submit',\n      this.binded.onSearchByTraceIdFormSubmit,\n      false\n    );\n    this.elements.searchFormToggle.addEventListener(\n      'click',\n      this.binded.onSearchFormToggleClick,\n      false\n    );\n    this.elements.search.form.addEventListener(\n      'submit',\n      this.binded.onSearcFormSubmit,\n      false\n    );\n    this.elements.search.serviceSelect.addEventListener(\n      'change',\n      this.binded.onServiceSelectChange,\n      false\n    );\n    this.elements.search.lookbackSelect.addEventListener(\n      'change',\n      this.binded.onLookbackSelectChange,\n      false\n    );\n    this.elements.footer.addToStageButton.addEventListener(\n      'click',\n      this.binded.onAddToStageButtonClick,\n      false\n    );\n\n    // Date range picker\n    this.customLookbackFlatpickr = flatpickr(\n      this.elements.search.customLookbackInput,\n      {\n        mode: 'range',\n        enableTime: true,\n        time_24hr: true,\n        dateFormat: 'Z',\n        altInput: true,\n        altFormat: 'M d, H:i',\n        locale: {\n          rangeSeparator: DATE_RANGE_SEPERATOR,\n          firstDayOfWeek: 1,\n        } as any,\n      }\n    );\n    // Initially hide custom date inputs\n    this.onLookbackSelectChange();\n\n    // Traces table\n    // In order to get offsetWidth and height, the dom must be rendered\n    // So before calling this `init()` method, ensure that dom is rendered.\n    const { tableContainer } = this.elements.result;\n    this.tracesTable.mount(tableContainer);\n    this.tracesTable.init({\n      width: tableContainer.offsetWidth,\n      height: tableContainer.offsetHeight,\n      showInStageColumn: true,\n      indicateTracesOverlappingWithStage: true,\n    });\n\n    // Traces scatter plot\n    const { scatterPlotContainer } = this.elements.result;\n    this.tracesScatterPlot.mount(scatterPlotContainer);\n    this.tracesScatterPlot.init({\n      width: scatterPlotContainer.offsetWidth,\n      height: scatterPlotContainer.offsetHeight,\n    });\n    this.tracesScatterPlot.on(\n      TracesScatterPlotEvent.POINT_CLICKED,\n      this.binded.onTraceScatterPointClick\n    );\n  }\n\n  private initTippyInstances() {\n    this.tippyInstaces = {\n      status: tippy(this.elements.header.statusContainer, {\n        delay: 0,\n        duration: 0,\n        updateDuration: 0,\n        content: this.elements.header.statusContent,\n        theme: 'tooltip',\n        placement: 'top',\n      }),\n    };\n  }\n\n  private async testApiAndFetchServices() {\n    const els = this.elements;\n\n    els.header.statusContainer.classList.remove('success', 'error', 'warning');\n    els.header.statusContainer.innerHTML = `<div class=\"sk-circle\">\n      <div class=\"sk-circle1 sk-child\"></div>\n      <div class=\"sk-circle2 sk-child\"></div>\n      <div class=\"sk-circle3 sk-child\"></div>\n      <div class=\"sk-circle4 sk-child\"></div>\n      <div class=\"sk-circle5 sk-child\"></div>\n      <div class=\"sk-circle6 sk-child\"></div>\n      <div class=\"sk-circle7 sk-child\"></div>\n      <div class=\"sk-circle8 sk-child\"></div>\n      <div class=\"sk-circle9 sk-child\"></div>\n      <div class=\"sk-circle10 sk-child\"></div>\n      <div class=\"sk-circle11 sk-child\"></div>\n      <div class=\"sk-circle12 sk-child\"></div>\n    </div>`;\n    els.header.statusContent.textContent = 'Testing the API...';\n\n    // Test api\n    const [testErr] = await to(this.api.test());\n    if (testErr) {\n      els.header.statusContainer.classList.add('error');\n      els.header.statusContainer.innerHTML = SvgAlertCircle;\n      els.header.statusContent.textContent = testErr.message;\n      return;\n    }\n\n    // Get services\n    const [getErr, response] = await to(this.api.getServices());\n    if (getErr) {\n      els.header.statusContainer.classList.add('error');\n      els.header.statusContainer.innerHTML = SvgAlertCircle;\n      els.header.statusContent.textContent = `Could not get services from API: \"${getErr.message}\"`;\n      return;\n    }\n\n    if (!response.data) {\n      els.header.statusContainer.classList.add('warning');\n      els.header.statusContainer.innerHTML = SvgAlert;\n      els.header.statusContent.textContent = `There is no services found`;\n      return;\n    }\n\n    const serviceNames: string[] = response.data.sort();\n    this.elements.search.serviceSelect.innerHTML = serviceNames\n      .map((s) => `<option value=\"${s}\">${s}</option>`)\n      .join('');\n\n    const currentValue = this.elements.search.serviceSelect.value;\n    if (serviceNames.indexOf(currentValue) > -1) {\n      this.elements.search.serviceSelect.value = currentValue;\n    }\n\n    this.updateOperationsSelect();\n\n    els.header.statusContainer.classList.add('success');\n    els.header.statusContainer.innerHTML = SvgCheckCircle;\n    els.header.statusContent.textContent = 'API is OK';\n  }\n\n  onShow() {\n    const { tableContainer, scatterPlotContainer } = this.elements.result;\n    this.tracesScatterPlot.resize(\n      scatterPlotContainer.offsetWidth,\n      scatterPlotContainer.offsetHeight\n    );\n    this.tracesTable.resize(\n      tableContainer.offsetWidth,\n      tableContainer.offsetHeight\n    );\n    this.tracesTable.redrawTable(true);\n\n    this.testApiAndFetchServices();\n  }\n\n  private async updateOperationsSelect() {\n    const serviceName = this.elements.search.serviceSelect.value;\n    const currentValue = this.elements.search.operationSelect.value;\n\n    try {\n      const response = await this.api.getOperations(serviceName);\n      const operationNames: string[] = ['all', ...response.data.sort()];\n      this.elements.search.operationSelect.innerHTML = operationNames\n        .map((o) => `<option value=\"${o}\">${o}</option>`)\n        .join('');\n\n      if (operationNames.indexOf(currentValue) > -1) {\n        this.elements.search.operationSelect.value = currentValue;\n      }\n    } catch (err) {\n      new Noty({\n        text: `Could not fetch operations from API: \"${err.message}\"`,\n        type: 'error',\n      }).show();\n    }\n  }\n\n  private onDataSourceManagerUpdate(ds: DataSource) {\n    if (ds.id != this.options.dataSource.id) return;\n    this.options.dataSource = ds;\n    this.api = this.dsManager.apiFor(ds) as JaegerAPI;\n  }\n\n  private async onSearchByTraceIdFormSubmit(e: Event) {\n    e.preventDefault();\n\n    this.traceResults = [];\n    this.elements.searchByTraceId.button.disabled = true;\n    this.toggleRightPanelOverlay('loading');\n\n    try {\n      const formEl = this.elements.searchByTraceId;\n\n      const traceSpans: Span[][] = await this.api.getTrace(formEl.input.value);\n      this.traceResults = traceSpans.map((spans) => new Trace(spans));\n      this.tracesScatterPlot.setTraces(this.traceResults);\n      this.tracesTable.updateTraces(this.traceResults);\n\n      this.toggleRightPanelOverlay(\n        this.traceResults.length == 0 ? 'no-results' : false\n      );\n\n      window.Countly &&\n        window.Countly.add_event({\n          key: 'trace_searched_by_id',\n          count: 1,\n          segmentation: {\n            type: 'jaeger',\n            resultCount: this.traceResults.length,\n          },\n        });\n    } catch (err) {\n      this.toggleRightPanelOverlay('error', err.message);\n\n      window.Countly &&\n        window.Countly.add_event({\n          key: 'trace_search_by_id_error',\n          count: 1,\n          segmentation: {\n            type: 'jaeger',\n            message: err.message,\n          },\n        });\n    }\n\n    this.elements.searchByTraceId.button.disabled = false;\n  }\n\n  private async onSearchFormSubmit(e: Event) {\n    e.preventDefault();\n\n    this.traceResults = [];\n    this.elements.search.button.disabled = true;\n    this.toggleRightPanelOverlay('loading');\n\n    try {\n      const formEl = this.elements.search;\n      const query: JaegerAPISearchQuery = {\n        service: formEl.serviceSelect.value,\n      };\n\n      if (\n        formEl.operationSelect.value &&\n        formEl.operationSelect.value != 'all'\n      ) {\n        query.operation = formEl.operationSelect.value;\n      }\n\n      if (formEl.tagsInput.value) {\n        query.tags = formEl.tagsInput.value;\n      }\n\n      if (formEl.lookbackSelect.value == JaegerLookbackValue.CUSTOM) {\n        const dateRangeValue = this.customLookbackFlatpickr.input.value.trim();\n        const parts = dateRangeValue.split(DATE_RANGE_SEPERATOR);\n        if (parts.length != 2) {\n          throw new Error(`Unsupported custom lookback`);\n        }\n        query.start = new Date(parts[0]).getTime() * 1000;\n        query.end = new Date(parts[1]).getTime() * 1000;\n      } else {\n        const duration = parseDuration(formEl.lookbackSelect.value);\n        query.end = Date.now() * 1000;\n        query.start = query.end - duration * 1000;\n      }\n\n      if (formEl.minDurationInput.value) {\n        query.minDuration = formEl.minDurationInput.value;\n      }\n\n      if (formEl.maxDurationInput.value) {\n        query.maxDuration = formEl.maxDurationInput.value;\n      }\n\n      const limitIntValue = parseInt(formEl.limitInput.value, 10);\n      if (isNaN(limitIntValue)) {\n        throw new Error(`Unsupported limit value`);\n      }\n      query.limit = limitIntValue;\n\n      const traceSpans: Span[][] = await this.api.search(query);\n      this.traceResults = traceSpans.map((spans) => new Trace(spans));\n      this.tracesScatterPlot.setTraces(this.traceResults);\n      this.tracesTable.updateTraces(this.traceResults);\n\n      this.toggleRightPanelOverlay(\n        this.traceResults.length == 0 ? 'no-results' : false\n      );\n\n      window.Countly &&\n        window.Countly.add_event({\n          key: 'trace_searched',\n          count: 1,\n          segmentation: {\n            type: 'jaeger',\n            resultCount: this.traceResults.length,\n          },\n        });\n    } catch (err) {\n      this.toggleRightPanelOverlay('error', err.message);\n\n      window.Countly &&\n        window.Countly.add_event({\n          key: 'trace_search_error',\n          count: 1,\n          segmentation: {\n            type: 'jaeger',\n            message: err.message,\n          },\n        });\n    }\n\n    this.elements.search.button.disabled = false;\n  }\n\n  private onServiceSelectChange() {\n    this.updateOperationsSelect();\n  }\n\n  private onLookbackSelectChange() {\n    if (\n      this.elements.search.lookbackSelect.value == JaegerLookbackValue.CUSTOM\n    ) {\n      this.customLookbackFlatpickr.altInput.style.display = '';\n      this.customLookbackFlatpickr.open();\n    } else {\n      this.customLookbackFlatpickr.altInput.style.display = 'none';\n    }\n  }\n\n  resize() {\n    const { tableContainer, scatterPlotContainer } = this.elements.result;\n    this.tracesScatterPlot.resize(\n      scatterPlotContainer.offsetWidth,\n      scatterPlotContainer.offsetHeight\n    );\n    this.tracesTable.resize(\n      tableContainer.offsetWidth,\n      tableContainer.offsetHeight\n    );\n  }\n\n  private async onTableSelectionUpdated(\n    selectedTraces: TraceSearchResultsTableRowData[]\n  ) {\n    // When we try to redraw tabulator while it's already redrawing,\n    // it gives an error. So, we apply the most famous javascript workaround ever.\n    // await new Promise(resolve => setTimeout(resolve, 0));\n    this.selectedTraceIds = selectedTraces.map((t) => t.id);\n\n    if (selectedTraces.length == 0) {\n      this.elements.footer.addToStageButton.disabled = true;\n      this.elements.footer.selectionText.textContent = 'No trace selected';\n      return;\n    }\n\n    let text = `${selectedTraces.length} traces`;\n    if (selectedTraces.length == 1) {\n      text = `1 trace`;\n    }\n    this.elements.footer.selectionText.innerHTML = `<strong>${text}</strong> selected`;\n    this.elements.footer.addToStageButton.disabled = false;\n  }\n\n  private async onTableTraceDoubleClicked(\n    trace: TraceSearchResultsTableRowData\n  ) {\n    const traces = this.traceResults.filter((t) => t.id == trace.id);\n    this.options.onTracesAdd?.(traces);\n    this.tracesTable.selectTrace(null);\n    this.reloadTableData();\n  }\n\n  private onAddToStageButtonClick() {\n    const traces = this.selectedTraceIds.map((traceId) => {\n      return find(this.traceResults, (t) => t.id == traceId);\n    });\n    this.options.onTracesAdd?.(traces);\n    this.tracesTable.selectTrace(null);\n    this.reloadTableData();\n  }\n\n  private onTraceScatterPointClick(trace: Trace) {\n    this.tracesTable.selectTrace(trace.id);\n    this.tracesTable.focusTrace(trace.id);\n  }\n\n  private onStatusClick() {\n    this.testApiAndFetchServices();\n  }\n\n  reloadTableData() {\n    this.tracesTable.reloadData();\n  }\n\n  private onSearchFormToggleClick() {\n    const els = this.elements;\n    this.isSearchFormHidden = !this.isSearchFormHidden;\n\n    if (this.isSearchFormHidden) {\n      els.mainContainer.classList.add('search-form-hidden');\n      els.searchFormToggle.innerHTML = SvgArrowCollapseRight;\n    } else {\n      els.mainContainer.classList.remove('search-form-hidden');\n      els.searchFormToggle.innerHTML = SvgArrowCollapseLeft;\n    }\n\n    this.resize();\n  }\n\n  private toggleRightPanelOverlay(\n    type: 'ready' | 'loading' | 'no-results' | 'error' | false,\n    errorMessage?: string\n  ) {\n    const { overlayContainer } = this.elements.result;\n\n    if (!type) {\n      overlayContainer.style.display = 'none';\n      return;\n    }\n\n    if (type == 'loading') {\n      // Borrowed from https://tobiasahlin.com/spinkit/\n      overlayContainer.innerHTML = `<div class=\"sk-circle\">\n        <div class=\"sk-circle1 sk-child\"></div>\n        <div class=\"sk-circle2 sk-child\"></div>\n        <div class=\"sk-circle3 sk-child\"></div>\n        <div class=\"sk-circle4 sk-child\"></div>\n        <div class=\"sk-circle5 sk-child\"></div>\n        <div class=\"sk-circle6 sk-child\"></div>\n        <div class=\"sk-circle7 sk-child\"></div>\n        <div class=\"sk-circle8 sk-child\"></div>\n        <div class=\"sk-circle9 sk-child\"></div>\n        <div class=\"sk-circle10 sk-child\"></div>\n        <div class=\"sk-circle11 sk-child\"></div>\n        <div class=\"sk-circle12 sk-child\"></div>\n      </div>`;\n      overlayContainer.style.display = '';\n      return;\n    }\n\n    if (type == 'no-results') {\n      overlayContainer.innerHTML = `<div class=\"message\">\n        ${SvgEmoticonSad}\n        <span>No results found</span>\n      </div>`;\n      overlayContainer.style.display = '';\n      return;\n    }\n\n    if (type == 'ready') {\n      overlayContainer.innerHTML = `<div class=\"message\">\n        ${SvgEmoticonCool}\n        <span>Ready to search traces</span>\n      </div>`;\n      overlayContainer.style.display = '';\n      return;\n    }\n\n    if (type == 'error') {\n      overlayContainer.innerHTML = `<div class=\"message\">\n        ${SvgAlertCircleOutline}\n        <span>${errorMessage}</span>\n      </div>`;\n      overlayContainer.style.display = '';\n      return;\n    }\n  }\n\n  getElement() {\n    return this.elements.container;\n  }\n\n  dispose() {\n    this.dsManager.removeListener(\n      DataSourceManagerEvent.UPDATED,\n      this.binded.onDataSourceManagerUpdate\n    );\n    this.tracesTable.removeListener(\n      TraceSearchResultsTableEvent.SELECTIONS_UPDATED,\n      this.binded.onTableSelectionUpdated\n    );\n    this.tracesTable.removeListener(\n      TraceSearchResultsTableEvent.TRACE_DOUBLE_CLICKED,\n      this.binded.onTableTraceDoubleClicked\n    );\n    this.elements.header.statusContainer.removeEventListener(\n      'click',\n      this.binded.onStatusClick,\n      false\n    );\n    this.elements.searchByTraceId.form.removeEventListener(\n      'submit',\n      this.binded.onSearchByTraceIdFormSubmit,\n      false\n    );\n    this.elements.search.form.removeEventListener(\n      'submit',\n      this.binded.onSearcFormSubmit,\n      false\n    );\n    this.elements.search.serviceSelect.removeEventListener(\n      'change',\n      this.binded.onServiceSelectChange,\n      false\n    );\n    this.elements.search.lookbackSelect.removeEventListener(\n      'change',\n      this.binded.onLookbackSelectChange,\n      false\n    );\n    this.elements.footer.addToStageButton.removeEventListener(\n      'click',\n      this.binded.onAddToStageButtonClick,\n      false\n    );\n    this.elements.searchFormToggle.removeEventListener(\n      'click',\n      this.binded.onSearchFormToggleClick,\n      false\n    );\n    this.tracesScatterPlot.removeListener(\n      TracesScatterPlotEvent.POINT_CLICKED,\n      this.binded.onTraceScatterPointClick\n    );\n\n    Object.values(this.tippyInstaces).forEach((t) => t.destroy());\n    this.tracesTable.dispose();\n    this.tracesScatterPlot.dispose();\n    this.customLookbackFlatpickr.destroy();\n  }\n}\n","import api from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../node_modules/css-loader/dist/cjs.js!./zipkin-search.css\";\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","import { DataSource } from '../../model/datasource/interfaces';\nimport { Span } from '../../model/interfaces';\nimport { Trace } from '../../model/trace';\nimport {\n  DataSourceManager,\n  DataSourceManagerEvent,\n} from '../../model/datasource/manager';\nimport Noty from 'noty';\nimport { ZipkinAPI, ZipkinAPISearchQuery } from '../../model/zipkin';\nimport tippy, { Instance as TippyInstance } from 'tippy.js';\nimport {\n  TraceSearchResultsTable,\n  TraceSearchResultsTableEvent,\n  TraceSearchResultsTableRowData,\n} from './trace-search-results-table';\nimport parseDuration from 'parse-duration';\nimport find from 'lodash/find';\nimport flatpickr from 'flatpickr';\nimport {\n  TracesScatterPlot,\n  TracesScatterPlotEvent,\n} from '../traces-scatter-plot/traces-scatter-plot';\nimport { to } from '../../utils/to';\n\nimport SvgCheckCircle from '!!raw-loader!@mdi/svg/svg/check-circle.svg';\nimport SvgAlert from '!!raw-loader!@mdi/svg/svg/alert.svg';\nimport SvgAlertCircle from '!!raw-loader!@mdi/svg/svg/alert-circle.svg';\nimport SvgAlertCircleOutline from '!!raw-loader!@mdi/svg/svg/alert-circle-outline.svg';\nimport SvgEmoticonSad from '!!raw-loader!@mdi/svg/svg/emoticon-sad-outline.svg';\nimport SvgEmoticonCool from '!!raw-loader!@mdi/svg/svg/emoticon-cool-outline.svg';\nimport SvgArrowCollapseLeft from '!!raw-loader!@mdi/svg/svg/arrow-collapse-left.svg';\nimport SvgArrowCollapseRight from '!!raw-loader!@mdi/svg/svg/arrow-collapse-right.svg';\nimport './zipkin-search.css';\n\nexport interface ZipkinSearchOptions {\n  dataSource: DataSource;\n  onTracesAdd?: (traces: Trace[]) => void;\n}\n\nexport enum ZipkinLookbackValue {\n  LAST_HOUR = '1h',\n  LAST_2_HOURS = '2h',\n  LAST_3_HOURS = '3h',\n  LAST_6_HOURS = '6h',\n  LAST_12_HOURS = '12h',\n  LAST_24_HOURS = '24h',\n  LAST_2_DAYS = '2d',\n  LAST_7_DAYS = '7d',\n  CUSTOM = 'custom',\n}\n\nconst DATE_RANGE_SEPERATOR = ' - ';\n\nexport class ZipkinSearch {\n  private dsManager = DataSourceManager.getSingleton();\n  private api: ZipkinAPI;\n  private tracesTable = new TraceSearchResultsTable();\n  private tracesScatterPlot = new TracesScatterPlot({\n    showStageBoundaries: true,\n  });\n  private traceResults: Trace[] = [];\n  private selectedTraceIds: string[] = [];\n  private customLookbackFlatpickr: flatpickr.Instance;\n  private isSearchFormHidden = false;\n  private elements = {\n    container: document.createElement('div'),\n    header: {\n      statusContainer: document.createElement('span'),\n      statusContent: document.createElement('div'),\n    },\n    mainContainer: document.createElement('div'),\n    result: {\n      container: document.createElement('div'),\n      scatterPlotContainer: document.createElement('div'),\n      tableContainer: document.createElement('div'),\n      overlayContainer: document.createElement('div'),\n    },\n    footer: {\n      container: document.createElement('div'),\n      selectionText: document.createElement('span'),\n      addToStageButton: document.createElement('button'),\n    },\n    searchByTraceId: {\n      form: document.createElement('form'),\n      input: document.createElement('input'),\n      button: document.createElement('button'),\n    },\n    searchFormToggle: document.createElement('div'),\n    search: {\n      container: document.createElement('div'),\n      form: document.createElement('form'),\n      serviceSelect: document.createElement('select'),\n      operationSelect: document.createElement('select'),\n      tagsInput: document.createElement('input'),\n      lookbackSelect: document.createElement('select'),\n      customLookbackInput: document.createElement('input'),\n      minDurationInput: document.createElement('input'),\n      maxDurationInput: document.createElement('input'),\n      limitInput: document.createElement('input'),\n      button: document.createElement('button'),\n    },\n  };\n  private tippyInstaces: {\n    status: TippyInstance;\n  };\n\n  private binded = {\n    onDataSourceManagerUpdate: this.onDataSourceManagerUpdate.bind(this),\n    onSearchByTraceIdFormSubmit: this.onSearchByTraceIdFormSubmit.bind(this),\n    onSearcFormSubmit: this.onSearchFormSubmit.bind(this),\n    onServiceSelectChange: this.onServiceSelectChange.bind(this),\n    onLookbackSelectChange: this.onLookbackSelectChange.bind(this),\n    onTableSelectionUpdated: this.onTableSelectionUpdated.bind(this),\n    onTableTraceDoubleClicked: this.onTableTraceDoubleClicked.bind(this),\n    onAddToStageButtonClick: this.onAddToStageButtonClick.bind(this),\n    onTraceScatterPointClick: this.onTraceScatterPointClick.bind(this),\n    onStatusClick: this.onStatusClick.bind(this),\n    onSearchFormToggleClick: this.onSearchFormToggleClick.bind(this),\n  };\n\n  constructor(private options: ZipkinSearchOptions) {\n    this.api = this.dsManager.apiFor(this.options.dataSource) as ZipkinAPI;\n\n    // Prepare DOM\n    const els = this.elements;\n    els.container.classList.add('zipkin-search-modal-content');\n\n    const header = document.createElement('div');\n    header.classList.add('header');\n    els.container.appendChild(header);\n\n    els.mainContainer.classList.add('main');\n    if (this.isSearchFormHidden) {\n      els.mainContainer.classList.add('search-form-hidden');\n    }\n    els.container.appendChild(els.mainContainer);\n\n    els.search.container.classList.add('search-form-container');\n    els.mainContainer.appendChild(els.search.container);\n\n    els.searchFormToggle.classList.add('search-form-toggle');\n    els.searchFormToggle.innerHTML = this.isSearchFormHidden\n      ? SvgArrowCollapseRight\n      : SvgArrowCollapseLeft;\n    els.mainContainer.appendChild(els.searchFormToggle);\n\n    els.result.container.classList.add('result');\n    els.mainContainer.appendChild(els.result.container);\n\n    els.result.scatterPlotContainer.classList.add('scatter-plot-container');\n    els.result.container.appendChild(els.result.scatterPlotContainer);\n\n    els.result.tableContainer.classList.add('table-container');\n    els.result.container.appendChild(els.result.tableContainer);\n\n    els.footer.container.classList.add('footer');\n    els.result.container.appendChild(els.footer.container);\n\n    els.result.overlayContainer.classList.add('overlay-container');\n    els.result.container.appendChild(els.result.overlayContainer);\n    this.toggleRightPanelOverlay('ready');\n\n    // Header\n    const titleContainer = document.createElement('div');\n    titleContainer.classList.add('title-container');\n    header.appendChild(titleContainer);\n\n    const title = document.createElement('span');\n    title.textContent = `API Status:`;\n    titleContainer.appendChild(title);\n\n    els.header.statusContainer.classList.add('status');\n    titleContainer.appendChild(els.header.statusContainer);\n\n    // Search by trace id\n    {\n      const { form, input, button } = this.elements.searchByTraceId;\n      form.classList.add('search-by-trace-id', 'input-button-group');\n      header.appendChild(form);\n\n      input.classList.add('small');\n      input.required = true;\n      input.placeholder = 'Search by Trace ID...';\n      form.appendChild(input);\n\n      button.textContent = 'Search';\n      button.type = 'submit';\n      button.classList.add('secondary', 'small');\n      form.appendChild(button);\n    }\n\n    // Normal search\n    {\n      const {\n        form,\n        serviceSelect,\n        operationSelect,\n        tagsInput,\n        lookbackSelect,\n        customLookbackInput,\n        minDurationInput,\n        maxDurationInput,\n        limitInput,\n        button,\n      } = this.elements.search;\n      els.search.container.appendChild(form);\n\n      const serviceContainer = document.createElement('div');\n      serviceContainer.classList.add('field');\n      form.appendChild(serviceContainer);\n      const serviceTitleContainer = document.createElement('div');\n      serviceTitleContainer.textContent = 'Service';\n      serviceTitleContainer.classList.add('field-title');\n      serviceContainer.appendChild(serviceTitleContainer);\n      serviceSelect.classList.add('small');\n      serviceSelect.required = true;\n      serviceContainer.appendChild(serviceSelect);\n\n      const operationContainer = document.createElement('div');\n      operationContainer.classList.add('field');\n      form.appendChild(operationContainer);\n      const operationTitleContainer = document.createElement('div');\n      operationTitleContainer.textContent = 'Operation';\n      operationTitleContainer.classList.add('field-title');\n      operationContainer.appendChild(operationTitleContainer);\n      operationSelect.classList.add('small');\n      operationSelect.required = true;\n      operationContainer.appendChild(operationSelect);\n\n      const tagsContainer = document.createElement('div');\n      tagsContainer.classList.add('field');\n      form.appendChild(tagsContainer);\n      const tagsTitleContainer = document.createElement('div');\n      tagsTitleContainer.textContent = 'Tags';\n      tagsTitleContainer.classList.add('field-title');\n      tagsContainer.appendChild(tagsTitleContainer);\n      tagsInput.classList.add('small');\n      tagsInput.placeholder = 'http.uri=/foo and retried';\n      tagsContainer.appendChild(tagsInput);\n\n      const lookbackContainer = document.createElement('div');\n      lookbackContainer.classList.add('field');\n      form.appendChild(lookbackContainer);\n      const lookbackTitleContainer = document.createElement('div');\n      lookbackTitleContainer.textContent = 'Lookback';\n      lookbackTitleContainer.classList.add('field-title');\n      lookbackContainer.appendChild(lookbackTitleContainer);\n      lookbackSelect.classList.add('small');\n      lookbackSelect.required = true;\n      lookbackContainer.appendChild(lookbackSelect);\n\n      lookbackSelect.innerHTML = `<option value=\"${ZipkinLookbackValue.LAST_HOUR}\">Last Hour</option>\n      <option value=\"${ZipkinLookbackValue.LAST_2_HOURS}\">Last 2 Hours</option>\n      <option value=\"${ZipkinLookbackValue.LAST_3_HOURS}\">Last 3 Hours</option>\n      <option value=\"${ZipkinLookbackValue.LAST_6_HOURS}\">Last 6 Hours</option>\n      <option value=\"${ZipkinLookbackValue.LAST_12_HOURS}\">Last 12 Hours</option>\n      <option value=\"${ZipkinLookbackValue.LAST_24_HOURS}\">Last 24 Hours</option>\n      <option value=\"${ZipkinLookbackValue.LAST_2_DAYS}\">Last 2 Days</option>\n      <option value=\"${ZipkinLookbackValue.LAST_7_DAYS}\">Last 7 Days</option>\n      <option value=\"${ZipkinLookbackValue.CUSTOM}\">Custom</option>`;\n\n      lookbackContainer.appendChild(customLookbackInput);\n\n      const minDurationContainer = document.createElement('div');\n      minDurationContainer.classList.add('field');\n      form.appendChild(minDurationContainer);\n      const minDurationTitleContainer = document.createElement('div');\n      minDurationTitleContainer.textContent = 'Min Duration';\n      minDurationTitleContainer.classList.add('field-title');\n      minDurationContainer.appendChild(minDurationTitleContainer);\n      minDurationInput.classList.add('small');\n      minDurationInput.placeholder = 'e.g. 1.2s, 100ms, 500us';\n      minDurationContainer.appendChild(minDurationInput);\n\n      const maxDurationContainer = document.createElement('div');\n      maxDurationContainer.classList.add('field');\n      form.appendChild(maxDurationContainer);\n      const maxDurationTitleContainer = document.createElement('div');\n      maxDurationTitleContainer.textContent = 'Max Duration';\n      maxDurationTitleContainer.classList.add('field-title');\n      maxDurationContainer.appendChild(maxDurationTitleContainer);\n      maxDurationInput.classList.add('small');\n      maxDurationInput.placeholder = 'e.g. 1.2s, 100ms, 500us';\n      maxDurationContainer.appendChild(maxDurationInput);\n\n      const limitContainer = document.createElement('div');\n      limitContainer.classList.add('field');\n      form.appendChild(limitContainer);\n      const limitTitleContainer = document.createElement('div');\n      limitTitleContainer.textContent = 'Limit';\n      limitTitleContainer.classList.add('field-title');\n      limitContainer.appendChild(limitTitleContainer);\n      limitInput.classList.add('small');\n      limitInput.type = 'number';\n      limitInput.min = '1';\n      limitInput.value = '100';\n      limitInput.required = true;\n      limitContainer.appendChild(limitInput);\n\n      button.textContent = 'Search';\n      button.type = 'submit';\n      button.classList.add('secondary', 'small');\n      form.appendChild(button);\n    }\n\n    // Bottom\n    {\n      els.footer.selectionText.innerHTML = 'No trace selected';\n      els.footer.container.appendChild(els.footer.selectionText);\n\n      els.footer.addToStageButton.classList.add('primary', 'small');\n      els.footer.addToStageButton.textContent = 'Add to Stage';\n      els.footer.addToStageButton.disabled = true;\n      els.footer.container.appendChild(els.footer.addToStageButton);\n    }\n  }\n\n  init() {\n    this.initTippyInstances();\n\n    // Bind events\n    this.dsManager.on(\n      DataSourceManagerEvent.UPDATED,\n      this.binded.onDataSourceManagerUpdate\n    );\n    this.tracesTable.on(\n      TraceSearchResultsTableEvent.SELECTIONS_UPDATED,\n      this.binded.onTableSelectionUpdated\n    );\n    this.tracesTable.on(\n      TraceSearchResultsTableEvent.TRACE_DOUBLE_CLICKED,\n      this.binded.onTableTraceDoubleClicked\n    );\n    this.elements.header.statusContainer.addEventListener(\n      'click',\n      this.binded.onStatusClick,\n      false\n    );\n    this.elements.searchByTraceId.form.addEventListener(\n      'submit',\n      this.binded.onSearchByTraceIdFormSubmit,\n      false\n    );\n    this.elements.searchFormToggle.addEventListener(\n      'click',\n      this.binded.onSearchFormToggleClick,\n      false\n    );\n    this.elements.search.form.addEventListener(\n      'submit',\n      this.binded.onSearcFormSubmit,\n      false\n    );\n    this.elements.search.serviceSelect.addEventListener(\n      'change',\n      this.binded.onServiceSelectChange,\n      false\n    );\n    this.elements.search.lookbackSelect.addEventListener(\n      'change',\n      this.binded.onLookbackSelectChange,\n      false\n    );\n    this.elements.footer.addToStageButton.addEventListener(\n      'click',\n      this.binded.onAddToStageButtonClick,\n      false\n    );\n\n    // Date range picker\n    this.customLookbackFlatpickr = flatpickr(\n      this.elements.search.customLookbackInput,\n      {\n        mode: 'range',\n        enableTime: true,\n        time_24hr: true,\n        dateFormat: 'Z',\n        altInput: true,\n        altFormat: 'M d, H:i',\n        locale: {\n          rangeSeparator: DATE_RANGE_SEPERATOR,\n          firstDayOfWeek: 1,\n        } as any,\n      }\n    );\n    // Initially hide custom date inputs\n    this.onLookbackSelectChange();\n\n    // Traces table\n    // In order to get offsetWidth and height, the dom must be rendered\n    // So before calling this `init()` method, ensure that dom is rendered.\n    const { tableContainer } = this.elements.result;\n    this.tracesTable.mount(tableContainer);\n    this.tracesTable.init({\n      width: tableContainer.offsetWidth,\n      height: tableContainer.offsetHeight,\n      showInStageColumn: true,\n      indicateTracesOverlappingWithStage: true,\n    });\n\n    // Traces scatter plot\n    const { scatterPlotContainer } = this.elements.result;\n    this.tracesScatterPlot.mount(scatterPlotContainer);\n    this.tracesScatterPlot.init({\n      width: scatterPlotContainer.offsetWidth,\n      height: scatterPlotContainer.offsetHeight,\n    });\n    this.tracesScatterPlot.on(\n      TracesScatterPlotEvent.POINT_CLICKED,\n      this.binded.onTraceScatterPointClick\n    );\n  }\n\n  private initTippyInstances() {\n    this.tippyInstaces = {\n      status: tippy(this.elements.header.statusContainer, {\n        delay: 0,\n        duration: 0,\n        updateDuration: 0,\n        content: this.elements.header.statusContent,\n        theme: 'tooltip',\n        placement: 'top',\n      }),\n    };\n  }\n\n  private async testApiAndFetchServices() {\n    const els = this.elements;\n\n    els.header.statusContainer.classList.remove('success', 'error', 'warning');\n    els.header.statusContainer.innerHTML = `<div class=\"sk-circle\">\n      <div class=\"sk-circle1 sk-child\"></div>\n      <div class=\"sk-circle2 sk-child\"></div>\n      <div class=\"sk-circle3 sk-child\"></div>\n      <div class=\"sk-circle4 sk-child\"></div>\n      <div class=\"sk-circle5 sk-child\"></div>\n      <div class=\"sk-circle6 sk-child\"></div>\n      <div class=\"sk-circle7 sk-child\"></div>\n      <div class=\"sk-circle8 sk-child\"></div>\n      <div class=\"sk-circle9 sk-child\"></div>\n      <div class=\"sk-circle10 sk-child\"></div>\n      <div class=\"sk-circle11 sk-child\"></div>\n      <div class=\"sk-circle12 sk-child\"></div>\n    </div>`;\n    els.header.statusContent.textContent = 'Testing the API...';\n\n    // Test api\n    const [testErr] = await to(this.api.test());\n    if (testErr) {\n      els.header.statusContainer.classList.add('error');\n      els.header.statusContainer.innerHTML = SvgAlertCircle;\n      els.header.statusContent.textContent = testErr.message;\n      return;\n    }\n\n    // Get services\n    const [getErr, response] = await to(this.api.getServices());\n    if (getErr) {\n      els.header.statusContainer.classList.add('error');\n      els.header.statusContainer.innerHTML = SvgAlertCircle;\n      els.header.statusContent.textContent = `Could not get services from API: \"${getErr.message}\"`;\n      return;\n    }\n\n    if (!response || !response.length) {\n      els.header.statusContainer.classList.add('warning');\n      els.header.statusContainer.innerHTML = SvgAlert;\n      els.header.statusContent.textContent = `There is no services found`;\n      return;\n    }\n\n    const serviceNames: string[] = response.sort();\n    this.elements.search.serviceSelect.innerHTML = serviceNames\n      .map((s) => `<option value=\"${s}\">${s}</option>`)\n      .join('');\n\n    const currentValue = this.elements.search.serviceSelect.value;\n    if (serviceNames.indexOf(currentValue) > -1) {\n      this.elements.search.serviceSelect.value = currentValue;\n    }\n\n    this.updateOperationsSelect();\n\n    els.header.statusContainer.classList.add('success');\n    els.header.statusContainer.innerHTML = SvgCheckCircle;\n    els.header.statusContent.textContent = 'API is OK';\n  }\n\n  onShow() {\n    const { tableContainer, scatterPlotContainer } = this.elements.result;\n    this.tracesScatterPlot.resize(\n      scatterPlotContainer.offsetWidth,\n      scatterPlotContainer.offsetHeight\n    );\n    this.tracesTable.resize(\n      tableContainer.offsetWidth,\n      tableContainer.offsetHeight\n    );\n    this.tracesTable.redrawTable(true);\n\n    this.testApiAndFetchServices();\n  }\n\n  private async updateOperationsSelect() {\n    const serviceName = this.elements.search.serviceSelect.value;\n    const currentValue = this.elements.search.operationSelect.value;\n\n    try {\n      const response = await this.api.getSpans(serviceName);\n      const operationNames: string[] = ['all', ...response.sort()];\n      this.elements.search.operationSelect.innerHTML = operationNames\n        .map((o) => `<option value=\"${o}\">${o}</option>`)\n        .join('');\n\n      if (operationNames.indexOf(currentValue) > -1) {\n        this.elements.search.operationSelect.value = currentValue;\n      }\n    } catch (err) {\n      new Noty({\n        text: `Could not fetch operations from API: \"${err.message}\"`,\n        type: 'error',\n      }).show();\n    }\n  }\n\n  private onDataSourceManagerUpdate(ds: DataSource) {\n    if (ds.id != this.options.dataSource.id) return;\n    this.options.dataSource = ds;\n    this.api = this.dsManager.apiFor(ds) as ZipkinAPI;\n  }\n\n  private async onSearchByTraceIdFormSubmit(e: Event) {\n    e.preventDefault();\n\n    this.traceResults = [];\n    this.elements.searchByTraceId.button.disabled = true;\n    this.toggleRightPanelOverlay('loading');\n\n    try {\n      const formEl = this.elements.searchByTraceId;\n\n      const traceSpans: Span[] = await this.api.getTrace(formEl.input.value);\n\n      this.traceResults = traceSpans.length > 0 ? [new Trace(traceSpans)] : [];\n      this.tracesScatterPlot.setTraces(this.traceResults);\n      this.tracesTable.updateTraces(this.traceResults);\n\n      this.toggleRightPanelOverlay(\n        this.traceResults.length == 0 ? 'no-results' : false\n      );\n\n      window.Countly &&\n        window.Countly.add_event({\n          key: 'trace_searched_by_id',\n          count: 1,\n          segmentation: {\n            type: 'zipkin',\n            resultCount: this.traceResults.length,\n          },\n        });\n    } catch (err) {\n      this.toggleRightPanelOverlay('error', err.message);\n\n      window.Countly &&\n        window.Countly.add_event({\n          key: 'trace_search_by_id_error',\n          count: 1,\n          segmentation: {\n            type: 'zipkin',\n            message: err.message,\n          },\n        });\n    }\n\n    this.elements.searchByTraceId.button.disabled = false;\n  }\n\n  private async onSearchFormSubmit(e: Event) {\n    e.preventDefault();\n\n    this.traceResults = [];\n    this.elements.search.button.disabled = true;\n    this.toggleRightPanelOverlay('loading');\n\n    try {\n      const formEl = this.elements.search;\n      const query: ZipkinAPISearchQuery = {\n        serviceName: formEl.serviceSelect.value,\n      };\n\n      if (\n        formEl.operationSelect.value &&\n        formEl.operationSelect.value != 'all'\n      ) {\n        query.spanName = formEl.operationSelect.value;\n      }\n\n      if (formEl.tagsInput.value) {\n        query.annotationQuery = formEl.tagsInput.value;\n      }\n\n      if (formEl.lookbackSelect.value == ZipkinLookbackValue.CUSTOM) {\n        const dateRangeValue = this.customLookbackFlatpickr.input.value.trim();\n        const parts = dateRangeValue.split(DATE_RANGE_SEPERATOR);\n        if (parts.length != 2) {\n          throw new Error(`Unsupported custom lookback`);\n        }\n        query.endTs = new Date(parts[1]).getTime();\n        query.lookback = query.endTs - new Date(parts[0]).getTime();\n      } else {\n        const duration = parseDuration(formEl.lookbackSelect.value);\n        query.endTs = Date.now();\n        query.lookback = duration;\n      }\n\n      if (formEl.minDurationInput.value) {\n        query.minDuration = parseDuration(formEl.minDurationInput.value) * 1000;\n      }\n\n      if (formEl.maxDurationInput.value) {\n        query.maxDuration = parseDuration(formEl.maxDurationInput.value) * 1000;\n      }\n\n      const limitIntValue = parseInt(formEl.limitInput.value, 10);\n      if (isNaN(limitIntValue)) {\n        throw new Error(`Unsupported limit value`);\n      }\n      query.limit = limitIntValue;\n\n      const traceSpans: Span[][] = await this.api.search(query);\n      this.traceResults = traceSpans.map((spans) => new Trace(spans));\n      this.tracesScatterPlot.setTraces(this.traceResults);\n      this.tracesTable.updateTraces(this.traceResults);\n\n      this.toggleRightPanelOverlay(\n        this.traceResults.length == 0 ? 'no-results' : false\n      );\n\n      window.Countly &&\n        window.Countly.add_event({\n          key: 'trace_searched',\n          count: 1,\n          segmentation: {\n            type: 'zipkin',\n            resultCount: this.traceResults.length,\n          },\n        });\n    } catch (err) {\n      this.toggleRightPanelOverlay('error', err.message);\n\n      window.Countly &&\n        window.Countly.add_event({\n          key: 'trace_search_error',\n          count: 1,\n          segmentation: {\n            type: 'zipkin',\n            message: err.message,\n          },\n        });\n    }\n\n    this.elements.search.button.disabled = false;\n  }\n\n  private onServiceSelectChange() {\n    this.updateOperationsSelect();\n  }\n\n  private onLookbackSelectChange() {\n    if (\n      this.elements.search.lookbackSelect.value == ZipkinLookbackValue.CUSTOM\n    ) {\n      this.customLookbackFlatpickr.altInput.style.display = '';\n      this.customLookbackFlatpickr.open();\n    } else {\n      this.customLookbackFlatpickr.altInput.style.display = 'none';\n    }\n  }\n\n  resize() {\n    const { tableContainer, scatterPlotContainer } = this.elements.result;\n    this.tracesScatterPlot.resize(\n      scatterPlotContainer.offsetWidth,\n      scatterPlotContainer.offsetHeight\n    );\n    this.tracesTable.resize(\n      tableContainer.offsetWidth,\n      tableContainer.offsetHeight\n    );\n  }\n\n  private async onTableSelectionUpdated(\n    selectedTraces: TraceSearchResultsTableRowData[]\n  ) {\n    // When we try to redraw tabulator while it's already redrawing,\n    // it gives an error. So, we apply the most famous javascript workaround ever.\n    // await new Promise(resolve => setTimeout(resolve, 0));\n    this.selectedTraceIds = selectedTraces.map((t) => t.id);\n\n    if (selectedTraces.length == 0) {\n      this.elements.footer.addToStageButton.disabled = true;\n      this.elements.footer.selectionText.textContent = 'No trace selected';\n      return;\n    }\n\n    let text = `${selectedTraces.length} traces`;\n    if (selectedTraces.length == 1) {\n      text = `1 trace`;\n    }\n    this.elements.footer.selectionText.innerHTML = `<strong>${text}</strong> selected`;\n    this.elements.footer.addToStageButton.disabled = false;\n  }\n\n  private async onTableTraceDoubleClicked(\n    trace: TraceSearchResultsTableRowData\n  ) {\n    const traces = this.traceResults.filter((t) => t.id == trace.id);\n    this.options.onTracesAdd?.(traces);\n    this.tracesTable.selectTrace(null);\n    this.reloadTableData();\n  }\n\n  private onAddToStageButtonClick() {\n    const traces = this.selectedTraceIds.map((traceId) => {\n      return find(this.traceResults, (t) => t.id == traceId);\n    });\n    this.options.onTracesAdd?.(traces);\n    this.tracesTable.selectTrace(null);\n    this.reloadTableData();\n  }\n\n  private onTraceScatterPointClick(trace: Trace) {\n    this.tracesTable.selectTrace(trace.id);\n    this.tracesTable.focusTrace(trace.id);\n  }\n\n  private onStatusClick() {\n    this.testApiAndFetchServices();\n  }\n\n  reloadTableData() {\n    this.tracesTable.reloadData();\n  }\n\n  private onSearchFormToggleClick() {\n    const els = this.elements;\n    this.isSearchFormHidden = !this.isSearchFormHidden;\n\n    if (this.isSearchFormHidden) {\n      els.mainContainer.classList.add('search-form-hidden');\n      els.searchFormToggle.innerHTML = SvgArrowCollapseRight;\n    } else {\n      els.mainContainer.classList.remove('search-form-hidden');\n      els.searchFormToggle.innerHTML = SvgArrowCollapseLeft;\n    }\n\n    this.resize();\n  }\n\n  private toggleRightPanelOverlay(\n    type: 'ready' | 'loading' | 'no-results' | 'error' | false,\n    errorMessage?: string\n  ) {\n    const { overlayContainer } = this.elements.result;\n\n    if (!type) {\n      overlayContainer.style.display = 'none';\n      return;\n    }\n\n    if (type == 'loading') {\n      // Borrowed from https://tobiasahlin.com/spinkit/\n      overlayContainer.innerHTML = `<div class=\"sk-circle\">\n        <div class=\"sk-circle1 sk-child\"></div>\n        <div class=\"sk-circle2 sk-child\"></div>\n        <div class=\"sk-circle3 sk-child\"></div>\n        <div class=\"sk-circle4 sk-child\"></div>\n        <div class=\"sk-circle5 sk-child\"></div>\n        <div class=\"sk-circle6 sk-child\"></div>\n        <div class=\"sk-circle7 sk-child\"></div>\n        <div class=\"sk-circle8 sk-child\"></div>\n        <div class=\"sk-circle9 sk-child\"></div>\n        <div class=\"sk-circle10 sk-child\"></div>\n        <div class=\"sk-circle11 sk-child\"></div>\n        <div class=\"sk-circle12 sk-child\"></div>\n      </div>`;\n      overlayContainer.style.display = '';\n      return;\n    }\n\n    if (type == 'no-results') {\n      overlayContainer.innerHTML = `<div class=\"message\">\n        ${SvgEmoticonSad}\n        <span>No results found</span>\n      </div>`;\n      overlayContainer.style.display = '';\n      return;\n    }\n\n    if (type == 'ready') {\n      overlayContainer.innerHTML = `<div class=\"message\">\n        ${SvgEmoticonCool}\n        <span>Ready to search traces</span>\n      </div>`;\n      overlayContainer.style.display = '';\n      return;\n    }\n\n    if (type == 'error') {\n      overlayContainer.innerHTML = `<div class=\"message\">\n        ${SvgAlertCircleOutline}\n        <span>${errorMessage}</span>\n      </div>`;\n      overlayContainer.style.display = '';\n      return;\n    }\n  }\n\n  getElement() {\n    return this.elements.container;\n  }\n\n  dispose() {\n    this.dsManager.removeListener(\n      DataSourceManagerEvent.UPDATED,\n      this.binded.onDataSourceManagerUpdate\n    );\n    this.tracesTable.removeListener(\n      TraceSearchResultsTableEvent.SELECTIONS_UPDATED,\n      this.binded.onTableSelectionUpdated\n    );\n    this.tracesTable.removeListener(\n      TraceSearchResultsTableEvent.TRACE_DOUBLE_CLICKED,\n      this.binded.onTableTraceDoubleClicked\n    );\n    this.elements.header.statusContainer.removeEventListener(\n      'click',\n      this.binded.onStatusClick,\n      false\n    );\n    this.elements.searchByTraceId.form.removeEventListener(\n      'submit',\n      this.binded.onSearchByTraceIdFormSubmit,\n      false\n    );\n    this.elements.search.form.removeEventListener(\n      'submit',\n      this.binded.onSearcFormSubmit,\n      false\n    );\n    this.elements.search.serviceSelect.removeEventListener(\n      'change',\n      this.binded.onServiceSelectChange,\n      false\n    );\n    this.elements.search.lookbackSelect.removeEventListener(\n      'change',\n      this.binded.onLookbackSelectChange,\n      false\n    );\n    this.elements.footer.addToStageButton.removeEventListener(\n      'click',\n      this.binded.onAddToStageButtonClick,\n      false\n    );\n    this.elements.searchFormToggle.removeEventListener(\n      'click',\n      this.binded.onSearchFormToggleClick,\n      false\n    );\n    this.tracesScatterPlot.removeListener(\n      TracesScatterPlotEvent.POINT_CLICKED,\n      this.binded.onTraceScatterPointClick\n    );\n\n    Object.values(this.tippyInstaces).forEach((t) => t.destroy());\n    this.tracesTable.dispose();\n    this.tracesScatterPlot.dispose();\n    this.customLookbackFlatpickr.destroy();\n  }\n}\n","import api from \"!../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../node_modules/css-loader/dist/cjs.js!./app.css\";\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","import api from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../node_modules/css-loader/dist/cjs.js!./dock-panel.css\";\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","import api from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../node_modules/css-loader/dist/cjs.js!./noty.css\";\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","import api from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../node_modules/css-loader/dist/cjs.js!./flatpickr.css\";\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","import api from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../node_modules/css-loader/dist/cjs.js!./form.css\";\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","import { AppToolbar } from './components/app-toolbar/app-toolbar';\nimport throttle from 'lodash/throttle';\nimport isArray from 'lodash/isArray';\nimport isObject from 'lodash/isObject';\nimport { DataSourceManager } from './model/datasource/manager';\nimport { SpanGroupingManager } from './model/span-grouping/manager';\nimport { SpanColoringManager } from './model/span-coloring-manager';\nimport { SpanLabellingManager } from './model/span-labelling-manager';\nimport { Trace } from './model/trace';\nimport { Stage, StageEvent } from './model/stage';\nimport { TimelineWrapper } from './components/timeline-wrapper/timeline-wrapper';\nimport { TimelineViewEvent } from './components/timeline/timeline-view';\nimport { DockPanel } from '@phosphor/widgets';\nimport { WidgetWrapper } from './components/ui/widget-wrapper';\nimport Noty from 'noty';\nimport { isJaegerJSON, convertFromJaegerTrace } from './model/jaeger';\nimport { isZipkinJSON, convertFromZipkinTrace } from './model/zipkin';\nimport { TypeScriptManager } from './components/customization/typescript-manager';\nimport { SpanSummaryView } from './components/span-summary/span-summary';\nimport { SpanTagsView } from './components/span-tags/span-tags';\nimport { SpanProcessTagsView } from './components/span-process-tags/span-process-tags';\nimport { SpanLogsView } from './components/span-logs/span-logs';\nimport {\n  SpansTableView,\n  SpansTableViewEvent,\n} from './components/spans-table/spans-table';\nimport {\n  ContextMenuManager,\n  ContextMenuEvent,\n} from './components/ui/context-menu/context-menu-manager';\nimport { SettingsManager } from './model/settings-manager';\nimport { DataSource, DataSourceType } from './model/datasource/interfaces';\nimport { JaegerSearch } from './components/trace-search/jaeger-search';\nimport { ZipkinSearch } from './components/trace-search/zipkin-search';\nimport { Modal } from './components/ui/modal/modal';\nimport { ModalManager } from './components/ui/modal/modal-manager';\n\nimport AlertSvgText from '!!raw-loader!@mdi/svg/svg/alert.svg';\nimport 'tippy.js/dist/tippy.css';\nimport 'noty/lib/noty.css';\nimport 'flatpickr/dist/flatpickr.min.css';\nimport './app.css';\nimport './global-styles/dock-panel.css';\nimport './global-styles/noty.css';\nimport './global-styles/flatpickr.css';\nimport './global-styles/form.css';\n\n// DO NOT change these string, they're used for\n// remembering & saving dock layout!\nexport enum AppWidgetType {\n  TIMELINE = 'timeline-view',\n  SPANS_TABLE = 'spans-table',\n  SPAN_SUMMARY = 'span-summary',\n  SPAN_TAGS = 'span-tags',\n  SPAN_PROCESS_TAGS = 'span-process-tags',\n  SPAN_LOGS = 'span-logs',\n}\n\nexport interface AppOptions {\n  element: HTMLDivElement;\n}\n\nexport class App {\n  private stage = Stage.getSingleton();\n  private contextMenuManager = ContextMenuManager.getSingleton();\n  private settingsManager = SettingsManager.getSingleton();\n  private timeline = new TimelineWrapper();\n  private spanSummary = new SpanSummaryView();\n  private spanTags = new SpanTagsView();\n  private spanProcessTags = new SpanProcessTagsView();\n  private spanLogs = new SpanLogsView();\n  private spansTable = new SpansTableView();\n\n  private dockPanel = new DockPanel();\n  private widgets: { [key: string]: WidgetWrapper } = {};\n  private dropZoneEl = document.createElement('div');\n\n  private dataSourceSearchWidgets: {\n    [key: string]: {\n      dataSource: DataSource;\n      widgetWrapper: WidgetWrapper;\n      component: JaegerSearch | ZipkinSearch;\n    };\n  } = {};\n\n  private binded = {\n    onStageTraceAdded: this.onStageTraceAdded.bind(this),\n    onStageTraceRemoved: this.onStageTraceRemoved.bind(this),\n    onTimelineSpanSelected: this.onTimelineSpanSelected.bind(this),\n    onSpansTableSpanSelected: this.onSpansTableSpanSelected.bind(this),\n    onWindowResize: this.onWindowResize.bind(this),\n    onDrop: this.onDrop.bind(this),\n    onDragOver: this.onDragOver.bind(this),\n    onDragLeave: this.onDragLeave.bind(this),\n    showSpanInTableView: this.showSpanInTableView.bind(this),\n    showSpanInTimelineView: this.showSpanInTimelineView.bind(this),\n    onKeyDown: this.onKeyDown.bind(this),\n    onToolbarDataSourceClick: this.onToolbarDataSourceClick.bind(this),\n  };\n\n  private toolbar = new AppToolbar({\n    onDataSourceClick: this.binded.onToolbarDataSourceClick,\n  });\n\n  constructor(private options: AppOptions) {\n    // Noop\n  }\n\n  async init() {\n    // Init managers related with db\n    await Promise.all([\n      SettingsManager.getSingleton().init(),\n      DataSourceManager.getSingleton().init(),\n      SpanGroupingManager.getSingleton().init(),\n      SpanColoringManager.getSingleton().init(),\n      SpanLabellingManager.getSingleton().init(),\n      TypeScriptManager.getSingleton().init(),\n    ]);\n\n    this.contextMenuManager.init();\n    this.initDockPanelAndWidgets();\n\n    this.toolbar.mount(this.options.element);\n\n    const timelineWidgetEl = this.widgets[AppWidgetType.TIMELINE].node;\n    this.timeline.mount(timelineWidgetEl);\n    const { offsetWidth: w1, offsetHeight: h1 } = timelineWidgetEl;\n    this.timeline.init({ width: w1, height: h1 });\n    this.toolbar.init(); // Needs dsManager\n\n    const spansTableWidgetEl = this.widgets[AppWidgetType.SPANS_TABLE].node;\n    this.spansTable.mount(spansTableWidgetEl);\n    const { offsetWidth: w4, offsetHeight: h4 } = spansTableWidgetEl;\n    this.spansTable.init({ width: w4, height: h4 });\n\n    const spanSummaryWidgetEl = this.widgets[AppWidgetType.SPAN_SUMMARY].node;\n    this.spanSummary.mount(spanSummaryWidgetEl);\n    this.spanSummary.init({\n      timeline: this.timeline.timeline,\n      spansTable: this.spansTable,\n    });\n\n    const spanTagsWidgetEl = this.widgets[AppWidgetType.SPAN_TAGS].node;\n    this.spanTags.mount(spanTagsWidgetEl);\n    this.spanTags.init({\n      timeline: this.timeline.timeline,\n      spansTable: this.spansTable,\n    });\n\n    const spanProcessTagsWidgetEl = this.widgets[\n      AppWidgetType.SPAN_PROCESS_TAGS\n    ].node;\n    this.spanProcessTags.mount(spanProcessTagsWidgetEl);\n    this.spanProcessTags.init({\n      timeline: this.timeline.timeline,\n      spansTable: this.spansTable,\n    });\n\n    const spanLogsWidgetEl = this.widgets[AppWidgetType.SPAN_LOGS].node;\n    this.spanLogs.mount(spanLogsWidgetEl);\n    this.spanLogs.init({\n      timeline: this.timeline.timeline,\n      spansTable: this.spansTable,\n    });\n\n    this.initDropZone();\n\n    // Bind events\n    this.stage.on(StageEvent.TRACE_ADDED, this.binded.onStageTraceAdded);\n    this.stage.on(StageEvent.TRACE_REMOVED, this.binded.onStageTraceRemoved);\n    this.timeline.timeline.on(\n      TimelineViewEvent.SPAN_SELECTED,\n      this.binded.onTimelineSpanSelected\n    );\n    this.spansTable.on(\n      SpansTableViewEvent.SPAN_SELECTED,\n      this.binded.onSpansTableSpanSelected\n    );\n    window.addEventListener('resize', this.binded.onWindowResize, false);\n    this.options.element.addEventListener('drop', this.binded.onDrop, false);\n    this.options.element.addEventListener(\n      'dragover',\n      this.binded.onDragOver,\n      false\n    );\n    this.dropZoneEl.addEventListener(\n      'dragleave',\n      this.binded.onDragLeave,\n      false\n    );\n    this.contextMenuManager.on(\n      ContextMenuEvent.SHOW_SPAN_IN_TABLE_VIEW,\n      this.binded.showSpanInTableView\n    );\n    this.contextMenuManager.on(\n      ContextMenuEvent.SHOW_SPAN_IN_TIMELINE_VIEW,\n      this.binded.showSpanInTimelineView\n    );\n    document.addEventListener('keydown', this.binded.onKeyDown, false);\n\n    // Hide initial loading\n    const loadingEl = document.getElementById(\n      'initial-loading'\n    ) as HTMLDivElement;\n    if (loadingEl) {\n      loadingEl.addEventListener(\n        'transitionend',\n        () => {\n          document.body.removeChild(loadingEl);\n        },\n        { once: true }\n      );\n      loadingEl.classList.add('hidden');\n    }\n\n    window.Countly &&\n      window.Countly.add_event({\n        key: 'ready',\n        count: 1,\n        segmentation: {},\n      });\n\n    // Show a warning for touch devices says this app is\n    // optimized for desktop browsers.\n    const isTouchDevice = matchMedia('(hover: none)').matches; // https://stackoverflow.com/a/63666289\n    if (isTouchDevice) {\n      this.showTouchDeviceWarningModal();\n    }\n\n    // If our window is opened by raft-consensus, send an `ready` event to it,\n    // and listen required events so it can export traces.\n    if (window.opener) {\n      window.addEventListener('message', (event) => {\n        try {\n          const tracesObj = JSON.parse(event.data);\n\n          Object.values(tracesObj).forEach((spans: any) => {\n            const trace = new Trace(spans);\n            this.stage.addTrace(trace);\n          });\n\n          window.Countly &&\n            window.Countly.add_event({\n              key: 'trace_added_from_postmessage',\n              count: 1,\n              segmentation: {\n                traceCount: Object.keys(tracesObj).length,\n              },\n            });\n\n        } catch (err) {\n          console.error(`Could not parse incoming message, it must be JSON`, event.data);\n        }\n      });\n\n      window.opener.postMessage('ready');\n    }\n  }\n\n  private initDockPanelAndWidgets() {\n    this.dockPanel.id = 'app-dock-panel';\n\n    this.widgets[AppWidgetType.TIMELINE] = new WidgetWrapper({\n      title: 'Timeline View',\n      onResize: throttle((msg: { width: number; height: number }) => {\n        this.onTimelineWidgetResize(msg);\n      }, 100),\n      closable: false,\n    });\n\n    this.widgets[AppWidgetType.SPANS_TABLE] = new WidgetWrapper({\n      title: 'Table View',\n      onResize: throttle((msg: { width: number; height: number }) => {\n        this.spansTable.resize(msg.width, msg.height);\n      }, 100),\n      onAfterShow: () => this.spansTable.redrawTable(),\n      closable: false,\n    });\n\n    this.widgets[AppWidgetType.SPAN_SUMMARY] = new WidgetWrapper({\n      title: 'Span Summary',\n      onResize: throttle((msg: { width: number; height: number }) => {\n        this.spanSummary.resize(msg.width, msg.height);\n      }, 100),\n      closable: false,\n    });\n\n    this.widgets[AppWidgetType.SPAN_TAGS] = new WidgetWrapper({\n      title: 'Span Tags',\n      onResize: throttle((msg: { width: number; height: number }) => {\n        this.spanTags.resize(msg.width, msg.height);\n      }, 100),\n      closable: false,\n    });\n\n    this.widgets[AppWidgetType.SPAN_PROCESS_TAGS] = new WidgetWrapper({\n      title: 'Process Tags',\n      onResize: throttle((msg: { width: number; height: number }) => {\n        this.spanProcessTags.resize(msg.width, msg.height);\n      }, 100),\n      closable: false,\n    });\n\n    this.widgets[AppWidgetType.SPAN_LOGS] = new WidgetWrapper({\n      title: 'Span Logs',\n      onResize: throttle((msg: { width: number; height: number }) => {\n        this.spanLogs.resize(msg.width, msg.height);\n      }, 100),\n      closable: false,\n    });\n\n    this.dockPanel.restoreLayout(this.getDockPanelLayout() as any);\n    DockPanel.attach(this.dockPanel, this.options.element);\n  }\n\n  private onStageTraceAdded(trace: Trace) {\n    this.timeline.addTrace(trace);\n  }\n\n  private onStageTraceRemoved(trace: Trace) {\n    this.timeline.removeTrace(trace);\n\n    Object.values(this.dataSourceSearchWidgets).forEach(({ component }) => {\n      component.reloadTableData();\n    });\n  }\n\n  private onTimelineSpanSelected(spanId: string) {\n    this.spansTable.selectSpan(spanId, true);\n    this.spansTable.focusSpan(spanId);\n  }\n\n  private onSpansTableSpanSelected(spanId: string) {\n    this.timeline.timeline.selectSpan(spanId, true);\n    this.timeline.timeline.focusSpans([spanId]);\n  }\n\n  private onWindowResize() {\n    this.dockPanel.update();\n  }\n\n  private onTimelineWidgetResize(msg: { width: number; height: number }) {\n    this.timeline.resize(msg.width, msg.height);\n  }\n\n  private initDropZone() {\n    this.dropZoneEl.id = 'drop-zone';\n    // Drop zone should not have any children, it causes unexpected dragleave/dragover events\n    // https://stackoverflow.com/questions/20958176/why-is-dragleave-event-firing-unexpectedly\n    // That's why we seperate border and overlay text\n    this.dropZoneEl.innerHTML = `<div class=\"border\"></div>\n      <div class=\"overlay-text\">Drop JSON trace file(s) here</div>`;\n    this.options.element.appendChild(this.dropZoneEl);\n  }\n\n  private async onDrop(e: DragEvent) {\n    e.preventDefault();\n    this.dropZoneEl.style.display = 'none';\n    const errorMessages = [] as string[];\n\n    // You have to perform async (reading file) task in parallel,\n    // if not `e.dataTransfer` will be released from memory on next\n    // iteration, you can't access it.\n    const tasks = Array.from(e.dataTransfer.items).map(async (item) => {\n      // If dropped items aren't files, reject them\n      if (item.kind != 'file') {\n        errorMessages.push('Only files can be dropped');\n        return;\n      }\n\n      const file = item.getAsFile();\n      if (file.type != 'application/json') {\n        errorMessages.push(`${file.name}: Not a JSON file`);\n        return;\n      }\n\n      let fileContent = '';\n      try {\n        fileContent = await readFile(file);\n      } catch (err) {\n        errorMessages.push(\n          `${file.name}: Could not read its content -- ${err.message}`\n        );\n        return;\n      }\n\n      let parsedJson: any;\n      try {\n        parsedJson = JSON.parse(fileContent);\n      } catch (err) {\n        errorMessages.push(`${file.name}: Invalid JSON`);\n        return;\n      }\n\n      try {\n        this.openDroppedJSONFiles(parsedJson);\n      } catch (err) {\n        errorMessages.push(`${file.name}: ${err.message}`);\n      }\n    });\n\n    await Promise.all(tasks);\n\n    if (errorMessages.length > 0) {\n      const text = `Following errors occured while importing:\n        <ul>${errorMessages.map((m) => `<li>${m}</li>`).join('')}</ul>`;\n      new Noty({\n        text,\n        type: 'error',\n      }).show();\n    }\n\n    window.Countly &&\n      window.Countly.add_event({\n        key: 'json_file_dropped',\n        count: 1,\n        segmentation: {\n          errorCount: errorMessages.length,\n        },\n      });\n  }\n\n  private onDragOver(e: DragEvent) {\n    e.preventDefault();\n    this.dropZoneEl.style.display = 'block';\n  }\n\n  private onDragLeave(e: DragEvent) {\n    this.dropZoneEl.style.display = 'none';\n  }\n\n  private openDroppedJSONFiles(parsedJson: any) {\n    if (isJaegerJSON(parsedJson)) {\n      parsedJson.data.forEach((rawTrace: any) => {\n        const spans = convertFromJaegerTrace(rawTrace);\n        const trace = new Trace(spans);\n        this.stage.addTrace(trace);\n      });\n\n      window.Countly &&\n        window.Countly.add_event({\n          key: 'trace_added_from_json_file',\n          count: 1,\n          segmentation: {\n            type: 'jaeger',\n            traceCount: parsedJson.data.length,\n          },\n        });\n\n      return;\n    }\n\n    if (isZipkinJSON(parsedJson)) {\n      if (isArray(parsedJson[0])) {\n        parsedJson.forEach((rawTrace: any) => {\n          const spans = convertFromZipkinTrace(rawTrace);\n          const trace = new Trace(spans);\n          this.stage.addTrace(trace);\n        });\n\n        window.Countly &&\n          window.Countly.add_event({\n            key: 'trace_added_from_json_file',\n            count: 1,\n            segmentation: {\n              type: 'zipkin',\n              traceCount: parsedJson.length,\n            },\n          });\n\n        return;\n      }\n\n      if (isObject(parsedJson[0])) {\n        const spans = convertFromZipkinTrace(parsedJson);\n        const trace = new Trace(spans);\n        this.stage.addTrace(trace);\n\n        window.Countly &&\n          window.Countly.add_event({\n            key: 'trace_added_from_json_file',\n            count: 1,\n            segmentation: {\n              type: 'zipkin',\n              traceCount: 1,\n            },\n          });\n\n        return;\n      }\n\n      throw new Error(`Unrecognized Zipkin format`);\n    }\n\n    window.Countly &&\n      window.Countly.add_event({\n        key: 'unrecognized_json_file',\n        count: 1,\n        segmentation: {},\n      });\n\n    throw new Error(`Unrecognized JSON file`);\n  }\n\n  private async showSpanInTableView(spanId: string) {\n    if (!spanId) return;\n    await this.spansTable.removeFilter();\n    this.spansTable.selectSpan(spanId, true);\n    this.dockPanel.activateWidget(this.widgets[AppWidgetType.SPANS_TABLE]);\n\n    // When spans-table is opening first time, it needs a little time\n    // to catch-up to scroll to row.\n    setTimeout(() => this.spansTable.focusSpan(spanId), 100);\n  }\n\n  private showSpanInTimelineView(spanId: string) {\n    if (!spanId) return;\n    this.timeline.timeline.selectSpan(spanId, true);\n    this.timeline.timeline.focusSpans([spanId]);\n    this.dockPanel.activateWidget(this.widgets[AppWidgetType.TIMELINE]);\n  }\n\n  private onKeyDown(e: KeyboardEvent) {\n    if (\n      e.target instanceof HTMLInputElement ||\n      e.target instanceof HTMLTextAreaElement\n    ) {\n      return;\n    }\n\n    // CMD + A => Prevent selection all the selected texts\n    if (e.key == 'a' && (e.ctrlKey || e.metaKey)) {\n      e.preventDefault();\n      return;\n    }\n  }\n\n  private onToolbarDataSourceClick(dataSource: DataSource) {\n    if (this.dataSourceSearchWidgets[dataSource.id]) {\n      const widgetWrapper = this.dataSourceSearchWidgets[dataSource.id]\n        .widgetWrapper;\n      this.dockPanel.activateWidget(widgetWrapper);\n      return;\n    }\n\n    let component: JaegerSearch | ZipkinSearch;\n    if (dataSource.type == DataSourceType.JAEGER) {\n      component = new JaegerSearch({\n        dataSource,\n        onTracesAdd: (traces: Trace[]) => {\n          traces.forEach((t) => this.stage.addTrace(t));\n          this.dockPanel.activateWidget(this.widgets[AppWidgetType.TIMELINE]);\n\n          window.Countly &&\n            window.Countly.add_event({\n              key: 'trace_added_from_data_source',\n              count: 1,\n              segmentation: {\n                type: 'jaeger',\n                traceCount: traces.length,\n              },\n            });\n        },\n      });\n    } else if (dataSource.type == DataSourceType.ZIPKIN) {\n      component = new ZipkinSearch({\n        dataSource,\n        onTracesAdd: (traces: Trace[]) => {\n          traces.forEach((t) => this.stage.addTrace(t));\n          this.dockPanel.activateWidget(this.widgets[AppWidgetType.TIMELINE]);\n\n          window.Countly &&\n            window.Countly.add_event({\n              key: 'trace_added_from_data_source',\n              count: 1,\n              segmentation: {\n                type: 'zipkin',\n                traceCount: traces.length,\n              },\n            });\n        },\n      });\n    } else {\n      throw new Error(`Unexpected data source type \"${dataSource.type}\"`);\n    }\n\n    const widgetWrapper = new WidgetWrapper({\n      title: `Search: ${dataSource.name}`,\n      onResize: throttle(() => component.resize(), 100),\n      onAfterShow: () => component.onShow(),\n      closable: true,\n      onClose: () => {\n        component.dispose();\n        delete this.dataSourceSearchWidgets[dataSource.id];\n      },\n    });\n    widgetWrapper.node.appendChild(component.getElement());\n    this.dockPanel.addWidget(widgetWrapper);\n    component.init();\n    this.dockPanel.activateWidget(widgetWrapper);\n\n    this.dataSourceSearchWidgets[dataSource.id] = {\n      dataSource,\n      widgetWrapper,\n      component,\n    };\n  }\n\n  private getDockPanelLayout() {\n    return {\n      main: {\n        children: [\n          {\n            type: 'tab-area',\n            currentIndex: 0,\n            widgets: [\n              this.widgets[AppWidgetType.TIMELINE],\n              this.widgets[AppWidgetType.SPANS_TABLE],\n            ],\n          },\n          {\n            type: 'split-area',\n            orientation: 'horizontal',\n            sizes: [0.33, 0.33, 0.33],\n            children: [\n              {\n                type: 'tab-area',\n                currentIndex: 0,\n                widgets: [this.widgets[AppWidgetType.SPAN_SUMMARY]],\n              },\n              {\n                type: 'tab-area',\n                currentIndex: 0,\n                widgets: [\n                  this.widgets[AppWidgetType.SPAN_TAGS],\n                  this.widgets[AppWidgetType.SPAN_PROCESS_TAGS],\n                ],\n              },\n              {\n                type: 'tab-area',\n                currentIndex: 0,\n                widgets: [this.widgets[AppWidgetType.SPAN_LOGS]],\n              },\n            ],\n          },\n        ],\n        orientation: 'vertical',\n        sizes: [0.7, 0.3],\n        type: 'split-area',\n      },\n    };\n  }\n\n  private showTouchDeviceWarningModal() {\n    const content = document.createElement('div');\n    content.classList.add('touch-device-warning');\n    content.innerHTML = `\n      <div>\n        <div>${AlertSvgText}</div>\n        <div class=\"message\">\n          Stalk is not optimized for touch devices. Please use a desktop browser for the best experience.\n        </div>\n        <button class=\"primary\">Okay</button>\n      </div>\n    `.trim();\n    const okButton = content.querySelector('button.primary');\n\n    const modal = new Modal({\n      content,\n      shouldCloseOnEscPress: true,\n      shouldCloseOnOverlayClick: true,\n    });\n\n    okButton.addEventListener(\n      'click',\n      () => {\n        modal.close();\n      },\n      { once: true }\n    );\n\n    ModalManager.getSingleton().show(modal);\n  }\n\n  dispose() {\n    window.removeEventListener('resize', this.binded.onWindowResize, false);\n    this.options.element.removeEventListener('drop', this.binded.onDrop, false);\n    this.options.element.removeEventListener(\n      'dragover',\n      this.binded.onDragOver,\n      false\n    );\n    this.dropZoneEl.removeEventListener(\n      'dragleave',\n      this.binded.onDragLeave,\n      false\n    );\n    this.contextMenuManager.removeListener(\n      ContextMenuEvent.SHOW_SPAN_IN_TABLE_VIEW,\n      this.binded.showSpanInTableView\n    );\n    this.contextMenuManager.removeListener(\n      ContextMenuEvent.SHOW_SPAN_IN_TIMELINE_VIEW,\n      this.binded.showSpanInTimelineView\n    );\n    document.removeEventListener('keydown', this.binded.onKeyDown, false);\n\n    this.toolbar.dispose();\n    this.toolbar = null;\n    this.timeline.dispose();\n    this.timeline = null;\n    this.options = null;\n  }\n}\n\nasync function readFile(file: File): Promise<string> {\n  return new Promise((resolve, reject) => {\n    const fileReader = new FileReader();\n    fileReader.onerror = reject;\n    fileReader.onload = () => resolve(fileReader.result as string);\n    fileReader.readAsText(file);\n  });\n}\n"],"sourceRoot":""}