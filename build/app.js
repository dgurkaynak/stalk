(self.webpackChunkstalk=self.webpackChunkstalk||[]).push([[143],{89780:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(60445),o=n.n(i),s=n(60352),a=n.n(s)()(o());a.push([e.id,"/* Main layout */\n#app {\n  width: 100%;\n  height: 100%;\n}\n#app-toolbar {\n  height: 3.2em;\n}\n#app-dock-panel {\n  position: absolute;\n  top: 3.2em;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  padding: 0.5em;\n}\n\n/* Fix tippy's fixed font-size */\n.tippy-tooltip {\n  font-size: inherit;\n}\n\n/* Drop zone */\n#drop-zone {\n  display: none;\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(255, 255, 255, 0.85);\n}\n\n#drop-zone .border {\n  position: absolute;\n  border: 5px dashed #ccc;\n  top: 25px;\n  right: 25px;\n  bottom: 25px;\n  left: 25px;\n}\n\n#drop-zone .overlay-text {\n  position: relative; /* This forces to render OVER .border element, because border is absolute positioned */\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 2.5em;\n  color: #333;\n}\n\n/* Touch device warning modal */\n.touch-device-warning {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 1em;\n  text-align: center;\n  width: 300px;\n}\n\n.touch-device-warning svg {\n  width: 6em;\n  height: 6em;\n  fill: #faad14;\n}\n\n.touch-device-warning .message {\n  font-size: 1.75em;\n}\n\n.touch-device-warning button {\n  font-size: 1.25em;\n  margin-top: 1em;\n}\n","",{version:3,sources:["webpack://./src/app.css"],names:[],mappings:"AAAA,gBAAgB;AAChB;EACE,WAAW;EACX,YAAY;AACd;AACA;EACE,aAAa;AACf;AACA;EACE,kBAAkB;EAClB,UAAU;EACV,QAAQ;EACR,SAAS;EACT,OAAO;EACP,cAAc;AAChB;;AAEA,gCAAgC;AAChC;EACE,kBAAkB;AACpB;;AAEA,cAAc;AACd;EACE,aAAa;EACb,kBAAkB;EAClB,MAAM;EACN,OAAO;EACP,QAAQ;EACR,SAAS;EACT,qCAAqC;AACvC;;AAEA;EACE,kBAAkB;EAClB,uBAAuB;EACvB,SAAS;EACT,WAAW;EACX,YAAY;EACZ,UAAU;AACZ;;AAEA;EACE,kBAAkB,EAAE,sFAAsF;EAC1G,WAAW;EACX,YAAY;EACZ,aAAa;EACb,mBAAmB;EACnB,uBAAuB;EACvB,gBAAgB;EAChB,WAAW;AACb;;AAEA,+BAA+B;AAC/B;EACE,aAAa;EACb,uBAAuB;EACvB,mBAAmB;EACnB,YAAY;EACZ,kBAAkB;EAClB,YAAY;AACd;;AAEA;EACE,UAAU;EACV,WAAW;EACX,aAAa;AACf;;AAEA;EACE,iBAAiB;AACnB;;AAEA;EACE,iBAAiB;EACjB,eAAe;AACjB",sourcesContent:["/* Main layout */\n#app {\n  width: 100%;\n  height: 100%;\n}\n#app-toolbar {\n  height: 3.2em;\n}\n#app-dock-panel {\n  position: absolute;\n  top: 3.2em;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  padding: 0.5em;\n}\n\n/* Fix tippy's fixed font-size */\n.tippy-tooltip {\n  font-size: inherit;\n}\n\n/* Drop zone */\n#drop-zone {\n  display: none;\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(255, 255, 255, 0.85);\n}\n\n#drop-zone .border {\n  position: absolute;\n  border: 5px dashed #ccc;\n  top: 25px;\n  right: 25px;\n  bottom: 25px;\n  left: 25px;\n}\n\n#drop-zone .overlay-text {\n  position: relative; /* This forces to render OVER .border element, because border is absolute positioned */\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 2.5em;\n  color: #333;\n}\n\n/* Touch device warning modal */\n.touch-device-warning {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 1em;\n  text-align: center;\n  width: 300px;\n}\n\n.touch-device-warning svg {\n  width: 6em;\n  height: 6em;\n  fill: #faad14;\n}\n\n.touch-device-warning .message {\n  font-size: 1.75em;\n}\n\n.touch-device-warning button {\n  font-size: 1.25em;\n  margin-top: 1em;\n}\n"],sourceRoot:""}]);const r=a},25318:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(60445),o=n.n(i),s=n(60352),a=n.n(s)()(o());a.push([e.id,"#app-toolbar {\n  background: #001529;\n  box-shadow: 0 1px 4px rgba(0, 21, 41, 0.08);\n  display: flex;\n  justify-content: space-between;\n  align-items: stretch;\n}\n\n.app-toolbar-pane {\n  display: flex;\n  align-items: stretch;\n}\n.app-toolbar-divider {\n  display: inline-block;\n  width: 5px;\n  background: linear-gradient(#e9e9e9, #e9e9e9) no-repeat center/1px 100%;\n  opacity: 0.25;\n}\n\n.app-toolbar-divider:first-of-type {\n  display: none;\n}\n\n/* Badge count */\n.toolbar-badge-count {\n  font-size: 1em;\n  height: 1.5em;\n  line-height: 1.5em;\n  border-radius: 0.75em;\n  font-size: 0.9em;\n  font-weight: 700;\n  top: 0.5em;\n  left: 1.75em;\n  position: absolute;\n  padding: 0 0.5em;\n}\n.toolbar-badge-count.stage {\n  background: #f5222d;\n  color: #fff;\n}\n\n/* App toolbar button */\n.app-toolbar-button {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  align-content: center;\n  padding: 0 0.75em;\n  cursor: pointer;\n  -webkit-app-region: no-drag;\n}\n.app-toolbar-button svg {\n  height: 1.75em;\n  fill: rgba(255, 255, 255, 0.75);\n}\n.app-toolbar-button.fix-stroke svg {\n  stroke: rgba(255, 255, 255, 0.75);\n}\n\n/* .app-toolbar-button:hover { background: #F9F9F9; } */\n.app-toolbar-button:hover svg {\n  fill: #fff;\n}\n.app-toolbar-button.fix-stroke:hover svg {\n  stroke: #fff;\n}\n\n/* App toolbar button fine-tuning */\n.app-toolbar-button.stage-traces {\n  position: relative;\n  padding: 0 0.5em;\n}\n.app-toolbar-button.stage-traces svg {\n  height: 1.6em;\n}\n/* App toolbar button fine-tuning */\n.app-toolbar-button.clear-stage {\n  position: relative;\n  padding: 0 0.75em;\n}\n.app-toolbar-button.clear-stage svg {\n  height: 1.7em;\n}\n\n/* Data sources menu header */\n.toolbar-data-sources-menu-header {\n  display: flex;\n  border-bottom: 1px solid rgba(255, 255, 255, 0.75);\n  margin-bottom: 0.25em;\n  justify-content: space-between;\n  padding: 0.45em 0.75em 0.15em 0.75em;\n  align-items: center;\n  min-width: 200px;\n}\n.toolbar-data-sources-menu-header span {\n  font-size: 0.75em;\n  text-transform: uppercase;\n  color: #fff;\n}\n.toolbar-data-sources-menu-header svg {\n  cursor: pointer;\n  fill: rgba(255, 255, 255, 0.75);\n}\n.toolbar-data-sources-menu-header svg:hover {\n  fill: #fff;\n}\n\n/* Data sources menu empty */\n.toolbar-data-sources-menu-empty {\n  width: 250px;\n  height: 150px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n}\n\n.toolbar-data-sources-menu-empty .heading {\n  font-weight: 600;\n}\n\n.toolbar-data-sources-menu-empty .description {\n  font-size: 0.8em;\n  margin: 0 3em;\n  text-align: center;\n}\n\n.toolbar-data-sources-menu-empty .description svg {\n  width: 1.2em;\n  height: 1.5em;\n  position: relative;\n  top: 4px;\n  fill: #fff;\n}\n\n/* Override so hard */\n.tippy-tooltip.app-toolbar-menu-list-theme > .tippy-content > div.popconfirm {\n  padding: 0.5em 0.75em;\n}\n\n.tippy-tooltip.app-toolbar-menu-list-theme\n  > .tippy-content\n  > div.popconfirm\n  > .text {\n  white-space: nowrap;\n}\n\n.popconfirm button {\n  margin-top: 3px;\n  width: 100%;\n}\n","",{version:3,sources:["webpack://./src/components/app-toolbar/app-toolbar.css"],names:[],mappings:"AAAA;EACE,mBAAmB;EACnB,2CAA2C;EAC3C,aAAa;EACb,8BAA8B;EAC9B,oBAAoB;AACtB;;AAEA;EACE,aAAa;EACb,oBAAoB;AACtB;AACA;EACE,qBAAqB;EACrB,UAAU;EACV,uEAAuE;EACvE,aAAa;AACf;;AAEA;EACE,aAAa;AACf;;AAEA,gBAAgB;AAChB;EACE,cAAc;EACd,aAAa;EACb,kBAAkB;EAClB,qBAAqB;EACrB,gBAAgB;EAChB,gBAAgB;EAChB,UAAU;EACV,YAAY;EACZ,kBAAkB;EAClB,gBAAgB;AAClB;AACA;EACE,mBAAmB;EACnB,WAAW;AACb;;AAEA,uBAAuB;AACvB;EACE,aAAa;EACb,uBAAuB;EACvB,mBAAmB;EACnB,qBAAqB;EACrB,iBAAiB;EACjB,eAAe;EACf,2BAA2B;AAC7B;AACA;EACE,cAAc;EACd,+BAA+B;AACjC;AACA;EACE,iCAAiC;AACnC;;AAEA,uDAAuD;AACvD;EACE,UAAU;AACZ;AACA;EACE,YAAY;AACd;;AAEA,mCAAmC;AACnC;EACE,kBAAkB;EAClB,gBAAgB;AAClB;AACA;EACE,aAAa;AACf;AACA,mCAAmC;AACnC;EACE,kBAAkB;EAClB,iBAAiB;AACnB;AACA;EACE,aAAa;AACf;;AAEA,6BAA6B;AAC7B;EACE,aAAa;EACb,kDAAkD;EAClD,qBAAqB;EACrB,8BAA8B;EAC9B,oCAAoC;EACpC,mBAAmB;EACnB,gBAAgB;AAClB;AACA;EACE,iBAAiB;EACjB,yBAAyB;EACzB,WAAW;AACb;AACA;EACE,eAAe;EACf,+BAA+B;AACjC;AACA;EACE,UAAU;AACZ;;AAEA,4BAA4B;AAC5B;EACE,YAAY;EACZ,aAAa;EACb,aAAa;EACb,mBAAmB;EACnB,uBAAuB;EACvB,sBAAsB;AACxB;;AAEA;EACE,gBAAgB;AAClB;;AAEA;EACE,gBAAgB;EAChB,aAAa;EACb,kBAAkB;AACpB;;AAEA;EACE,YAAY;EACZ,aAAa;EACb,kBAAkB;EAClB,QAAQ;EACR,UAAU;AACZ;;AAEA,qBAAqB;AACrB;EACE,qBAAqB;AACvB;;AAEA;;;;EAIE,mBAAmB;AACrB;;AAEA;EACE,eAAe;EACf,WAAW;AACb",sourcesContent:["#app-toolbar {\n  background: #001529;\n  box-shadow: 0 1px 4px rgba(0, 21, 41, 0.08);\n  display: flex;\n  justify-content: space-between;\n  align-items: stretch;\n}\n\n.app-toolbar-pane {\n  display: flex;\n  align-items: stretch;\n}\n.app-toolbar-divider {\n  display: inline-block;\n  width: 5px;\n  background: linear-gradient(#e9e9e9, #e9e9e9) no-repeat center/1px 100%;\n  opacity: 0.25;\n}\n\n.app-toolbar-divider:first-of-type {\n  display: none;\n}\n\n/* Badge count */\n.toolbar-badge-count {\n  font-size: 1em;\n  height: 1.5em;\n  line-height: 1.5em;\n  border-radius: 0.75em;\n  font-size: 0.9em;\n  font-weight: 700;\n  top: 0.5em;\n  left: 1.75em;\n  position: absolute;\n  padding: 0 0.5em;\n}\n.toolbar-badge-count.stage {\n  background: #f5222d;\n  color: #fff;\n}\n\n/* App toolbar button */\n.app-toolbar-button {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  align-content: center;\n  padding: 0 0.75em;\n  cursor: pointer;\n  -webkit-app-region: no-drag;\n}\n.app-toolbar-button svg {\n  height: 1.75em;\n  fill: rgba(255, 255, 255, 0.75);\n}\n.app-toolbar-button.fix-stroke svg {\n  stroke: rgba(255, 255, 255, 0.75);\n}\n\n/* .app-toolbar-button:hover { background: #F9F9F9; } */\n.app-toolbar-button:hover svg {\n  fill: #fff;\n}\n.app-toolbar-button.fix-stroke:hover svg {\n  stroke: #fff;\n}\n\n/* App toolbar button fine-tuning */\n.app-toolbar-button.stage-traces {\n  position: relative;\n  padding: 0 0.5em;\n}\n.app-toolbar-button.stage-traces svg {\n  height: 1.6em;\n}\n/* App toolbar button fine-tuning */\n.app-toolbar-button.clear-stage {\n  position: relative;\n  padding: 0 0.75em;\n}\n.app-toolbar-button.clear-stage svg {\n  height: 1.7em;\n}\n\n/* Data sources menu header */\n.toolbar-data-sources-menu-header {\n  display: flex;\n  border-bottom: 1px solid rgba(255, 255, 255, 0.75);\n  margin-bottom: 0.25em;\n  justify-content: space-between;\n  padding: 0.45em 0.75em 0.15em 0.75em;\n  align-items: center;\n  min-width: 200px;\n}\n.toolbar-data-sources-menu-header span {\n  font-size: 0.75em;\n  text-transform: uppercase;\n  color: #fff;\n}\n.toolbar-data-sources-menu-header svg {\n  cursor: pointer;\n  fill: rgba(255, 255, 255, 0.75);\n}\n.toolbar-data-sources-menu-header svg:hover {\n  fill: #fff;\n}\n\n/* Data sources menu empty */\n.toolbar-data-sources-menu-empty {\n  width: 250px;\n  height: 150px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n}\n\n.toolbar-data-sources-menu-empty .heading {\n  font-weight: 600;\n}\n\n.toolbar-data-sources-menu-empty .description {\n  font-size: 0.8em;\n  margin: 0 3em;\n  text-align: center;\n}\n\n.toolbar-data-sources-menu-empty .description svg {\n  width: 1.2em;\n  height: 1.5em;\n  position: relative;\n  top: 4px;\n  fill: #fff;\n}\n\n/* Override so hard */\n.tippy-tooltip.app-toolbar-menu-list-theme > .tippy-content > div.popconfirm {\n  padding: 0.5em 0.75em;\n}\n\n.tippy-tooltip.app-toolbar-menu-list-theme\n  > .tippy-content\n  > div.popconfirm\n  > .text {\n  white-space: nowrap;\n}\n\n.popconfirm button {\n  margin-top: 3px;\n  width: 100%;\n}\n"],sourceRoot:""}]);const r=a},78419:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(60445),o=n.n(i),s=n(60352),a=n.n(s)()(o());a.push([e.id,"/* Custom tippy.js tooltip template */\n.tippy-tooltip.app-toolbar-menu-list-theme > .tippy-content {\n  padding: 0;\n}\n.tippy-tooltip.app-toolbar-menu-list-theme > .tippy-content > div {\n  padding: 0 0 0.3em 0;\n}\n.tippy-tooltip.app-toolbar-menu-list-theme\n  > .tippy-content\n  > div\n  > .app-toolbar-menu-list-item {\n  font-size: 1em;\n  line-height: 2em;\n  padding: 0.25em 0.75em 0 0.75em;\n  display: flex;\n  align-items: center;\n}\n.tippy-tooltip.app-toolbar-menu-list-theme .app-toolbar-menu-list-item .text {\n  flex-grow: 1;\n  /* Prevent line-break and hide text overflow */\n  overflow: hidden;\n  white-space: nowrap;\n}\n.tippy-tooltip.app-toolbar-menu-list-theme\n  .app-toolbar-menu-list-item\n  .text.clickable {\n  cursor: pointer;\n  color: rgba(255, 255, 255, 0.75);\n}\n.tippy-tooltip.app-toolbar-menu-list-theme\n  .app-toolbar-menu-list-item\n  .text.clickable:hover {\n  color: rgba(255, 255, 255, 1);\n}\n.tippy-tooltip.app-toolbar-menu-list-theme .app-toolbar-menu-list-item > div {\n  padding-left: 2.5em;\n  display: inline-flex;\n}\n.tippy-tooltip.app-toolbar-menu-list-theme .app-toolbar-menu-list-item .button {\n  cursor: pointer;\n  display: inline-flex;\n}\n.tippy-tooltip.app-toolbar-menu-list-theme\n  .app-toolbar-menu-list-item\n  .button\n  svg {\n  height: 1.3em;\n}\n.tippy-tooltip.app-toolbar-menu-list-theme .app-toolbar-menu-list-item svg {\n  fill: rgba(255, 255, 255, 0.75);\n}\n.tippy-tooltip.app-toolbar-menu-list-theme\n  .app-toolbar-menu-list-item\n  .button:hover\n  svg {\n  fill: #fff;\n}\n","",{version:3,sources:["webpack://./src/components/app-toolbar/menu-list.css"],names:[],mappings:"AAAA,qCAAqC;AACrC;EACE,UAAU;AACZ;AACA;EACE,oBAAoB;AACtB;AACA;;;;EAIE,cAAc;EACd,gBAAgB;EAChB,+BAA+B;EAC/B,aAAa;EACb,mBAAmB;AACrB;AACA;EACE,YAAY;EACZ,8CAA8C;EAC9C,gBAAgB;EAChB,mBAAmB;AACrB;AACA;;;EAGE,eAAe;EACf,gCAAgC;AAClC;AACA;;;EAGE,6BAA6B;AAC/B;AACA;EACE,mBAAmB;EACnB,oBAAoB;AACtB;AACA;EACE,eAAe;EACf,oBAAoB;AACtB;AACA;;;;EAIE,aAAa;AACf;AACA;EACE,+BAA+B;AACjC;AACA;;;;EAIE,UAAU;AACZ",sourcesContent:["/* Custom tippy.js tooltip template */\n.tippy-tooltip.app-toolbar-menu-list-theme > .tippy-content {\n  padding: 0;\n}\n.tippy-tooltip.app-toolbar-menu-list-theme > .tippy-content > div {\n  padding: 0 0 0.3em 0;\n}\n.tippy-tooltip.app-toolbar-menu-list-theme\n  > .tippy-content\n  > div\n  > .app-toolbar-menu-list-item {\n  font-size: 1em;\n  line-height: 2em;\n  padding: 0.25em 0.75em 0 0.75em;\n  display: flex;\n  align-items: center;\n}\n.tippy-tooltip.app-toolbar-menu-list-theme .app-toolbar-menu-list-item .text {\n  flex-grow: 1;\n  /* Prevent line-break and hide text overflow */\n  overflow: hidden;\n  white-space: nowrap;\n}\n.tippy-tooltip.app-toolbar-menu-list-theme\n  .app-toolbar-menu-list-item\n  .text.clickable {\n  cursor: pointer;\n  color: rgba(255, 255, 255, 0.75);\n}\n.tippy-tooltip.app-toolbar-menu-list-theme\n  .app-toolbar-menu-list-item\n  .text.clickable:hover {\n  color: rgba(255, 255, 255, 1);\n}\n.tippy-tooltip.app-toolbar-menu-list-theme .app-toolbar-menu-list-item > div {\n  padding-left: 2.5em;\n  display: inline-flex;\n}\n.tippy-tooltip.app-toolbar-menu-list-theme .app-toolbar-menu-list-item .button {\n  cursor: pointer;\n  display: inline-flex;\n}\n.tippy-tooltip.app-toolbar-menu-list-theme\n  .app-toolbar-menu-list-item\n  .button\n  svg {\n  height: 1.3em;\n}\n.tippy-tooltip.app-toolbar-menu-list-theme .app-toolbar-menu-list-item svg {\n  fill: rgba(255, 255, 255, 0.75);\n}\n.tippy-tooltip.app-toolbar-menu-list-theme\n  .app-toolbar-menu-list-item\n  .button:hover\n  svg {\n  fill: #fff;\n}\n"],sourceRoot:""}]);const r=a},27265:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(60445),o=n.n(i),s=n(60352),a=n.n(s)()(o());a.push([e.id,".customization-form-modal-content {\n  padding: 10px;\n  width: 600px;\n}\n\n.customization-form-modal-content .monaco-container {\n  height: 250px;\n}\n\n.customization-form-modal-content .buttons {\n  display: flex;\n  margin-top: 0.5em;\n}\n\n.customization-form-modal-content .buttons .left {\n  flex-grow: 1;\n}\n\n.customization-form-modal-content .buttons .right .test {\n  margin-right: 5px;\n}\n\n.customization-form-modal-content .test-result {\n  padding: 15px 15px 15px 64px;\n  color: rgba(0, 0, 0, 0.65);\n  line-height: 1.5;\n  border-radius: 4px;\n  margin: 10px 0;\n  position: relative;\n}\n\n.customization-form-modal-content .test-result svg {\n  position: absolute;\n  top: 13px;\n  left: 18px;\n  width: 2.5em;\n  height: 2.5em;\n}\n\n.customization-form-modal-content .test-result .title {\n  margin-bottom: 4px;\n  color: rgba(0, 0, 0, 0.85);\n  font-size: 1.3em;\n}\n\n.customization-form-modal-content .test-result .body {\n  line-height: 1.25em;\n}\n\n.customization-form-modal-content .test-result pre {\n  display: inline-block;\n  background: #fff;\n  padding: 1px 3px;\n  margin: 0;\n  border: 1px solid rgba(0, 0, 0, 0.25);\n  border-radius: 5px;\n}\n\n.customization-form-modal-content .test-result.success {\n  background-color: #f6ffed;\n  border: 1px solid #b7eb8f;\n}\n.customization-form-modal-content .test-result.success svg {\n  fill: #52c41a;\n}\n\n.customization-form-modal-content .test-result.warning {\n  background-color: #fffbe6;\n  border: 1px solid #ffe58f;\n}\n.customization-form-modal-content .test-result.warning svg {\n  fill: #faad14;\n}\n\n.customization-form-modal-content .test-result.error {\n  background-color: #fff1f0;\n  border: 1px solid #ffa39e;\n}\n.customization-form-modal-content .test-result.error svg {\n  fill: #f5222d;\n}\n","",{version:3,sources:["webpack://./src/components/customization/form-modal-content.css"],names:[],mappings:"AAAA;EACE,aAAa;EACb,YAAY;AACd;;AAEA;EACE,aAAa;AACf;;AAEA;EACE,aAAa;EACb,iBAAiB;AACnB;;AAEA;EACE,YAAY;AACd;;AAEA;EACE,iBAAiB;AACnB;;AAEA;EACE,4BAA4B;EAC5B,0BAA0B;EAC1B,gBAAgB;EAChB,kBAAkB;EAClB,cAAc;EACd,kBAAkB;AACpB;;AAEA;EACE,kBAAkB;EAClB,SAAS;EACT,UAAU;EACV,YAAY;EACZ,aAAa;AACf;;AAEA;EACE,kBAAkB;EAClB,0BAA0B;EAC1B,gBAAgB;AAClB;;AAEA;EACE,mBAAmB;AACrB;;AAEA;EACE,qBAAqB;EACrB,gBAAgB;EAChB,gBAAgB;EAChB,SAAS;EACT,qCAAqC;EACrC,kBAAkB;AACpB;;AAEA;EACE,yBAAyB;EACzB,yBAAyB;AAC3B;AACA;EACE,aAAa;AACf;;AAEA;EACE,yBAAyB;EACzB,yBAAyB;AAC3B;AACA;EACE,aAAa;AACf;;AAEA;EACE,yBAAyB;EACzB,yBAAyB;AAC3B;AACA;EACE,aAAa;AACf",sourcesContent:[".customization-form-modal-content {\n  padding: 10px;\n  width: 600px;\n}\n\n.customization-form-modal-content .monaco-container {\n  height: 250px;\n}\n\n.customization-form-modal-content .buttons {\n  display: flex;\n  margin-top: 0.5em;\n}\n\n.customization-form-modal-content .buttons .left {\n  flex-grow: 1;\n}\n\n.customization-form-modal-content .buttons .right .test {\n  margin-right: 5px;\n}\n\n.customization-form-modal-content .test-result {\n  padding: 15px 15px 15px 64px;\n  color: rgba(0, 0, 0, 0.65);\n  line-height: 1.5;\n  border-radius: 4px;\n  margin: 10px 0;\n  position: relative;\n}\n\n.customization-form-modal-content .test-result svg {\n  position: absolute;\n  top: 13px;\n  left: 18px;\n  width: 2.5em;\n  height: 2.5em;\n}\n\n.customization-form-modal-content .test-result .title {\n  margin-bottom: 4px;\n  color: rgba(0, 0, 0, 0.85);\n  font-size: 1.3em;\n}\n\n.customization-form-modal-content .test-result .body {\n  line-height: 1.25em;\n}\n\n.customization-form-modal-content .test-result pre {\n  display: inline-block;\n  background: #fff;\n  padding: 1px 3px;\n  margin: 0;\n  border: 1px solid rgba(0, 0, 0, 0.25);\n  border-radius: 5px;\n}\n\n.customization-form-modal-content .test-result.success {\n  background-color: #f6ffed;\n  border: 1px solid #b7eb8f;\n}\n.customization-form-modal-content .test-result.success svg {\n  fill: #52c41a;\n}\n\n.customization-form-modal-content .test-result.warning {\n  background-color: #fffbe6;\n  border: 1px solid #ffe58f;\n}\n.customization-form-modal-content .test-result.warning svg {\n  fill: #faad14;\n}\n\n.customization-form-modal-content .test-result.error {\n  background-color: #fff1f0;\n  border: 1px solid #ffa39e;\n}\n.customization-form-modal-content .test-result.error svg {\n  fill: #f5222d;\n}\n"],sourceRoot:""}]);const r=a},33742:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(60445),o=n.n(i),s=n(60352),a=n.n(s)()(o());a.push([e.id,".datasource-form-modal-content {\n  padding: 10px;\n  width: 400px;\n}\n\n.datasource-form-modal-content .cors-warning {\n  padding: 15px 15px 15px 64px;\n  color: rgba(0, 0, 0, 0.65);\n  line-height: 1.5;\n  border-radius: 4px;\n  margin: 10px 0;\n  position: relative;\n  background-color: #fffbe6;\n  border: 1px solid #ffe58f;\n}\n\n.datasource-form-modal-content .cors-warning svg {\n  position: absolute;\n  top: 13px;\n  left: 18px;\n  width: 2.5em;\n  height: 2.5em;\n  fill: #faad14;\n}\n\n.datasource-form-modal-content .cors-warning .title {\n  margin-bottom: 4px;\n  color: rgba(0, 0, 0, 0.85);\n  font-size: 1.3em;\n}\n\n.datasource-form-modal-content .cors-warning .body {\n  line-height: 1.25em;\n}\n\n.datasource-form-modal-content .buttons {\n  display: flex;\n  margin-top: 1.5em;\n}\n\n.datasource-form-modal-content .buttons .left {\n  flex-grow: 1;\n}\n\n.datasource-form-modal-content .buttons .right .test {\n  margin-right: 5px;\n}\n\n.datasource-form-modal-content .form-container h2 {\n  margin: 0.25em 0 1em 0;\n}\n\n.datasource-form-modal-content .form-row {\n  display: flex;\n  margin: 0.5em 0;\n  align-items: center;\n}\n\n.datasource-form-modal-content .form-row > div {\n  width: 145px;\n  margin: 0 0.5em;\n  text-align: right;\n}\n\n.datasource-form-modal-content .form-row.base-url > div {\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n}\n\n.datasource-form-modal-content .form-row.base-url svg {\n  width: 18px;\n  height: 18px;\n  margin-left: 5px;\n  position: relative;\n  top: 1px;\n}\n\n.datasource-form-modal-content .form-row input[type='text'],\n.datasource-form-modal-content .form-row input[type='password'] {\n  flex-grow: 1;\n}\n","",{version:3,sources:["webpack://./src/components/datasource/datasource-form-modal-content.css"],names:[],mappings:"AAAA;EACE,aAAa;EACb,YAAY;AACd;;AAEA;EACE,4BAA4B;EAC5B,0BAA0B;EAC1B,gBAAgB;EAChB,kBAAkB;EAClB,cAAc;EACd,kBAAkB;EAClB,yBAAyB;EACzB,yBAAyB;AAC3B;;AAEA;EACE,kBAAkB;EAClB,SAAS;EACT,UAAU;EACV,YAAY;EACZ,aAAa;EACb,aAAa;AACf;;AAEA;EACE,kBAAkB;EAClB,0BAA0B;EAC1B,gBAAgB;AAClB;;AAEA;EACE,mBAAmB;AACrB;;AAEA;EACE,aAAa;EACb,iBAAiB;AACnB;;AAEA;EACE,YAAY;AACd;;AAEA;EACE,iBAAiB;AACnB;;AAEA;EACE,sBAAsB;AACxB;;AAEA;EACE,aAAa;EACb,eAAe;EACf,mBAAmB;AACrB;;AAEA;EACE,YAAY;EACZ,eAAe;EACf,iBAAiB;AACnB;;AAEA;EACE,aAAa;EACb,mBAAmB;EACnB,yBAAyB;AAC3B;;AAEA;EACE,WAAW;EACX,YAAY;EACZ,gBAAgB;EAChB,kBAAkB;EAClB,QAAQ;AACV;;AAEA;;EAEE,YAAY;AACd",sourcesContent:[".datasource-form-modal-content {\n  padding: 10px;\n  width: 400px;\n}\n\n.datasource-form-modal-content .cors-warning {\n  padding: 15px 15px 15px 64px;\n  color: rgba(0, 0, 0, 0.65);\n  line-height: 1.5;\n  border-radius: 4px;\n  margin: 10px 0;\n  position: relative;\n  background-color: #fffbe6;\n  border: 1px solid #ffe58f;\n}\n\n.datasource-form-modal-content .cors-warning svg {\n  position: absolute;\n  top: 13px;\n  left: 18px;\n  width: 2.5em;\n  height: 2.5em;\n  fill: #faad14;\n}\n\n.datasource-form-modal-content .cors-warning .title {\n  margin-bottom: 4px;\n  color: rgba(0, 0, 0, 0.85);\n  font-size: 1.3em;\n}\n\n.datasource-form-modal-content .cors-warning .body {\n  line-height: 1.25em;\n}\n\n.datasource-form-modal-content .buttons {\n  display: flex;\n  margin-top: 1.5em;\n}\n\n.datasource-form-modal-content .buttons .left {\n  flex-grow: 1;\n}\n\n.datasource-form-modal-content .buttons .right .test {\n  margin-right: 5px;\n}\n\n.datasource-form-modal-content .form-container h2 {\n  margin: 0.25em 0 1em 0;\n}\n\n.datasource-form-modal-content .form-row {\n  display: flex;\n  margin: 0.5em 0;\n  align-items: center;\n}\n\n.datasource-form-modal-content .form-row > div {\n  width: 145px;\n  margin: 0 0.5em;\n  text-align: right;\n}\n\n.datasource-form-modal-content .form-row.base-url > div {\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n}\n\n.datasource-form-modal-content .form-row.base-url svg {\n  width: 18px;\n  height: 18px;\n  margin-left: 5px;\n  position: relative;\n  top: 1px;\n}\n\n.datasource-form-modal-content .form-row input[type='text'],\n.datasource-form-modal-content .form-row input[type='password'] {\n  flex-grow: 1;\n}\n"],sourceRoot:""}]);const r=a},59222:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(60445),o=n.n(i),s=n(60352),a=n.n(s)()(o());a.push([e.id,".span-log-item {\n  padding: 0.25em 0;\n}\n\n.span-log-item.highlighted {\n  background: #f3f3f3;\n}\n\n.span-log-item-header {\n  cursor: pointer;\n  max-height: 5em;\n  overflow: hidden;\n}\n\n.span-log-item-header .arrow-right {\n  font-size: 0.8em;\n}\n\n.span-log-item-header .arrow-down {\n  font-size: 0.9em;\n}\n\n.span-log-item-header .title {\n  font-weight: 600;\n  font-style: italic;\n  user-select: text;\n}\n\n.span-log-item-header svg {\n  height: 1.4em;\n  position: relative;\n  left: 0.05em;\n  top: 0.25em;\n  fill: rgba(255, 26, 26, 0.85);\n}\n\n.span-log-item .curly {\n  color: #aaa;\n  font-style: italic;\n}\n\n.span-log-item-header .inline-fields {\n}\n\n.span-log-item-header .key {\n  background: #f3faff;\n  color: #7988b1;\n  padding: 1px 2px;\n  font-weight: 500;\n  border-radius: 2px;\n  user-select: text;\n}\n\n.span-log-item-header .value {\n  user-select: text;\n  word-break: break-all;\n}\n\n.span-log-item-body {\n}\n\n.span-log-item-body .body-row {\n  margin-left: 1.5em;\n}\n\n.span-log-item-body .body-row:first-child {\n  margin-top: 0.2em;\n}\n\n.span-log-item-body .key {\n  background: #f3faff;\n  color: #7988b1;\n  padding: 1px 2px;\n  font-weight: 500;\n  border-radius: 2px;\n  user-select: text;\n}\n\n.span-log-item-body .value {\n  user-select: text;\n  word-break: break-all;\n}\n","",{version:3,sources:["webpack://./src/components/span-logs/span-log-item.css"],names:[],mappings:"AAAA;EACE,iBAAiB;AACnB;;AAEA;EACE,mBAAmB;AACrB;;AAEA;EACE,eAAe;EACf,eAAe;EACf,gBAAgB;AAClB;;AAEA;EACE,gBAAgB;AAClB;;AAEA;EACE,gBAAgB;AAClB;;AAEA;EACE,gBAAgB;EAChB,kBAAkB;EAClB,iBAAiB;AACnB;;AAEA;EACE,aAAa;EACb,kBAAkB;EAClB,YAAY;EACZ,WAAW;EACX,6BAA6B;AAC/B;;AAEA;EACE,WAAW;EACX,kBAAkB;AACpB;;AAEA;AACA;;AAEA;EACE,mBAAmB;EACnB,cAAc;EACd,gBAAgB;EAChB,gBAAgB;EAChB,kBAAkB;EAClB,iBAAiB;AACnB;;AAEA;EACE,iBAAiB;EACjB,qBAAqB;AACvB;;AAEA;AACA;;AAEA;EACE,kBAAkB;AACpB;;AAEA;EACE,iBAAiB;AACnB;;AAEA;EACE,mBAAmB;EACnB,cAAc;EACd,gBAAgB;EAChB,gBAAgB;EAChB,kBAAkB;EAClB,iBAAiB;AACnB;;AAEA;EACE,iBAAiB;EACjB,qBAAqB;AACvB",sourcesContent:[".span-log-item {\n  padding: 0.25em 0;\n}\n\n.span-log-item.highlighted {\n  background: #f3f3f3;\n}\n\n.span-log-item-header {\n  cursor: pointer;\n  max-height: 5em;\n  overflow: hidden;\n}\n\n.span-log-item-header .arrow-right {\n  font-size: 0.8em;\n}\n\n.span-log-item-header .arrow-down {\n  font-size: 0.9em;\n}\n\n.span-log-item-header .title {\n  font-weight: 600;\n  font-style: italic;\n  user-select: text;\n}\n\n.span-log-item-header svg {\n  height: 1.4em;\n  position: relative;\n  left: 0.05em;\n  top: 0.25em;\n  fill: rgba(255, 26, 26, 0.85);\n}\n\n.span-log-item .curly {\n  color: #aaa;\n  font-style: italic;\n}\n\n.span-log-item-header .inline-fields {\n}\n\n.span-log-item-header .key {\n  background: #f3faff;\n  color: #7988b1;\n  padding: 1px 2px;\n  font-weight: 500;\n  border-radius: 2px;\n  user-select: text;\n}\n\n.span-log-item-header .value {\n  user-select: text;\n  word-break: break-all;\n}\n\n.span-log-item-body {\n}\n\n.span-log-item-body .body-row {\n  margin-left: 1.5em;\n}\n\n.span-log-item-body .body-row:first-child {\n  margin-top: 0.2em;\n}\n\n.span-log-item-body .key {\n  background: #f3faff;\n  color: #7988b1;\n  padding: 1px 2px;\n  font-weight: 500;\n  border-radius: 2px;\n  user-select: text;\n}\n\n.span-log-item-body .value {\n  user-select: text;\n  word-break: break-all;\n}\n"],sourceRoot:""}]);const r=a},70954:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(60445),o=n.n(i),s=n(60352),a=n.n(s)()(o());a.push([e.id,".span-logs {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n}\n\n.span-logs .widget-toolbar-pane.right {\n  flex-grow: 0;\n}\n\n.span-logs .input-with-svg-icon-container {\n  padding: 4px;\n  width: 100%;\n}\n\n.span-logs .input-with-svg-icon-container input {\n  width: 100%;\n}\n\n.span-logs .content-container {\n  flex-grow: 1;\n  overflow-y: auto;\n  box-sizing: border-box;\n  position: relative;\n  padding: 1em;\n}\n\n.span-logs .content-message {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n}\n\n.span-logs .content-message svg {\n  width: 2.5em;\n  height: 2.5em;\n  fill: #ccc;\n}\n\n.span-logs .content-message span {\n  color: #ccc;\n  margin-top: 0.5em;\n  font-weight: 600;\n}\n\n.span-logs .content-container .key-value-row {\n  display: flex;\n  line-height: 1.7em;\n}\n\n.span-logs .content-container .key-value-row:nth-child(even) {\n  background: #f6f6f6;\n}\n\n.span-logs .content-container .key-value-row .key {\n  flex-grow: 1;\n  user-select: text;\n}\n\n.span-logs .content-container .key-value-row .value {\n  user-select: text;\n  text-align: right;\n}\n\n.span-logs .content-container .key-value-row .bold {\n  font-weight: 600;\n}\n\n.span-logs .content-container .key-value-row.error {\n  color: rgba(255, 0, 0, 0.85);\n}\n","",{version:3,sources:["webpack://./src/components/span-logs/span-logs.css"],names:[],mappings:"AAAA;EACE,YAAY;EACZ,aAAa;EACb,sBAAsB;AACxB;;AAEA;EACE,YAAY;AACd;;AAEA;EACE,YAAY;EACZ,WAAW;AACb;;AAEA;EACE,WAAW;AACb;;AAEA;EACE,YAAY;EACZ,gBAAgB;EAChB,sBAAsB;EACtB,kBAAkB;EAClB,YAAY;AACd;;AAEA;EACE,YAAY;EACZ,aAAa;EACb,sBAAsB;EACtB,uBAAuB;EACvB,mBAAmB;AACrB;;AAEA;EACE,YAAY;EACZ,aAAa;EACb,UAAU;AACZ;;AAEA;EACE,WAAW;EACX,iBAAiB;EACjB,gBAAgB;AAClB;;AAEA;EACE,aAAa;EACb,kBAAkB;AACpB;;AAEA;EACE,mBAAmB;AACrB;;AAEA;EACE,YAAY;EACZ,iBAAiB;AACnB;;AAEA;EACE,iBAAiB;EACjB,iBAAiB;AACnB;;AAEA;EACE,gBAAgB;AAClB;;AAEA;EACE,4BAA4B;AAC9B",sourcesContent:[".span-logs {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n}\n\n.span-logs .widget-toolbar-pane.right {\n  flex-grow: 0;\n}\n\n.span-logs .input-with-svg-icon-container {\n  padding: 4px;\n  width: 100%;\n}\n\n.span-logs .input-with-svg-icon-container input {\n  width: 100%;\n}\n\n.span-logs .content-container {\n  flex-grow: 1;\n  overflow-y: auto;\n  box-sizing: border-box;\n  position: relative;\n  padding: 1em;\n}\n\n.span-logs .content-message {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n}\n\n.span-logs .content-message svg {\n  width: 2.5em;\n  height: 2.5em;\n  fill: #ccc;\n}\n\n.span-logs .content-message span {\n  color: #ccc;\n  margin-top: 0.5em;\n  font-weight: 600;\n}\n\n.span-logs .content-container .key-value-row {\n  display: flex;\n  line-height: 1.7em;\n}\n\n.span-logs .content-container .key-value-row:nth-child(even) {\n  background: #f6f6f6;\n}\n\n.span-logs .content-container .key-value-row .key {\n  flex-grow: 1;\n  user-select: text;\n}\n\n.span-logs .content-container .key-value-row .value {\n  user-select: text;\n  text-align: right;\n}\n\n.span-logs .content-container .key-value-row .bold {\n  font-weight: 600;\n}\n\n.span-logs .content-container .key-value-row.error {\n  color: rgba(255, 0, 0, 0.85);\n}\n"],sourceRoot:""}]);const r=a},24226:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(60445),o=n.n(i),s=n(60352),a=n.n(s)()(o());a.push([e.id,".span-process-tags {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n}\n\n.span-process-tags .widget-toolbar {\n  padding: 4px;\n}\n\n.span-process-tags .content-container {\n  flex-grow: 1;\n  overflow-y: auto;\n  box-sizing: border-box;\n  padding: 1em;\n}\n\n.span-process-tags .content-message {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n}\n\n.span-process-tags .content-message svg {\n  width: 2.5em;\n  height: 2.5em;\n  fill: #ccc;\n}\n\n.span-process-tags .content-message span {\n  color: #ccc;\n  margin-top: 0.5em;\n  font-weight: 600;\n}\n\n.span-process-tags .content-container .key-value-row {\n  display: flex;\n  line-height: 1.7em;\n}\n\n.span-process-tags .content-container .key-value-row:nth-child(even) {\n  background: #f6f6f6;\n}\n\n.span-process-tags .content-container .key-value-row .key {\n  flex-grow: 1;\n  user-select: text;\n}\n\n.span-process-tags .content-container .key-value-row .value {\n  user-select: text;\n  text-align: right;\n  word-break: break-all;\n}\n\n.span-process-tags .content-container .key-value-row .bold {\n  font-weight: 600;\n}\n\n.span-process-tags .content-container .key-value-row.error {\n  color: rgba(255, 0, 0, 0.85);\n}\n\n.span-process-tags .input-with-svg-icon-container {\n  flex-grow: 1;\n}\n\n.span-process-tags .input-with-svg-icon-container input {\n  width: 100%;\n}\n","",{version:3,sources:["webpack://./src/components/span-process-tags/span-process-tags.css"],names:[],mappings:"AAAA;EACE,YAAY;EACZ,aAAa;EACb,sBAAsB;AACxB;;AAEA;EACE,YAAY;AACd;;AAEA;EACE,YAAY;EACZ,gBAAgB;EAChB,sBAAsB;EACtB,YAAY;AACd;;AAEA;EACE,YAAY;EACZ,aAAa;EACb,sBAAsB;EACtB,uBAAuB;EACvB,mBAAmB;AACrB;;AAEA;EACE,YAAY;EACZ,aAAa;EACb,UAAU;AACZ;;AAEA;EACE,WAAW;EACX,iBAAiB;EACjB,gBAAgB;AAClB;;AAEA;EACE,aAAa;EACb,kBAAkB;AACpB;;AAEA;EACE,mBAAmB;AACrB;;AAEA;EACE,YAAY;EACZ,iBAAiB;AACnB;;AAEA;EACE,iBAAiB;EACjB,iBAAiB;EACjB,qBAAqB;AACvB;;AAEA;EACE,gBAAgB;AAClB;;AAEA;EACE,4BAA4B;AAC9B;;AAEA;EACE,YAAY;AACd;;AAEA;EACE,WAAW;AACb",sourcesContent:[".span-process-tags {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n}\n\n.span-process-tags .widget-toolbar {\n  padding: 4px;\n}\n\n.span-process-tags .content-container {\n  flex-grow: 1;\n  overflow-y: auto;\n  box-sizing: border-box;\n  padding: 1em;\n}\n\n.span-process-tags .content-message {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n}\n\n.span-process-tags .content-message svg {\n  width: 2.5em;\n  height: 2.5em;\n  fill: #ccc;\n}\n\n.span-process-tags .content-message span {\n  color: #ccc;\n  margin-top: 0.5em;\n  font-weight: 600;\n}\n\n.span-process-tags .content-container .key-value-row {\n  display: flex;\n  line-height: 1.7em;\n}\n\n.span-process-tags .content-container .key-value-row:nth-child(even) {\n  background: #f6f6f6;\n}\n\n.span-process-tags .content-container .key-value-row .key {\n  flex-grow: 1;\n  user-select: text;\n}\n\n.span-process-tags .content-container .key-value-row .value {\n  user-select: text;\n  text-align: right;\n  word-break: break-all;\n}\n\n.span-process-tags .content-container .key-value-row .bold {\n  font-weight: 600;\n}\n\n.span-process-tags .content-container .key-value-row.error {\n  color: rgba(255, 0, 0, 0.85);\n}\n\n.span-process-tags .input-with-svg-icon-container {\n  flex-grow: 1;\n}\n\n.span-process-tags .input-with-svg-icon-container input {\n  width: 100%;\n}\n"],sourceRoot:""}]);const r=a},87034:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(60445),o=n.n(i),s=n(60352),a=n.n(s)()(o());a.push([e.id,".span-summary {\n  min-height: 100%;\n  height: 100%;\n  overflow-y: auto;\n}\n\n.span-summary .no-span-selected {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n}\n\n.span-summary .no-span-selected svg {\n  width: 2.5em;\n  height: 2.5em;\n  fill: #ccc;\n}\n\n.span-summary .no-span-selected span {\n  color: #ccc;\n  margin-top: 0.5em;\n  font-weight: 600;\n}\n\n.span-summary-content {\n  margin: 1em;\n}\n\n.span-summary-content .operation-name {\n  font-size: 1.5em;\n  font-weight: 600;\n  border-bottom: 1px solid #eee;\n  padding-bottom: 0.3em;\n  margin-bottom: 0.3em;\n  user-select: text;\n  word-break: break-all;\n}\n\n.span-summary-content .key-value-row {\n  display: flex;\n  line-height: 1.7em;\n}\n\n.span-summary-content .key-value-row:nth-child(odd) {\n  background: #f6f6f6;\n}\n\n.span-summary-content .key-value-row .key {\n  flex-grow: 1;\n}\n\n.span-summary-content .key-value-row .value {\n  user-select: text;\n  text-align: right;\n}\n\n.span-summary-content .key-value-row .bold {\n  font-weight: 600;\n}\n\n.span-summary-content .references-title {\n  font-size: 1.25em;\n  font-weight: 500;\n  border-bottom: 1px solid #eee;\n  padding-bottom: 0.3em;\n  margin-bottom: 0.3em;\n  margin-top: 1em;\n  user-select: none;\n  word-break: break-all;\n}\n\n.span-summary-content .key-value-row .value.alert svg {\n  height: 1.4em;\n  position: relative;\n  top: 0.3em;\n  margin-left: 0.2em;\n  fill: rgba(255, 26, 26, 0.85);\n}\n\n.span-summary-content .key-value-row[data-ref-span-id] .value {\n  user-select: none;\n  cursor: context-menu;\n}\n","",{version:3,sources:["webpack://./src/components/span-summary/span-summary.css"],names:[],mappings:"AAAA;EACE,gBAAgB;EAChB,YAAY;EACZ,gBAAgB;AAClB;;AAEA;EACE,YAAY;EACZ,aAAa;EACb,sBAAsB;EACtB,uBAAuB;EACvB,mBAAmB;AACrB;;AAEA;EACE,YAAY;EACZ,aAAa;EACb,UAAU;AACZ;;AAEA;EACE,WAAW;EACX,iBAAiB;EACjB,gBAAgB;AAClB;;AAEA;EACE,WAAW;AACb;;AAEA;EACE,gBAAgB;EAChB,gBAAgB;EAChB,6BAA6B;EAC7B,qBAAqB;EACrB,oBAAoB;EACpB,iBAAiB;EACjB,qBAAqB;AACvB;;AAEA;EACE,aAAa;EACb,kBAAkB;AACpB;;AAEA;EACE,mBAAmB;AACrB;;AAEA;EACE,YAAY;AACd;;AAEA;EACE,iBAAiB;EACjB,iBAAiB;AACnB;;AAEA;EACE,gBAAgB;AAClB;;AAEA;EACE,iBAAiB;EACjB,gBAAgB;EAChB,6BAA6B;EAC7B,qBAAqB;EACrB,oBAAoB;EACpB,eAAe;EACf,iBAAiB;EACjB,qBAAqB;AACvB;;AAEA;EACE,aAAa;EACb,kBAAkB;EAClB,UAAU;EACV,kBAAkB;EAClB,6BAA6B;AAC/B;;AAEA;EACE,iBAAiB;EACjB,oBAAoB;AACtB",sourcesContent:[".span-summary {\n  min-height: 100%;\n  height: 100%;\n  overflow-y: auto;\n}\n\n.span-summary .no-span-selected {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n}\n\n.span-summary .no-span-selected svg {\n  width: 2.5em;\n  height: 2.5em;\n  fill: #ccc;\n}\n\n.span-summary .no-span-selected span {\n  color: #ccc;\n  margin-top: 0.5em;\n  font-weight: 600;\n}\n\n.span-summary-content {\n  margin: 1em;\n}\n\n.span-summary-content .operation-name {\n  font-size: 1.5em;\n  font-weight: 600;\n  border-bottom: 1px solid #eee;\n  padding-bottom: 0.3em;\n  margin-bottom: 0.3em;\n  user-select: text;\n  word-break: break-all;\n}\n\n.span-summary-content .key-value-row {\n  display: flex;\n  line-height: 1.7em;\n}\n\n.span-summary-content .key-value-row:nth-child(odd) {\n  background: #f6f6f6;\n}\n\n.span-summary-content .key-value-row .key {\n  flex-grow: 1;\n}\n\n.span-summary-content .key-value-row .value {\n  user-select: text;\n  text-align: right;\n}\n\n.span-summary-content .key-value-row .bold {\n  font-weight: 600;\n}\n\n.span-summary-content .references-title {\n  font-size: 1.25em;\n  font-weight: 500;\n  border-bottom: 1px solid #eee;\n  padding-bottom: 0.3em;\n  margin-bottom: 0.3em;\n  margin-top: 1em;\n  user-select: none;\n  word-break: break-all;\n}\n\n.span-summary-content .key-value-row .value.alert svg {\n  height: 1.4em;\n  position: relative;\n  top: 0.3em;\n  margin-left: 0.2em;\n  fill: rgba(255, 26, 26, 0.85);\n}\n\n.span-summary-content .key-value-row[data-ref-span-id] .value {\n  user-select: none;\n  cursor: context-menu;\n}\n"],sourceRoot:""}]);const r=a},66155:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(60445),o=n.n(i),s=n(60352),a=n.n(s)()(o());a.push([e.id,".span-tags {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n}\n\n.span-tags .widget-toolbar {\n  padding: 4px;\n}\n\n.span-tags .content-container {\n  flex-grow: 1;\n  overflow-y: auto;\n  box-sizing: border-box;\n  padding: 1em;\n}\n\n.span-tags .content-message {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n}\n\n.span-tags .content-message svg {\n  width: 2.5em;\n  height: 2.5em;\n  fill: #ccc;\n}\n\n.span-tags .content-message span {\n  color: #ccc;\n  margin-top: 0.5em;\n  font-weight: 600;\n}\n\n.span-tags .content-container .key-value-row {\n  display: flex;\n  line-height: 1.7em;\n}\n\n.span-tags .content-container .key-value-row:nth-child(even) {\n  background: #f6f6f6;\n}\n\n.span-tags .content-container .key-value-row .key {\n  flex-grow: 1;\n  user-select: text;\n}\n\n.span-tags .content-container .key-value-row .value {\n  user-select: text;\n  text-align: right;\n  word-break: break-all;\n}\n\n.span-tags .content-container .key-value-row .bold {\n  font-weight: 600;\n}\n\n.span-tags .content-container .key-value-row.error {\n  color: rgba(255, 26, 26, 0.85);\n}\n\n.span-tags .input-with-svg-icon-container {\n  flex-grow: 1;\n}\n\n.span-tags .input-with-svg-icon-container input {\n  width: 100%;\n}\n","",{version:3,sources:["webpack://./src/components/span-tags/span-tags.css"],names:[],mappings:"AAAA;EACE,YAAY;EACZ,aAAa;EACb,sBAAsB;AACxB;;AAEA;EACE,YAAY;AACd;;AAEA;EACE,YAAY;EACZ,gBAAgB;EAChB,sBAAsB;EACtB,YAAY;AACd;;AAEA;EACE,YAAY;EACZ,aAAa;EACb,sBAAsB;EACtB,uBAAuB;EACvB,mBAAmB;AACrB;;AAEA;EACE,YAAY;EACZ,aAAa;EACb,UAAU;AACZ;;AAEA;EACE,WAAW;EACX,iBAAiB;EACjB,gBAAgB;AAClB;;AAEA;EACE,aAAa;EACb,kBAAkB;AACpB;;AAEA;EACE,mBAAmB;AACrB;;AAEA;EACE,YAAY;EACZ,iBAAiB;AACnB;;AAEA;EACE,iBAAiB;EACjB,iBAAiB;EACjB,qBAAqB;AACvB;;AAEA;EACE,gBAAgB;AAClB;;AAEA;EACE,8BAA8B;AAChC;;AAEA;EACE,YAAY;AACd;;AAEA;EACE,WAAW;AACb",sourcesContent:[".span-tags {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n}\n\n.span-tags .widget-toolbar {\n  padding: 4px;\n}\n\n.span-tags .content-container {\n  flex-grow: 1;\n  overflow-y: auto;\n  box-sizing: border-box;\n  padding: 1em;\n}\n\n.span-tags .content-message {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n}\n\n.span-tags .content-message svg {\n  width: 2.5em;\n  height: 2.5em;\n  fill: #ccc;\n}\n\n.span-tags .content-message span {\n  color: #ccc;\n  margin-top: 0.5em;\n  font-weight: 600;\n}\n\n.span-tags .content-container .key-value-row {\n  display: flex;\n  line-height: 1.7em;\n}\n\n.span-tags .content-container .key-value-row:nth-child(even) {\n  background: #f6f6f6;\n}\n\n.span-tags .content-container .key-value-row .key {\n  flex-grow: 1;\n  user-select: text;\n}\n\n.span-tags .content-container .key-value-row .value {\n  user-select: text;\n  text-align: right;\n  word-break: break-all;\n}\n\n.span-tags .content-container .key-value-row .bold {\n  font-weight: 600;\n}\n\n.span-tags .content-container .key-value-row.error {\n  color: rgba(255, 26, 26, 0.85);\n}\n\n.span-tags .input-with-svg-icon-container {\n  flex-grow: 1;\n}\n\n.span-tags .input-with-svg-icon-container input {\n  width: 100%;\n}\n"],sourceRoot:""}]);const r=a},38952:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(60445),o=n.n(i),s=n(60352),a=n.n(s)()(o());a.push([e.id,"/* Custom tippy.js tooltip template */\n.tippy-tooltip.span-tooltip-theme {\n  background-color: rgba(0, 0, 0, 0.75);\n  border-radius: 2px;\n}\n.tippy-tooltip.span-tooltip-theme > .tippy-content {\n  padding: 0;\n  font-size: 0.815em;\n}\n\n.span-tooltip-border-top {\n  border-top: 1px solid rgba(255, 255, 255, 0.25);\n}\n\n.span-service-name-container {\n  padding: 0.2em 0.5em;\n}\n\n.span-tooltip-header {\n  display: flex;\n  padding: 0.2em 0.5em;\n  word-break: break-all;\n}\n\n.span-tooltip-header .left {\n  flex-grow: 1;\n}\n\n.span-tooltip-header .right {\n  white-space: nowrap;\n  margin-left: 2em;\n}\n\n.span-tooltip-time {\n  color: #55d239;\n}\n\n.span-tooltip-operation-name {\n  margin-left: 1em;\n  font-weight: 600;\n}\n\n.span-tooltip-tag-icon svg,\n.span-tooltip-log-icon svg,\n.span-tooltip-error-icon svg {\n  position: relative;\n  height: 1em;\n  width: 1em;\n  fill: #fff;\n  top: 2px;\n}\n\n.span-tooltip-error-icon svg {\n  margin-right: 0.25em;\n  transform: scale(1.1);\n  fill: rgba(255, 26, 26, 0.85);\n}\n\n.span-tooltip-tag-count,\n.span-tooltip-log-count {\n  margin-right: 0.25em;\n}\n\n.span-tooltip-log-count {\n  margin-left: 0.6em;\n}\n\n.span-tooltip-tags .section-header,\n.span-tooltip-process-tags .section-header,\n.span-tooltip-log .section-header {\n  text-transform: uppercase;\n  color: rgba(255, 255, 255, 0.5);\n  font-size: 0.9em;\n  font-weight: 800;\n  margin-bottom: 0.25em;\n}\n\n.span-tooltip-tags,\n.span-tooltip-process-tags,\n.span-tooltip-log {\n  padding: 0.2em 0.5em;\n  word-break: break-all;\n}\n\n.span-tooltip-tag {\n  display: flex;\n}\n.span-tooltip-tag.margin-left {\n  margin-left: 1em;\n}\n\n.span-tooltip-tag .tag-path {\n  flex-grow: 1;\n}\n\n.span-tooltip-tag .tag-value {\n  margin-left: 1em;\n}\n\n.span-tooltip-log {\n  max-height: 5em;\n  padding-bottom: 0.5em;\n  overflow: hidden;\n}\n\n.span-tooltip-log .log-field-key {\n  background: rgba(255, 255, 255, 0.25);\n  padding: 0.15em 0.3em;\n  border-radius: 3px;\n  font-weight: 500;\n}\n\n.span-tooltip-log .log-field-value {\n  margin: 0 0.4em 0 0.2em;\n}\n\n.span-tooltip-log .log-field-key.error {\n  background: rgba(255, 26, 26, 0.35);\n  font-weight: 600;\n}\n","",{version:3,sources:["webpack://./src/components/span-tooltip/span-tooltip.css"],names:[],mappings:"AAAA,qCAAqC;AACrC;EACE,qCAAqC;EACrC,kBAAkB;AACpB;AACA;EACE,UAAU;EACV,kBAAkB;AACpB;;AAEA;EACE,+CAA+C;AACjD;;AAEA;EACE,oBAAoB;AACtB;;AAEA;EACE,aAAa;EACb,oBAAoB;EACpB,qBAAqB;AACvB;;AAEA;EACE,YAAY;AACd;;AAEA;EACE,mBAAmB;EACnB,gBAAgB;AAClB;;AAEA;EACE,cAAc;AAChB;;AAEA;EACE,gBAAgB;EAChB,gBAAgB;AAClB;;AAEA;;;EAGE,kBAAkB;EAClB,WAAW;EACX,UAAU;EACV,UAAU;EACV,QAAQ;AACV;;AAEA;EACE,oBAAoB;EACpB,qBAAqB;EACrB,6BAA6B;AAC/B;;AAEA;;EAEE,oBAAoB;AACtB;;AAEA;EACE,kBAAkB;AACpB;;AAEA;;;EAGE,yBAAyB;EACzB,+BAA+B;EAC/B,gBAAgB;EAChB,gBAAgB;EAChB,qBAAqB;AACvB;;AAEA;;;EAGE,oBAAoB;EACpB,qBAAqB;AACvB;;AAEA;EACE,aAAa;AACf;AACA;EACE,gBAAgB;AAClB;;AAEA;EACE,YAAY;AACd;;AAEA;EACE,gBAAgB;AAClB;;AAEA;EACE,eAAe;EACf,qBAAqB;EACrB,gBAAgB;AAClB;;AAEA;EACE,qCAAqC;EACrC,qBAAqB;EACrB,kBAAkB;EAClB,gBAAgB;AAClB;;AAEA;EACE,uBAAuB;AACzB;;AAEA;EACE,mCAAmC;EACnC,gBAAgB;AAClB",sourcesContent:["/* Custom tippy.js tooltip template */\n.tippy-tooltip.span-tooltip-theme {\n  background-color: rgba(0, 0, 0, 0.75);\n  border-radius: 2px;\n}\n.tippy-tooltip.span-tooltip-theme > .tippy-content {\n  padding: 0;\n  font-size: 0.815em;\n}\n\n.span-tooltip-border-top {\n  border-top: 1px solid rgba(255, 255, 255, 0.25);\n}\n\n.span-service-name-container {\n  padding: 0.2em 0.5em;\n}\n\n.span-tooltip-header {\n  display: flex;\n  padding: 0.2em 0.5em;\n  word-break: break-all;\n}\n\n.span-tooltip-header .left {\n  flex-grow: 1;\n}\n\n.span-tooltip-header .right {\n  white-space: nowrap;\n  margin-left: 2em;\n}\n\n.span-tooltip-time {\n  color: #55d239;\n}\n\n.span-tooltip-operation-name {\n  margin-left: 1em;\n  font-weight: 600;\n}\n\n.span-tooltip-tag-icon svg,\n.span-tooltip-log-icon svg,\n.span-tooltip-error-icon svg {\n  position: relative;\n  height: 1em;\n  width: 1em;\n  fill: #fff;\n  top: 2px;\n}\n\n.span-tooltip-error-icon svg {\n  margin-right: 0.25em;\n  transform: scale(1.1);\n  fill: rgba(255, 26, 26, 0.85);\n}\n\n.span-tooltip-tag-count,\n.span-tooltip-log-count {\n  margin-right: 0.25em;\n}\n\n.span-tooltip-log-count {\n  margin-left: 0.6em;\n}\n\n.span-tooltip-tags .section-header,\n.span-tooltip-process-tags .section-header,\n.span-tooltip-log .section-header {\n  text-transform: uppercase;\n  color: rgba(255, 255, 255, 0.5);\n  font-size: 0.9em;\n  font-weight: 800;\n  margin-bottom: 0.25em;\n}\n\n.span-tooltip-tags,\n.span-tooltip-process-tags,\n.span-tooltip-log {\n  padding: 0.2em 0.5em;\n  word-break: break-all;\n}\n\n.span-tooltip-tag {\n  display: flex;\n}\n.span-tooltip-tag.margin-left {\n  margin-left: 1em;\n}\n\n.span-tooltip-tag .tag-path {\n  flex-grow: 1;\n}\n\n.span-tooltip-tag .tag-value {\n  margin-left: 1em;\n}\n\n.span-tooltip-log {\n  max-height: 5em;\n  padding-bottom: 0.5em;\n  overflow: hidden;\n}\n\n.span-tooltip-log .log-field-key {\n  background: rgba(255, 255, 255, 0.25);\n  padding: 0.15em 0.3em;\n  border-radius: 3px;\n  font-weight: 500;\n}\n\n.span-tooltip-log .log-field-value {\n  margin: 0 0.4em 0 0.2em;\n}\n\n.span-tooltip-log .log-field-key.error {\n  background: rgba(255, 26, 26, 0.35);\n  font-weight: 600;\n}\n"],sourceRoot:""}]);const r=a},12705:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(60445),o=n.n(i),s=n(60352),a=n.n(s)()(o());a.push([e.id,".spans-table-view {\n  width: 100%;\n  height: 100%;\n}\n\n.spans-table-view .tabulator {\n  font-size: inherit;\n}\n\n.spans-table-view .tabulator-col-title {\n  color: #000;\n  line-height: 1.5;\n}\n\n.spans-table-view .tabulator-header {\n  border-bottom-color: #ddd;\n}\n\n.spans-table-view .tabulator-row .tabulator-cell:last-of-type {\n  border-right: 1px solid #ddd;\n}\n\n.spans-table-view\n  .tabulator-col.tabulator-sortable[aria-sort='none']\n  .tabulator-arrow {\n  display: none;\n}\n\n.spans-table-view\n  .tabulator-col.tabulator-sortable[aria-sort='asc']\n  .tabulator-col-title,\n.spans-table-view\n  .tabulator-col.tabulator-sortable[aria-sort='desc']\n  .tabulator-col-title {\n  text-decoration: underline;\n}\n\n.spans-table-view .tabulator .tabulator-tableHolder .tabulator-table {\n  color: #777;\n}\n\n.spans-table-view .tabulator-row.tabulator-selectable:hover {\n  background: #f3f3f3;\n}\n\n.spans-table-view .tabulator-row.tabulator-selected,\n.spans-table-view .tabulator-row.tabulator-selected:hover {\n  background: #e5f0ff;\n}\n\n.spans-table-tag {\n  background: #d0e2f2;\n  color: #7988b1;\n  padding: 1px 3px;\n  margin: 0 3px 0 10px;\n  font-weight: 500;\n  border-radius: 2px;\n}\n\n.spans-table-tag:first-child {\n  margin-left: 0;\n}\n\n.spans-table-value {\n}\n","",{version:3,sources:["webpack://./src/components/spans-table/spans-table.css"],names:[],mappings:"AAAA;EACE,WAAW;EACX,YAAY;AACd;;AAEA;EACE,kBAAkB;AACpB;;AAEA;EACE,WAAW;EACX,gBAAgB;AAClB;;AAEA;EACE,yBAAyB;AAC3B;;AAEA;EACE,4BAA4B;AAC9B;;AAEA;;;EAGE,aAAa;AACf;;AAEA;;;;;;EAME,0BAA0B;AAC5B;;AAEA;EACE,WAAW;AACb;;AAEA;EACE,mBAAmB;AACrB;;AAEA;;EAEE,mBAAmB;AACrB;;AAEA;EACE,mBAAmB;EACnB,cAAc;EACd,gBAAgB;EAChB,oBAAoB;EACpB,gBAAgB;EAChB,kBAAkB;AACpB;;AAEA;EACE,cAAc;AAChB;;AAEA;AACA",sourcesContent:[".spans-table-view {\n  width: 100%;\n  height: 100%;\n}\n\n.spans-table-view .tabulator {\n  font-size: inherit;\n}\n\n.spans-table-view .tabulator-col-title {\n  color: #000;\n  line-height: 1.5;\n}\n\n.spans-table-view .tabulator-header {\n  border-bottom-color: #ddd;\n}\n\n.spans-table-view .tabulator-row .tabulator-cell:last-of-type {\n  border-right: 1px solid #ddd;\n}\n\n.spans-table-view\n  .tabulator-col.tabulator-sortable[aria-sort='none']\n  .tabulator-arrow {\n  display: none;\n}\n\n.spans-table-view\n  .tabulator-col.tabulator-sortable[aria-sort='asc']\n  .tabulator-col-title,\n.spans-table-view\n  .tabulator-col.tabulator-sortable[aria-sort='desc']\n  .tabulator-col-title {\n  text-decoration: underline;\n}\n\n.spans-table-view .tabulator .tabulator-tableHolder .tabulator-table {\n  color: #777;\n}\n\n.spans-table-view .tabulator-row.tabulator-selectable:hover {\n  background: #f3f3f3;\n}\n\n.spans-table-view .tabulator-row.tabulator-selected,\n.spans-table-view .tabulator-row.tabulator-selected:hover {\n  background: #e5f0ff;\n}\n\n.spans-table-tag {\n  background: #d0e2f2;\n  color: #7988b1;\n  padding: 1px 3px;\n  margin: 0 3px 0 10px;\n  font-weight: 500;\n  border-radius: 2px;\n}\n\n.spans-table-tag:first-child {\n  margin-left: 0;\n}\n\n.spans-table-value {\n}\n"],sourceRoot:""}]);const r=a},16238:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(60445),o=n.n(i),s=n(60352),a=n.n(s)()(o());a.push([e.id,".stage-traces-modal-container {\n  width: 80%;\n  height: 80%;\n  overflow: hidden;\n}\n\n.stage-traces-modal-content {\n  width: 100%;\n  height: 100%;\n  box-sizing: border-box;\n  display: flex;\n  flex-direction: column;\n  position: relative;\n}\n\n.stage-traces-modal-content > .top {\n  display: flex;\n  align-items: stretch;\n  flex-grow: 1;\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 3em; /* must be the same with height of the bottom */\n}\n\n.stage-traces-modal-content > .bottom {\n  display: flex;\n  height: 3em;\n  border-top: 1px solid #ccc;\n  padding: 0 1em;\n  background: #eee;\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  right: 0;\n}\n\n.stage-traces-modal-content > .bottom .left {\n  display: flex;\n  align-items: center;\n}\n\n.stage-traces-modal-content > .bottom .right {\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n  flex-grow: 1;\n}\n\n.stage-traces-modal-content > .bottom .right > div {\n  margin-right: 1em;\n}\n","",{version:3,sources:["webpack://./src/components/stage-traces/stage-traces-modal-content.css"],names:[],mappings:"AAAA;EACE,UAAU;EACV,WAAW;EACX,gBAAgB;AAClB;;AAEA;EACE,WAAW;EACX,YAAY;EACZ,sBAAsB;EACtB,aAAa;EACb,sBAAsB;EACtB,kBAAkB;AACpB;;AAEA;EACE,aAAa;EACb,oBAAoB;EACpB,YAAY;EACZ,kBAAkB;EAClB,MAAM;EACN,OAAO;EACP,QAAQ;EACR,WAAW,EAAE,+CAA+C;AAC9D;;AAEA;EACE,aAAa;EACb,WAAW;EACX,0BAA0B;EAC1B,cAAc;EACd,gBAAgB;EAChB,kBAAkB;EAClB,SAAS;EACT,OAAO;EACP,QAAQ;AACV;;AAEA;EACE,aAAa;EACb,mBAAmB;AACrB;;AAEA;EACE,aAAa;EACb,yBAAyB;EACzB,mBAAmB;EACnB,YAAY;AACd;;AAEA;EACE,iBAAiB;AACnB",sourcesContent:[".stage-traces-modal-container {\n  width: 80%;\n  height: 80%;\n  overflow: hidden;\n}\n\n.stage-traces-modal-content {\n  width: 100%;\n  height: 100%;\n  box-sizing: border-box;\n  display: flex;\n  flex-direction: column;\n  position: relative;\n}\n\n.stage-traces-modal-content > .top {\n  display: flex;\n  align-items: stretch;\n  flex-grow: 1;\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 3em; /* must be the same with height of the bottom */\n}\n\n.stage-traces-modal-content > .bottom {\n  display: flex;\n  height: 3em;\n  border-top: 1px solid #ccc;\n  padding: 0 1em;\n  background: #eee;\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  right: 0;\n}\n\n.stage-traces-modal-content > .bottom .left {\n  display: flex;\n  align-items: center;\n}\n\n.stage-traces-modal-content > .bottom .right {\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n  flex-grow: 1;\n}\n\n.stage-traces-modal-content > .bottom .right > div {\n  margin-right: 1em;\n}\n"],sourceRoot:""}]);const r=a},72768:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(60445),o=n.n(i),s=n(60352),a=n.n(s)()(o());a.push([e.id,".stage-traces-table-view {\n  width: 100%;\n  height: 100%;\n  position: relative;\n}\n\n.stage-traces-table-view .tabulator {\n  font-size: inherit;\n}\n\n.stage-traces-table-view .tabulator-col-title {\n  color: #000;\n  line-height: 1.5;\n}\n\n.stage-traces-table-view .tabulator-header {\n  border-bottom-color: #ddd;\n}\n\n.stage-traces-table-view .tabulator-col:last-of-type {\n  border-right: 0;\n}\n\n.stage-traces-table-view\n  .tabulator-col.tabulator-sortable[aria-sort='none']\n  .tabulator-arrow {\n  display: none;\n}\n\n.stage-traces-table-view\n  .tabulator-col.tabulator-sortable[aria-sort='asc']\n  .tabulator-col-title,\n.stage-traces-table-view\n  .tabulator-col.tabulator-sortable[aria-sort='desc']\n  .tabulator-col-title {\n  text-decoration: underline;\n}\n\n.stage-traces-table-view .tabulator .tabulator-tableHolder .tabulator-table {\n  color: #777;\n}\n\n.stage-traces-table-view .tabulator-row.tabulator-selectable:hover {\n  background: #f3f3f3;\n}\n\n.stage-traces-table-view .tabulator-row.tabulator-selected,\n.stage-traces-table-view .tabulator-row.tabulator-selected:hover {\n  background: #e5f0ff;\n}\n\n.stage-traces-table-tag {\n  /* background: #D0E2F2; */\n  /* color: #7988B1; */\n  /* padding: 1px 3px; */\n  margin: 0 3px 0 10px;\n  font-weight: 500;\n  /* border-radius: 2px; */\n}\n\n.stage-traces-table-tag:first-child {\n  margin-left: 0;\n}\n\n.stage-traces-table-value {\n}\n","",{version:3,sources:["webpack://./src/components/stage-traces/stage-traces-table.css"],names:[],mappings:"AAAA;EACE,WAAW;EACX,YAAY;EACZ,kBAAkB;AACpB;;AAEA;EACE,kBAAkB;AACpB;;AAEA;EACE,WAAW;EACX,gBAAgB;AAClB;;AAEA;EACE,yBAAyB;AAC3B;;AAEA;EACE,eAAe;AACjB;;AAEA;;;EAGE,aAAa;AACf;;AAEA;;;;;;EAME,0BAA0B;AAC5B;;AAEA;EACE,WAAW;AACb;;AAEA;EACE,mBAAmB;AACrB;;AAEA;;EAEE,mBAAmB;AACrB;;AAEA;EACE,yBAAyB;EACzB,oBAAoB;EACpB,sBAAsB;EACtB,oBAAoB;EACpB,gBAAgB;EAChB,wBAAwB;AAC1B;;AAEA;EACE,cAAc;AAChB;;AAEA;AACA",sourcesContent:[".stage-traces-table-view {\n  width: 100%;\n  height: 100%;\n  position: relative;\n}\n\n.stage-traces-table-view .tabulator {\n  font-size: inherit;\n}\n\n.stage-traces-table-view .tabulator-col-title {\n  color: #000;\n  line-height: 1.5;\n}\n\n.stage-traces-table-view .tabulator-header {\n  border-bottom-color: #ddd;\n}\n\n.stage-traces-table-view .tabulator-col:last-of-type {\n  border-right: 0;\n}\n\n.stage-traces-table-view\n  .tabulator-col.tabulator-sortable[aria-sort='none']\n  .tabulator-arrow {\n  display: none;\n}\n\n.stage-traces-table-view\n  .tabulator-col.tabulator-sortable[aria-sort='asc']\n  .tabulator-col-title,\n.stage-traces-table-view\n  .tabulator-col.tabulator-sortable[aria-sort='desc']\n  .tabulator-col-title {\n  text-decoration: underline;\n}\n\n.stage-traces-table-view .tabulator .tabulator-tableHolder .tabulator-table {\n  color: #777;\n}\n\n.stage-traces-table-view .tabulator-row.tabulator-selectable:hover {\n  background: #f3f3f3;\n}\n\n.stage-traces-table-view .tabulator-row.tabulator-selected,\n.stage-traces-table-view .tabulator-row.tabulator-selected:hover {\n  background: #e5f0ff;\n}\n\n.stage-traces-table-tag {\n  /* background: #D0E2F2; */\n  /* color: #7988B1; */\n  /* padding: 1px 3px; */\n  margin: 0 3px 0 10px;\n  font-weight: 500;\n  /* border-radius: 2px; */\n}\n\n.stage-traces-table-tag:first-child {\n  margin-left: 0;\n}\n\n.stage-traces-table-value {\n}\n"],sourceRoot:""}]);const r=a},67719:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(60445),o=n.n(i),s=n(60352),a=n.n(s)()(o());a.push([e.id,".timeline-wrapper {\n  height: 100%;\n}\n\n/* Adjustments */\n.timeline-toolbar-button.span-coloring svg {\n  height: 1.5em;\n  position: relative;\n  top: 0.2em;\n}\n.timeline-toolbar-button.group-layout svg {\n  height: 1.4em;\n}\n\n.timeline-container {\n  position: relative;\n}\n\n.timeline-container .empty-message-container {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  color: #999;\n  font-weight: 500;\n}\n\n.timeline-container .empty-message-container > div {\n  padding: 0 50px;\n}\n\n.empty-message-container .data-sources-text {\n  margin-top: 0.7em;\n  margin-bottom: 0.7em;\n}\n\n.empty-message-container .sample-trace-text {\n  margin-top: 1.9em;\n}\n\n.empty-message-container .empty-message-link {\n  cursor: pointer;\n  text-decoration: underline;\n  color: #999;\n}\n\n.empty-message-container svg {\n  border: 1px solid #ccc;\n  line-height: 1em;\n  height: 1.5em;\n  position: relative;\n  fill: #999;\n  padding: 0.3em 0;\n  top: 0.7em;\n}\n\n.empty-message-container .raft-consensus-demo-app-text {\n  margin-top: 1.9em;\n}\n","",{version:3,sources:["webpack://./src/components/timeline-wrapper/timeline-wrapper.css"],names:[],mappings:"AAAA;EACE,YAAY;AACd;;AAEA,gBAAgB;AAChB;EACE,aAAa;EACb,kBAAkB;EAClB,UAAU;AACZ;AACA;EACE,aAAa;AACf;;AAEA;EACE,kBAAkB;AACpB;;AAEA;EACE,kBAAkB;EAClB,MAAM;EACN,OAAO;EACP,WAAW;EACX,YAAY;EACZ,aAAa;EACb,uBAAuB;EACvB,mBAAmB;;EAEnB,WAAW;EACX,gBAAgB;AAClB;;AAEA;EACE,eAAe;AACjB;;AAEA;EACE,iBAAiB;EACjB,oBAAoB;AACtB;;AAEA;EACE,iBAAiB;AACnB;;AAEA;EACE,eAAe;EACf,0BAA0B;EAC1B,WAAW;AACb;;AAEA;EACE,sBAAsB;EACtB,gBAAgB;EAChB,aAAa;EACb,kBAAkB;EAClB,UAAU;EACV,gBAAgB;EAChB,UAAU;AACZ;;AAEA;EACE,iBAAiB;AACnB",sourcesContent:[".timeline-wrapper {\n  height: 100%;\n}\n\n/* Adjustments */\n.timeline-toolbar-button.span-coloring svg {\n  height: 1.5em;\n  position: relative;\n  top: 0.2em;\n}\n.timeline-toolbar-button.group-layout svg {\n  height: 1.4em;\n}\n\n.timeline-container {\n  position: relative;\n}\n\n.timeline-container .empty-message-container {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  color: #999;\n  font-weight: 500;\n}\n\n.timeline-container .empty-message-container > div {\n  padding: 0 50px;\n}\n\n.empty-message-container .data-sources-text {\n  margin-top: 0.7em;\n  margin-bottom: 0.7em;\n}\n\n.empty-message-container .sample-trace-text {\n  margin-top: 1.9em;\n}\n\n.empty-message-container .empty-message-link {\n  cursor: pointer;\n  text-decoration: underline;\n  color: #999;\n}\n\n.empty-message-container svg {\n  border: 1px solid #ccc;\n  line-height: 1em;\n  height: 1.5em;\n  position: relative;\n  fill: #999;\n  padding: 0.3em 0;\n  top: 0.7em;\n}\n\n.empty-message-container .raft-consensus-demo-app-text {\n  margin-top: 1.9em;\n}\n"],sourceRoot:""}]);const r=a},84899:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(60445),o=n.n(i),s=n(60352),a=n.n(s)()(o());a.push([e.id,".jaeger-search-modal-container {\n  width: 90%;\n  height: 80%;\n  overflow: hidden;\n}\n\n.jaeger-search-modal-content {\n  --header-height: 40px;\n  --search-form-width: 220px;\n  width: 100%;\n  height: 100%;\n  box-sizing: border-box;\n  display: flex;\n  flex-direction: column;\n  position: relative;\n}\n\n.jaeger-search-modal-content .header {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  height: var(--header-height);\n  border-bottom: 1px solid #ccc;\n  box-sizing: border-box;\n  display: flex;\n  align-items: center;\n  padding: 0 10px;\n}\n\n.jaeger-search-modal-content .header .title-container {\n  font-size: 18px;\n  font-weight: 500;\n  flex-grow: 1;\n}\n\n.jaeger-search-modal-content .header .status {\n  --icon-size: 18px;\n  margin-left: 7px;\n  cursor: pointer;\n}\n\n.jaeger-search-modal-content .header .status .sk-circle {\n  width: var(--icon-size);\n  height: var(--icon-size);\n  position: relative;\n  display: inline-block;\n  top: 3px;\n  left: 5px;\n}\n\n.jaeger-search-modal-content .header .status svg {\n  width: var(--icon-size);\n  height: var(--icon-size);\n  position: relative;\n  top: 3px;\n}\n\n.jaeger-search-modal-content .header .status.success svg {\n  fill: #52c41a;\n}\n\n.jaeger-search-modal-content .header .status.warning svg {\n  fill: #faad14;\n}\n\n.jaeger-search-modal-content .header .status.error svg {\n  fill: #f5222d;\n}\n\n.jaeger-search-modal-content .main {\n  display: flex;\n  align-items: stretch;\n  flex-grow: 1;\n  position: absolute;\n  top: var(--header-height);\n  left: 0;\n  right: 0;\n  bottom: 0;\n}\n\n.jaeger-search-modal-content .search-form-container {\n  width: var(--search-form-width);\n  min-width: var(--search-form-width);\n  border-right: 1px solid #ccc;\n  padding: 10px;\n  box-sizing: border-box;\n  overflow-y: auto;\n}\n\n.jaeger-search-modal-content .search-form-hidden .search-form-container {\n  display: none;\n}\n\n.jaeger-search-modal-content .search-form-container form .field {\n  margin-bottom: 1em;\n}\n\n.jaeger-search-modal-content .search-form-container form .field-title {\n  font-weight: 400;\n}\n\n.jaeger-search-modal-content .search-form-container form .field input,\n.jaeger-search-modal-content .search-form-container form .field select {\n  width: 100%;\n  box-sizing: border-box;\n}\n\n.jaeger-search-modal-content .search-form-toggle {\n  position: absolute;\n  z-index: 2;\n  bottom: 2px;\n  left: var(--search-form-width);\n  padding: 5px;\n  box-sizing: border-box;\n  cursor: pointer;\n}\n\n.jaeger-search-modal-content .search-form-hidden .search-form-toggle {\n  left: 0;\n}\n\n.jaeger-search-modal-content .search-form-toggle svg {\n  width: 15px;\n  height: 15px;\n  fill: #ccc;\n}\n\n.jaeger-search-modal-content .search-form-toggle:hover svg {\n  fill: #666;\n}\n\n.jaeger-search-modal-content .result {\n  --footer-height: 36px;\n  --scatter-plot-height: 150px;\n  flex-grow: 2;\n  overflow: hidden;\n  position: relative;\n}\n\n.jaeger-search-modal-content .result .scatter-plot-container {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: var(--scatter-plot-height);\n  border-bottom: 1px solid #ccc;\n  box-sizing: border-box;\n}\n\n.jaeger-search-modal-content .result .table-container {\n  position: absolute;\n  top: var(--scatter-plot-height);\n  left: 0;\n  width: 100%;\n  bottom: var(--footer-height);\n}\n\n.jaeger-search-modal-content .result .overlay-container {\n  z-index: 1;\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background: rgba(255, 255, 255, 1);\n  box-sizing: border-box;\n}\n\n.jaeger-search-modal-content .result .overlay-container .message {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n}\n\n.jaeger-search-modal-content .result .overlay-container .message svg {\n  width: 2.5em;\n  height: 2.5em;\n  fill: #ccc;\n}\n\n.jaeger-search-modal-content .result .overlay-container .message span {\n  color: #ccc;\n  margin-top: 0.5em;\n  font-weight: 600;\n}\n\n.jaeger-search-modal-content .result .overlay-container .sk-circle {\n  width: 40px;\n  height: 40px;\n  position: relative;\n}\n\n.jaeger-search-modal-content .footer {\n  height: var(--footer-height);\n  border-top: 1px solid #ccc;\n  padding: 0 1em;\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  box-sizing: border-box;\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n}\n\n.jaeger-search-modal-content .footer > span {\n  margin-right: 10px;\n}\n\n/* Borrowed from https://tobiasahlin.com/spinkit/ */\n.sk-circle .sk-child {\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  left: 0;\n  top: 0;\n}\n.sk-circle .sk-child:before {\n  content: '';\n  display: block;\n  margin: 0 auto;\n  width: 15%;\n  height: 15%;\n  background-color: #333;\n  border-radius: 100%;\n  -webkit-animation: sk-circleBounceDelay 1.2s infinite ease-in-out both;\n  animation: sk-circleBounceDelay 1.2s infinite ease-in-out both;\n}\n.sk-circle .sk-circle2 {\n  -webkit-transform: rotate(30deg);\n  -ms-transform: rotate(30deg);\n  transform: rotate(30deg);\n}\n.sk-circle .sk-circle3 {\n  -webkit-transform: rotate(60deg);\n  -ms-transform: rotate(60deg);\n  transform: rotate(60deg);\n}\n.sk-circle .sk-circle4 {\n  -webkit-transform: rotate(90deg);\n  -ms-transform: rotate(90deg);\n  transform: rotate(90deg);\n}\n.sk-circle .sk-circle5 {\n  -webkit-transform: rotate(120deg);\n  -ms-transform: rotate(120deg);\n  transform: rotate(120deg);\n}\n.sk-circle .sk-circle6 {\n  -webkit-transform: rotate(150deg);\n  -ms-transform: rotate(150deg);\n  transform: rotate(150deg);\n}\n.sk-circle .sk-circle7 {\n  -webkit-transform: rotate(180deg);\n  -ms-transform: rotate(180deg);\n  transform: rotate(180deg);\n}\n.sk-circle .sk-circle8 {\n  -webkit-transform: rotate(210deg);\n  -ms-transform: rotate(210deg);\n  transform: rotate(210deg);\n}\n.sk-circle .sk-circle9 {\n  -webkit-transform: rotate(240deg);\n  -ms-transform: rotate(240deg);\n  transform: rotate(240deg);\n}\n.sk-circle .sk-circle10 {\n  -webkit-transform: rotate(270deg);\n  -ms-transform: rotate(270deg);\n  transform: rotate(270deg);\n}\n.sk-circle .sk-circle11 {\n  -webkit-transform: rotate(300deg);\n  -ms-transform: rotate(300deg);\n  transform: rotate(300deg);\n}\n.sk-circle .sk-circle12 {\n  -webkit-transform: rotate(330deg);\n  -ms-transform: rotate(330deg);\n  transform: rotate(330deg);\n}\n.sk-circle .sk-circle2:before {\n  -webkit-animation-delay: -1.1s;\n  animation-delay: -1.1s;\n}\n.sk-circle .sk-circle3:before {\n  -webkit-animation-delay: -1s;\n  animation-delay: -1s;\n}\n.sk-circle .sk-circle4:before {\n  -webkit-animation-delay: -0.9s;\n  animation-delay: -0.9s;\n}\n.sk-circle .sk-circle5:before {\n  -webkit-animation-delay: -0.8s;\n  animation-delay: -0.8s;\n}\n.sk-circle .sk-circle6:before {\n  -webkit-animation-delay: -0.7s;\n  animation-delay: -0.7s;\n}\n.sk-circle .sk-circle7:before {\n  -webkit-animation-delay: -0.6s;\n  animation-delay: -0.6s;\n}\n.sk-circle .sk-circle8:before {\n  -webkit-animation-delay: -0.5s;\n  animation-delay: -0.5s;\n}\n.sk-circle .sk-circle9:before {\n  -webkit-animation-delay: -0.4s;\n  animation-delay: -0.4s;\n}\n.sk-circle .sk-circle10:before {\n  -webkit-animation-delay: -0.3s;\n  animation-delay: -0.3s;\n}\n.sk-circle .sk-circle11:before {\n  -webkit-animation-delay: -0.2s;\n  animation-delay: -0.2s;\n}\n.sk-circle .sk-circle12:before {\n  -webkit-animation-delay: -0.1s;\n  animation-delay: -0.1s;\n}\n@-webkit-keyframes sk-circleBounceDelay {\n  0%,\n  80%,\n  100% {\n    -webkit-transform: scale(0);\n    transform: scale(0);\n  }\n  40% {\n    -webkit-transform: scale(1);\n    transform: scale(1);\n  }\n}\n@keyframes sk-circleBounceDelay {\n  0%,\n  80%,\n  100% {\n    -webkit-transform: scale(0);\n    transform: scale(0);\n  }\n  40% {\n    -webkit-transform: scale(1);\n    transform: scale(1);\n  }\n}\n","",{version:3,sources:["webpack://./src/components/trace-search/jaeger-search.css"],names:[],mappings:"AAAA;EACE,UAAU;EACV,WAAW;EACX,gBAAgB;AAClB;;AAEA;EACE,qBAAqB;EACrB,0BAA0B;EAC1B,WAAW;EACX,YAAY;EACZ,sBAAsB;EACtB,aAAa;EACb,sBAAsB;EACtB,kBAAkB;AACpB;;AAEA;EACE,kBAAkB;EAClB,MAAM;EACN,OAAO;EACP,QAAQ;EACR,4BAA4B;EAC5B,6BAA6B;EAC7B,sBAAsB;EACtB,aAAa;EACb,mBAAmB;EACnB,eAAe;AACjB;;AAEA;EACE,eAAe;EACf,gBAAgB;EAChB,YAAY;AACd;;AAEA;EACE,iBAAiB;EACjB,gBAAgB;EAChB,eAAe;AACjB;;AAEA;EACE,uBAAuB;EACvB,wBAAwB;EACxB,kBAAkB;EAClB,qBAAqB;EACrB,QAAQ;EACR,SAAS;AACX;;AAEA;EACE,uBAAuB;EACvB,wBAAwB;EACxB,kBAAkB;EAClB,QAAQ;AACV;;AAEA;EACE,aAAa;AACf;;AAEA;EACE,aAAa;AACf;;AAEA;EACE,aAAa;AACf;;AAEA;EACE,aAAa;EACb,oBAAoB;EACpB,YAAY;EACZ,kBAAkB;EAClB,yBAAyB;EACzB,OAAO;EACP,QAAQ;EACR,SAAS;AACX;;AAEA;EACE,+BAA+B;EAC/B,mCAAmC;EACnC,4BAA4B;EAC5B,aAAa;EACb,sBAAsB;EACtB,gBAAgB;AAClB;;AAEA;EACE,aAAa;AACf;;AAEA;EACE,kBAAkB;AACpB;;AAEA;EACE,gBAAgB;AAClB;;AAEA;;EAEE,WAAW;EACX,sBAAsB;AACxB;;AAEA;EACE,kBAAkB;EAClB,UAAU;EACV,WAAW;EACX,8BAA8B;EAC9B,YAAY;EACZ,sBAAsB;EACtB,eAAe;AACjB;;AAEA;EACE,OAAO;AACT;;AAEA;EACE,WAAW;EACX,YAAY;EACZ,UAAU;AACZ;;AAEA;EACE,UAAU;AACZ;;AAEA;EACE,qBAAqB;EACrB,4BAA4B;EAC5B,YAAY;EACZ,gBAAgB;EAChB,kBAAkB;AACpB;;AAEA;EACE,kBAAkB;EAClB,MAAM;EACN,OAAO;EACP,WAAW;EACX,kCAAkC;EAClC,6BAA6B;EAC7B,sBAAsB;AACxB;;AAEA;EACE,kBAAkB;EAClB,+BAA+B;EAC/B,OAAO;EACP,WAAW;EACX,4BAA4B;AAC9B;;AAEA;EACE,UAAU;EACV,kBAAkB;EAClB,MAAM;EACN,QAAQ;EACR,SAAS;EACT,OAAO;EACP,aAAa;EACb,mBAAmB;EACnB,uBAAuB;EACvB,kCAAkC;EAClC,sBAAsB;AACxB;;AAEA;EACE,YAAY;EACZ,aAAa;EACb,sBAAsB;EACtB,uBAAuB;EACvB,mBAAmB;AACrB;;AAEA;EACE,YAAY;EACZ,aAAa;EACb,UAAU;AACZ;;AAEA;EACE,WAAW;EACX,iBAAiB;EACjB,gBAAgB;AAClB;;AAEA;EACE,WAAW;EACX,YAAY;EACZ,kBAAkB;AACpB;;AAEA;EACE,4BAA4B;EAC5B,0BAA0B;EAC1B,cAAc;EACd,kBAAkB;EAClB,SAAS;EACT,OAAO;EACP,QAAQ;EACR,sBAAsB;EACtB,aAAa;EACb,yBAAyB;EACzB,mBAAmB;AACrB;;AAEA;EACE,kBAAkB;AACpB;;AAEA,mDAAmD;AACnD;EACE,WAAW;EACX,YAAY;EACZ,kBAAkB;EAClB,OAAO;EACP,MAAM;AACR;AACA;EACE,WAAW;EACX,cAAc;EACd,cAAc;EACd,UAAU;EACV,WAAW;EACX,sBAAsB;EACtB,mBAAmB;EACnB,sEAAsE;EACtE,8DAA8D;AAChE;AACA;EACE,gCAAgC;EAChC,4BAA4B;EAC5B,wBAAwB;AAC1B;AACA;EACE,gCAAgC;EAChC,4BAA4B;EAC5B,wBAAwB;AAC1B;AACA;EACE,gCAAgC;EAChC,4BAA4B;EAC5B,wBAAwB;AAC1B;AACA;EACE,iCAAiC;EACjC,6BAA6B;EAC7B,yBAAyB;AAC3B;AACA;EACE,iCAAiC;EACjC,6BAA6B;EAC7B,yBAAyB;AAC3B;AACA;EACE,iCAAiC;EACjC,6BAA6B;EAC7B,yBAAyB;AAC3B;AACA;EACE,iCAAiC;EACjC,6BAA6B;EAC7B,yBAAyB;AAC3B;AACA;EACE,iCAAiC;EACjC,6BAA6B;EAC7B,yBAAyB;AAC3B;AACA;EACE,iCAAiC;EACjC,6BAA6B;EAC7B,yBAAyB;AAC3B;AACA;EACE,iCAAiC;EACjC,6BAA6B;EAC7B,yBAAyB;AAC3B;AACA;EACE,iCAAiC;EACjC,6BAA6B;EAC7B,yBAAyB;AAC3B;AACA;EACE,8BAA8B;EAC9B,sBAAsB;AACxB;AACA;EACE,4BAA4B;EAC5B,oBAAoB;AACtB;AACA;EACE,8BAA8B;EAC9B,sBAAsB;AACxB;AACA;EACE,8BAA8B;EAC9B,sBAAsB;AACxB;AACA;EACE,8BAA8B;EAC9B,sBAAsB;AACxB;AACA;EACE,8BAA8B;EAC9B,sBAAsB;AACxB;AACA;EACE,8BAA8B;EAC9B,sBAAsB;AACxB;AACA;EACE,8BAA8B;EAC9B,sBAAsB;AACxB;AACA;EACE,8BAA8B;EAC9B,sBAAsB;AACxB;AACA;EACE,8BAA8B;EAC9B,sBAAsB;AACxB;AACA;EACE,8BAA8B;EAC9B,sBAAsB;AACxB;AACA;EACE;;;IAGE,2BAA2B;IAC3B,mBAAmB;EACrB;EACA;IACE,2BAA2B;IAC3B,mBAAmB;EACrB;AACF;AACA;EACE;;;IAGE,2BAA2B;IAC3B,mBAAmB;EACrB;EACA;IACE,2BAA2B;IAC3B,mBAAmB;EACrB;AACF",sourcesContent:[".jaeger-search-modal-container {\n  width: 90%;\n  height: 80%;\n  overflow: hidden;\n}\n\n.jaeger-search-modal-content {\n  --header-height: 40px;\n  --search-form-width: 220px;\n  width: 100%;\n  height: 100%;\n  box-sizing: border-box;\n  display: flex;\n  flex-direction: column;\n  position: relative;\n}\n\n.jaeger-search-modal-content .header {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  height: var(--header-height);\n  border-bottom: 1px solid #ccc;\n  box-sizing: border-box;\n  display: flex;\n  align-items: center;\n  padding: 0 10px;\n}\n\n.jaeger-search-modal-content .header .title-container {\n  font-size: 18px;\n  font-weight: 500;\n  flex-grow: 1;\n}\n\n.jaeger-search-modal-content .header .status {\n  --icon-size: 18px;\n  margin-left: 7px;\n  cursor: pointer;\n}\n\n.jaeger-search-modal-content .header .status .sk-circle {\n  width: var(--icon-size);\n  height: var(--icon-size);\n  position: relative;\n  display: inline-block;\n  top: 3px;\n  left: 5px;\n}\n\n.jaeger-search-modal-content .header .status svg {\n  width: var(--icon-size);\n  height: var(--icon-size);\n  position: relative;\n  top: 3px;\n}\n\n.jaeger-search-modal-content .header .status.success svg {\n  fill: #52c41a;\n}\n\n.jaeger-search-modal-content .header .status.warning svg {\n  fill: #faad14;\n}\n\n.jaeger-search-modal-content .header .status.error svg {\n  fill: #f5222d;\n}\n\n.jaeger-search-modal-content .main {\n  display: flex;\n  align-items: stretch;\n  flex-grow: 1;\n  position: absolute;\n  top: var(--header-height);\n  left: 0;\n  right: 0;\n  bottom: 0;\n}\n\n.jaeger-search-modal-content .search-form-container {\n  width: var(--search-form-width);\n  min-width: var(--search-form-width);\n  border-right: 1px solid #ccc;\n  padding: 10px;\n  box-sizing: border-box;\n  overflow-y: auto;\n}\n\n.jaeger-search-modal-content .search-form-hidden .search-form-container {\n  display: none;\n}\n\n.jaeger-search-modal-content .search-form-container form .field {\n  margin-bottom: 1em;\n}\n\n.jaeger-search-modal-content .search-form-container form .field-title {\n  font-weight: 400;\n}\n\n.jaeger-search-modal-content .search-form-container form .field input,\n.jaeger-search-modal-content .search-form-container form .field select {\n  width: 100%;\n  box-sizing: border-box;\n}\n\n.jaeger-search-modal-content .search-form-toggle {\n  position: absolute;\n  z-index: 2;\n  bottom: 2px;\n  left: var(--search-form-width);\n  padding: 5px;\n  box-sizing: border-box;\n  cursor: pointer;\n}\n\n.jaeger-search-modal-content .search-form-hidden .search-form-toggle {\n  left: 0;\n}\n\n.jaeger-search-modal-content .search-form-toggle svg {\n  width: 15px;\n  height: 15px;\n  fill: #ccc;\n}\n\n.jaeger-search-modal-content .search-form-toggle:hover svg {\n  fill: #666;\n}\n\n.jaeger-search-modal-content .result {\n  --footer-height: 36px;\n  --scatter-plot-height: 150px;\n  flex-grow: 2;\n  overflow: hidden;\n  position: relative;\n}\n\n.jaeger-search-modal-content .result .scatter-plot-container {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: var(--scatter-plot-height);\n  border-bottom: 1px solid #ccc;\n  box-sizing: border-box;\n}\n\n.jaeger-search-modal-content .result .table-container {\n  position: absolute;\n  top: var(--scatter-plot-height);\n  left: 0;\n  width: 100%;\n  bottom: var(--footer-height);\n}\n\n.jaeger-search-modal-content .result .overlay-container {\n  z-index: 1;\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background: rgba(255, 255, 255, 1);\n  box-sizing: border-box;\n}\n\n.jaeger-search-modal-content .result .overlay-container .message {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n}\n\n.jaeger-search-modal-content .result .overlay-container .message svg {\n  width: 2.5em;\n  height: 2.5em;\n  fill: #ccc;\n}\n\n.jaeger-search-modal-content .result .overlay-container .message span {\n  color: #ccc;\n  margin-top: 0.5em;\n  font-weight: 600;\n}\n\n.jaeger-search-modal-content .result .overlay-container .sk-circle {\n  width: 40px;\n  height: 40px;\n  position: relative;\n}\n\n.jaeger-search-modal-content .footer {\n  height: var(--footer-height);\n  border-top: 1px solid #ccc;\n  padding: 0 1em;\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  box-sizing: border-box;\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n}\n\n.jaeger-search-modal-content .footer > span {\n  margin-right: 10px;\n}\n\n/* Borrowed from https://tobiasahlin.com/spinkit/ */\n.sk-circle .sk-child {\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  left: 0;\n  top: 0;\n}\n.sk-circle .sk-child:before {\n  content: '';\n  display: block;\n  margin: 0 auto;\n  width: 15%;\n  height: 15%;\n  background-color: #333;\n  border-radius: 100%;\n  -webkit-animation: sk-circleBounceDelay 1.2s infinite ease-in-out both;\n  animation: sk-circleBounceDelay 1.2s infinite ease-in-out both;\n}\n.sk-circle .sk-circle2 {\n  -webkit-transform: rotate(30deg);\n  -ms-transform: rotate(30deg);\n  transform: rotate(30deg);\n}\n.sk-circle .sk-circle3 {\n  -webkit-transform: rotate(60deg);\n  -ms-transform: rotate(60deg);\n  transform: rotate(60deg);\n}\n.sk-circle .sk-circle4 {\n  -webkit-transform: rotate(90deg);\n  -ms-transform: rotate(90deg);\n  transform: rotate(90deg);\n}\n.sk-circle .sk-circle5 {\n  -webkit-transform: rotate(120deg);\n  -ms-transform: rotate(120deg);\n  transform: rotate(120deg);\n}\n.sk-circle .sk-circle6 {\n  -webkit-transform: rotate(150deg);\n  -ms-transform: rotate(150deg);\n  transform: rotate(150deg);\n}\n.sk-circle .sk-circle7 {\n  -webkit-transform: rotate(180deg);\n  -ms-transform: rotate(180deg);\n  transform: rotate(180deg);\n}\n.sk-circle .sk-circle8 {\n  -webkit-transform: rotate(210deg);\n  -ms-transform: rotate(210deg);\n  transform: rotate(210deg);\n}\n.sk-circle .sk-circle9 {\n  -webkit-transform: rotate(240deg);\n  -ms-transform: rotate(240deg);\n  transform: rotate(240deg);\n}\n.sk-circle .sk-circle10 {\n  -webkit-transform: rotate(270deg);\n  -ms-transform: rotate(270deg);\n  transform: rotate(270deg);\n}\n.sk-circle .sk-circle11 {\n  -webkit-transform: rotate(300deg);\n  -ms-transform: rotate(300deg);\n  transform: rotate(300deg);\n}\n.sk-circle .sk-circle12 {\n  -webkit-transform: rotate(330deg);\n  -ms-transform: rotate(330deg);\n  transform: rotate(330deg);\n}\n.sk-circle .sk-circle2:before {\n  -webkit-animation-delay: -1.1s;\n  animation-delay: -1.1s;\n}\n.sk-circle .sk-circle3:before {\n  -webkit-animation-delay: -1s;\n  animation-delay: -1s;\n}\n.sk-circle .sk-circle4:before {\n  -webkit-animation-delay: -0.9s;\n  animation-delay: -0.9s;\n}\n.sk-circle .sk-circle5:before {\n  -webkit-animation-delay: -0.8s;\n  animation-delay: -0.8s;\n}\n.sk-circle .sk-circle6:before {\n  -webkit-animation-delay: -0.7s;\n  animation-delay: -0.7s;\n}\n.sk-circle .sk-circle7:before {\n  -webkit-animation-delay: -0.6s;\n  animation-delay: -0.6s;\n}\n.sk-circle .sk-circle8:before {\n  -webkit-animation-delay: -0.5s;\n  animation-delay: -0.5s;\n}\n.sk-circle .sk-circle9:before {\n  -webkit-animation-delay: -0.4s;\n  animation-delay: -0.4s;\n}\n.sk-circle .sk-circle10:before {\n  -webkit-animation-delay: -0.3s;\n  animation-delay: -0.3s;\n}\n.sk-circle .sk-circle11:before {\n  -webkit-animation-delay: -0.2s;\n  animation-delay: -0.2s;\n}\n.sk-circle .sk-circle12:before {\n  -webkit-animation-delay: -0.1s;\n  animation-delay: -0.1s;\n}\n@-webkit-keyframes sk-circleBounceDelay {\n  0%,\n  80%,\n  100% {\n    -webkit-transform: scale(0);\n    transform: scale(0);\n  }\n  40% {\n    -webkit-transform: scale(1);\n    transform: scale(1);\n  }\n}\n@keyframes sk-circleBounceDelay {\n  0%,\n  80%,\n  100% {\n    -webkit-transform: scale(0);\n    transform: scale(0);\n  }\n  40% {\n    -webkit-transform: scale(1);\n    transform: scale(1);\n  }\n}\n"],sourceRoot:""}]);const r=a},29579:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(60445),o=n.n(i),s=n(60352),a=n.n(s)()(o());a.push([e.id,".search-modal-traces-table-view {\n  width: 100%;\n  height: 100%;\n  position: relative;\n}\n\n.search-modal-traces-table-view .tabulator {\n  font-size: inherit;\n}\n\n.search-modal-traces-table-view .tabulator-col-title {\n  color: #000;\n  line-height: 1.5;\n}\n\n.search-modal-traces-table-view .tabulator-header {\n  border-bottom-color: #ddd;\n}\n\n.search-modal-traces-table-view .tabulator-col:last-of-type {\n  border-right: 0;\n}\n\n.search-modal-traces-table-view\n  .tabulator-col.tabulator-sortable[aria-sort='none']\n  .tabulator-arrow {\n  display: none;\n}\n\n.search-modal-traces-table-view\n  .tabulator-col.tabulator-sortable[aria-sort='asc']\n  .tabulator-col-title,\n.search-modal-traces-table-view\n  .tabulator-col.tabulator-sortable[aria-sort='desc']\n  .tabulator-col-title {\n  text-decoration: underline;\n}\n\n.search-modal-traces-table-view\n  .tabulator\n  .tabulator-tableHolder\n  .tabulator-table {\n  color: #777;\n}\n\n.search-modal-traces-table-view .tabulator-row.tabulator-selectable:hover {\n  background: #f3f3f3;\n}\n\n.search-modal-traces-table-view .tabulator-row.tabulator-selected,\n.search-modal-traces-table-view .tabulator-row.tabulator-selected:hover {\n  background: #e5f0ff;\n}\n\n.traces-table-tag {\n  /* background: #D0E2F2; */\n  /* color: #7988B1; */\n  /* padding: 1px 3px; */\n  margin: 0 3px 0 10px;\n  font-weight: 500;\n  /* border-radius: 2px; */\n}\n\n.traces-table-tag:first-child {\n  margin-left: 0;\n}\n\n.traces-table-value {\n}\n\n.search-modal-traces-table-view .loading-container {\n  z-index: 1;\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background: rgba(255, 255, 255, 0.5);\n}\n\n.search-modal-traces-table-view .tabulator-cell[tabulator-field='inStage'] {\n  padding: 0;\n}\n\n.search-modal-traces-table-view .in-stage-cell {\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.search-modal-traces-table-view .in-stage-cell svg {\n  height: 1.4em;\n}\n\n.search-modal-traces-table-view .in-stage-cell.check svg {\n  fill: #5eb662;\n}\n\n.search-modal-traces-table-view .in-stage-cell.alert svg {\n  fill: #ff833e;\n}\n\n/* Borrowed from https://tobiasahlin.com/spinkit/ */\n.search-modal-traces-table-view .loading-container .sk-circle {\n  width: 40px;\n  height: 40px;\n  position: relative;\n}\n.sk-circle .sk-child {\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  left: 0;\n  top: 0;\n}\n.sk-circle .sk-child:before {\n  content: '';\n  display: block;\n  margin: 0 auto;\n  width: 15%;\n  height: 15%;\n  background-color: #333;\n  border-radius: 100%;\n  -webkit-animation: sk-circleBounceDelay 1.2s infinite ease-in-out both;\n  animation: sk-circleBounceDelay 1.2s infinite ease-in-out both;\n}\n.sk-circle .sk-circle2 {\n  -webkit-transform: rotate(30deg);\n  -ms-transform: rotate(30deg);\n  transform: rotate(30deg);\n}\n.sk-circle .sk-circle3 {\n  -webkit-transform: rotate(60deg);\n  -ms-transform: rotate(60deg);\n  transform: rotate(60deg);\n}\n.sk-circle .sk-circle4 {\n  -webkit-transform: rotate(90deg);\n  -ms-transform: rotate(90deg);\n  transform: rotate(90deg);\n}\n.sk-circle .sk-circle5 {\n  -webkit-transform: rotate(120deg);\n  -ms-transform: rotate(120deg);\n  transform: rotate(120deg);\n}\n.sk-circle .sk-circle6 {\n  -webkit-transform: rotate(150deg);\n  -ms-transform: rotate(150deg);\n  transform: rotate(150deg);\n}\n.sk-circle .sk-circle7 {\n  -webkit-transform: rotate(180deg);\n  -ms-transform: rotate(180deg);\n  transform: rotate(180deg);\n}\n.sk-circle .sk-circle8 {\n  -webkit-transform: rotate(210deg);\n  -ms-transform: rotate(210deg);\n  transform: rotate(210deg);\n}\n.sk-circle .sk-circle9 {\n  -webkit-transform: rotate(240deg);\n  -ms-transform: rotate(240deg);\n  transform: rotate(240deg);\n}\n.sk-circle .sk-circle10 {\n  -webkit-transform: rotate(270deg);\n  -ms-transform: rotate(270deg);\n  transform: rotate(270deg);\n}\n.sk-circle .sk-circle11 {\n  -webkit-transform: rotate(300deg);\n  -ms-transform: rotate(300deg);\n  transform: rotate(300deg);\n}\n.sk-circle .sk-circle12 {\n  -webkit-transform: rotate(330deg);\n  -ms-transform: rotate(330deg);\n  transform: rotate(330deg);\n}\n.sk-circle .sk-circle2:before {\n  -webkit-animation-delay: -1.1s;\n  animation-delay: -1.1s;\n}\n.sk-circle .sk-circle3:before {\n  -webkit-animation-delay: -1s;\n  animation-delay: -1s;\n}\n.sk-circle .sk-circle4:before {\n  -webkit-animation-delay: -0.9s;\n  animation-delay: -0.9s;\n}\n.sk-circle .sk-circle5:before {\n  -webkit-animation-delay: -0.8s;\n  animation-delay: -0.8s;\n}\n.sk-circle .sk-circle6:before {\n  -webkit-animation-delay: -0.7s;\n  animation-delay: -0.7s;\n}\n.sk-circle .sk-circle7:before {\n  -webkit-animation-delay: -0.6s;\n  animation-delay: -0.6s;\n}\n.sk-circle .sk-circle8:before {\n  -webkit-animation-delay: -0.5s;\n  animation-delay: -0.5s;\n}\n.sk-circle .sk-circle9:before {\n  -webkit-animation-delay: -0.4s;\n  animation-delay: -0.4s;\n}\n.sk-circle .sk-circle10:before {\n  -webkit-animation-delay: -0.3s;\n  animation-delay: -0.3s;\n}\n.sk-circle .sk-circle11:before {\n  -webkit-animation-delay: -0.2s;\n  animation-delay: -0.2s;\n}\n.sk-circle .sk-circle12:before {\n  -webkit-animation-delay: -0.1s;\n  animation-delay: -0.1s;\n}\n@-webkit-keyframes sk-circleBounceDelay {\n  0%,\n  80%,\n  100% {\n    -webkit-transform: scale(0);\n    transform: scale(0);\n  }\n  40% {\n    -webkit-transform: scale(1);\n    transform: scale(1);\n  }\n}\n@keyframes sk-circleBounceDelay {\n  0%,\n  80%,\n  100% {\n    -webkit-transform: scale(0);\n    transform: scale(0);\n  }\n  40% {\n    -webkit-transform: scale(1);\n    transform: scale(1);\n  }\n}\n","",{version:3,sources:["webpack://./src/components/trace-search/trace-search-results-table.css"],names:[],mappings:"AAAA;EACE,WAAW;EACX,YAAY;EACZ,kBAAkB;AACpB;;AAEA;EACE,kBAAkB;AACpB;;AAEA;EACE,WAAW;EACX,gBAAgB;AAClB;;AAEA;EACE,yBAAyB;AAC3B;;AAEA;EACE,eAAe;AACjB;;AAEA;;;EAGE,aAAa;AACf;;AAEA;;;;;;EAME,0BAA0B;AAC5B;;AAEA;;;;EAIE,WAAW;AACb;;AAEA;EACE,mBAAmB;AACrB;;AAEA;;EAEE,mBAAmB;AACrB;;AAEA;EACE,yBAAyB;EACzB,oBAAoB;EACpB,sBAAsB;EACtB,oBAAoB;EACpB,gBAAgB;EAChB,wBAAwB;AAC1B;;AAEA;EACE,cAAc;AAChB;;AAEA;AACA;;AAEA;EACE,UAAU;EACV,kBAAkB;EAClB,MAAM;EACN,QAAQ;EACR,SAAS;EACT,OAAO;EACP,aAAa;EACb,mBAAmB;EACnB,uBAAuB;EACvB,oCAAoC;AACtC;;AAEA;EACE,UAAU;AACZ;;AAEA;EACE,YAAY;EACZ,aAAa;EACb,mBAAmB;EACnB,uBAAuB;AACzB;;AAEA;EACE,aAAa;AACf;;AAEA;EACE,aAAa;AACf;;AAEA;EACE,aAAa;AACf;;AAEA,mDAAmD;AACnD;EACE,WAAW;EACX,YAAY;EACZ,kBAAkB;AACpB;AACA;EACE,WAAW;EACX,YAAY;EACZ,kBAAkB;EAClB,OAAO;EACP,MAAM;AACR;AACA;EACE,WAAW;EACX,cAAc;EACd,cAAc;EACd,UAAU;EACV,WAAW;EACX,sBAAsB;EACtB,mBAAmB;EACnB,sEAAsE;EACtE,8DAA8D;AAChE;AACA;EACE,gCAAgC;EAChC,4BAA4B;EAC5B,wBAAwB;AAC1B;AACA;EACE,gCAAgC;EAChC,4BAA4B;EAC5B,wBAAwB;AAC1B;AACA;EACE,gCAAgC;EAChC,4BAA4B;EAC5B,wBAAwB;AAC1B;AACA;EACE,iCAAiC;EACjC,6BAA6B;EAC7B,yBAAyB;AAC3B;AACA;EACE,iCAAiC;EACjC,6BAA6B;EAC7B,yBAAyB;AAC3B;AACA;EACE,iCAAiC;EACjC,6BAA6B;EAC7B,yBAAyB;AAC3B;AACA;EACE,iCAAiC;EACjC,6BAA6B;EAC7B,yBAAyB;AAC3B;AACA;EACE,iCAAiC;EACjC,6BAA6B;EAC7B,yBAAyB;AAC3B;AACA;EACE,iCAAiC;EACjC,6BAA6B;EAC7B,yBAAyB;AAC3B;AACA;EACE,iCAAiC;EACjC,6BAA6B;EAC7B,yBAAyB;AAC3B;AACA;EACE,iCAAiC;EACjC,6BAA6B;EAC7B,yBAAyB;AAC3B;AACA;EACE,8BAA8B;EAC9B,sBAAsB;AACxB;AACA;EACE,4BAA4B;EAC5B,oBAAoB;AACtB;AACA;EACE,8BAA8B;EAC9B,sBAAsB;AACxB;AACA;EACE,8BAA8B;EAC9B,sBAAsB;AACxB;AACA;EACE,8BAA8B;EAC9B,sBAAsB;AACxB;AACA;EACE,8BAA8B;EAC9B,sBAAsB;AACxB;AACA;EACE,8BAA8B;EAC9B,sBAAsB;AACxB;AACA;EACE,8BAA8B;EAC9B,sBAAsB;AACxB;AACA;EACE,8BAA8B;EAC9B,sBAAsB;AACxB;AACA;EACE,8BAA8B;EAC9B,sBAAsB;AACxB;AACA;EACE,8BAA8B;EAC9B,sBAAsB;AACxB;AACA;EACE;;;IAGE,2BAA2B;IAC3B,mBAAmB;EACrB;EACA;IACE,2BAA2B;IAC3B,mBAAmB;EACrB;AACF;AACA;EACE;;;IAGE,2BAA2B;IAC3B,mBAAmB;EACrB;EACA;IACE,2BAA2B;IAC3B,mBAAmB;EACrB;AACF",sourcesContent:[".search-modal-traces-table-view {\n  width: 100%;\n  height: 100%;\n  position: relative;\n}\n\n.search-modal-traces-table-view .tabulator {\n  font-size: inherit;\n}\n\n.search-modal-traces-table-view .tabulator-col-title {\n  color: #000;\n  line-height: 1.5;\n}\n\n.search-modal-traces-table-view .tabulator-header {\n  border-bottom-color: #ddd;\n}\n\n.search-modal-traces-table-view .tabulator-col:last-of-type {\n  border-right: 0;\n}\n\n.search-modal-traces-table-view\n  .tabulator-col.tabulator-sortable[aria-sort='none']\n  .tabulator-arrow {\n  display: none;\n}\n\n.search-modal-traces-table-view\n  .tabulator-col.tabulator-sortable[aria-sort='asc']\n  .tabulator-col-title,\n.search-modal-traces-table-view\n  .tabulator-col.tabulator-sortable[aria-sort='desc']\n  .tabulator-col-title {\n  text-decoration: underline;\n}\n\n.search-modal-traces-table-view\n  .tabulator\n  .tabulator-tableHolder\n  .tabulator-table {\n  color: #777;\n}\n\n.search-modal-traces-table-view .tabulator-row.tabulator-selectable:hover {\n  background: #f3f3f3;\n}\n\n.search-modal-traces-table-view .tabulator-row.tabulator-selected,\n.search-modal-traces-table-view .tabulator-row.tabulator-selected:hover {\n  background: #e5f0ff;\n}\n\n.traces-table-tag {\n  /* background: #D0E2F2; */\n  /* color: #7988B1; */\n  /* padding: 1px 3px; */\n  margin: 0 3px 0 10px;\n  font-weight: 500;\n  /* border-radius: 2px; */\n}\n\n.traces-table-tag:first-child {\n  margin-left: 0;\n}\n\n.traces-table-value {\n}\n\n.search-modal-traces-table-view .loading-container {\n  z-index: 1;\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background: rgba(255, 255, 255, 0.5);\n}\n\n.search-modal-traces-table-view .tabulator-cell[tabulator-field='inStage'] {\n  padding: 0;\n}\n\n.search-modal-traces-table-view .in-stage-cell {\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.search-modal-traces-table-view .in-stage-cell svg {\n  height: 1.4em;\n}\n\n.search-modal-traces-table-view .in-stage-cell.check svg {\n  fill: #5eb662;\n}\n\n.search-modal-traces-table-view .in-stage-cell.alert svg {\n  fill: #ff833e;\n}\n\n/* Borrowed from https://tobiasahlin.com/spinkit/ */\n.search-modal-traces-table-view .loading-container .sk-circle {\n  width: 40px;\n  height: 40px;\n  position: relative;\n}\n.sk-circle .sk-child {\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  left: 0;\n  top: 0;\n}\n.sk-circle .sk-child:before {\n  content: '';\n  display: block;\n  margin: 0 auto;\n  width: 15%;\n  height: 15%;\n  background-color: #333;\n  border-radius: 100%;\n  -webkit-animation: sk-circleBounceDelay 1.2s infinite ease-in-out both;\n  animation: sk-circleBounceDelay 1.2s infinite ease-in-out both;\n}\n.sk-circle .sk-circle2 {\n  -webkit-transform: rotate(30deg);\n  -ms-transform: rotate(30deg);\n  transform: rotate(30deg);\n}\n.sk-circle .sk-circle3 {\n  -webkit-transform: rotate(60deg);\n  -ms-transform: rotate(60deg);\n  transform: rotate(60deg);\n}\n.sk-circle .sk-circle4 {\n  -webkit-transform: rotate(90deg);\n  -ms-transform: rotate(90deg);\n  transform: rotate(90deg);\n}\n.sk-circle .sk-circle5 {\n  -webkit-transform: rotate(120deg);\n  -ms-transform: rotate(120deg);\n  transform: rotate(120deg);\n}\n.sk-circle .sk-circle6 {\n  -webkit-transform: rotate(150deg);\n  -ms-transform: rotate(150deg);\n  transform: rotate(150deg);\n}\n.sk-circle .sk-circle7 {\n  -webkit-transform: rotate(180deg);\n  -ms-transform: rotate(180deg);\n  transform: rotate(180deg);\n}\n.sk-circle .sk-circle8 {\n  -webkit-transform: rotate(210deg);\n  -ms-transform: rotate(210deg);\n  transform: rotate(210deg);\n}\n.sk-circle .sk-circle9 {\n  -webkit-transform: rotate(240deg);\n  -ms-transform: rotate(240deg);\n  transform: rotate(240deg);\n}\n.sk-circle .sk-circle10 {\n  -webkit-transform: rotate(270deg);\n  -ms-transform: rotate(270deg);\n  transform: rotate(270deg);\n}\n.sk-circle .sk-circle11 {\n  -webkit-transform: rotate(300deg);\n  -ms-transform: rotate(300deg);\n  transform: rotate(300deg);\n}\n.sk-circle .sk-circle12 {\n  -webkit-transform: rotate(330deg);\n  -ms-transform: rotate(330deg);\n  transform: rotate(330deg);\n}\n.sk-circle .sk-circle2:before {\n  -webkit-animation-delay: -1.1s;\n  animation-delay: -1.1s;\n}\n.sk-circle .sk-circle3:before {\n  -webkit-animation-delay: -1s;\n  animation-delay: -1s;\n}\n.sk-circle .sk-circle4:before {\n  -webkit-animation-delay: -0.9s;\n  animation-delay: -0.9s;\n}\n.sk-circle .sk-circle5:before {\n  -webkit-animation-delay: -0.8s;\n  animation-delay: -0.8s;\n}\n.sk-circle .sk-circle6:before {\n  -webkit-animation-delay: -0.7s;\n  animation-delay: -0.7s;\n}\n.sk-circle .sk-circle7:before {\n  -webkit-animation-delay: -0.6s;\n  animation-delay: -0.6s;\n}\n.sk-circle .sk-circle8:before {\n  -webkit-animation-delay: -0.5s;\n  animation-delay: -0.5s;\n}\n.sk-circle .sk-circle9:before {\n  -webkit-animation-delay: -0.4s;\n  animation-delay: -0.4s;\n}\n.sk-circle .sk-circle10:before {\n  -webkit-animation-delay: -0.3s;\n  animation-delay: -0.3s;\n}\n.sk-circle .sk-circle11:before {\n  -webkit-animation-delay: -0.2s;\n  animation-delay: -0.2s;\n}\n.sk-circle .sk-circle12:before {\n  -webkit-animation-delay: -0.1s;\n  animation-delay: -0.1s;\n}\n@-webkit-keyframes sk-circleBounceDelay {\n  0%,\n  80%,\n  100% {\n    -webkit-transform: scale(0);\n    transform: scale(0);\n  }\n  40% {\n    -webkit-transform: scale(1);\n    transform: scale(1);\n  }\n}\n@keyframes sk-circleBounceDelay {\n  0%,\n  80%,\n  100% {\n    -webkit-transform: scale(0);\n    transform: scale(0);\n  }\n  40% {\n    -webkit-transform: scale(1);\n    transform: scale(1);\n  }\n}\n"],sourceRoot:""}]);const r=a},58131:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(60445),o=n.n(i),s=n(60352),a=n.n(s)()(o());a.push([e.id,".zipkin-search-modal-container {\n  width: 90%;\n  height: 80%;\n  overflow: hidden;\n}\n\n.zipkin-search-modal-content {\n  --header-height: 40px;\n  --search-form-width: 220px;\n  width: 100%;\n  height: 100%;\n  box-sizing: border-box;\n  display: flex;\n  flex-direction: column;\n  position: relative;\n}\n\n.zipkin-search-modal-content .header {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  height: var(--header-height);\n  border-bottom: 1px solid #ccc;\n  box-sizing: border-box;\n  display: flex;\n  align-items: center;\n  padding: 0 10px;\n}\n\n.zipkin-search-modal-content .header .title-container {\n  font-size: 18px;\n  font-weight: 500;\n  flex-grow: 1;\n}\n\n.zipkin-search-modal-content .header .status {\n  --icon-size: 18px;\n  margin-left: 7px;\n  cursor: pointer;\n}\n\n.zipkin-search-modal-content .header .status .sk-circle {\n  width: var(--icon-size);\n  height: var(--icon-size);\n  position: relative;\n  display: inline-block;\n  top: 3px;\n  left: 5px;\n}\n\n.zipkin-search-modal-content .header .status svg {\n  width: var(--icon-size);\n  height: var(--icon-size);\n  position: relative;\n  top: 3px;\n}\n\n.zipkin-search-modal-content .header .status.success svg {\n  fill: #52c41a;\n}\n\n.zipkin-search-modal-content .header .status.warning svg {\n  fill: #faad14;\n}\n\n.zipkin-search-modal-content .header .status.error svg {\n  fill: #f5222d;\n}\n\n.zipkin-search-modal-content .main {\n  display: flex;\n  align-items: stretch;\n  flex-grow: 1;\n  position: absolute;\n  top: var(--header-height);\n  left: 0;\n  right: 0;\n  bottom: 0;\n}\n\n.zipkin-search-modal-content .search-form-container {\n  width: var(--search-form-width);\n  min-width: var(--search-form-width);\n  border-right: 1px solid #ccc;\n  padding: 10px;\n  box-sizing: border-box;\n  overflow-y: auto;\n}\n\n.zipkin-search-modal-content .search-form-hidden .search-form-container {\n  display: none;\n}\n\n.zipkin-search-modal-content .search-form-container form .field {\n  margin-bottom: 1em;\n}\n\n.zipkin-search-modal-content .search-form-container form .field-title {\n  font-weight: 400;\n}\n\n.zipkin-search-modal-content .search-form-container form .field input,\n.zipkin-search-modal-content .search-form-container form .field select {\n  width: 100%;\n  box-sizing: border-box;\n}\n\n.zipkin-search-modal-content .search-form-toggle {\n  position: absolute;\n  z-index: 2;\n  bottom: 2px;\n  left: var(--search-form-width);\n  padding: 5px;\n  box-sizing: border-box;\n  cursor: pointer;\n}\n\n.zipkin-search-modal-content .search-form-hidden .search-form-toggle {\n  left: 0;\n}\n\n.zipkin-search-modal-content .search-form-toggle svg {\n  width: 15px;\n  height: 15px;\n  fill: #ccc;\n}\n\n.zipkin-search-modal-content .search-form-toggle:hover svg {\n  fill: #666;\n}\n\n.zipkin-search-modal-content .result {\n  --footer-height: 36px;\n  --scatter-plot-height: 150px;\n  flex-grow: 2;\n  overflow: hidden;\n  position: relative;\n}\n\n.zipkin-search-modal-content .result .scatter-plot-container {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: var(--scatter-plot-height);\n  border-bottom: 1px solid #ccc;\n  box-sizing: border-box;\n}\n\n.zipkin-search-modal-content .result .table-container {\n  position: absolute;\n  top: var(--scatter-plot-height);\n  left: 0;\n  width: 100%;\n  bottom: var(--footer-height);\n}\n\n.zipkin-search-modal-content .result .overlay-container {\n  z-index: 1;\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background: rgba(255, 255, 255, 1);\n  box-sizing: border-box;\n}\n\n.zipkin-search-modal-content .result .overlay-container .message {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n}\n\n.zipkin-search-modal-content .result .overlay-container .message svg {\n  width: 2.5em;\n  height: 2.5em;\n  fill: #ccc;\n}\n\n.zipkin-search-modal-content .result .overlay-container .message span {\n  color: #ccc;\n  margin-top: 0.5em;\n  font-weight: 600;\n}\n\n.zipkin-search-modal-content .result .overlay-container .sk-circle {\n  width: 40px;\n  height: 40px;\n  position: relative;\n}\n\n.zipkin-search-modal-content .footer {\n  height: var(--footer-height);\n  border-top: 1px solid #ccc;\n  padding: 0 1em;\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  box-sizing: border-box;\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n}\n\n.zipkin-search-modal-content .footer > span {\n  margin-right: 10px;\n}\n\n/* Borrowed from https://tobiasahlin.com/spinkit/ */\n.sk-circle .sk-child {\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  left: 0;\n  top: 0;\n}\n.sk-circle .sk-child:before {\n  content: '';\n  display: block;\n  margin: 0 auto;\n  width: 15%;\n  height: 15%;\n  background-color: #333;\n  border-radius: 100%;\n  -webkit-animation: sk-circleBounceDelay 1.2s infinite ease-in-out both;\n  animation: sk-circleBounceDelay 1.2s infinite ease-in-out both;\n}\n.sk-circle .sk-circle2 {\n  -webkit-transform: rotate(30deg);\n  -ms-transform: rotate(30deg);\n  transform: rotate(30deg);\n}\n.sk-circle .sk-circle3 {\n  -webkit-transform: rotate(60deg);\n  -ms-transform: rotate(60deg);\n  transform: rotate(60deg);\n}\n.sk-circle .sk-circle4 {\n  -webkit-transform: rotate(90deg);\n  -ms-transform: rotate(90deg);\n  transform: rotate(90deg);\n}\n.sk-circle .sk-circle5 {\n  -webkit-transform: rotate(120deg);\n  -ms-transform: rotate(120deg);\n  transform: rotate(120deg);\n}\n.sk-circle .sk-circle6 {\n  -webkit-transform: rotate(150deg);\n  -ms-transform: rotate(150deg);\n  transform: rotate(150deg);\n}\n.sk-circle .sk-circle7 {\n  -webkit-transform: rotate(180deg);\n  -ms-transform: rotate(180deg);\n  transform: rotate(180deg);\n}\n.sk-circle .sk-circle8 {\n  -webkit-transform: rotate(210deg);\n  -ms-transform: rotate(210deg);\n  transform: rotate(210deg);\n}\n.sk-circle .sk-circle9 {\n  -webkit-transform: rotate(240deg);\n  -ms-transform: rotate(240deg);\n  transform: rotate(240deg);\n}\n.sk-circle .sk-circle10 {\n  -webkit-transform: rotate(270deg);\n  -ms-transform: rotate(270deg);\n  transform: rotate(270deg);\n}\n.sk-circle .sk-circle11 {\n  -webkit-transform: rotate(300deg);\n  -ms-transform: rotate(300deg);\n  transform: rotate(300deg);\n}\n.sk-circle .sk-circle12 {\n  -webkit-transform: rotate(330deg);\n  -ms-transform: rotate(330deg);\n  transform: rotate(330deg);\n}\n.sk-circle .sk-circle2:before {\n  -webkit-animation-delay: -1.1s;\n  animation-delay: -1.1s;\n}\n.sk-circle .sk-circle3:before {\n  -webkit-animation-delay: -1s;\n  animation-delay: -1s;\n}\n.sk-circle .sk-circle4:before {\n  -webkit-animation-delay: -0.9s;\n  animation-delay: -0.9s;\n}\n.sk-circle .sk-circle5:before {\n  -webkit-animation-delay: -0.8s;\n  animation-delay: -0.8s;\n}\n.sk-circle .sk-circle6:before {\n  -webkit-animation-delay: -0.7s;\n  animation-delay: -0.7s;\n}\n.sk-circle .sk-circle7:before {\n  -webkit-animation-delay: -0.6s;\n  animation-delay: -0.6s;\n}\n.sk-circle .sk-circle8:before {\n  -webkit-animation-delay: -0.5s;\n  animation-delay: -0.5s;\n}\n.sk-circle .sk-circle9:before {\n  -webkit-animation-delay: -0.4s;\n  animation-delay: -0.4s;\n}\n.sk-circle .sk-circle10:before {\n  -webkit-animation-delay: -0.3s;\n  animation-delay: -0.3s;\n}\n.sk-circle .sk-circle11:before {\n  -webkit-animation-delay: -0.2s;\n  animation-delay: -0.2s;\n}\n.sk-circle .sk-circle12:before {\n  -webkit-animation-delay: -0.1s;\n  animation-delay: -0.1s;\n}\n@-webkit-keyframes sk-circleBounceDelay {\n  0%,\n  80%,\n  100% {\n    -webkit-transform: scale(0);\n    transform: scale(0);\n  }\n  40% {\n    -webkit-transform: scale(1);\n    transform: scale(1);\n  }\n}\n@keyframes sk-circleBounceDelay {\n  0%,\n  80%,\n  100% {\n    -webkit-transform: scale(0);\n    transform: scale(0);\n  }\n  40% {\n    -webkit-transform: scale(1);\n    transform: scale(1);\n  }\n}\n","",{version:3,sources:["webpack://./src/components/trace-search/zipkin-search.css"],names:[],mappings:"AAAA;EACE,UAAU;EACV,WAAW;EACX,gBAAgB;AAClB;;AAEA;EACE,qBAAqB;EACrB,0BAA0B;EAC1B,WAAW;EACX,YAAY;EACZ,sBAAsB;EACtB,aAAa;EACb,sBAAsB;EACtB,kBAAkB;AACpB;;AAEA;EACE,kBAAkB;EAClB,MAAM;EACN,OAAO;EACP,QAAQ;EACR,4BAA4B;EAC5B,6BAA6B;EAC7B,sBAAsB;EACtB,aAAa;EACb,mBAAmB;EACnB,eAAe;AACjB;;AAEA;EACE,eAAe;EACf,gBAAgB;EAChB,YAAY;AACd;;AAEA;EACE,iBAAiB;EACjB,gBAAgB;EAChB,eAAe;AACjB;;AAEA;EACE,uBAAuB;EACvB,wBAAwB;EACxB,kBAAkB;EAClB,qBAAqB;EACrB,QAAQ;EACR,SAAS;AACX;;AAEA;EACE,uBAAuB;EACvB,wBAAwB;EACxB,kBAAkB;EAClB,QAAQ;AACV;;AAEA;EACE,aAAa;AACf;;AAEA;EACE,aAAa;AACf;;AAEA;EACE,aAAa;AACf;;AAEA;EACE,aAAa;EACb,oBAAoB;EACpB,YAAY;EACZ,kBAAkB;EAClB,yBAAyB;EACzB,OAAO;EACP,QAAQ;EACR,SAAS;AACX;;AAEA;EACE,+BAA+B;EAC/B,mCAAmC;EACnC,4BAA4B;EAC5B,aAAa;EACb,sBAAsB;EACtB,gBAAgB;AAClB;;AAEA;EACE,aAAa;AACf;;AAEA;EACE,kBAAkB;AACpB;;AAEA;EACE,gBAAgB;AAClB;;AAEA;;EAEE,WAAW;EACX,sBAAsB;AACxB;;AAEA;EACE,kBAAkB;EAClB,UAAU;EACV,WAAW;EACX,8BAA8B;EAC9B,YAAY;EACZ,sBAAsB;EACtB,eAAe;AACjB;;AAEA;EACE,OAAO;AACT;;AAEA;EACE,WAAW;EACX,YAAY;EACZ,UAAU;AACZ;;AAEA;EACE,UAAU;AACZ;;AAEA;EACE,qBAAqB;EACrB,4BAA4B;EAC5B,YAAY;EACZ,gBAAgB;EAChB,kBAAkB;AACpB;;AAEA;EACE,kBAAkB;EAClB,MAAM;EACN,OAAO;EACP,WAAW;EACX,kCAAkC;EAClC,6BAA6B;EAC7B,sBAAsB;AACxB;;AAEA;EACE,kBAAkB;EAClB,+BAA+B;EAC/B,OAAO;EACP,WAAW;EACX,4BAA4B;AAC9B;;AAEA;EACE,UAAU;EACV,kBAAkB;EAClB,MAAM;EACN,QAAQ;EACR,SAAS;EACT,OAAO;EACP,aAAa;EACb,mBAAmB;EACnB,uBAAuB;EACvB,kCAAkC;EAClC,sBAAsB;AACxB;;AAEA;EACE,YAAY;EACZ,aAAa;EACb,sBAAsB;EACtB,uBAAuB;EACvB,mBAAmB;AACrB;;AAEA;EACE,YAAY;EACZ,aAAa;EACb,UAAU;AACZ;;AAEA;EACE,WAAW;EACX,iBAAiB;EACjB,gBAAgB;AAClB;;AAEA;EACE,WAAW;EACX,YAAY;EACZ,kBAAkB;AACpB;;AAEA;EACE,4BAA4B;EAC5B,0BAA0B;EAC1B,cAAc;EACd,kBAAkB;EAClB,SAAS;EACT,OAAO;EACP,QAAQ;EACR,sBAAsB;EACtB,aAAa;EACb,yBAAyB;EACzB,mBAAmB;AACrB;;AAEA;EACE,kBAAkB;AACpB;;AAEA,mDAAmD;AACnD;EACE,WAAW;EACX,YAAY;EACZ,kBAAkB;EAClB,OAAO;EACP,MAAM;AACR;AACA;EACE,WAAW;EACX,cAAc;EACd,cAAc;EACd,UAAU;EACV,WAAW;EACX,sBAAsB;EACtB,mBAAmB;EACnB,sEAAsE;EACtE,8DAA8D;AAChE;AACA;EACE,gCAAgC;EAChC,4BAA4B;EAC5B,wBAAwB;AAC1B;AACA;EACE,gCAAgC;EAChC,4BAA4B;EAC5B,wBAAwB;AAC1B;AACA;EACE,gCAAgC;EAChC,4BAA4B;EAC5B,wBAAwB;AAC1B;AACA;EACE,iCAAiC;EACjC,6BAA6B;EAC7B,yBAAyB;AAC3B;AACA;EACE,iCAAiC;EACjC,6BAA6B;EAC7B,yBAAyB;AAC3B;AACA;EACE,iCAAiC;EACjC,6BAA6B;EAC7B,yBAAyB;AAC3B;AACA;EACE,iCAAiC;EACjC,6BAA6B;EAC7B,yBAAyB;AAC3B;AACA;EACE,iCAAiC;EACjC,6BAA6B;EAC7B,yBAAyB;AAC3B;AACA;EACE,iCAAiC;EACjC,6BAA6B;EAC7B,yBAAyB;AAC3B;AACA;EACE,iCAAiC;EACjC,6BAA6B;EAC7B,yBAAyB;AAC3B;AACA;EACE,iCAAiC;EACjC,6BAA6B;EAC7B,yBAAyB;AAC3B;AACA;EACE,8BAA8B;EAC9B,sBAAsB;AACxB;AACA;EACE,4BAA4B;EAC5B,oBAAoB;AACtB;AACA;EACE,8BAA8B;EAC9B,sBAAsB;AACxB;AACA;EACE,8BAA8B;EAC9B,sBAAsB;AACxB;AACA;EACE,8BAA8B;EAC9B,sBAAsB;AACxB;AACA;EACE,8BAA8B;EAC9B,sBAAsB;AACxB;AACA;EACE,8BAA8B;EAC9B,sBAAsB;AACxB;AACA;EACE,8BAA8B;EAC9B,sBAAsB;AACxB;AACA;EACE,8BAA8B;EAC9B,sBAAsB;AACxB;AACA;EACE,8BAA8B;EAC9B,sBAAsB;AACxB;AACA;EACE,8BAA8B;EAC9B,sBAAsB;AACxB;AACA;EACE;;;IAGE,2BAA2B;IAC3B,mBAAmB;EACrB;EACA;IACE,2BAA2B;IAC3B,mBAAmB;EACrB;AACF;AACA;EACE;;;IAGE,2BAA2B;IAC3B,mBAAmB;EACrB;EACA;IACE,2BAA2B;IAC3B,mBAAmB;EACrB;AACF",sourcesContent:[".zipkin-search-modal-container {\n  width: 90%;\n  height: 80%;\n  overflow: hidden;\n}\n\n.zipkin-search-modal-content {\n  --header-height: 40px;\n  --search-form-width: 220px;\n  width: 100%;\n  height: 100%;\n  box-sizing: border-box;\n  display: flex;\n  flex-direction: column;\n  position: relative;\n}\n\n.zipkin-search-modal-content .header {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  height: var(--header-height);\n  border-bottom: 1px solid #ccc;\n  box-sizing: border-box;\n  display: flex;\n  align-items: center;\n  padding: 0 10px;\n}\n\n.zipkin-search-modal-content .header .title-container {\n  font-size: 18px;\n  font-weight: 500;\n  flex-grow: 1;\n}\n\n.zipkin-search-modal-content .header .status {\n  --icon-size: 18px;\n  margin-left: 7px;\n  cursor: pointer;\n}\n\n.zipkin-search-modal-content .header .status .sk-circle {\n  width: var(--icon-size);\n  height: var(--icon-size);\n  position: relative;\n  display: inline-block;\n  top: 3px;\n  left: 5px;\n}\n\n.zipkin-search-modal-content .header .status svg {\n  width: var(--icon-size);\n  height: var(--icon-size);\n  position: relative;\n  top: 3px;\n}\n\n.zipkin-search-modal-content .header .status.success svg {\n  fill: #52c41a;\n}\n\n.zipkin-search-modal-content .header .status.warning svg {\n  fill: #faad14;\n}\n\n.zipkin-search-modal-content .header .status.error svg {\n  fill: #f5222d;\n}\n\n.zipkin-search-modal-content .main {\n  display: flex;\n  align-items: stretch;\n  flex-grow: 1;\n  position: absolute;\n  top: var(--header-height);\n  left: 0;\n  right: 0;\n  bottom: 0;\n}\n\n.zipkin-search-modal-content .search-form-container {\n  width: var(--search-form-width);\n  min-width: var(--search-form-width);\n  border-right: 1px solid #ccc;\n  padding: 10px;\n  box-sizing: border-box;\n  overflow-y: auto;\n}\n\n.zipkin-search-modal-content .search-form-hidden .search-form-container {\n  display: none;\n}\n\n.zipkin-search-modal-content .search-form-container form .field {\n  margin-bottom: 1em;\n}\n\n.zipkin-search-modal-content .search-form-container form .field-title {\n  font-weight: 400;\n}\n\n.zipkin-search-modal-content .search-form-container form .field input,\n.zipkin-search-modal-content .search-form-container form .field select {\n  width: 100%;\n  box-sizing: border-box;\n}\n\n.zipkin-search-modal-content .search-form-toggle {\n  position: absolute;\n  z-index: 2;\n  bottom: 2px;\n  left: var(--search-form-width);\n  padding: 5px;\n  box-sizing: border-box;\n  cursor: pointer;\n}\n\n.zipkin-search-modal-content .search-form-hidden .search-form-toggle {\n  left: 0;\n}\n\n.zipkin-search-modal-content .search-form-toggle svg {\n  width: 15px;\n  height: 15px;\n  fill: #ccc;\n}\n\n.zipkin-search-modal-content .search-form-toggle:hover svg {\n  fill: #666;\n}\n\n.zipkin-search-modal-content .result {\n  --footer-height: 36px;\n  --scatter-plot-height: 150px;\n  flex-grow: 2;\n  overflow: hidden;\n  position: relative;\n}\n\n.zipkin-search-modal-content .result .scatter-plot-container {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: var(--scatter-plot-height);\n  border-bottom: 1px solid #ccc;\n  box-sizing: border-box;\n}\n\n.zipkin-search-modal-content .result .table-container {\n  position: absolute;\n  top: var(--scatter-plot-height);\n  left: 0;\n  width: 100%;\n  bottom: var(--footer-height);\n}\n\n.zipkin-search-modal-content .result .overlay-container {\n  z-index: 1;\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background: rgba(255, 255, 255, 1);\n  box-sizing: border-box;\n}\n\n.zipkin-search-modal-content .result .overlay-container .message {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n}\n\n.zipkin-search-modal-content .result .overlay-container .message svg {\n  width: 2.5em;\n  height: 2.5em;\n  fill: #ccc;\n}\n\n.zipkin-search-modal-content .result .overlay-container .message span {\n  color: #ccc;\n  margin-top: 0.5em;\n  font-weight: 600;\n}\n\n.zipkin-search-modal-content .result .overlay-container .sk-circle {\n  width: 40px;\n  height: 40px;\n  position: relative;\n}\n\n.zipkin-search-modal-content .footer {\n  height: var(--footer-height);\n  border-top: 1px solid #ccc;\n  padding: 0 1em;\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  box-sizing: border-box;\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n}\n\n.zipkin-search-modal-content .footer > span {\n  margin-right: 10px;\n}\n\n/* Borrowed from https://tobiasahlin.com/spinkit/ */\n.sk-circle .sk-child {\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  left: 0;\n  top: 0;\n}\n.sk-circle .sk-child:before {\n  content: '';\n  display: block;\n  margin: 0 auto;\n  width: 15%;\n  height: 15%;\n  background-color: #333;\n  border-radius: 100%;\n  -webkit-animation: sk-circleBounceDelay 1.2s infinite ease-in-out both;\n  animation: sk-circleBounceDelay 1.2s infinite ease-in-out both;\n}\n.sk-circle .sk-circle2 {\n  -webkit-transform: rotate(30deg);\n  -ms-transform: rotate(30deg);\n  transform: rotate(30deg);\n}\n.sk-circle .sk-circle3 {\n  -webkit-transform: rotate(60deg);\n  -ms-transform: rotate(60deg);\n  transform: rotate(60deg);\n}\n.sk-circle .sk-circle4 {\n  -webkit-transform: rotate(90deg);\n  -ms-transform: rotate(90deg);\n  transform: rotate(90deg);\n}\n.sk-circle .sk-circle5 {\n  -webkit-transform: rotate(120deg);\n  -ms-transform: rotate(120deg);\n  transform: rotate(120deg);\n}\n.sk-circle .sk-circle6 {\n  -webkit-transform: rotate(150deg);\n  -ms-transform: rotate(150deg);\n  transform: rotate(150deg);\n}\n.sk-circle .sk-circle7 {\n  -webkit-transform: rotate(180deg);\n  -ms-transform: rotate(180deg);\n  transform: rotate(180deg);\n}\n.sk-circle .sk-circle8 {\n  -webkit-transform: rotate(210deg);\n  -ms-transform: rotate(210deg);\n  transform: rotate(210deg);\n}\n.sk-circle .sk-circle9 {\n  -webkit-transform: rotate(240deg);\n  -ms-transform: rotate(240deg);\n  transform: rotate(240deg);\n}\n.sk-circle .sk-circle10 {\n  -webkit-transform: rotate(270deg);\n  -ms-transform: rotate(270deg);\n  transform: rotate(270deg);\n}\n.sk-circle .sk-circle11 {\n  -webkit-transform: rotate(300deg);\n  -ms-transform: rotate(300deg);\n  transform: rotate(300deg);\n}\n.sk-circle .sk-circle12 {\n  -webkit-transform: rotate(330deg);\n  -ms-transform: rotate(330deg);\n  transform: rotate(330deg);\n}\n.sk-circle .sk-circle2:before {\n  -webkit-animation-delay: -1.1s;\n  animation-delay: -1.1s;\n}\n.sk-circle .sk-circle3:before {\n  -webkit-animation-delay: -1s;\n  animation-delay: -1s;\n}\n.sk-circle .sk-circle4:before {\n  -webkit-animation-delay: -0.9s;\n  animation-delay: -0.9s;\n}\n.sk-circle .sk-circle5:before {\n  -webkit-animation-delay: -0.8s;\n  animation-delay: -0.8s;\n}\n.sk-circle .sk-circle6:before {\n  -webkit-animation-delay: -0.7s;\n  animation-delay: -0.7s;\n}\n.sk-circle .sk-circle7:before {\n  -webkit-animation-delay: -0.6s;\n  animation-delay: -0.6s;\n}\n.sk-circle .sk-circle8:before {\n  -webkit-animation-delay: -0.5s;\n  animation-delay: -0.5s;\n}\n.sk-circle .sk-circle9:before {\n  -webkit-animation-delay: -0.4s;\n  animation-delay: -0.4s;\n}\n.sk-circle .sk-circle10:before {\n  -webkit-animation-delay: -0.3s;\n  animation-delay: -0.3s;\n}\n.sk-circle .sk-circle11:before {\n  -webkit-animation-delay: -0.2s;\n  animation-delay: -0.2s;\n}\n.sk-circle .sk-circle12:before {\n  -webkit-animation-delay: -0.1s;\n  animation-delay: -0.1s;\n}\n@-webkit-keyframes sk-circleBounceDelay {\n  0%,\n  80%,\n  100% {\n    -webkit-transform: scale(0);\n    transform: scale(0);\n  }\n  40% {\n    -webkit-transform: scale(1);\n    transform: scale(1);\n  }\n}\n@keyframes sk-circleBounceDelay {\n  0%,\n  80%,\n  100% {\n    -webkit-transform: scale(0);\n    transform: scale(0);\n  }\n  40% {\n    -webkit-transform: scale(1);\n    transform: scale(1);\n  }\n}\n"],sourceRoot:""}]);const r=a},90163:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(60445),o=n.n(i),s=n(60352),a=n.n(s)()(o());a.push([e.id,"/* Custom tippy.js tooltip template */\n.tippy-tooltip.trace-tooltip-theme {\n  background-color: rgba(0, 0, 0, 0.75);\n  border-radius: 2px;\n}\n.tippy-tooltip.trace-tooltip-theme > .tippy-content {\n  padding: 0;\n  font-size: 0.815em;\n}\n\n.trace-tooltip {\n  display: flex;\n  padding: 0.2em 0.5em;\n  word-break: break-all;\n}\n\n.trace-tooltip .left {\n  flex-grow: 1;\n}\n\n.trace-tooltip .right {\n  white-space: nowrap;\n  margin-left: 2em;\n}\n\n.trace-tooltip-time {\n  color: #55d239;\n}\n\n.trace-tooltip-name {\n  margin-left: 1em;\n  font-weight: 600;\n}\n\n.trace-tooltip-error-icon svg {\n  position: relative;\n  height: 1em;\n  width: 1em;\n  fill: #fff;\n  top: 2px;\n}\n\n.trace-tooltip-span-count,\n.trace-tooltip-error-count {\n  margin-right: 0.25em;\n}\n\n.trace-tooltip-error-count {\n  margin-left: 0.6em;\n}\n","",{version:3,sources:["webpack://./src/components/trace-tooltip/trace-tooltip.css"],names:[],mappings:"AAAA,qCAAqC;AACrC;EACE,qCAAqC;EACrC,kBAAkB;AACpB;AACA;EACE,UAAU;EACV,kBAAkB;AACpB;;AAEA;EACE,aAAa;EACb,oBAAoB;EACpB,qBAAqB;AACvB;;AAEA;EACE,YAAY;AACd;;AAEA;EACE,mBAAmB;EACnB,gBAAgB;AAClB;;AAEA;EACE,cAAc;AAChB;;AAEA;EACE,gBAAgB;EAChB,gBAAgB;AAClB;;AAEA;EACE,kBAAkB;EAClB,WAAW;EACX,UAAU;EACV,UAAU;EACV,QAAQ;AACV;;AAEA;;EAEE,oBAAoB;AACtB;;AAEA;EACE,kBAAkB;AACpB",sourcesContent:["/* Custom tippy.js tooltip template */\n.tippy-tooltip.trace-tooltip-theme {\n  background-color: rgba(0, 0, 0, 0.75);\n  border-radius: 2px;\n}\n.tippy-tooltip.trace-tooltip-theme > .tippy-content {\n  padding: 0;\n  font-size: 0.815em;\n}\n\n.trace-tooltip {\n  display: flex;\n  padding: 0.2em 0.5em;\n  word-break: break-all;\n}\n\n.trace-tooltip .left {\n  flex-grow: 1;\n}\n\n.trace-tooltip .right {\n  white-space: nowrap;\n  margin-left: 2em;\n}\n\n.trace-tooltip-time {\n  color: #55d239;\n}\n\n.trace-tooltip-name {\n  margin-left: 1em;\n  font-weight: 600;\n}\n\n.trace-tooltip-error-icon svg {\n  position: relative;\n  height: 1em;\n  width: 1em;\n  fill: #fff;\n  top: 2px;\n}\n\n.trace-tooltip-span-count,\n.trace-tooltip-error-count {\n  margin-right: 0.25em;\n}\n\n.trace-tooltip-error-count {\n  margin-left: 0.6em;\n}\n"],sourceRoot:""}]);const r=a},33020:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(60445),o=n.n(i),s=n(60352),a=n.n(s)()(o());a.push([e.id,"/* Really-custom ones */\n.tippy-tooltip.context-menu-theme > .tippy-content {\n  padding: 0;\n  font-size: 1.1em;\n}\n.tippy-tooltip.context-menu-theme > .tippy-content > div {\n  padding: 0.3em 0;\n}\n.tippy-tooltip.context-menu-theme > .tippy-content > div > .item-divider {\n  height: 0.7em;\n  background: linear-gradient(#666, #666) no-repeat center/100% 1px;\n}\n.tippy-tooltip.context-menu-theme > .tippy-content > div > .item {\n  font-size: 1em;\n  line-height: 1.9em;\n  padding: 0 0.75em;\n  display: flex;\n  align-items: center;\n}\n.tippy-tooltip.context-menu-theme .item svg {\n  height: 1.3em;\n  margin-right: 0.3em;\n  fill: #fff;\n}\n.tippy-tooltip.context-menu-theme .item .text {\n  margin-right: 1em;\n}\n.tippy-tooltip.context-menu-theme .item .alt {\n  flex-grow: 1;\n  text-align: right;\n  padding-left: 3em;\n  font-size: 0.75em;\n  text-transform: uppercase;\n  opacity: 0.85;\n}\n.tippy-tooltip.context-menu-theme .item:hover {\n  background: #2b97ef;\n}\n.tippy-tooltip.context-menu-theme .item.selected {\n  background: #2b97ef;\n}\n.tippy-tooltip.context-menu-theme .item.selected:hover {\n  background: #288bdb;\n}\n.tippy-tooltip.context-menu-theme .item.disabled {\n  cursor: default;\n  color: #666;\n}\n.tippy-tooltip.context-menu-theme .item.disabled svg {\n  fill: #666;\n}\n.tippy-tooltip.context-menu-theme .item.disabled:hover {\n  background: none;\n}\n","",{version:3,sources:["webpack://./src/components/ui/context-menu/context-menu.css"],names:[],mappings:"AAAA,uBAAuB;AACvB;EACE,UAAU;EACV,gBAAgB;AAClB;AACA;EACE,gBAAgB;AAClB;AACA;EACE,aAAa;EACb,iEAAiE;AACnE;AACA;EACE,cAAc;EACd,kBAAkB;EAClB,iBAAiB;EACjB,aAAa;EACb,mBAAmB;AACrB;AACA;EACE,aAAa;EACb,mBAAmB;EACnB,UAAU;AACZ;AACA;EACE,iBAAiB;AACnB;AACA;EACE,YAAY;EACZ,iBAAiB;EACjB,iBAAiB;EACjB,iBAAiB;EACjB,yBAAyB;EACzB,aAAa;AACf;AACA;EACE,mBAAmB;AACrB;AACA;EACE,mBAAmB;AACrB;AACA;EACE,mBAAmB;AACrB;AACA;EACE,eAAe;EACf,WAAW;AACb;AACA;EACE,UAAU;AACZ;AACA;EACE,gBAAgB;AAClB",sourcesContent:["/* Really-custom ones */\n.tippy-tooltip.context-menu-theme > .tippy-content {\n  padding: 0;\n  font-size: 1.1em;\n}\n.tippy-tooltip.context-menu-theme > .tippy-content > div {\n  padding: 0.3em 0;\n}\n.tippy-tooltip.context-menu-theme > .tippy-content > div > .item-divider {\n  height: 0.7em;\n  background: linear-gradient(#666, #666) no-repeat center/100% 1px;\n}\n.tippy-tooltip.context-menu-theme > .tippy-content > div > .item {\n  font-size: 1em;\n  line-height: 1.9em;\n  padding: 0 0.75em;\n  display: flex;\n  align-items: center;\n}\n.tippy-tooltip.context-menu-theme .item svg {\n  height: 1.3em;\n  margin-right: 0.3em;\n  fill: #fff;\n}\n.tippy-tooltip.context-menu-theme .item .text {\n  margin-right: 1em;\n}\n.tippy-tooltip.context-menu-theme .item .alt {\n  flex-grow: 1;\n  text-align: right;\n  padding-left: 3em;\n  font-size: 0.75em;\n  text-transform: uppercase;\n  opacity: 0.85;\n}\n.tippy-tooltip.context-menu-theme .item:hover {\n  background: #2b97ef;\n}\n.tippy-tooltip.context-menu-theme .item.selected {\n  background: #2b97ef;\n}\n.tippy-tooltip.context-menu-theme .item.selected:hover {\n  background: #288bdb;\n}\n.tippy-tooltip.context-menu-theme .item.disabled {\n  cursor: default;\n  color: #666;\n}\n.tippy-tooltip.context-menu-theme .item.disabled svg {\n  fill: #666;\n}\n.tippy-tooltip.context-menu-theme .item.disabled:hover {\n  background: none;\n}\n"],sourceRoot:""}]);const r=a},97511:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(60445),o=n.n(i),s=n(60352),a=n.n(s)()(o());a.push([e.id,".tippy-tooltip.tooltip-theme {\n  font-size: 1em;\n}\n","",{version:3,sources:["webpack://./src/components/ui/tooltip/tooltip.css"],names:[],mappings:"AAAA;EACE,cAAc;AAChB",sourcesContent:[".tippy-tooltip.tooltip-theme {\n  font-size: 1em;\n}\n"],sourceRoot:""}]);const r=a},60630:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(60445),o=n.n(i),s=n(60352),a=n.n(s)()(o());a.push([e.id,"/* Custom tippy.js tooltip template */\n.tippy-tooltip.widget-toolbar-multi-select-theme {\n  color: #26323d;\n  box-shadow: 0 0 20px 4px rgba(154, 161, 177, 0.15),\n    0 4px 80px -8px rgba(36, 40, 47, 0.25),\n    0 4px 4px -2px rgba(91, 94, 105, 0.15);\n  background-color: #fff;\n}\n.tippy-tooltip.widget-toolbar-multi-select-theme[data-placement^='top']\n  > .tippy-arrow {\n  border-width: 8px 8px 0;\n  border-top-color: #fff;\n}\n.tippy-tooltip.widget-toolbar-multi-select-theme[data-placement^='bottom']\n  > .tippy-arrow {\n  border-width: 0 8px 8px;\n  border-bottom-color: #fff;\n}\n.tippy-tooltip.widget-toolbar-multi-select-theme[data-placement^='left']\n  > .tippy-arrow {\n  border-width: 8px 0 8px 8px;\n  border-left-color: #fff;\n}\n.tippy-tooltip.widget-toolbar-multi-select-theme[data-placement^='right']\n  > .tippy-arrow {\n  border-width: 8px 8px 8px 0;\n  border-right-color: #fff;\n}\n.tippy-tooltip.widget-toolbar-multi-select-theme > .tippy-backdrop {\n  background-color: #fff;\n}\n.tippy-tooltip.widget-toolbar-multi-select-theme > .tippy-svg-arrow {\n  fill: #fff;\n}\n.tippy-tooltip.widget-toolbar-multi-select-theme > .tippy-content {\n  padding: 0;\n  font-size: 1.1em;\n}\n/* Really-custom ones */\n.tippy-tooltip.widget-toolbar-multi-select-theme\n  > .tippy-content\n  > div\n  > .item-divider {\n  height: 1em;\n  background: linear-gradient(#d0d0d0, #d0d0d0) no-repeat center/100% 1px;\n}\n.tippy-tooltip.widget-toolbar-multi-select-theme\n  > .tippy-content\n  > div\n  > .item {\n  font-size: 1em;\n  line-height: 2em;\n  padding: 0 0.75em;\n  display: flex;\n  align-items: center;\n}\n.tippy-tooltip.widget-toolbar-multi-select-theme .item svg {\n  height: 1.3em;\n  margin-right: 0.3em;\n}\n.tippy-tooltip.widget-toolbar-multi-select-theme .item .text {\n  margin-right: 1em;\n}\n.tippy-tooltip.widget-toolbar-multi-select-theme .item:hover {\n  color: #fff;\n  background: #2b97ef;\n}\n.tippy-tooltip.widget-toolbar-multi-select-theme .item:hover svg {\n  fill: #fff;\n}\n.tippy-tooltip.widget-toolbar-multi-select-theme .item.selected {\n  color: #fff;\n  background: #2b97ef;\n}\n.tippy-tooltip.widget-toolbar-multi-select-theme .item.selected svg {\n  fill: #fff;\n}\n.tippy-tooltip.widget-toolbar-multi-select-theme .item.selected:hover {\n  background: #288bdb;\n}\n.tippy-tooltip.widget-toolbar-multi-select-theme .item.disabled {\n  cursor: default;\n  color: #d9d9d9;\n}\n.tippy-tooltip.widget-toolbar-multi-select-theme .item.disabled svg {\n  fill: #d9d9d9;\n}\n.tippy-tooltip.widget-toolbar-multi-select-theme .item.disabled:hover {\n  background: none;\n}\n\n/* Go go go */\n.widget-toolbar-multi-select-search {\n  display: block;\n  margin: 0.6em;\n  width: calc(100% - 1.2em);\n}\n\n.widget-toolbar-multi-select-items {\n  padding: 0.6em 0;\n  border-top: 1px solid #ccc;\n}\n\n.widget-toolbar-multi-select-items > .empty {\n  padding: 0 0.6em;\n}\n\n.widget-toolbar-multi-select-category {\n  background: #f9f9f9;\n  font-size: 0.75em;\n  text-transform: uppercase;\n  padding: 0.25em 0.6em;\n  font-weight: 600;\n}\n\n.widget-toolbar-multi-select-item {\n  font-size: 0.9em;\n  padding: 0.2em 0.6em;\n  cursor: pointer;\n}\n\n.widget-toolbar-multi-select-item:before {\n  content: '';\n  display: inline-block;\n  width: 1.25em;\n}\n\n.widget-toolbar-multi-select-item:hover {\n  color: #fff;\n  background: #2b97ef;\n}\n\n.widget-toolbar-multi-select-item.selected {\n  color: #2b97ef;\n}\n\n.widget-toolbar-multi-select-item.selected:hover {\n  color: #fff;\n}\n\n.widget-toolbar-multi-select-item.selected:before {\n  content: '\\2713';\n}\n","",{version:3,sources:["webpack://./src/components/ui/widget-toolbar/widget-toolbar-multi-select.css"],names:[],mappings:"AAAA,qCAAqC;AACrC;EACE,cAAc;EACd;;0CAEwC;EACxC,sBAAsB;AACxB;AACA;;EAEE,uBAAuB;EACvB,sBAAsB;AACxB;AACA;;EAEE,uBAAuB;EACvB,yBAAyB;AAC3B;AACA;;EAEE,2BAA2B;EAC3B,uBAAuB;AACzB;AACA;;EAEE,2BAA2B;EAC3B,wBAAwB;AAC1B;AACA;EACE,sBAAsB;AACxB;AACA;EACE,UAAU;AACZ;AACA;EACE,UAAU;EACV,gBAAgB;AAClB;AACA,uBAAuB;AACvB;;;;EAIE,WAAW;EACX,uEAAuE;AACzE;AACA;;;;EAIE,cAAc;EACd,gBAAgB;EAChB,iBAAiB;EACjB,aAAa;EACb,mBAAmB;AACrB;AACA;EACE,aAAa;EACb,mBAAmB;AACrB;AACA;EACE,iBAAiB;AACnB;AACA;EACE,WAAW;EACX,mBAAmB;AACrB;AACA;EACE,UAAU;AACZ;AACA;EACE,WAAW;EACX,mBAAmB;AACrB;AACA;EACE,UAAU;AACZ;AACA;EACE,mBAAmB;AACrB;AACA;EACE,eAAe;EACf,cAAc;AAChB;AACA;EACE,aAAa;AACf;AACA;EACE,gBAAgB;AAClB;;AAEA,aAAa;AACb;EACE,cAAc;EACd,aAAa;EACb,yBAAyB;AAC3B;;AAEA;EACE,gBAAgB;EAChB,0BAA0B;AAC5B;;AAEA;EACE,gBAAgB;AAClB;;AAEA;EACE,mBAAmB;EACnB,iBAAiB;EACjB,yBAAyB;EACzB,qBAAqB;EACrB,gBAAgB;AAClB;;AAEA;EACE,gBAAgB;EAChB,oBAAoB;EACpB,eAAe;AACjB;;AAEA;EACE,WAAW;EACX,qBAAqB;EACrB,aAAa;AACf;;AAEA;EACE,WAAW;EACX,mBAAmB;AACrB;;AAEA;EACE,cAAc;AAChB;;AAEA;EACE,WAAW;AACb;;AAEA;EACE,gBAAgB;AAClB",sourcesContent:["/* Custom tippy.js tooltip template */\n.tippy-tooltip.widget-toolbar-multi-select-theme {\n  color: #26323d;\n  box-shadow: 0 0 20px 4px rgba(154, 161, 177, 0.15),\n    0 4px 80px -8px rgba(36, 40, 47, 0.25),\n    0 4px 4px -2px rgba(91, 94, 105, 0.15);\n  background-color: #fff;\n}\n.tippy-tooltip.widget-toolbar-multi-select-theme[data-placement^='top']\n  > .tippy-arrow {\n  border-width: 8px 8px 0;\n  border-top-color: #fff;\n}\n.tippy-tooltip.widget-toolbar-multi-select-theme[data-placement^='bottom']\n  > .tippy-arrow {\n  border-width: 0 8px 8px;\n  border-bottom-color: #fff;\n}\n.tippy-tooltip.widget-toolbar-multi-select-theme[data-placement^='left']\n  > .tippy-arrow {\n  border-width: 8px 0 8px 8px;\n  border-left-color: #fff;\n}\n.tippy-tooltip.widget-toolbar-multi-select-theme[data-placement^='right']\n  > .tippy-arrow {\n  border-width: 8px 8px 8px 0;\n  border-right-color: #fff;\n}\n.tippy-tooltip.widget-toolbar-multi-select-theme > .tippy-backdrop {\n  background-color: #fff;\n}\n.tippy-tooltip.widget-toolbar-multi-select-theme > .tippy-svg-arrow {\n  fill: #fff;\n}\n.tippy-tooltip.widget-toolbar-multi-select-theme > .tippy-content {\n  padding: 0;\n  font-size: 1.1em;\n}\n/* Really-custom ones */\n.tippy-tooltip.widget-toolbar-multi-select-theme\n  > .tippy-content\n  > div\n  > .item-divider {\n  height: 1em;\n  background: linear-gradient(#d0d0d0, #d0d0d0) no-repeat center/100% 1px;\n}\n.tippy-tooltip.widget-toolbar-multi-select-theme\n  > .tippy-content\n  > div\n  > .item {\n  font-size: 1em;\n  line-height: 2em;\n  padding: 0 0.75em;\n  display: flex;\n  align-items: center;\n}\n.tippy-tooltip.widget-toolbar-multi-select-theme .item svg {\n  height: 1.3em;\n  margin-right: 0.3em;\n}\n.tippy-tooltip.widget-toolbar-multi-select-theme .item .text {\n  margin-right: 1em;\n}\n.tippy-tooltip.widget-toolbar-multi-select-theme .item:hover {\n  color: #fff;\n  background: #2b97ef;\n}\n.tippy-tooltip.widget-toolbar-multi-select-theme .item:hover svg {\n  fill: #fff;\n}\n.tippy-tooltip.widget-toolbar-multi-select-theme .item.selected {\n  color: #fff;\n  background: #2b97ef;\n}\n.tippy-tooltip.widget-toolbar-multi-select-theme .item.selected svg {\n  fill: #fff;\n}\n.tippy-tooltip.widget-toolbar-multi-select-theme .item.selected:hover {\n  background: #288bdb;\n}\n.tippy-tooltip.widget-toolbar-multi-select-theme .item.disabled {\n  cursor: default;\n  color: #d9d9d9;\n}\n.tippy-tooltip.widget-toolbar-multi-select-theme .item.disabled svg {\n  fill: #d9d9d9;\n}\n.tippy-tooltip.widget-toolbar-multi-select-theme .item.disabled:hover {\n  background: none;\n}\n\n/* Go go go */\n.widget-toolbar-multi-select-search {\n  display: block;\n  margin: 0.6em;\n  width: calc(100% - 1.2em);\n}\n\n.widget-toolbar-multi-select-items {\n  padding: 0.6em 0;\n  border-top: 1px solid #ccc;\n}\n\n.widget-toolbar-multi-select-items > .empty {\n  padding: 0 0.6em;\n}\n\n.widget-toolbar-multi-select-category {\n  background: #f9f9f9;\n  font-size: 0.75em;\n  text-transform: uppercase;\n  padding: 0.25em 0.6em;\n  font-weight: 600;\n}\n\n.widget-toolbar-multi-select-item {\n  font-size: 0.9em;\n  padding: 0.2em 0.6em;\n  cursor: pointer;\n}\n\n.widget-toolbar-multi-select-item:before {\n  content: '';\n  display: inline-block;\n  width: 1.25em;\n}\n\n.widget-toolbar-multi-select-item:hover {\n  color: #fff;\n  background: #2b97ef;\n}\n\n.widget-toolbar-multi-select-item.selected {\n  color: #2b97ef;\n}\n\n.widget-toolbar-multi-select-item.selected:hover {\n  color: #fff;\n}\n\n.widget-toolbar-multi-select-item.selected:before {\n  content: '\\2713';\n}\n"],sourceRoot:""}]);const r=a},17553:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(60445),o=n.n(i),s=n(60352),a=n.n(s)()(o());a.push([e.id,"/* Custom tippy.js tooltip template */\n.tippy-tooltip.widget-toolbar-select-theme {\n  color: #26323d;\n  box-shadow: 0 0 20px 4px rgba(154, 161, 177, 0.15),\n    0 4px 80px -8px rgba(36, 40, 47, 0.25),\n    0 4px 4px -2px rgba(91, 94, 105, 0.15);\n  background-color: #fff;\n}\n.tippy-tooltip.widget-toolbar-select-theme[data-placement^='top']\n  > .tippy-arrow {\n  border-width: 8px 8px 0;\n  border-top-color: #fff;\n}\n.tippy-tooltip.widget-toolbar-select-theme[data-placement^='bottom']\n  > .tippy-arrow {\n  border-width: 0 8px 8px;\n  border-bottom-color: #fff;\n}\n.tippy-tooltip.widget-toolbar-select-theme[data-placement^='left']\n  > .tippy-arrow {\n  border-width: 8px 0 8px 8px;\n  border-left-color: #fff;\n}\n.tippy-tooltip.widget-toolbar-select-theme[data-placement^='right']\n  > .tippy-arrow {\n  border-width: 8px 8px 8px 0;\n  border-right-color: #fff;\n}\n.tippy-tooltip.widget-toolbar-select-theme > .tippy-backdrop {\n  background-color: #fff;\n}\n.tippy-tooltip.widget-toolbar-select-theme > .tippy-svg-arrow {\n  fill: #fff;\n}\n.tippy-tooltip.widget-toolbar-select-theme > .tippy-content {\n  padding: 0;\n  font-size: 1.1em;\n}\n/* Really-custom ones */\n.tippy-tooltip.widget-toolbar-select-theme > .tippy-content > div {\n  padding: 0.6em 0;\n}\n.tippy-tooltip.widget-toolbar-select-theme\n  > .tippy-content\n  > div\n  > .item-divider {\n  height: 1em;\n  background: linear-gradient(#d0d0d0, #d0d0d0) no-repeat center/100% 1px;\n}\n.tippy-tooltip.widget-toolbar-select-theme > .tippy-content > div > .item {\n  font-size: 1em;\n  line-height: 2em;\n  padding: 0 0.75em;\n  display: flex;\n  align-items: center;\n}\n.tippy-tooltip.widget-toolbar-select-theme .item svg {\n  height: 1.3em;\n  margin-right: 0.3em;\n}\n.tippy-tooltip.widget-toolbar-select-theme .item .text {\n  margin-right: 1em;\n}\n.tippy-tooltip.widget-toolbar-select-theme .item .alt {\n  flex-grow: 1;\n  text-align: right;\n  padding-left: 3em;\n  font-size: 0.75em;\n  text-transform: uppercase;\n  opacity: 0.85;\n}\n.tippy-tooltip.widget-toolbar-select-theme .item:hover {\n  color: #fff;\n  background: #2b97ef;\n}\n.tippy-tooltip.widget-toolbar-select-theme .item:hover svg {\n  fill: #fff;\n}\n.tippy-tooltip.widget-toolbar-select-theme .item.selected {\n  color: #fff;\n  background: #2b97ef;\n}\n.tippy-tooltip.widget-toolbar-select-theme .item.selected svg {\n  fill: #fff;\n}\n.tippy-tooltip.widget-toolbar-select-theme .item.selected:hover {\n  background: #288bdb;\n}\n.tippy-tooltip.widget-toolbar-select-theme .item.disabled {\n  cursor: default;\n  color: #d9d9d9;\n}\n.tippy-tooltip.widget-toolbar-select-theme .item.disabled svg {\n  fill: #d9d9d9;\n}\n.tippy-tooltip.widget-toolbar-select-theme .item.disabled:hover {\n  background: none;\n}\n","",{version:3,sources:["webpack://./src/components/ui/widget-toolbar/widget-toolbar-select.css"],names:[],mappings:"AAAA,qCAAqC;AACrC;EACE,cAAc;EACd;;0CAEwC;EACxC,sBAAsB;AACxB;AACA;;EAEE,uBAAuB;EACvB,sBAAsB;AACxB;AACA;;EAEE,uBAAuB;EACvB,yBAAyB;AAC3B;AACA;;EAEE,2BAA2B;EAC3B,uBAAuB;AACzB;AACA;;EAEE,2BAA2B;EAC3B,wBAAwB;AAC1B;AACA;EACE,sBAAsB;AACxB;AACA;EACE,UAAU;AACZ;AACA;EACE,UAAU;EACV,gBAAgB;AAClB;AACA,uBAAuB;AACvB;EACE,gBAAgB;AAClB;AACA;;;;EAIE,WAAW;EACX,uEAAuE;AACzE;AACA;EACE,cAAc;EACd,gBAAgB;EAChB,iBAAiB;EACjB,aAAa;EACb,mBAAmB;AACrB;AACA;EACE,aAAa;EACb,mBAAmB;AACrB;AACA;EACE,iBAAiB;AACnB;AACA;EACE,YAAY;EACZ,iBAAiB;EACjB,iBAAiB;EACjB,iBAAiB;EACjB,yBAAyB;EACzB,aAAa;AACf;AACA;EACE,WAAW;EACX,mBAAmB;AACrB;AACA;EACE,UAAU;AACZ;AACA;EACE,WAAW;EACX,mBAAmB;AACrB;AACA;EACE,UAAU;AACZ;AACA;EACE,mBAAmB;AACrB;AACA;EACE,eAAe;EACf,cAAc;AAChB;AACA;EACE,aAAa;AACf;AACA;EACE,gBAAgB;AAClB",sourcesContent:["/* Custom tippy.js tooltip template */\n.tippy-tooltip.widget-toolbar-select-theme {\n  color: #26323d;\n  box-shadow: 0 0 20px 4px rgba(154, 161, 177, 0.15),\n    0 4px 80px -8px rgba(36, 40, 47, 0.25),\n    0 4px 4px -2px rgba(91, 94, 105, 0.15);\n  background-color: #fff;\n}\n.tippy-tooltip.widget-toolbar-select-theme[data-placement^='top']\n  > .tippy-arrow {\n  border-width: 8px 8px 0;\n  border-top-color: #fff;\n}\n.tippy-tooltip.widget-toolbar-select-theme[data-placement^='bottom']\n  > .tippy-arrow {\n  border-width: 0 8px 8px;\n  border-bottom-color: #fff;\n}\n.tippy-tooltip.widget-toolbar-select-theme[data-placement^='left']\n  > .tippy-arrow {\n  border-width: 8px 0 8px 8px;\n  border-left-color: #fff;\n}\n.tippy-tooltip.widget-toolbar-select-theme[data-placement^='right']\n  > .tippy-arrow {\n  border-width: 8px 8px 8px 0;\n  border-right-color: #fff;\n}\n.tippy-tooltip.widget-toolbar-select-theme > .tippy-backdrop {\n  background-color: #fff;\n}\n.tippy-tooltip.widget-toolbar-select-theme > .tippy-svg-arrow {\n  fill: #fff;\n}\n.tippy-tooltip.widget-toolbar-select-theme > .tippy-content {\n  padding: 0;\n  font-size: 1.1em;\n}\n/* Really-custom ones */\n.tippy-tooltip.widget-toolbar-select-theme > .tippy-content > div {\n  padding: 0.6em 0;\n}\n.tippy-tooltip.widget-toolbar-select-theme\n  > .tippy-content\n  > div\n  > .item-divider {\n  height: 1em;\n  background: linear-gradient(#d0d0d0, #d0d0d0) no-repeat center/100% 1px;\n}\n.tippy-tooltip.widget-toolbar-select-theme > .tippy-content > div > .item {\n  font-size: 1em;\n  line-height: 2em;\n  padding: 0 0.75em;\n  display: flex;\n  align-items: center;\n}\n.tippy-tooltip.widget-toolbar-select-theme .item svg {\n  height: 1.3em;\n  margin-right: 0.3em;\n}\n.tippy-tooltip.widget-toolbar-select-theme .item .text {\n  margin-right: 1em;\n}\n.tippy-tooltip.widget-toolbar-select-theme .item .alt {\n  flex-grow: 1;\n  text-align: right;\n  padding-left: 3em;\n  font-size: 0.75em;\n  text-transform: uppercase;\n  opacity: 0.85;\n}\n.tippy-tooltip.widget-toolbar-select-theme .item:hover {\n  color: #fff;\n  background: #2b97ef;\n}\n.tippy-tooltip.widget-toolbar-select-theme .item:hover svg {\n  fill: #fff;\n}\n.tippy-tooltip.widget-toolbar-select-theme .item.selected {\n  color: #fff;\n  background: #2b97ef;\n}\n.tippy-tooltip.widget-toolbar-select-theme .item.selected svg {\n  fill: #fff;\n}\n.tippy-tooltip.widget-toolbar-select-theme .item.selected:hover {\n  background: #288bdb;\n}\n.tippy-tooltip.widget-toolbar-select-theme .item.disabled {\n  cursor: default;\n  color: #d9d9d9;\n}\n.tippy-tooltip.widget-toolbar-select-theme .item.disabled svg {\n  fill: #d9d9d9;\n}\n.tippy-tooltip.widget-toolbar-select-theme .item.disabled:hover {\n  background: none;\n}\n"],sourceRoot:""}]);const r=a},36145:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(60445),o=n.n(i),s=n(60352),a=n.n(s)()(o());a.push([e.id,".widget-toolbar {\n  border-bottom: 1px solid #ccc;\n  display: flex;\n  align-items: stretch;\n}\n\n.widget-toolbar-pane {\n  display: flex;\n  align-items: stretch;\n  flex-grow: 1;\n}\n.widget-toolbar-pane.middle {\n  justify-content: center;\n}\n.widget-toolbar-pane.right {\n  justify-content: flex-end;\n}\n\n.widget-toolbar-button {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  align-content: center;\n  padding: 0.5em 0.25em;\n  cursor: pointer;\n}\n.widget-toolbar-button svg {\n  height: 1.25em;\n  fill: #595959;\n}\n.widget-toolbar-button.fix-stroke svg {\n  stroke: #595959;\n}\n\n.widget-toolbar-button:hover {\n  background: #f9f9f9;\n}\n.widget-toolbar-button:hover svg {\n  fill: #000;\n}\n.widget-toolbar-button.fix-stroke:hover svg {\n  stroke: #000;\n}\n\n.widget-toolbar-button.selected {\n  background: #2b97ef;\n}\n.widget-toolbar-button.selected:hover {\n  background: #288bdb;\n}\n.widget-toolbar-button.selected svg {\n  fill: #fff;\n}\n.widget-toolbar-button.fix-stroke.selected svg {\n  stroke: #fff;\n}\n\n.widget-toolbar-button.selected-fill svg {\n  fill: #2b97ef;\n}\n.widget-toolbar-button.fix-stroke.selected-fill svg {\n  stroke: #2b97ef;\n}\n\n.widget-toolbar-button.disabled {\n  cursor: default;\n}\n.widget-toolbar-button.disabled:hover {\n  background: none;\n}\n.widget-toolbar-button.disabled svg {\n  fill: #d9d9d9;\n}\n.widget-toolbar-button.fix-stroke.disabled svg {\n  stroke: #d9d9d9;\n}\n\n/* Adjustments */\n.widget-toolbar-button.span-coloring svg {\n  height: 1.5em;\n  position: relative;\n  top: 2px;\n}\n.widget-toolbar-button.group-layout svg {\n  height: 1.4em;\n}\n","",{version:3,sources:["webpack://./src/components/ui/widget-toolbar/widget-toolbar.css"],names:[],mappings:"AAAA;EACE,6BAA6B;EAC7B,aAAa;EACb,oBAAoB;AACtB;;AAEA;EACE,aAAa;EACb,oBAAoB;EACpB,YAAY;AACd;AACA;EACE,uBAAuB;AACzB;AACA;EACE,yBAAyB;AAC3B;;AAEA;EACE,aAAa;EACb,uBAAuB;EACvB,mBAAmB;EACnB,qBAAqB;EACrB,qBAAqB;EACrB,eAAe;AACjB;AACA;EACE,cAAc;EACd,aAAa;AACf;AACA;EACE,eAAe;AACjB;;AAEA;EACE,mBAAmB;AACrB;AACA;EACE,UAAU;AACZ;AACA;EACE,YAAY;AACd;;AAEA;EACE,mBAAmB;AACrB;AACA;EACE,mBAAmB;AACrB;AACA;EACE,UAAU;AACZ;AACA;EACE,YAAY;AACd;;AAEA;EACE,aAAa;AACf;AACA;EACE,eAAe;AACjB;;AAEA;EACE,eAAe;AACjB;AACA;EACE,gBAAgB;AAClB;AACA;EACE,aAAa;AACf;AACA;EACE,eAAe;AACjB;;AAEA,gBAAgB;AAChB;EACE,aAAa;EACb,kBAAkB;EAClB,QAAQ;AACV;AACA;EACE,aAAa;AACf",sourcesContent:[".widget-toolbar {\n  border-bottom: 1px solid #ccc;\n  display: flex;\n  align-items: stretch;\n}\n\n.widget-toolbar-pane {\n  display: flex;\n  align-items: stretch;\n  flex-grow: 1;\n}\n.widget-toolbar-pane.middle {\n  justify-content: center;\n}\n.widget-toolbar-pane.right {\n  justify-content: flex-end;\n}\n\n.widget-toolbar-button {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  align-content: center;\n  padding: 0.5em 0.25em;\n  cursor: pointer;\n}\n.widget-toolbar-button svg {\n  height: 1.25em;\n  fill: #595959;\n}\n.widget-toolbar-button.fix-stroke svg {\n  stroke: #595959;\n}\n\n.widget-toolbar-button:hover {\n  background: #f9f9f9;\n}\n.widget-toolbar-button:hover svg {\n  fill: #000;\n}\n.widget-toolbar-button.fix-stroke:hover svg {\n  stroke: #000;\n}\n\n.widget-toolbar-button.selected {\n  background: #2b97ef;\n}\n.widget-toolbar-button.selected:hover {\n  background: #288bdb;\n}\n.widget-toolbar-button.selected svg {\n  fill: #fff;\n}\n.widget-toolbar-button.fix-stroke.selected svg {\n  stroke: #fff;\n}\n\n.widget-toolbar-button.selected-fill svg {\n  fill: #2b97ef;\n}\n.widget-toolbar-button.fix-stroke.selected-fill svg {\n  stroke: #2b97ef;\n}\n\n.widget-toolbar-button.disabled {\n  cursor: default;\n}\n.widget-toolbar-button.disabled:hover {\n  background: none;\n}\n.widget-toolbar-button.disabled svg {\n  fill: #d9d9d9;\n}\n.widget-toolbar-button.fix-stroke.disabled svg {\n  stroke: #d9d9d9;\n}\n\n/* Adjustments */\n.widget-toolbar-button.span-coloring svg {\n  height: 1.5em;\n  position: relative;\n  top: 2px;\n}\n.widget-toolbar-button.group-layout svg {\n  height: 1.4em;\n}\n"],sourceRoot:""}]);const r=a},33598:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(60445),o=n.n(i),s=n(60352),a=n.n(s)()(o());a.push([e.id,".p-Widget {\n  box-sizing: border-box;\n  position: relative;\n  overflow: hidden;\n  cursor: default;\n}\n\n.p-Widget.p-mod-hidden {\n  display: none !important;\n}\n\n.p-DockPanel-overlay {\n  background: rgba(255, 255, 255, 0.6);\n  border: 1px dashed black;\n  transition-property: top, left, right, bottom;\n  transition-duration: 150ms;\n  transition-timing-function: ease;\n}\n\n.p-DockPanel {\n  z-index: 0;\n}\n\n.p-DockPanel-widget {\n  z-index: 0;\n  background: #fff;\n}\n\n.p-DockPanel-tabBar {\n  z-index: 1;\n}\n\n.p-DockPanel-handle {\n  z-index: 2;\n}\n\n.p-DockPanel-handle.p-mod-hidden {\n  display: none !important;\n}\n\n.p-DockPanel-handle:after {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  content: '';\n}\n\n.p-DockPanel-handle[data-orientation='horizontal'] {\n  cursor: ew-resize;\n}\n\n.p-DockPanel-handle[data-orientation='vertical'] {\n  cursor: ns-resize;\n}\n\n.p-DockPanel-handle[data-orientation='horizontal']:after {\n  left: 50%;\n  min-width: 8px;\n  transform: translateX(-50%);\n}\n\n.p-DockPanel-handle[data-orientation='vertical']:after {\n  top: 50%;\n  min-height: 8px;\n  transform: translateY(-50%);\n}\n\n.p-DockPanel-overlay {\n  z-index: 3;\n  box-sizing: border-box;\n  pointer-events: none;\n}\n\n.p-DockPanel-overlay.p-mod-hidden {\n  display: none !important;\n}\n\n.p-TabBar {\n  --height: 31px;\n  min-height: var(--height);\n  max-height: var(--height);\n}\n\n.p-TabBar-content {\n  min-width: 0;\n  min-height: 0;\n  align-items: flex-end;\n}\n\n.p-TabBar-tab {\n  --height: 30px;\n  padding: 0px 10px;\n  background: #e5e5e5;\n  min-height: var(--height);\n  max-height: var(--height);\n  min-width: 35px;\n  margin-left: -1px;\n  line-height: var(--height);\n}\n\n.p-TabBar-tab.p-mod-current {\n  background: white;\n}\n\n.p-TabBar-tab:hover:not(.p-mod-current) {\n  background: #f0f0f0;\n}\n\n.p-TabBar-tab:first-child {\n  margin-left: 0;\n}\n\n.p-TabBar-tab.p-mod-current {\n  /* min-height: 23px;\n  max-height: 23px;\n  transform: translateY(1px); */\n}\n\n.p-TabBar-tabIcon,\n.p-TabBar-tabLabel,\n.p-TabBar-tabCloseIcon {\n  display: inline-block;\n  text-transform: uppercase;\n  font-size: 0.85em;\n}\n\n.p-TabBar-tab.p-mod-closable > .p-TabBar-tabCloseIcon {\n  margin-left: 4px;\n}\n\n.p-TabBar-tab.p-mod-closable > .p-TabBar-tabCloseIcon:before {\n  content: '\\00d7';\n  font-size: 1.5em;\n  position: relative;\n  top: -2px;\n}\n\n.p-TabBar-tab.p-mod-drag-image {\n  --height: 30px;\n  min-height: var(--height);\n  max-height: var(--height);\n  min-width: 125px;\n  border: none;\n  box-shadow: 1px 1px 2px rgba(0, 0, 0, 0.3);\n  transform: translateX(-40%) translateY(-58%);\n}\n\n.p-TabBar {\n  display: flex;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n\n.p-TabBar[data-orientation='horizontal'] {\n  flex-direction: row;\n}\n\n.p-TabBar[data-orientation='vertical'] {\n  flex-direction: column;\n}\n\n.p-TabBar-content {\n  margin: 0;\n  padding: 0;\n  display: flex;\n  flex: 1 1 auto;\n  list-style-type: none;\n}\n\n.p-TabBar[data-orientation='horizontal'] > .p-TabBar-content {\n  flex-direction: row;\n}\n\n.p-TabBar[data-orientation='vertical'] > .p-TabBar-content {\n  flex-direction: column;\n}\n\n.p-TabBar-tab {\n  display: flex;\n  flex-direction: row;\n  box-sizing: border-box;\n  overflow: hidden;\n}\n\n.p-TabBar-tabIcon,\n.p-TabBar-tabCloseIcon {\n  flex: 0 0 auto;\n}\n\n.p-TabBar-tabLabel {\n  margin-right: 5px;\n  white-space: nowrap;\n}\n\n.p-TabBar-tab.p-mod-hidden {\n  display: none !important;\n}\n\n.p-TabBar.p-mod-dragging .p-TabBar-tab {\n  position: relative;\n}\n\n.p-TabBar.p-mod-dragging[data-orientation='horizontal'] .p-TabBar-tab {\n  left: 0;\n  transition: left 150ms ease;\n}\n\n.p-TabBar.p-mod-dragging[data-orientation='vertical'] .p-TabBar-tab {\n  top: 0;\n  transition: top 150ms ease;\n}\n\n.p-TabBar.p-mod-dragging .p-TabBar-tab.p-mod-dragging {\n  transition: none;\n}\n","",{version:3,sources:["webpack://./src/global-styles/dock-panel.css"],names:[],mappings:"AAAA;EACE,sBAAsB;EACtB,kBAAkB;EAClB,gBAAgB;EAChB,eAAe;AACjB;;AAEA;EACE,wBAAwB;AAC1B;;AAEA;EACE,oCAAoC;EACpC,wBAAwB;EACxB,6CAA6C;EAC7C,0BAA0B;EAC1B,gCAAgC;AAClC;;AAEA;EACE,UAAU;AACZ;;AAEA;EACE,UAAU;EACV,gBAAgB;AAClB;;AAEA;EACE,UAAU;AACZ;;AAEA;EACE,UAAU;AACZ;;AAEA;EACE,wBAAwB;AAC1B;;AAEA;EACE,kBAAkB;EAClB,MAAM;EACN,OAAO;EACP,WAAW;EACX,YAAY;EACZ,WAAW;AACb;;AAEA;EACE,iBAAiB;AACnB;;AAEA;EACE,iBAAiB;AACnB;;AAEA;EACE,SAAS;EACT,cAAc;EACd,2BAA2B;AAC7B;;AAEA;EACE,QAAQ;EACR,eAAe;EACf,2BAA2B;AAC7B;;AAEA;EACE,UAAU;EACV,sBAAsB;EACtB,oBAAoB;AACtB;;AAEA;EACE,wBAAwB;AAC1B;;AAEA;EACE,cAAc;EACd,yBAAyB;EACzB,yBAAyB;AAC3B;;AAEA;EACE,YAAY;EACZ,aAAa;EACb,qBAAqB;AACvB;;AAEA;EACE,cAAc;EACd,iBAAiB;EACjB,mBAAmB;EACnB,yBAAyB;EACzB,yBAAyB;EACzB,eAAe;EACf,iBAAiB;EACjB,0BAA0B;AAC5B;;AAEA;EACE,iBAAiB;AACnB;;AAEA;EACE,mBAAmB;AACrB;;AAEA;EACE,cAAc;AAChB;;AAEA;EACE;;+BAE6B;AAC/B;;AAEA;;;EAGE,qBAAqB;EACrB,yBAAyB;EACzB,iBAAiB;AACnB;;AAEA;EACE,gBAAgB;AAClB;;AAEA;EACE,gBAAgB;EAChB,gBAAgB;EAChB,kBAAkB;EAClB,SAAS;AACX;;AAEA;EACE,cAAc;EACd,yBAAyB;EACzB,yBAAyB;EACzB,gBAAgB;EAChB,YAAY;EACZ,0CAA0C;EAC1C,4CAA4C;AAC9C;;AAEA;EACE,aAAa;EACb,yBAAyB;EACzB,sBAAsB;EACtB,qBAAqB;EACrB,iBAAiB;AACnB;;AAEA;EACE,mBAAmB;AACrB;;AAEA;EACE,sBAAsB;AACxB;;AAEA;EACE,SAAS;EACT,UAAU;EACV,aAAa;EACb,cAAc;EACd,qBAAqB;AACvB;;AAEA;EACE,mBAAmB;AACrB;;AAEA;EACE,sBAAsB;AACxB;;AAEA;EACE,aAAa;EACb,mBAAmB;EACnB,sBAAsB;EACtB,gBAAgB;AAClB;;AAEA;;EAEE,cAAc;AAChB;;AAEA;EACE,iBAAiB;EACjB,mBAAmB;AACrB;;AAEA;EACE,wBAAwB;AAC1B;;AAEA;EACE,kBAAkB;AACpB;;AAEA;EACE,OAAO;EACP,2BAA2B;AAC7B;;AAEA;EACE,MAAM;EACN,0BAA0B;AAC5B;;AAEA;EACE,gBAAgB;AAClB",sourcesContent:[".p-Widget {\n  box-sizing: border-box;\n  position: relative;\n  overflow: hidden;\n  cursor: default;\n}\n\n.p-Widget.p-mod-hidden {\n  display: none !important;\n}\n\n.p-DockPanel-overlay {\n  background: rgba(255, 255, 255, 0.6);\n  border: 1px dashed black;\n  transition-property: top, left, right, bottom;\n  transition-duration: 150ms;\n  transition-timing-function: ease;\n}\n\n.p-DockPanel {\n  z-index: 0;\n}\n\n.p-DockPanel-widget {\n  z-index: 0;\n  background: #fff;\n}\n\n.p-DockPanel-tabBar {\n  z-index: 1;\n}\n\n.p-DockPanel-handle {\n  z-index: 2;\n}\n\n.p-DockPanel-handle.p-mod-hidden {\n  display: none !important;\n}\n\n.p-DockPanel-handle:after {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  content: '';\n}\n\n.p-DockPanel-handle[data-orientation='horizontal'] {\n  cursor: ew-resize;\n}\n\n.p-DockPanel-handle[data-orientation='vertical'] {\n  cursor: ns-resize;\n}\n\n.p-DockPanel-handle[data-orientation='horizontal']:after {\n  left: 50%;\n  min-width: 8px;\n  transform: translateX(-50%);\n}\n\n.p-DockPanel-handle[data-orientation='vertical']:after {\n  top: 50%;\n  min-height: 8px;\n  transform: translateY(-50%);\n}\n\n.p-DockPanel-overlay {\n  z-index: 3;\n  box-sizing: border-box;\n  pointer-events: none;\n}\n\n.p-DockPanel-overlay.p-mod-hidden {\n  display: none !important;\n}\n\n.p-TabBar {\n  --height: 31px;\n  min-height: var(--height);\n  max-height: var(--height);\n}\n\n.p-TabBar-content {\n  min-width: 0;\n  min-height: 0;\n  align-items: flex-end;\n}\n\n.p-TabBar-tab {\n  --height: 30px;\n  padding: 0px 10px;\n  background: #e5e5e5;\n  min-height: var(--height);\n  max-height: var(--height);\n  min-width: 35px;\n  margin-left: -1px;\n  line-height: var(--height);\n}\n\n.p-TabBar-tab.p-mod-current {\n  background: white;\n}\n\n.p-TabBar-tab:hover:not(.p-mod-current) {\n  background: #f0f0f0;\n}\n\n.p-TabBar-tab:first-child {\n  margin-left: 0;\n}\n\n.p-TabBar-tab.p-mod-current {\n  /* min-height: 23px;\n  max-height: 23px;\n  transform: translateY(1px); */\n}\n\n.p-TabBar-tabIcon,\n.p-TabBar-tabLabel,\n.p-TabBar-tabCloseIcon {\n  display: inline-block;\n  text-transform: uppercase;\n  font-size: 0.85em;\n}\n\n.p-TabBar-tab.p-mod-closable > .p-TabBar-tabCloseIcon {\n  margin-left: 4px;\n}\n\n.p-TabBar-tab.p-mod-closable > .p-TabBar-tabCloseIcon:before {\n  content: '\\00d7';\n  font-size: 1.5em;\n  position: relative;\n  top: -2px;\n}\n\n.p-TabBar-tab.p-mod-drag-image {\n  --height: 30px;\n  min-height: var(--height);\n  max-height: var(--height);\n  min-width: 125px;\n  border: none;\n  box-shadow: 1px 1px 2px rgba(0, 0, 0, 0.3);\n  transform: translateX(-40%) translateY(-58%);\n}\n\n.p-TabBar {\n  display: flex;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n\n.p-TabBar[data-orientation='horizontal'] {\n  flex-direction: row;\n}\n\n.p-TabBar[data-orientation='vertical'] {\n  flex-direction: column;\n}\n\n.p-TabBar-content {\n  margin: 0;\n  padding: 0;\n  display: flex;\n  flex: 1 1 auto;\n  list-style-type: none;\n}\n\n.p-TabBar[data-orientation='horizontal'] > .p-TabBar-content {\n  flex-direction: row;\n}\n\n.p-TabBar[data-orientation='vertical'] > .p-TabBar-content {\n  flex-direction: column;\n}\n\n.p-TabBar-tab {\n  display: flex;\n  flex-direction: row;\n  box-sizing: border-box;\n  overflow: hidden;\n}\n\n.p-TabBar-tabIcon,\n.p-TabBar-tabCloseIcon {\n  flex: 0 0 auto;\n}\n\n.p-TabBar-tabLabel {\n  margin-right: 5px;\n  white-space: nowrap;\n}\n\n.p-TabBar-tab.p-mod-hidden {\n  display: none !important;\n}\n\n.p-TabBar.p-mod-dragging .p-TabBar-tab {\n  position: relative;\n}\n\n.p-TabBar.p-mod-dragging[data-orientation='horizontal'] .p-TabBar-tab {\n  left: 0;\n  transition: left 150ms ease;\n}\n\n.p-TabBar.p-mod-dragging[data-orientation='vertical'] .p-TabBar-tab {\n  top: 0;\n  transition: top 150ms ease;\n}\n\n.p-TabBar.p-mod-dragging .p-TabBar-tab.p-mod-dragging {\n  transition: none;\n}\n"],sourceRoot:""}]);const r=a},27001:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(60445),o=n.n(i),s=n(60352),a=n.n(s)()(o());a.push([e.id,".flatpickr-calendar {\n  font-size: 1em;\n  width: 20em;\n}\n.flatpickr-calendar .flatpickr-days {\n  width: 20em;\n}\n.flatpickr-calendar .dayContainer {\n  width: 20em;\n  min-width: 20em;\n  max-width: 20em;\n}\n.flatpickr-calendar .flatpickr-day {\n  height: 2.5em;\n  line-height: 2.5em;\n}\n","",{version:3,sources:["webpack://./src/global-styles/flatpickr.css"],names:[],mappings:"AAAA;EACE,cAAc;EACd,WAAW;AACb;AACA;EACE,WAAW;AACb;AACA;EACE,WAAW;EACX,eAAe;EACf,eAAe;AACjB;AACA;EACE,aAAa;EACb,kBAAkB;AACpB",sourcesContent:[".flatpickr-calendar {\n  font-size: 1em;\n  width: 20em;\n}\n.flatpickr-calendar .flatpickr-days {\n  width: 20em;\n}\n.flatpickr-calendar .dayContainer {\n  width: 20em;\n  min-width: 20em;\n  max-width: 20em;\n}\n.flatpickr-calendar .flatpickr-day {\n  height: 2.5em;\n  line-height: 2.5em;\n}\n"],sourceRoot:""}]);const r=a},58997:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(60445),o=n.n(i),s=n(60352),a=n.n(s)()(o());a.push([e.id,"input,\nbutton,\ntextarea,\n:focus {\n  outline: none;\n}\n\n/* Heavily inspired by https://dribbble.com/shots/12109708/attachments/3741712?mode=media */\ninput:not([type='checkbox']):not([type='radio']),\nselect {\n  -webkit-appearance: none;\n  box-sizing: border-box;\n  border: 1px solid #aab3c5;\n  padding: 6px 7px;\n  border-radius: 5px;\n  font-family: inherit;\n  font-size: 12px;\n  transition: border-color 0.3s, box-shadow 0.2s;\n}\n\n/* Fix flatpicker's year input */\n.flatpickr-calendar input {\n  -webkit-appearance: inherit !important;\n  box-sizing: inherit !important;\n  border: inherit !important;\n  padding: inherit !important;\n  border-radius: inherit !important;\n  font-family: inherit !important;\n  font-size: inherit !important;\n  transition: inherit !important;\n}\n\ninput:not([type='checkbox']):not([type='radio']):hover,\nselect:hover {\n  border-color: #1874fb;\n}\n\ninput:not([type='checkbox']):not([type='radio']):focus,\nselect:focus {\n  border-color: #1874fb;\n  box-shadow: 0 0 0px 2px #d2e6fe;\n}\n\nselect {\n  /* Note that the SVG content needs to be url-escaped for this to work, e.g. # gets replaced with %23 */\n  background-image: url('data:image/svg+xml;utf8,<svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" width=\"960px\" height=\"560px\" viewBox=\"0 0 960 560\" xml:space=\"preserve\"><g><path fill=\"%238C96A6\" d=\"M480,344.181L268.869,131.889c-15.756-15.859-41.3-15.859-57.054,0c-15.754,15.857-15.754,41.57,0,57.431l237.632,238.937c8.395,8.451,19.562,12.254,30.553,11.698c10.993,0.556,22.159-3.247,30.555-11.698l237.631-238.937c15.756-15.86,15.756-41.571,0-57.431s-41.299-15.859-57.051,0L480,344.181z\"/></g></svg>');\n  background-size: 20px;\n  background-repeat: no-repeat;\n  background-position: calc(100% - 5px) 50%;\n  padding-right: 30px;\n  cursor: pointer;\n  background-color: #fff; /* in linux, the default is gray */\n}\n\nselect:focus {\n  background-image: url('data:image/svg+xml;utf8,<svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" width=\"960px\" height=\"560px\" viewBox=\"0 0 960 560\" xml:space=\"preserve\"><g><path fill=\"%231371FB\" d=\"M480,344.181L268.869,131.889c-15.756-15.859-41.3-15.859-57.054,0c-15.754,15.857-15.754,41.57,0,57.431l237.632,238.937c8.395,8.451,19.562,12.254,30.553,11.698c10.993,0.556,22.159-3.247,30.555-11.698l237.631-238.937c15.756-15.86,15.756-41.571,0-57.431s-41.299-15.859-57.051,0L480,344.181z\"/></g></svg>');\n}\n\ninput:not([type='checkbox']):not([type='radio']):disabled,\nselect:disabled {\n  border-color: #d0d0d0;\n  background-color: #f2f2f2;\n  color: #afafaf;\n  cursor: not-allowed;\n}\n\n/* Small inputs & selectboxes */\ninput:not([type='checkbox']):not([type='radio']).small,\nselect.small {\n  padding: 3px 6px;\n}\n\n/* Borderless inputs & selectboxes */\ninput:not([type='checkbox']):not([type='radio']).borderless,\nselect.borderless {\n  border-width: 0;\n}\n\n/* Input with svg icon */\n.input-with-svg-icon-container {\n  position: relative;\n}\n\n.input-with-svg-icon-container svg {\n  position: absolute;\n  height: 17px;\n  top: calc(50% - 8px);\n  left: 5px;\n  z-index: -1;\n  fill: #8c96a6;\n}\n\n.input-with-svg-icon-container\n  input:not([type='checkbox']):not([type='radio']) {\n  background: transparent;\n  padding-left: 30px;\n}\n\n.input-with-svg-icon-container\n  input:not([type='checkbox']):not([type='radio']):focus\n  + svg {\n  fill: #1371fb;\n}\n\n/* Search input clear button: https://gist.github.com/tj/9455aa5add1c78e6bc573fcf0f8e7eb5 */\ninput[type='search']::-webkit-search-cancel-button {\n  --size: 11px;\n  --background: #7f7f7f;\n  --icon: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI3IiBoZWlnaHQ9IjciIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjZmZmIiBzdHJva2Utd2lkdGg9IjMiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgY2xhc3M9ImZlYXRoZXIgZmVhdGhlci14Ij48cGF0aCBkPSJNMTggNkw2IDE4TTYgNmwxMiAxMiIvPjwvc3ZnPgo=');\n  -webkit-appearance: none;\n  height: var(--size);\n  width: var(--size);\n  border-radius: 50%;\n  background: var(--background) var(--icon) 50% 50% no-repeat;\n}\n\ninput[type='search']::-webkit-search-cancel-button:hover {\n  opacity: 0.9;\n}\n\n/* Checkbox */\ninput[type='checkbox']:not(.switch) {\n  -webkit-appearance: none;\n  box-sizing: border-box;\n  width: 20px;\n  height: 20px;\n  border: 1px solid #dde2e8;\n  border-radius: 3px;\n  margin: 0;\n  position: relative;\n  transition: background 0.3s, border-color 0.3s, box-shadow 0.2s;\n  cursor: pointer;\n}\n\ninput[type='checkbox']:not(.switch):after {\n  content: '';\n  display: block;\n  position: absolute;\n  width: 4px;\n  height: 8px;\n  border: 2px solid #fff;\n  border-top: 0;\n  border-left: 0;\n  left: 6px;\n  top: 3px;\n  transform: rotate(43deg);\n}\n\ninput[type='checkbox']:not(.switch):hover {\n  border-color: #1582ea;\n}\n\ninput[type='checkbox']:not(.switch):checked {\n  border-color: #1582ea;\n  background: linear-gradient(\n    0deg,\n    rgba(18, 110, 243, 1) 0%,\n    rgba(24, 140, 252, 1) 100%\n  );\n}\n\ninput[type='checkbox']:not(.switch):focus {\n  box-shadow: 0 0 0px 2px #d2e6fe;\n}\n\n/* iOS switch-like checkbox */\n/* Borrowed from: https://codepen.io/JowayYoung/pen/PoqgbGV */\ninput[type='checkbox'].switch,\ninput[type='checkbox'].switch::before {\n  border-radius: 11px;\n  width: 40px;\n  height: 22px;\n  box-sizing: border-box;\n}\n\ninput[type='checkbox'].switch {\n  appearance: none;\n  -webkit-appearance: none;\n  cursor: pointer;\n  transition: all 100ms;\n  margin: 0;\n  border: 2px solid #dde2e8;\n  background: #f8f9fc;\n}\n\ninput[type='checkbox'].switch:focus {\n  box-shadow: 0 0 0px 2px #d2e6fe;\n}\n\ninput[type='checkbox'].switch:checked {\n  background-color: #f1f7ff;\n  border-color: #a9cdfd;\n}\n\ninput[type='checkbox'].switch::before {\n  position: absolute;\n  content: '';\n  transition: all 300ms cubic-bezier(0.45, 1, 0.4, 1);\n}\n\ninput[type='checkbox'].switch::after {\n  position: absolute;\n  left: 3px;\n  top: 3px;\n  border-radius: 8px;\n  width: 16px;\n  height: 16px;\n  background-color: #aab3c5;\n  box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.15);\n  content: '';\n  transition: all 300ms cubic-bezier(0.4, 0.4, 0.25, 1.35);\n  box-sizing: border-box;\n  border: 1px solid #1479ea00;\n}\n\ninput[type='checkbox'].switch:checked::after {\n  transform: translateX(17px);\n  border-color: #1479ea;\n  background-color: #1682fc;\n}\n\n/* Button */\nbutton {\n  background: transparent;\n  color: #666;\n  font-weight: 600;\n  border: 1px solid #999;\n  font-family: inherit;\n  font-size: 12px;\n  padding: 6px 20px;\n  border-radius: 5px;\n  cursor: pointer;\n  transition: background 0.4s, border-color 0.3s, box-shadow 0.2s;\n}\n\nbutton:hover {\n  border-color: #1582ea;\n  color: #1582ea;\n}\n\nbutton:focus {\n  border-color: #1582ea;\n  box-shadow: 0 0 0px 2px #d2e6fe;\n  color: #1582ea;\n}\n\nbutton.small {\n  padding: 3px 15px;\n}\n\nbutton.primary:not(:disabled) {\n  border-color: #1582ea;\n  background: linear-gradient(\n    0deg,\n    rgba(18, 110, 243, 1) 0%,\n    rgba(24, 140, 252, 1) 100%\n  );\n  color: #fff;\n}\n\nbutton.primary:not(:disabled):hover {\n  /* TODO */\n}\n\nbutton.primary:not(:disabled):focus {\n  /* TODO */\n}\n\nbutton.secondary:not(:disabled) {\n  background: #edf4ff;\n  color: #1371fb;\n  border-color: #b6d5fd;\n}\n\nbutton.secondary:not(:disabled):hover {\n  border-color: #1582ea;\n}\n\nbutton.secondary:not(:disabled):focus {\n  border-color: #1582ea;\n  /* TODO */\n}\n\nbutton.danger:not(:disabled) {\n  color: #ff4d4f;\n  border-color: #ff4d4f;\n}\n\nbutton.danger:not(:disabled):hover,\nbutton.danger:not(:disabled):focus {\n  color: #ff7875;\n  border-color: #ff7875;\n}\n\nbutton.danger:not(:disabled):focus {\n  box-shadow: 0 0 0px 2px #ff787599;\n}\n\nbutton:disabled {\n  border-color: #d0d0d0;\n  background: #f2f2f2;\n  color: #afafaf;\n  cursor: not-allowed;\n}\n\n/* Input + button group */\n.input-button-group input:not([type='checkbox']):not([type='radio']) {\n  border-radius: 5px 0 0 5px;\n}\n\n.input-button-group button {\n  border-radius: 0 5px 5px 0;\n  border-left-color: transparent;\n}\n\n.input-button-group button:hover,\n.input-button-group button:focus {\n  border-left-color: inherit;\n}\n","",{version:3,sources:["webpack://./src/global-styles/form.css"],names:[],mappings:"AAAA;;;;EAIE,aAAa;AACf;;AAEA,2FAA2F;AAC3F;;EAEE,wBAAwB;EACxB,sBAAsB;EACtB,yBAAyB;EACzB,gBAAgB;EAChB,kBAAkB;EAClB,oBAAoB;EACpB,eAAe;EACf,8CAA8C;AAChD;;AAEA,gCAAgC;AAChC;EACE,sCAAsC;EACtC,8BAA8B;EAC9B,0BAA0B;EAC1B,2BAA2B;EAC3B,iCAAiC;EACjC,+BAA+B;EAC/B,6BAA6B;EAC7B,8BAA8B;AAChC;;AAEA;;EAEE,qBAAqB;AACvB;;AAEA;;EAEE,qBAAqB;EACrB,+BAA+B;AACjC;;AAEA;EACE,sGAAsG;EACtG,kjBAAkjB;EACljB,qBAAqB;EACrB,4BAA4B;EAC5B,yCAAyC;EACzC,mBAAmB;EACnB,eAAe;EACf,sBAAsB,EAAE,kCAAkC;AAC5D;;AAEA;EACE,kjBAAkjB;AACpjB;;AAEA;;EAEE,qBAAqB;EACrB,yBAAyB;EACzB,cAAc;EACd,mBAAmB;AACrB;;AAEA,+BAA+B;AAC/B;;EAEE,gBAAgB;AAClB;;AAEA,oCAAoC;AACpC;;EAEE,eAAe;AACjB;;AAEA,wBAAwB;AACxB;EACE,kBAAkB;AACpB;;AAEA;EACE,kBAAkB;EAClB,YAAY;EACZ,oBAAoB;EACpB,SAAS;EACT,WAAW;EACX,aAAa;AACf;;AAEA;;EAEE,uBAAuB;EACvB,kBAAkB;AACpB;;AAEA;;;EAGE,aAAa;AACf;;AAEA,2FAA2F;AAC3F;EACE,YAAY;EACZ,qBAAqB;EACrB,qWAAqW;EACrW,wBAAwB;EACxB,mBAAmB;EACnB,kBAAkB;EAClB,kBAAkB;EAClB,2DAA2D;AAC7D;;AAEA;EACE,YAAY;AACd;;AAEA,aAAa;AACb;EACE,wBAAwB;EACxB,sBAAsB;EACtB,WAAW;EACX,YAAY;EACZ,yBAAyB;EACzB,kBAAkB;EAClB,SAAS;EACT,kBAAkB;EAClB,+DAA+D;EAC/D,eAAe;AACjB;;AAEA;EACE,WAAW;EACX,cAAc;EACd,kBAAkB;EAClB,UAAU;EACV,WAAW;EACX,sBAAsB;EACtB,aAAa;EACb,cAAc;EACd,SAAS;EACT,QAAQ;EACR,wBAAwB;AAC1B;;AAEA;EACE,qBAAqB;AACvB;;AAEA;EACE,qBAAqB;EACrB;;;;GAIC;AACH;;AAEA;EACE,+BAA+B;AACjC;;AAEA,6BAA6B;AAC7B,6DAA6D;AAC7D;;EAEE,mBAAmB;EACnB,WAAW;EACX,YAAY;EACZ,sBAAsB;AACxB;;AAEA;EACE,gBAAgB;EAChB,wBAAwB;EACxB,eAAe;EACf,qBAAqB;EACrB,SAAS;EACT,yBAAyB;EACzB,mBAAmB;AACrB;;AAEA;EACE,+BAA+B;AACjC;;AAEA;EACE,yBAAyB;EACzB,qBAAqB;AACvB;;AAEA;EACE,kBAAkB;EAClB,WAAW;EACX,mDAAmD;AACrD;;AAEA;EACE,kBAAkB;EAClB,SAAS;EACT,QAAQ;EACR,kBAAkB;EAClB,WAAW;EACX,YAAY;EACZ,yBAAyB;EACzB,2CAA2C;EAC3C,WAAW;EACX,wDAAwD;EACxD,sBAAsB;EACtB,2BAA2B;AAC7B;;AAEA;EACE,2BAA2B;EAC3B,qBAAqB;EACrB,yBAAyB;AAC3B;;AAEA,WAAW;AACX;EACE,uBAAuB;EACvB,WAAW;EACX,gBAAgB;EAChB,sBAAsB;EACtB,oBAAoB;EACpB,eAAe;EACf,iBAAiB;EACjB,kBAAkB;EAClB,eAAe;EACf,+DAA+D;AACjE;;AAEA;EACE,qBAAqB;EACrB,cAAc;AAChB;;AAEA;EACE,qBAAqB;EACrB,+BAA+B;EAC/B,cAAc;AAChB;;AAEA;EACE,iBAAiB;AACnB;;AAEA;EACE,qBAAqB;EACrB;;;;GAIC;EACD,WAAW;AACb;;AAEA;EACE,SAAS;AACX;;AAEA;EACE,SAAS;AACX;;AAEA;EACE,mBAAmB;EACnB,cAAc;EACd,qBAAqB;AACvB;;AAEA;EACE,qBAAqB;AACvB;;AAEA;EACE,qBAAqB;EACrB,SAAS;AACX;;AAEA;EACE,cAAc;EACd,qBAAqB;AACvB;;AAEA;;EAEE,cAAc;EACd,qBAAqB;AACvB;;AAEA;EACE,iCAAiC;AACnC;;AAEA;EACE,qBAAqB;EACrB,mBAAmB;EACnB,cAAc;EACd,mBAAmB;AACrB;;AAEA,yBAAyB;AACzB;EACE,0BAA0B;AAC5B;;AAEA;EACE,0BAA0B;EAC1B,8BAA8B;AAChC;;AAEA;;EAEE,0BAA0B;AAC5B",sourcesContent:["input,\nbutton,\ntextarea,\n:focus {\n  outline: none;\n}\n\n/* Heavily inspired by https://dribbble.com/shots/12109708/attachments/3741712?mode=media */\ninput:not([type='checkbox']):not([type='radio']),\nselect {\n  -webkit-appearance: none;\n  box-sizing: border-box;\n  border: 1px solid #aab3c5;\n  padding: 6px 7px;\n  border-radius: 5px;\n  font-family: inherit;\n  font-size: 12px;\n  transition: border-color 0.3s, box-shadow 0.2s;\n}\n\n/* Fix flatpicker's year input */\n.flatpickr-calendar input {\n  -webkit-appearance: inherit !important;\n  box-sizing: inherit !important;\n  border: inherit !important;\n  padding: inherit !important;\n  border-radius: inherit !important;\n  font-family: inherit !important;\n  font-size: inherit !important;\n  transition: inherit !important;\n}\n\ninput:not([type='checkbox']):not([type='radio']):hover,\nselect:hover {\n  border-color: #1874fb;\n}\n\ninput:not([type='checkbox']):not([type='radio']):focus,\nselect:focus {\n  border-color: #1874fb;\n  box-shadow: 0 0 0px 2px #d2e6fe;\n}\n\nselect {\n  /* Note that the SVG content needs to be url-escaped for this to work, e.g. # gets replaced with %23 */\n  background-image: url('data:image/svg+xml;utf8,<svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" width=\"960px\" height=\"560px\" viewBox=\"0 0 960 560\" xml:space=\"preserve\"><g><path fill=\"%238C96A6\" d=\"M480,344.181L268.869,131.889c-15.756-15.859-41.3-15.859-57.054,0c-15.754,15.857-15.754,41.57,0,57.431l237.632,238.937c8.395,8.451,19.562,12.254,30.553,11.698c10.993,0.556,22.159-3.247,30.555-11.698l237.631-238.937c15.756-15.86,15.756-41.571,0-57.431s-41.299-15.859-57.051,0L480,344.181z\"/></g></svg>');\n  background-size: 20px;\n  background-repeat: no-repeat;\n  background-position: calc(100% - 5px) 50%;\n  padding-right: 30px;\n  cursor: pointer;\n  background-color: #fff; /* in linux, the default is gray */\n}\n\nselect:focus {\n  background-image: url('data:image/svg+xml;utf8,<svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" width=\"960px\" height=\"560px\" viewBox=\"0 0 960 560\" xml:space=\"preserve\"><g><path fill=\"%231371FB\" d=\"M480,344.181L268.869,131.889c-15.756-15.859-41.3-15.859-57.054,0c-15.754,15.857-15.754,41.57,0,57.431l237.632,238.937c8.395,8.451,19.562,12.254,30.553,11.698c10.993,0.556,22.159-3.247,30.555-11.698l237.631-238.937c15.756-15.86,15.756-41.571,0-57.431s-41.299-15.859-57.051,0L480,344.181z\"/></g></svg>');\n}\n\ninput:not([type='checkbox']):not([type='radio']):disabled,\nselect:disabled {\n  border-color: #d0d0d0;\n  background-color: #f2f2f2;\n  color: #afafaf;\n  cursor: not-allowed;\n}\n\n/* Small inputs & selectboxes */\ninput:not([type='checkbox']):not([type='radio']).small,\nselect.small {\n  padding: 3px 6px;\n}\n\n/* Borderless inputs & selectboxes */\ninput:not([type='checkbox']):not([type='radio']).borderless,\nselect.borderless {\n  border-width: 0;\n}\n\n/* Input with svg icon */\n.input-with-svg-icon-container {\n  position: relative;\n}\n\n.input-with-svg-icon-container svg {\n  position: absolute;\n  height: 17px;\n  top: calc(50% - 8px);\n  left: 5px;\n  z-index: -1;\n  fill: #8c96a6;\n}\n\n.input-with-svg-icon-container\n  input:not([type='checkbox']):not([type='radio']) {\n  background: transparent;\n  padding-left: 30px;\n}\n\n.input-with-svg-icon-container\n  input:not([type='checkbox']):not([type='radio']):focus\n  + svg {\n  fill: #1371fb;\n}\n\n/* Search input clear button: https://gist.github.com/tj/9455aa5add1c78e6bc573fcf0f8e7eb5 */\ninput[type='search']::-webkit-search-cancel-button {\n  --size: 11px;\n  --background: #7f7f7f;\n  --icon: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI3IiBoZWlnaHQ9IjciIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjZmZmIiBzdHJva2Utd2lkdGg9IjMiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgY2xhc3M9ImZlYXRoZXIgZmVhdGhlci14Ij48cGF0aCBkPSJNMTggNkw2IDE4TTYgNmwxMiAxMiIvPjwvc3ZnPgo=');\n  -webkit-appearance: none;\n  height: var(--size);\n  width: var(--size);\n  border-radius: 50%;\n  background: var(--background) var(--icon) 50% 50% no-repeat;\n}\n\ninput[type='search']::-webkit-search-cancel-button:hover {\n  opacity: 0.9;\n}\n\n/* Checkbox */\ninput[type='checkbox']:not(.switch) {\n  -webkit-appearance: none;\n  box-sizing: border-box;\n  width: 20px;\n  height: 20px;\n  border: 1px solid #dde2e8;\n  border-radius: 3px;\n  margin: 0;\n  position: relative;\n  transition: background 0.3s, border-color 0.3s, box-shadow 0.2s;\n  cursor: pointer;\n}\n\ninput[type='checkbox']:not(.switch):after {\n  content: '';\n  display: block;\n  position: absolute;\n  width: 4px;\n  height: 8px;\n  border: 2px solid #fff;\n  border-top: 0;\n  border-left: 0;\n  left: 6px;\n  top: 3px;\n  transform: rotate(43deg);\n}\n\ninput[type='checkbox']:not(.switch):hover {\n  border-color: #1582ea;\n}\n\ninput[type='checkbox']:not(.switch):checked {\n  border-color: #1582ea;\n  background: linear-gradient(\n    0deg,\n    rgba(18, 110, 243, 1) 0%,\n    rgba(24, 140, 252, 1) 100%\n  );\n}\n\ninput[type='checkbox']:not(.switch):focus {\n  box-shadow: 0 0 0px 2px #d2e6fe;\n}\n\n/* iOS switch-like checkbox */\n/* Borrowed from: https://codepen.io/JowayYoung/pen/PoqgbGV */\ninput[type='checkbox'].switch,\ninput[type='checkbox'].switch::before {\n  border-radius: 11px;\n  width: 40px;\n  height: 22px;\n  box-sizing: border-box;\n}\n\ninput[type='checkbox'].switch {\n  appearance: none;\n  -webkit-appearance: none;\n  cursor: pointer;\n  transition: all 100ms;\n  margin: 0;\n  border: 2px solid #dde2e8;\n  background: #f8f9fc;\n}\n\ninput[type='checkbox'].switch:focus {\n  box-shadow: 0 0 0px 2px #d2e6fe;\n}\n\ninput[type='checkbox'].switch:checked {\n  background-color: #f1f7ff;\n  border-color: #a9cdfd;\n}\n\ninput[type='checkbox'].switch::before {\n  position: absolute;\n  content: '';\n  transition: all 300ms cubic-bezier(0.45, 1, 0.4, 1);\n}\n\ninput[type='checkbox'].switch::after {\n  position: absolute;\n  left: 3px;\n  top: 3px;\n  border-radius: 8px;\n  width: 16px;\n  height: 16px;\n  background-color: #aab3c5;\n  box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.15);\n  content: '';\n  transition: all 300ms cubic-bezier(0.4, 0.4, 0.25, 1.35);\n  box-sizing: border-box;\n  border: 1px solid #1479ea00;\n}\n\ninput[type='checkbox'].switch:checked::after {\n  transform: translateX(17px);\n  border-color: #1479ea;\n  background-color: #1682fc;\n}\n\n/* Button */\nbutton {\n  background: transparent;\n  color: #666;\n  font-weight: 600;\n  border: 1px solid #999;\n  font-family: inherit;\n  font-size: 12px;\n  padding: 6px 20px;\n  border-radius: 5px;\n  cursor: pointer;\n  transition: background 0.4s, border-color 0.3s, box-shadow 0.2s;\n}\n\nbutton:hover {\n  border-color: #1582ea;\n  color: #1582ea;\n}\n\nbutton:focus {\n  border-color: #1582ea;\n  box-shadow: 0 0 0px 2px #d2e6fe;\n  color: #1582ea;\n}\n\nbutton.small {\n  padding: 3px 15px;\n}\n\nbutton.primary:not(:disabled) {\n  border-color: #1582ea;\n  background: linear-gradient(\n    0deg,\n    rgba(18, 110, 243, 1) 0%,\n    rgba(24, 140, 252, 1) 100%\n  );\n  color: #fff;\n}\n\nbutton.primary:not(:disabled):hover {\n  /* TODO */\n}\n\nbutton.primary:not(:disabled):focus {\n  /* TODO */\n}\n\nbutton.secondary:not(:disabled) {\n  background: #edf4ff;\n  color: #1371fb;\n  border-color: #b6d5fd;\n}\n\nbutton.secondary:not(:disabled):hover {\n  border-color: #1582ea;\n}\n\nbutton.secondary:not(:disabled):focus {\n  border-color: #1582ea;\n  /* TODO */\n}\n\nbutton.danger:not(:disabled) {\n  color: #ff4d4f;\n  border-color: #ff4d4f;\n}\n\nbutton.danger:not(:disabled):hover,\nbutton.danger:not(:disabled):focus {\n  color: #ff7875;\n  border-color: #ff7875;\n}\n\nbutton.danger:not(:disabled):focus {\n  box-shadow: 0 0 0px 2px #ff787599;\n}\n\nbutton:disabled {\n  border-color: #d0d0d0;\n  background: #f2f2f2;\n  color: #afafaf;\n  cursor: not-allowed;\n}\n\n/* Input + button group */\n.input-button-group input:not([type='checkbox']):not([type='radio']) {\n  border-radius: 5px 0 0 5px;\n}\n\n.input-button-group button {\n  border-radius: 0 5px 5px 0;\n  border-left-color: transparent;\n}\n\n.input-button-group button:hover,\n.input-button-group button:focus {\n  border-left-color: inherit;\n}\n"],sourceRoot:""}]);const r=a},76056:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(60445),o=n.n(i),s=n(60352),a=n.n(s)()(o());a.push([e.id,".noty_theme__mint.noty_bar {\n  margin: 4px 0;\n  overflow: hidden;\n  position: relative;\n  /* border: 1px solid transparent; */\n  border: 1px solid rgba(0, 0, 0, 0.15);\n  border-radius: 0.25rem;\n  box-shadow: rgba(0, 0, 0, 0.3) 2px 1px 4px 0;\n}\n.noty_theme__mint.noty_bar .noty_body {\n  padding: 0.75rem 1.25rem;\n}\n.noty_theme__mint.noty_bar .noty_buttons {\n  padding: 10px;\n}\n.noty_theme__mint.noty_bar .noty_close_button {\n  font-size: 1.5rem;\n  font-weight: 700;\n  line-height: 1;\n  color: #000;\n  text-shadow: 0 1px 0 #fff;\n  filter: alpha(opacity=20);\n  opacity: 0.5;\n  background: transparent;\n}\n.noty_theme__mint.noty_bar .noty_close_button:hover {\n  background: transparent;\n  text-decoration: none;\n  cursor: pointer;\n  filter: alpha(opacity=50);\n  opacity: 0.75;\n}\n.noty_theme__mint.noty_type__alert,\n.noty_theme__mint.noty_type__notification {\n  background-color: #fff;\n  color: inherit;\n}\n.noty_theme__mint.noty_type__warning {\n  background-color: #fcf8e3;\n  color: #8a6d3b;\n  /* border-color: #faebcc; */\n}\n.noty_theme__mint.noty_type__error {\n  background-color: #f2dede;\n  color: #a94442;\n  /* border-color: #ebccd1; */\n}\n.noty_theme__mint.noty_type__info,\n.noty_theme__mint.noty_type__information {\n  background-color: #d9edf7;\n  color: #31708f;\n  /* border-color: #bce8f1; */\n}\n.noty_theme__mint.noty_type__success {\n  background-color: #dff0d8;\n  color: #3c763d;\n  /* border-color: #d6e9c6; */\n}\n","",{version:3,sources:["webpack://./src/global-styles/noty.css"],names:[],mappings:"AAAA;EACE,aAAa;EACb,gBAAgB;EAChB,kBAAkB;EAClB,mCAAmC;EACnC,qCAAqC;EACrC,sBAAsB;EACtB,4CAA4C;AAC9C;AACA;EACE,wBAAwB;AAC1B;AACA;EACE,aAAa;AACf;AACA;EACE,iBAAiB;EACjB,gBAAgB;EAChB,cAAc;EACd,WAAW;EACX,yBAAyB;EACzB,yBAAyB;EACzB,YAAY;EACZ,uBAAuB;AACzB;AACA;EACE,uBAAuB;EACvB,qBAAqB;EACrB,eAAe;EACf,yBAAyB;EACzB,aAAa;AACf;AACA;;EAEE,sBAAsB;EACtB,cAAc;AAChB;AACA;EACE,yBAAyB;EACzB,cAAc;EACd,2BAA2B;AAC7B;AACA;EACE,yBAAyB;EACzB,cAAc;EACd,2BAA2B;AAC7B;AACA;;EAEE,yBAAyB;EACzB,cAAc;EACd,2BAA2B;AAC7B;AACA;EACE,yBAAyB;EACzB,cAAc;EACd,2BAA2B;AAC7B",sourcesContent:[".noty_theme__mint.noty_bar {\n  margin: 4px 0;\n  overflow: hidden;\n  position: relative;\n  /* border: 1px solid transparent; */\n  border: 1px solid rgba(0, 0, 0, 0.15);\n  border-radius: 0.25rem;\n  box-shadow: rgba(0, 0, 0, 0.3) 2px 1px 4px 0;\n}\n.noty_theme__mint.noty_bar .noty_body {\n  padding: 0.75rem 1.25rem;\n}\n.noty_theme__mint.noty_bar .noty_buttons {\n  padding: 10px;\n}\n.noty_theme__mint.noty_bar .noty_close_button {\n  font-size: 1.5rem;\n  font-weight: 700;\n  line-height: 1;\n  color: #000;\n  text-shadow: 0 1px 0 #fff;\n  filter: alpha(opacity=20);\n  opacity: 0.5;\n  background: transparent;\n}\n.noty_theme__mint.noty_bar .noty_close_button:hover {\n  background: transparent;\n  text-decoration: none;\n  cursor: pointer;\n  filter: alpha(opacity=50);\n  opacity: 0.75;\n}\n.noty_theme__mint.noty_type__alert,\n.noty_theme__mint.noty_type__notification {\n  background-color: #fff;\n  color: inherit;\n}\n.noty_theme__mint.noty_type__warning {\n  background-color: #fcf8e3;\n  color: #8a6d3b;\n  /* border-color: #faebcc; */\n}\n.noty_theme__mint.noty_type__error {\n  background-color: #f2dede;\n  color: #a94442;\n  /* border-color: #ebccd1; */\n}\n.noty_theme__mint.noty_type__info,\n.noty_theme__mint.noty_type__information {\n  background-color: #d9edf7;\n  color: #31708f;\n  /* border-color: #bce8f1; */\n}\n.noty_theme__mint.noty_type__success {\n  background-color: #dff0d8;\n  color: #3c763d;\n  /* border-color: #d6e9c6; */\n}\n"],sourceRoot:""}]);const r=a},88845:(e,t,n)=>{"use strict";n.r(t),n.d(t,{App:()=>Uo,AppWidgetType:()=>No});var i=n(61151),o=n(75701),s=n.n(o),a=n(78419);s()(a.Z,{insert:"head",singleton:!1}),a.Z.locals;var r=n(32928),l=n(28827),c=n(24957),d=n(60534);class A{constructor(e){this.options=e,this.element=document.createElement("div"),this.items=[],e.width&&(this.element.style.width=`${e.width}px`),e.headerEl&&this.element.appendChild(e.headerEl),e.emptyEl&&this.element.appendChild(e.emptyEl),e.items.forEach((e=>{this.addItem(e)}))}getItems(){return this.items.slice()}addItem(e){this.options.emptyEl&&this.options.emptyEl.parentElement&&this.options.emptyEl.parentElement.removeChild(this.options.emptyEl);const t=document.createElement("div"),n={element:t,options:e};t.classList.add("app-toolbar-menu-list-item");const i=document.createElement("span");i.classList.add("text"),this.options.onTextClick&&i.classList.add("clickable"),i.textContent=e.text,t.appendChild(i);const o=document.createElement("div");t.appendChild(o),e.buttons.forEach((e=>{const t=document.createElement("div");t.classList.add("button"),t.innerHTML={pencil:r.Z,delete:l.Z,close:c.Z,plus:d.Z}[e.icon],t.setAttribute("data-menu-list-button-id",e.id),o.appendChild(t)}));const s=this.onItemClick.bind(this,n);t.addEventListener("click",s,!1),n.onClickHandler=s,this.element.appendChild(t),this.items.push(n)}removeItemAt(e){if(e>=this.items.length)return!1;const[t]=this.items.splice(e,1);t&&(this.element.removeChild(t.element),t.onClickHandler&&t.element.removeEventListener("click",t.onClickHandler,!1)),0==this.items.length&&this.options.emptyEl&&this.element.appendChild(this.options.emptyEl)}removeAllItems(){if(0==this.items.length)return;let e=this.items[0];for(;e;)this.removeItemAt(0),e=this.items[0]}onItemClick(e,t){var n,i;const o=this.items.indexOf(e);if(-1==o)return!1;const s=t.target;if(s.closest(".text"))return void(null===(i=(n=this.options).onTextClick)||void 0===i||i.call(n,o));const a=s.closest("[data-menu-list-button-id]");if(a){const e=a.getAttribute("data-menu-list-button-id");if(!e)return;this.options.onButtonClick(e,o)}}}var p,h=n(92210),m=n.n(h),u=n(2261),g=n.n(u);!function(e){e.JAEGER="jaeger",e.ZIPKIN="zipkin"}(p||(p={}));var C=n(47315),b=n.n(C),f=n(72139),E=n.n(f),B=n(23619),v=n.n(B),y=n(93706),w=n.n(y),k=n(80719),S=n.n(k),x=n(26055),T=n.n(x),L=function(e,t,n,i){return new(n||(n=Promise))((function(o,s){function a(e){try{l(i.next(e))}catch(e){s(e)}}function r(e){try{l(i.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,r)}l((i=i.apply(e,t||[])).next())}))};class M{constructor(e){if(this.headers={},!E()(e.baseUrl))throw new Error('"options.baseUrl" must be a string');if(this.baseUrl=e.baseUrl.trim(),e.username||e.password){const t=Buffer.from(`${e.username}:${e.password}`).toString("base64");this.headers.Authorization=`Basic ${t}`}}search(e){return L(this,void 0,void 0,(function*(){if(E()(e.tags)){const t=T().parse(e.tags);for(let e in t)t[e]=t[e].toString();e.tags=JSON.stringify(t)}const t=yield this.get("/traces",e);if(!w()(t.data))throw new Error('Expected jaeger response object must contain "data" array');return t.data.map(I)}))}test(){return L(this,void 0,void 0,(function*(){yield this.getServices()}))}getServices(){return L(this,void 0,void 0,(function*(){return this.get("/services")}))}getOperations(e){return L(this,void 0,void 0,(function*(){return this.get(`/services/${e}/operations`)}))}getTrace(e){return L(this,void 0,void 0,(function*(){return(yield this.get("/traces",{traceID:e})).data.map(I)}))}get(e,t={}){return L(this,void 0,void 0,(function*(){const n=yield this.request({method:"get",path:e,queryParams:t});if(!n.ok)throw new Error(`${n.status} ${n.statusText}`);return n.json()}))}request(e){return L(this,void 0,void 0,(function*(){let t=S()(this.baseUrl,e.path);return v()(e.queryParams)&&Object.keys(e.queryParams).length>0&&(t=new URL(t),t.search=new URLSearchParams(e.queryParams)),fetch(t,{method:e.method,headers:Object.assign(Object.assign({},this.headers),e.headers||{})})}))}}function I(e){if(!v()(e))throw new Error("Trace must be object");const t=e;if(!w()(t.spans))throw new Error('"trace.spans" must be array');if(!v()(t.processes))throw new Error('"trace.processes" must be object');return t.spans.map((e=>{if(!E()(e.spanID)&&e.spanID.length>0)throw new Error('"rawSpan.spanID" must be string');if(!E()(e.traceID)&&e.traceID.length>0)throw new Error('"rawSpan.traceID" must be string');if(!b()(e.startTime))throw new Error('"rawSpan.startTime" must be number');if(!b()(e.duration))throw new Error('"rawSpan.duration" must be number');const n={id:e.spanID,traceId:e.traceID,operationName:e.operationName,startTime:e.startTime,finishTime:e.startTime+e.duration,references:[],tags:{},logs:[]};if(w()(e.references)){const t={CHILD_OF:"childOf",FOLLOWS_FROM:"followsFrom"};n.references=e.references.map((e=>({type:t[e.refType],traceId:e.traceID,spanId:e.spanID})))}if(w()(e.tags)&&e.tags.forEach((e=>{n.tags[e.key]=e.value})),w()(e.logs)&&(n.logs=e.logs.map((e=>{const t={timestamp:e.timestamp,fields:{}};return e.fields.forEach((e=>t.fields[e.key]=e.value)),t}))),e.processID&&t.processes[e.processID]){const i=t.processes[e.processID];n.process={serviceName:i.serviceName,id:e.processID,tags:{}},i.tags.forEach((e=>n.process.tags[e.key]=e.value))}return n}))}var D=function(e,t,n,i){return new(n||(n=Promise))((function(o,s){function a(e){try{l(i.next(e))}catch(e){s(e)}}function r(e){try{l(i.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,r)}l((i=i.apply(e,t||[])).next())}))};class R{constructor(e){if(this.headers={},!E()(e.baseUrl))throw new Error('"options.baseUrl" must be a string');if(this.baseUrl=e.baseUrl.trim(),e.username||e.password){const t=Buffer.from(`${e.username}:${e.password}`).toString("base64");this.headers.Authorization=`Basic ${t}`}}search(e){return D(this,void 0,void 0,(function*(){const t=yield this.get("/traces",e);if(!w()(t))throw new Error("Expected zipkin response must be array");return t.map((e=>O(e)))}))}test(){return D(this,void 0,void 0,(function*(){yield this.getServices()}))}getServices(){return D(this,void 0,void 0,(function*(){return this.get("/services")}))}getSpans(e){return D(this,void 0,void 0,(function*(){return this.get("/spans",{serviceName:e})}))}getRemoteServices(e){return D(this,void 0,void 0,(function*(){return this.get("/remoteServices",{serviceName:e})}))}getTrace(e){return D(this,void 0,void 0,(function*(){const t=yield this.get(`/trace/${e}`);if(!w()(t))throw console.error(t),new Error("Unexpected response from Zipkin, expected an array");return O(t)}))}get(e,t={}){return D(this,void 0,void 0,(function*(){const n=yield this.request({method:"get",path:e,queryParams:t});if(!n.ok)throw new Error(`${n.status} ${n.statusText}`);return n.json()}))}request(e){return D(this,void 0,void 0,(function*(){let t=S()(this.baseUrl,e.path);return v()(e.queryParams)&&Object.keys(e.queryParams).length>0&&(t=new URL(t),t.search=new URLSearchParams(e.queryParams)),fetch(t,{method:e.method,headers:Object.assign(Object.assign({},this.headers),e.headers||{})})}))}}function O(e){if(!w()(e))throw new Error("Trace must be array");return e.map((e=>{if(!E()(e.id)&&e.id.length>0)throw new Error('"rawSpan.id" must be string');if(!E()(e.traceId)&&e.traceId.length>0)throw new Error('"rawSpan.traceId" must be string');if(!b()(e.timestamp))throw new Error('"rawSpan.timestamp" must be number');b()(e.duration)||(e.duration=0);const t={id:e.id,traceId:e.traceId,operationName:e.name,startTime:e.timestamp,finishTime:e.timestamp+e.duration,references:[],tags:v()(e.tags)?e.tags:{},logs:[],localEndpoint:v()(e.localEndpoint)?e.localEndpoint:{serviceName:"unknown"}};return E()(e.parentId)&&e.parentId.length>0&&t.references.push({type:"childOf",traceId:e.traceId,spanId:e.parentId}),w()(e.annotations)&&(t.logs=e.annotations.map((e=>({timestamp:e.timestamp,fields:{annotation:e.value}})))),t}))}var _=n(49642);class P extends _.Z{constructor(){super("AppDatabase"),this.version(1).stores({dataSources:"id"}),this.version(2).stores({spanGroupings:"key",spanLabellings:"key",spanColorings:"key"}),this.version(3).stores({settings:"key"}),this.dataSources=this.table("dataSources"),this.spanGroupings=this.table("spanGroupings"),this.spanLabellings=this.table("spanLabellings"),this.spanColorings=this.table("spanColorings"),this.settings=this.table("settings")}}const z=new P;var N,F=n(5939),U=n.n(F),H=function(e,t,n,i){return new(n||(n=Promise))((function(o,s){function a(e){try{l(i.next(e))}catch(e){s(e)}}function r(e){try{l(i.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,r)}l((i=i.apply(e,t||[])).next())}))};let W;!function(e){e.ADDED="dsm_added",e.UPDATED="dsm_updated",e.REMOVED="dsm_removed"}(N||(N={}));class j extends(U()){constructor(){super(...arguments),this.datasources=[],this.apis={}}static getSingleton(){return W||(W=new j),W}init(){return H(this,void 0,void 0,(function*(){yield z.open();const e=yield z.dataSources.toArray();yield Promise.all(e.map((e=>this.add(e,!0))))}))}add(e,t=!1){return H(this,void 0,void 0,(function*(){const{id:n,type:i}=e;let o;return!m()(this.datasources,(e=>e.id==n))&&(o=V(e),t||(yield z.dataSources.put(e)),this.datasources.push(e),this.datasources.sort(((e,t)=>e.name.toLowerCase().localeCompare(t.name.toLowerCase()))),this.apis[n]=o,this.emit(N.ADDED,e),e)}))}update(e){return H(this,void 0,void 0,(function*(){const t=g()(this.datasources,(t=>t.id===e.id));if(-1===t)return!1;yield z.dataSources.update(this.datasources[t].id,e),this.datasources[t]=e,this.datasources.sort(((e,t)=>e.name.toLowerCase().localeCompare(t.name.toLowerCase()))),this.apis[e.id]=V(e),this.emit(N.UPDATED,e)}))}remove(e){return H(this,void 0,void 0,(function*(){const t=this.getIndex(e);if(-1===t)return!1;yield z.dataSources.delete(this.datasources[t].id);const[n]=this.datasources.splice(t,1);return delete this.apis[n.id],this.emit(N.REMOVED,n),n}))}apiFor(e){return this.apis[e.id]}getAll(){return[...this.datasources]}get(e){const t="object"==typeof e&&e.id?e.id:e;return m()(this.datasources,(e=>e.id===t))}getIndex(e){const t="object"==typeof e&&e.id?e.id:e;return g()(this.datasources,(e=>e.id===t))}}function V(e){switch(e.type){case p.JAEGER:return new M({baseUrl:e.baseUrl,username:e.username,password:e.password});case p.ZIPKIN:return new R({baseUrl:e.baseUrl,username:e.username,password:e.password});default:throw new Error(`Unsupported data source type "${e.type}"`)}}var Z=n(23134),$=n.n(Z),Y=n(30597),q=n.n(Y),G=n(40601),X=n.n(G);class K{constructor(e){this.children=[],this.spanId=e}get parentOrFollows(){return this.parent||this.follows}}class Q{constructor(e,t){this.spans=[],this.spansById={},this._startTimestamp=1/0,this._finishTimestamp=-1/0,this.missingNodeDependents={},this.nodes={},this.rootNodes=[],this.id=e,this.name=t}get orphanNodes(){const e=$()(this.missingNodeDependents);return q()(e.map((e=>Array.from(e)))).map((e=>this.nodes[e]))}add(e){this.spansById[e.id]||(this.spans.push(e),this.spansById[e.id]=e,this._startTimestamp=Math.min(this._startTimestamp,e.startTime),this._finishTimestamp=Math.max(this._finishTimestamp,e.finishTime),this.setupNode(e))}remove(e){const t=this.indexOf(e);if(-1===t)return;const n=this.spans[t];this.spans.splice(t,1),delete this.spansById[n.id];let i=this._startTimestamp===n.startTime,o=this._finishTimestamp===n.finishTime;(i||o)&&(i&&(this._startTimestamp=1/0),o&&(this._finishTimestamp=-1/0),this.spans.forEach((({startTime:e,finishTime:t})=>{i&&(this._startTimestamp=Math.min(this._startTimestamp,e)),o&&(this._finishTimestamp=Math.max(this._finishTimestamp,t))})));const s=this.nodeOf(n.id);delete this.nodes[n.id];const a=s.parent||s.follows;if(a){const e=a.children.indexOf(s);e>-1&&a.children.splice(e,1)}const r=this.rootNodes.indexOf(s);return r>-1&&this.rootNodes.splice(r,1),s.children.forEach((e=>{e.parent=void 0,e.follows=void 0})),s.children.length>0&&(this.missingNodeDependents[n.id]=new Set(s.children.map((e=>e.spanId)))),a||X()(this.missingNodeDependents,((e,t)=>{e.has(n.id)&&(e.delete(n.id),0===e.size&&delete this.missingNodeDependents[t])})),n}setupNode(e){const t=this.get(e),n=this.nodeOf(t.id,!0);if(0===t.references.length)this.rootNodes.push(n);else{const e=t.references[0].type,i=t.references[0].spanId,o=this.nodeOf(i);o?(o.children.push(n),"childOf"===e?n.parent=o:"followsFrom"===e&&(n.follows=o)):(this.missingNodeDependents[i]||(this.missingNodeDependents[i]=new Set),this.missingNodeDependents[i].add(t.id))}const i=this.missingNodeDependents[t.id];delete this.missingNodeDependents[t.id],i&&i.forEach((e=>this.setupNode(e)))}nodeOf(e,t=!1){const n="object"==typeof e?e.id:e;return this.nodes[n]||(t?(this.nodes[n]=new K(n),this.nodes[n]):void 0)}get(e){const t="object"==typeof e?e.id:e;return this.spansById[t]}getAll(){return this.spans.slice()}indexOf(e){const t="object"==typeof e?e.id:e;return g()(this.spans,(e=>e.id===t))}get length(){return this.spans.length}get startTimestamp(){return this._startTimestamp}get finishTimestamp(){return this._finishTimestamp}}var J,ee=n(22610),te=n.n(ee);let ne;!function(e){e.TRACE_ADDED="trace_added",e.TRACE_REMOVED="trace_removed"}(J||(J={}));class ie extends(U()){constructor(){super(...arguments),this.traces={},this.mainSpanGroup=new Q("main",""),this.spanTags={},this.logFields={},this.processTags={},this.spanSelfTimes={}}static getSingleton(){return ne||(ne=new ie),window.stage=ne,ne}getTrace(e){return this.traces[e]}getAllTraces(){return Object.values(this.traces)}addTrace(e){if(this.traces[e.id]){const t=this.traces[e.id];if(e.spanCount==t.spanCount)return!1;this.removeTrace(t.id)}this.traces[e.id]=e,e.spans.forEach((e=>{this.mainSpanGroup.add(e);for(let t in e.tags)this.spanTags[t]||(this.spanTags[t]=0),this.spanTags[t]++;if(e.logs.forEach((e=>{for(let t in e.fields)this.logFields[t]||(this.logFields[t]=0),this.logFields[t]++})),e.process)for(let t in e.process.tags)this.processTags[t]||(this.processTags[t]=0),this.processTags[t]++})),e.spans.forEach((e=>{const t=function(e){const t=e.sort(((e,t)=>e.startTime-t.startTime||e.finishTime-t.finishTime)),n=[];return t.forEach((e=>{const t=n[n.length-1];var i,o;!t||(i=t,(o=e).startTime>i.finishTime||i.startTime>o.finishTime)?n.push({startTime:e.startTime,finishTime:e.finishTime}):t.finishTime=e.finishTime})),n}(this.mainSpanGroup.nodeOf(e).children.filter((e=>!!e.parent)).map((e=>this.mainSpanGroup.get(e.spanId)))).reduce(((e,t)=>e+(t.finishTime-t.startTime)),0),n=e.finishTime-e.startTime-t;this.spanSelfTimes[e.id]=n})),this.updateSpanSelfTimeStats(),this.emit(J.TRACE_ADDED,e),window.Countly&&window.Countly.add_event({key:"trace_added",count:1,segmentation:{spanCount:e.spanCount}})}removeTrace(e){if(!this.traces[e])return!1;const t=this.traces[e];t.spans.forEach((e=>{this.mainSpanGroup.remove(e);for(let t in e.tags)this.spanTags[t]&&(this.spanTags[t]--,this.spanTags[t]<=0&&delete this.spanTags[t]);if(e.logs.forEach((e=>{for(let t in e.fields)this.logFields[t]&&(this.logFields[t]--,this.logFields[t]<=0&&delete this.logFields[t])})),e.process)for(let t in e.process.tags)this.processTags[t]&&(this.processTags[t]--,this.processTags[t]<=0&&delete this.processTags[t]);delete this.spanSelfTimes[e.id]})),this.updateSpanSelfTimeStats(),delete this.traces[e],this.emit(J.TRACE_REMOVED,t)}updateSpanSelfTimeStats(){const e=Object.values(this.spanSelfTimes);e.length>0?this.spanSelfTimeStats={min:Math.min(...e),max:Math.max(...e)}:this.spanSelfTimeStats=null}isTraceAdded(e){return!!this.traces[e]}getMainSpanGroup(){return this.mainSpanGroup}getAllSpans(){return this.mainSpanGroup.getAll()}getAllLogs(){return te()(this.mainSpanGroup.getAll(),(e=>e.logs.map((t=>[t,e]))))}getAllLogFieldKeys(){return this.logFields}getAllSpanTags(){return this.spanTags}getAllProcessTags(){return this.processTags}get startTimestamp(){return this.mainSpanGroup.startTimestamp}get finishTimestamp(){return this.mainSpanGroup.finishTimestamp}getSpanSelfTime(e){return this.spanSelfTimes[e]}getSpanSelfTimeStats(){return this.spanSelfTimeStats}}var oe=n(1001),se=n(52144),ae=n.n(se),re=n(97511);let le;s()(re.Z,{insert:"head",singleton:!1}),re.Z.locals;class ce{constructor(){this.tippyOptions=[],this.tippyInstances=[]}static getSingleton(){return le||(le=new ce),le}update(){this.disposeAllTooltips(),this.tippyInstances=this.tippyOptions.map((([e,t])=>(0,i.t)(e,t))),this.singletonTippyInstance=(0,oe.XB)(this.tippyInstances,{delay:1e3,duration:0,updateDuration:0,theme:"tooltip",placement:"top"})}addToSingleton(e){this.tippyOptions.push(...e),this.update()}removeFromSingleton(e){ae()(this.tippyOptions,(([t])=>e.indexOf(t)>-1)),this.update()}disposeAllTooltips(){this.tippyInstances.forEach((e=>e.destroy())),this.tippyInstances=[],this.singletonTippyInstance&&(this.singletonTippyInstance.destroy(),this.singletonTippyInstance=null)}}var de,Ae,pe=n(13987),he=n.n(pe),me=n(45609),ue=n.n(me);!function(e){e.ESC_KEY="esc-key",e.OVERLAY_CLICK="overlay-click",e.CLOSE_METHOD_CALL="close-method-call"}(de||(de={})),function(e){e.CLOSE="close"}(Ae||(Ae={}));class ge extends(U()){constructor(e){super(),this.options=e,this.id=pe.generate(),this.container=document.createElement("div"),this.overlayContainer=document.createElement("div"),this.contentContainer=document.createElement("div"),this.lastElementBlurTimeStamp=0,this.binded={onOverlayClick:this.onOverlayClick.bind(this),onContentContainerKeyDown:this.onContentContainerKeyDown.bind(this),onBlur:this.onBlur.bind(this)},this.container.style.position="fixed",this.container.style.top="0",this.container.style.left="0",this.container.style.right="0",this.container.style.bottom="0",this.container.style.background="rgba(0, 0, 0, 0.6)",this.container.style.display="flex",this.container.style.justifyContent="center",this.container.style.alignItems="center",this.container.setAttribute("data-modal-id",this.id),this.overlayContainer.style.position="absolute",this.overlayContainer.style.top="0",this.overlayContainer.style.left="0",this.overlayContainer.style.right="0",this.overlayContainer.style.bottom="0",this.container.appendChild(this.overlayContainer),this.contentContainer.style.background="#fff",this.contentContainer.style.borderRadius="4px",this.contentContainer.style.zIndex="1",e.contentContainerClassName&&this.contentContainer.classList.add(e.contentContainerClassName),this.contentContainer.appendChild(e.content),this.container.appendChild(this.contentContainer),this.options.shouldCloseOnOverlayClick&&(this.overlayContainer.addEventListener("click",this.binded.onOverlayClick,!1),this.contentContainer.addEventListener("blur",this.binded.onBlur,{capture:!0})),this.options.shouldCloseOnEscPress&&this.contentContainer.addEventListener("keydown",this.binded.onContentContainerKeyDown,!1)}mount(){document.body.appendChild(this.container)}unmount(){document.body.removeChild(this.container)}handleEscKeyPress(){this.options.shouldCloseOnEscPress&&this.close({triggerType:de.ESC_KEY})}setupFocusTrap(){try{if(!this.options.shouldAutoFocusFirstElement)throw new Error("Oops");this.focusTrap=ue()(this.options.content,{escapeDeactivates:!1,allowOutsideClick:()=>!0}),this.focusTrap.activate(),this.options.content.removeAttribute("tabindex")}catch(e){this.options.content.setAttribute("tabindex","-1"),this.focusTrap=ue()(this.options.content,{escapeDeactivates:!1,allowOutsideClick:()=>!0,initialFocus:this.options.content}),this.focusTrap.activate()}}removeFocusTrap(){var e;null===(e=this.focusTrap)||void 0===e||e.deactivate(),this.focusTrap=null}onContentContainerKeyDown(e){if(27==e.which)return e.target instanceof HTMLInputElement||e.target instanceof HTMLSelectElement||e.target instanceof HTMLButtonElement||e.target instanceof HTMLTextAreaElement?(e.stopPropagation(),void e.target.blur()):void 0}onOverlayClick(e){this.options.shouldCloseOnOverlayClick&&(e.timeStamp-this.lastElementBlurTimeStamp<200||this.close({triggerType:de.OVERLAY_CLICK}))}onBlur(e){(e.target instanceof HTMLInputElement||e.target instanceof HTMLSelectElement||e.target instanceof HTMLButtonElement)&&(this.lastElementBlurTimeStamp=e.timeStamp)}close(e){const{onClose:t}=this.options;t&&t((e=e||{}).triggerType||de.CLOSE_METHOD_CALL,e.data),this.emit(Ae.CLOSE)}dispose(){this.removeFocusTrap(),this.overlayContainer.removeEventListener("click",this.binded.onOverlayClick,!1),this.contentContainer.removeEventListener("blur",this.binded.onBlur,{capture:!0}),this.contentContainer.removeEventListener("keydown",this.binded.onContentContainerKeyDown,!1),this.removeAllListeners()}}let Ce;class be{constructor(){this.binded={onKeyDown:this.onKeyDown.bind(this)},document.addEventListener("keydown",this.binded.onKeyDown,!1)}static getSingleton(){return Ce||(Ce=new be),Ce}dispose(){document.removeEventListener("keydown",this.binded.onKeyDown,!1)}onKeyDown(e){27==e.which&&this.modal&&this.modal.handleEscKeyPress()}findModalFromElement(e){const t=e.closest("[data-modal-id]");if(!t)return;const n=t.getAttribute("data-modal-id");return this.modal&&this.modal.id==n?this.modal:void 0}show(e){if(this.modal)throw new Error("Showing already a modal");this.modal=e,e.on(Ae.CLOSE,this.onModalClose.bind(this,e)),e.mount(),e.setupFocusTrap()}onModalClose(e){e.removeFocusTrap(),e.unmount(),e.dispose(),this.modal=null}}var fe=n(16092),Ee=n.n(fe),Be=n(90466),ve=n(25504),ye=n(33742);s()(ye.Z,{insert:"head",singleton:!1}),ye.Z.locals;var we=function(e,t,n,i){return new(n||(n=Promise))((function(o,s){function a(e){try{l(i.next(e))}catch(e){s(e)}}function r(e){try{l(i.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,r)}l((i=i.apply(e,t||[])).next())}))};class ke{constructor(e){this.options=e,this.elements={container:document.createElement("div"),form:{container:document.createElement("form"),typeSelect:document.createElement("select"),nameInput:document.createElement("input"),baseUrlLabel:document.createElement("span"),baseUrlInfoIconContainer:document.createElement("span"),baseUrlInput:document.createElement("input"),basicAuthCheckbox:document.createElement("input"),usernameRow:document.createElement("div"),usernameInput:document.createElement("input"),passwordRow:document.createElement("div"),passwordInput:document.createElement("input"),cancelButton:document.createElement("button"),saveButton:document.createElement("button"),testButton:document.createElement("button")}},this.baseUrlInfoTooltipContent=document.createElement("span"),this.binded={onCancelButtonClick:this.onCancelButtonClick.bind(this),onFormSubmit:this.onFormSubmit.bind(this),onTestButtonClick:this.onTestButtonClick.bind(this),onBasicAuthCheckboxChange:this.onBasicAuthCheckboxChange.bind(this),onTypeSelectChange:this.onTypeSelectChange.bind(this)};const t=this.elements;t.container.classList.add("datasource-form-modal-content"),t.form.container.classList.add("form-container"),t.container.appendChild(t.form.container),this.initForm()}init(){this.elements.form.cancelButton.addEventListener("click",this.binded.onCancelButtonClick,!1),this.elements.form.testButton.addEventListener("click",this.binded.onTestButtonClick,!1),this.elements.form.container.addEventListener("submit",this.binded.onFormSubmit,!1),this.baseUrlInfoTooltipTippy=(0,i.t)(this.elements.form.baseUrlInfoIconContainer,{content:this.baseUrlInfoTooltipContent,multiple:!0,placement:"top",duration:0,updateDuration:0,maxWidth:"200px"})}getElement(){return this.elements.container}onCancelButtonClick(e){e.preventDefault();const t=be.getSingleton().findModalFromElement(this.elements.container);if(!t)throw new Error("Could not find modal instance");t.close({data:{action:"cancel"}})}onFormSubmit(e){var t;return we(this,void 0,void 0,(function*(){e.preventDefault();const n=be.getSingleton().findModalFromElement(this.elements.container);if(!n)throw new Error("Could not find modal instance");const i=this.elements.form,o={id:null===(t=this.options.dataSource)||void 0===t?void 0:t.id,type:i.typeSelect.value,name:i.nameInput.value.trim(),baseUrl:i.baseUrlInput.value.trim(),username:i.usernameInput.value,password:i.passwordInput.value};n.close({data:{action:"save",dataSource:o}})}))}onTestButtonClick(e){return we(this,void 0,void 0,(function*(){e.preventDefault();try{yield this.test(),this.elements.form.saveButton.disabled=!1,new(Ee())({text:"Data source is working",type:"success",timeout:2500}).show()}catch(e){new(Ee())({text:`Error: ${e.message||""}`,type:"error",timeout:2500}).show()}}))}test(){return we(this,void 0,void 0,(function*(){const e=this.elements.form,t={baseUrl:e.baseUrlInput.value,username:e.usernameInput.value,password:e.passwordInput.value};return(e.typeSelect.value==p.JAEGER?new M(t):new R(t)).test()}))}initForm(){var e,t,n,i,o,s,a;const r=this.elements.form,l="new"==this.options.type?"New Data Source":"Edit Data Source",c=(null===(e=this.options.dataSource)||void 0===e?void 0:e.username)||(null===(t=this.options.dataSource)||void 0===t?void 0:t.password);this.elements.form.container.innerHTML=`<h2>${l}</h2>`;const d=document.createElement("div");d.classList.add("form-row"),d.innerHTML="<div>Type:</div>",r.typeSelect.innerHTML=`<option value="${p.JAEGER}">Jaeger</option>\n      <option value="${p.ZIPKIN}">Zipkin</option>`,(null===(n=this.options.dataSource)||void 0===n?void 0:n.type)&&(r.typeSelect.value=this.options.dataSource.type),d.appendChild(r.typeSelect),this.elements.form.container.appendChild(d),r.typeSelect.addEventListener("change",this.binded.onTypeSelectChange,!1);const A=document.createElement("div");A.classList.add("form-row"),A.innerHTML="<div>Name:</div>",r.nameInput.type="text",r.nameInput.required=!0,r.nameInput.placeholder="My data source",(null===(i=this.options.dataSource)||void 0===i?void 0:i.name)&&(r.nameInput.value=this.options.dataSource.name),A.appendChild(r.nameInput),this.elements.form.container.appendChild(A);const h=document.createElement("div");h.classList.add("form-row","base-url");const m=document.createElement("div");h.appendChild(m),m.appendChild(r.baseUrlLabel),r.baseUrlInfoIconContainer.innerHTML=Be.Z,m.appendChild(r.baseUrlInfoIconContainer),r.baseUrlInput.type="text",r.baseUrlInput.required=!0,(null===(o=this.options.dataSource)||void 0===o?void 0:o.baseUrl)&&(r.baseUrlInput.value=this.options.dataSource.baseUrl),h.appendChild(r.baseUrlInput),this.elements.form.container.appendChild(h),this.onTypeSelectChange();const u=document.createElement("div");u.classList.add("form-row"),u.innerHTML="<div>Basic Authentication:</div>",r.basicAuthCheckbox.type="checkbox",c&&(r.basicAuthCheckbox.checked=!0),u.appendChild(r.basicAuthCheckbox),this.elements.form.container.appendChild(u),r.basicAuthCheckbox.addEventListener("change",this.binded.onBasicAuthCheckboxChange,!1),r.usernameRow.classList.add("form-row"),r.usernameRow.innerHTML="<div>Userame:</div>",r.usernameInput.type="text",(null===(s=this.options.dataSource)||void 0===s?void 0:s.username)&&(r.usernameInput.value=this.options.dataSource.username),r.usernameRow.appendChild(r.usernameInput),this.elements.form.container.appendChild(r.usernameRow),c||(r.usernameRow.style.display="none"),r.passwordRow.classList.add("form-row"),r.passwordRow.innerHTML="<div>Password:</div>",r.passwordInput.type="password",(null===(a=this.options.dataSource)||void 0===a?void 0:a.password)&&(r.passwordInput.value=this.options.dataSource.password),r.passwordRow.appendChild(r.passwordInput),this.elements.form.container.appendChild(r.passwordRow),c||(r.passwordRow.style.display="none");const g=document.createElement("div");g.classList.add("cors-warning"),this.elements.form.container.appendChild(g),g.innerHTML=`${ve.Z}\n      <div class="title">CORS Warning</div>\n      <div class="body">\n        Due to web security, your data source must allow cross-origin\n        requests. (Zipkin supports CORS by default, but not Jaeger)\n        If this is not applicable in your case, you can install\n        <strong>Moesif CORS</strong> extension to quickly enable/disable CORS.\n        (<a href="https://chrome.google.com/webstore/detail/moesif-origin-cors-change/digfbfaphojjndkpccljibejjbppifbc?hl=en-US" target="_blank">Chrome</a>,\n          <a href="https://addons.mozilla.org/tr/firefox/addon/moesif-origin-cors-changer1/" target="_blank">Firefox</a>)\n      </div>`;const C=document.createElement("div");C.classList.add("buttons"),this.elements.form.container.appendChild(C);const b=document.createElement("div");b.classList.add("left"),C.appendChild(b);const f=document.createElement("div");f.classList.add("right"),C.appendChild(f),r.cancelButton.classList.add("cancel"),r.cancelButton.type="button",r.cancelButton.textContent="Cancel",b.appendChild(r.cancelButton),r.testButton.classList.add("test"),r.testButton.type="button",r.testButton.textContent="Test",f.appendChild(r.testButton),r.saveButton.classList.add("save","primary"),r.saveButton.type="submit",r.saveButton.textContent="Save",r.saveButton.disabled="new"==this.options.type,f.appendChild(r.saveButton)}onBasicAuthCheckboxChange(){const e=this.elements.form;e.basicAuthCheckbox.checked?(e.usernameRow.style.display="",e.passwordRow.style.display=""):(e.usernameRow.style.display="none",e.passwordRow.style.display="none",e.usernameInput.value="",e.passwordInput.value="")}onTypeSelectChange(){const e=this.elements.form;e.typeSelect.value==p.JAEGER&&(e.baseUrlInput.placeholder="http://0.0.0.0:16686/api",e.baseUrlLabel.textContent="Query API Base URL:",this.baseUrlInfoTooltipContent.textContent="Base URL of jaeger-query service, most common form http://x.x.x.x:16686/api"),e.typeSelect.value==p.ZIPKIN&&(e.baseUrlInput.placeholder="http://0.0.0.0:9411/api/v2",e.baseUrlLabel.textContent="API Base URL:",this.baseUrlInfoTooltipContent.textContent="Base URL of Zipkin's v2 API, most common form http://x.x.x.x:9411/api/v2")}dispose(){this.elements.form.cancelButton.removeEventListener("click",this.binded.onCancelButtonClick,!1),this.elements.form.testButton.removeEventListener("click",this.binded.onTestButtonClick,!1),this.elements.form.container.removeEventListener("submit",this.binded.onFormSubmit,!1),this.elements.form.basicAuthCheckbox.removeEventListener("change",this.binded.onBasicAuthCheckboxChange,!1),this.elements.form.typeSelect.removeEventListener("change",this.binded.onTypeSelectChange,!1),this.baseUrlInfoTooltipTippy.destroy()}}var Se=n(81345),xe=n.n(Se);function Te(e,t){let n=(t=xe()(t||{},{scales:[{unit:"µs",scale:1},{unit:"ms",scale:1e3},{unit:"s",scale:1e6}],maximumFractionDigits:3})).scales[0];for(const i of t.scales){if(0==Math.floor(e/i.scale))break;n=i}const i=e/n.scale;return 0===i?"0":`${Number(i.toFixed(t.maximumFractionDigits))} ${n.unit}`}var Le=n(71658),Me=n(69880),Ie=n.n(Me),De=n(99748),Re=n.n(De),Oe=n(4109),_e=(n(26054),n(72768));s()(_e.Z,{insert:"head",singleton:!1}),_e.Z.locals;var Pe;!function(e){e.SELECTIONS_UPDATED="selections_updated"}(Pe||(Pe={}));class ze extends(U()){constructor(){super(),this.stage=ie.getSingleton(),this.traceRows=[],this.elements={container:document.createElement("div"),tableContainer:document.createElement("div")},this.viewPropertiesCache={width:0,height:0},this.binded={formatTimestamp:this.formatTimestamp.bind(this),formatDuration:this.formatDuration.bind(this),formatServices:this.formatServices.bind(this),rowSelectionChanged:this.rowSelectionChanged.bind(this),onKeyDown:this.onKeyDown.bind(this),onStageTraceAdded:this.onStageTraceAdded.bind(this),onStageTraceRemoved:this.onStageTraceRemoved.bind(this)},this.columnDefinitions={id:{title:"Trace Id",field:"id"},startTime:{title:"Date",field:"startTime",formatter:this.binded.formatTimestamp},duration:{title:"Duration",field:"duration",formatter:this.binded.formatDuration},name:{title:"Root Span",field:"name"},spanCount:{title:"Span(s)",field:"spanCount"},errorCount:{title:"Error(s)",field:"errorCount"},services:{title:"Services & Span(s)",field:"services",formatter:this.binded.formatServices,headerSort:!1}};const{container:e,tableContainer:t}=this.elements;e.classList.add("stage-traces-table-view"),e.appendChild(t)}init(e){this.options=e,this.viewPropertiesCache={width:e.width,height:e.height},this.stage.on(J.TRACE_ADDED,this.binded.onStageTraceAdded),this.stage.on(J.TRACE_REMOVED,this.binded.onStageTraceRemoved),this.elements.container.addEventListener("keydown",this.binded.onKeyDown,!1),this.traceRows=this.stage.getAllTraces().map((e=>this.trace2RowData(e))),this.table=new Le(this.elements.tableContainer,{autoResize:!1,height:this.viewPropertiesCache.height,data:this.traceRows,layout:"fitDataFill",movableColumns:!0,selectable:!0,columns:[this.columnDefinitions.id,this.columnDefinitions.startTime,this.columnDefinitions.name,this.columnDefinitions.duration,this.columnDefinitions.spanCount,this.columnDefinitions.errorCount,this.columnDefinitions.services],initialSort:[{column:this.columnDefinitions.startTime.field,dir:"desc"}],rowSelectionChanged:this.binded.rowSelectionChanged,selectableRangeMode:"click",keybindings:!1,footerElement:this.options.footerElement,placeholder:this.options.placeholderElement})}updateTraces(e){return t=this,n=void 0,o=function*(){this.traceRows=e.map((e=>this.trace2RowData(e))),yield this.table.replaceData(this.traceRows)},new((i=void 0)||(i=Promise))((function(e,s){function a(e){try{l(o.next(e))}catch(e){s(e)}}function r(e){try{l(o.throw(e))}catch(e){s(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(e){e(n)}))).then(a,r)}l((o=o.apply(t,n||[])).next())}));var t,n,i,o}rowSelectionChanged(e,t){this.emit(Pe.SELECTIONS_UPDATED,e)}trace2RowData(e){return{id:e.id,startTime:e.startTime,finishTime:e.finishTime,duration:e.duration,name:e.name,spanCount:e.spanCount,errorCount:e.errorCount,services:Re()(e.spanCountsByService)}}formatTimestamp(e){return(0,Oe.Z)(e.getValue()/1e3,"MMM dd, HH:mm:ss.SSS")}formatDuration(e){return Te(e.getValue())}formatServices(e){const t=e.getRow().getData();let n="";return Object.keys(t.services).sort(((e,t)=>e>t?1:e<t?-1:0)).forEach((e=>{const i=t.services[e];i&&(n+=`<span class="stage-traces-table-tag">${e}:</span>\n        <span class="stage-traces-table-value">${i}</span>`)})),n}onKeyDown(e){if(!(e.target instanceof HTMLInputElement||e.target instanceof HTMLTextAreaElement))if("a"!=e.key||!e.ctrlKey&&!e.metaKey){if(27==e.which){if(0==this.table.getSelectedRows().length)return;return this.deselectAll(),void e.stopPropagation()}}else this.table.selectRow()}onStageTraceAdded(e){this.updateTraces(this.stage.getAllTraces())}onStageTraceRemoved(e){this.updateTraces(this.stage.getAllTraces())}redrawTable(e=!1){if(!this.table)return;let t=e;const n=this.elements.tableContainer.querySelectorAll(".tabulator-table > .tabulator-row .tabulator-cell:first-child"),i=Ie()(n,10);if(i.length>2){const e=i[0].offsetWidth;i.every((t=>t.offsetWidth===e))||(t=!0)}this.table.redraw(t)}deselectAll(){this.table.deselectRow()}mount(e){e.appendChild(this.elements.container)}unmount(){const e=this.elements.container.parentElement;null==e||e.removeChild(this.elements.container)}resize(e,t){this.viewPropertiesCache={width:e,height:t},this.table.setHeight(t),this.redrawTable()}dispose(){var e;null===(e=this.table)||void 0===e||e.destroy(),this.table=null,this.stage.removeListener(J.TRACE_ADDED,this.binded.onStageTraceAdded),this.stage.removeListener(J.TRACE_REMOVED,this.binded.onStageTraceRemoved),this.elements.container.removeEventListener("keydown",this.binded.onKeyDown,!1)}}var Ne=n(38172),Fe=n.n(Ne),Ue=n(16238);s()(Ue.Z,{insert:"head",singleton:!1}),Ue.Z.locals;class He{constructor(){this.stage=ie.getSingleton(),this.tracesTable=new ze,this.selectedTraceIds=[],this.elements={container:document.createElement("div"),topContainer:document.createElement("div"),tracesTablePlaceholder:{container:document.createElement("div"),text:document.createElement("span")},bottom:{container:document.createElement("div"),selectionText:document.createElement("div"),removeFromStageButton:document.createElement("button")}},this.inited=!1,this.binded={onWindowResize:Fe()(this.onWindowResize.bind(this),100),onTableSelectionUpdated:this.onTableSelectionUpdated.bind(this),onRemoveFromStageButtonClick:this.onRemoveFromStageButtonClick.bind(this),onTraceAdded:this.onTraceAdded.bind(this),onTraceRemoved:this.onTraceRemoved.bind(this)};const e=this.elements;e.container.classList.add("stage-traces-modal-content"),e.topContainer.classList.add("top"),e.container.appendChild(e.topContainer),e.bottom.container.classList.add("bottom"),e.container.appendChild(e.bottom.container);const t=e.tracesTablePlaceholder;t.container.classList.add("tabulator-placeholder"),t.text.textContent="No traces in the stage",t.container.appendChild(t.text);{const t=document.createElement("div");t.classList.add("left"),e.bottom.container.appendChild(t);const n=document.createElement("div");n.classList.add("right"),e.bottom.container.appendChild(n),e.bottom.selectionText.innerHTML="No trace selected",n.appendChild(e.bottom.selectionText),e.bottom.removeFromStageButton.classList.add("danger","small"),e.bottom.removeFromStageButton.textContent="Remove from Stage",e.bottom.removeFromStageButton.disabled=!0,n.appendChild(e.bottom.removeFromStageButton)}}init(){this.tracesTable.on(Pe.SELECTIONS_UPDATED,this.binded.onTableSelectionUpdated),this.elements.bottom.removeFromStageButton.addEventListener("click",this.binded.onRemoveFromStageButtonClick,!1),this.stage.on(J.TRACE_ADDED,this.binded.onTraceAdded),this.stage.on(J.TRACE_REMOVED,this.binded.onTraceRemoved),window.addEventListener("resize",this.binded.onWindowResize,!1),this.tracesTable.mount(this.elements.topContainer);const{offsetWidth:e,offsetHeight:t}=this.elements.topContainer;this.tracesTable.init({width:e,height:t,placeholderElement:this.elements.tracesTablePlaceholder.container}),this.inited=!0}onShow(){const{offsetWidth:e,offsetHeight:t}=this.elements.topContainer;this.tracesTable.resize(e,t),this.tracesTable.redrawTable(!0)}onWindowResize(){const{offsetWidth:e,offsetHeight:t}=this.elements.topContainer;this.tracesTable.resize(e,t)}onTableSelectionUpdated(e){return t=this,n=void 0,o=function*(){if(this.selectedTraceIds=e.map((e=>e.id)),0==e.length)return this.elements.bottom.removeFromStageButton.disabled=!0,void(this.elements.bottom.selectionText.textContent="No trace selected");let t=`${e.length} traces`;1==e.length&&(t="1 trace"),this.elements.bottom.selectionText.innerHTML=`<strong>${t}</strong> selected`,this.elements.bottom.removeFromStageButton.disabled=!1},new((i=void 0)||(i=Promise))((function(e,s){function a(e){try{l(o.next(e))}catch(e){s(e)}}function r(e){try{l(o.throw(e))}catch(e){s(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(e){e(n)}))).then(a,r)}l((o=o.apply(t,n||[])).next())}));var t,n,i,o}onRemoveFromStageButtonClick(){const e=be.getSingleton().findModalFromElement(this.elements.container);if(!e)throw new Error("Could not find modal instance");e.close({data:{action:"removeFromStage",traceIds:this.selectedTraceIds}}),this.tracesTable.deselectAll()}onTraceAdded(){}onTraceRemoved(){}getElement(){return this.elements.container}dispose(){this.tracesTable.removeListener(Pe.SELECTIONS_UPDATED,this.binded.onTableSelectionUpdated),this.elements.bottom.removeFromStageButton.removeEventListener("click",this.binded.onRemoveFromStageButtonClick,!1),this.stage.removeListener(J.TRACE_ADDED,this.binded.onTraceAdded),this.stage.removeListener(J.TRACE_REMOVED,this.binded.onTraceRemoved),window.removeEventListener("resize",this.binded.onWindowResize,!1),this.tracesTable.dispose()}}var We=n(75005),je=n(89228),Ve=n(7471),Ze=n(25318);s()(Ze.Z,{insert:"head",singleton:!1}),Ze.Z.locals;var $e=function(e,t,n,i){return new(n||(n=Promise))((function(o,s){function a(e){try{l(i.next(e))}catch(e){s(e)}}function r(e){try{l(i.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,r)}l((i=i.apply(e,t||[])).next())}))};class Ye{constructor(e){this.options=e,this.elements={container:document.createElement("div"),btn:{dataSources:document.createElement("div"),newDataSource:document.createElement("div"),stageTraces:document.createElement("div"),clearStage:document.createElement("div")},tracesBadgeCount:document.createElement("div"),dataSourceMenuList:{header:document.createElement("div"),empty:document.createElement("div"),removePopConfirmContainer:document.createElement("div"),removePopConfirmButton:document.createElement("button")},clearStagePopConfirmContainer:document.createElement("div"),clearStagePopConfirmButton:document.createElement("button")},this.stageTracesModalContent=new He,this.binded={onDataSourceManagerAdded:this.onDataSourceManagerAdded.bind(this),onDataSourceManagerUpdated:this.onDataSourceManagerUpdated.bind(this),onDataSourceManagerRemoved:this.onDataSourceManagerRemoved.bind(this),onDataSourceMenuListButtonClick:this.onDataSourceMenuListButtonClick.bind(this),onDataSourceMenuListTextClick:this.onDataSourceMenuListTextClick.bind(this),onStageTraceAdded:this.onStageTraceAdded.bind(this),onStageTraceRemoved:this.onStageTraceRemoved.bind(this),onStageTracesButtonClick:this.onStageTracesButtonClick.bind(this),onNewDataSourceButtonClick:this.onNewDataSourceButtonClick.bind(this),onNewDataSourceModalClose:this.onNewDataSourceModalClose.bind(this),onDataSourceRemovePopConfirmButtonClick:this.onDataSourceRemovePopConfirmButtonClick.bind(this),onDataSourceSearchModalClosed:this.onDataSourceSearchModalClosed.bind(this),onStageTracesModalClose:this.onStageTracesModalClose.bind(this),onClearStagePopConfirmButtonClick:this.onClearStagePopConfirmButtonClick.bind(this)},this.stage=ie.getSingleton(),this.dsManager=j.getSingleton(),this.dataSourcesMenuList=new A({headerEl:this.elements.dataSourceMenuList.header,emptyEl:this.elements.dataSourceMenuList.empty,items:[],onButtonClick:this.binded.onDataSourceMenuListButtonClick,onTextClick:this.binded.onDataSourceMenuListTextClick});const{container:t,btn:n}=this.elements;t.id="app-toolbar",t.classList.add("app-toolbar");const i=document.createElement("div");i.classList.add("app-toolbar-pane"),t.appendChild(i);const o=document.createElement("div");o.classList.add("app-toolbar-pane"),t.appendChild(o);const s=document.createElement("div");s.classList.add("app-toolbar-pane"),t.appendChild(s);const a=document.createElement("div");a.classList.add("app-toolbar-divider"),i.appendChild(a),n.dataSources.classList.add("app-toolbar-button"),n.dataSources.innerHTML=We.Z,i.appendChild(n.dataSources),n.stageTraces.classList.add("app-toolbar-button","stage-traces"),n.stageTraces.innerHTML=je.Z,s.appendChild(n.stageTraces),n.clearStage.classList.add("app-toolbar-button","clear-stage"),n.clearStage.innerHTML=Ve.Z,s.appendChild(n.clearStage)}init(){this.initTooltips(),this.initTippyInstances(),this.initBadgeCounts(),this.elements.dataSourceMenuList.header.classList.add("toolbar-data-sources-menu-header");const e=document.createElement("span");e.textContent="Data Sources",this.elements.dataSourceMenuList.header.appendChild(e),this.elements.btn.newDataSource.innerHTML=d.Z,this.elements.btn.newDataSource.addEventListener("click",this.binded.onNewDataSourceButtonClick,!1),this.elements.dataSourceMenuList.header.appendChild(this.elements.btn.newDataSource),this.elements.dataSourceMenuList.empty.classList.add("toolbar-data-sources-menu-empty"),this.elements.dataSourceMenuList.empty.innerHTML=`<span class="heading">No Data Sources</span>\n      <span class="description">Click ${d.Z} button on the top right to add a data source.</span>`;const{removePopConfirmContainer:t,removePopConfirmButton:n}=this.elements.dataSourceMenuList;t.classList.add("popconfirm"),t.innerHTML='<div class="text">Are you sure to delete this data source?</div>',n.classList.add("danger","small"),n.textContent="Delete",t.appendChild(n),n.addEventListener("click",this.binded.onDataSourceRemovePopConfirmButtonClick,!1);const{clearStagePopConfirmContainer:i,clearStagePopConfirmButton:o}=this.elements;i.classList.add("popconfirm"),i.innerHTML='<div class="text">Are you sure to clear the stage?</div>',o.classList.add("danger","small"),o.textContent="Clear",i.appendChild(o),o.addEventListener("click",this.binded.onClearStagePopConfirmButtonClick,!1),this.updateDataSourceList(),this.bindEvents()}mount(e){e.appendChild(this.elements.container)}unmount(){var e;const t=this.elements.container;null===(e=t.parentElement)||void 0===e||e.removeChild(t)}initTooltips(){ce.getSingleton().addToSingleton([[this.elements.btn.dataSources,{content:"Data Sources",multiple:!0}],[this.elements.btn.stageTraces,{content:"Traces in the Stage",multiple:!0}],[this.elements.btn.clearStage,{content:"Clear the Stage",multiple:!0}]])}initTippyInstances(){this.tippyInstaces={dataSources:(0,i.t)(this.elements.btn.dataSources,{content:this.dataSourcesMenuList.element,multiple:!0,appendTo:document.body,placement:"bottom",duration:0,updateDuration:0,theme:"app-toolbar-menu-list",trigger:"click",interactive:!0}),dataSourceRemovePopConfirm:(0,i.t)(document.body,{lazy:!1,duration:0,updateDuration:0,trigger:"custom",arrow:!0,content:this.elements.dataSourceMenuList.removePopConfirmContainer,appendTo:this.dataSourcesMenuList.element,multiple:!0,interactive:!0,placement:"right",theme:"app-toolbar-menu-list",onCreate(e){e.popperInstance.reference={clientWidth:0,clientHeight:0,getBoundingClientRect:()=>({width:0,height:0,top:0,bottom:0,left:0,right:0})}}}),clearStagePopConfirm:(0,i.t)(this.elements.btn.clearStage,{content:this.elements.clearStagePopConfirmContainer,multiple:!0,appendTo:document.body,placement:"bottom",duration:0,updateDuration:0,theme:"app-toolbar-menu-list",trigger:"click",interactive:!0})}}initBadgeCounts(){this.elements.tracesBadgeCount.classList.add("toolbar-badge-count","stage")}updateDataSourceList(){this.dataSourcesMenuList.removeAllItems(),this.dsManager.getAll().forEach((e=>{this.dataSourcesMenuList.addItem({text:e.name,buttons:[{id:"edit",icon:"pencil"},{id:"delete",icon:"delete"}]})}))}updateTracesBadgeCount(e){var t;const n=this.elements.tracesBadgeCount;e>0?(n.textContent=e+"",!n.parentElement&&this.elements.btn.stageTraces.appendChild(n)):null===(t=n.parentElement)||void 0===t||t.removeChild(n)}bindEvents(){this.dsManager.on(N.ADDED,this.binded.onDataSourceManagerAdded),this.dsManager.on(N.UPDATED,this.binded.onDataSourceManagerUpdated),this.dsManager.on(N.REMOVED,this.binded.onDataSourceManagerRemoved),this.stage.on(J.TRACE_ADDED,this.binded.onStageTraceAdded),this.stage.on(J.TRACE_REMOVED,this.binded.onStageTraceRemoved),this.elements.btn.stageTraces.addEventListener("click",this.binded.onStageTracesButtonClick,!1)}unbindEvents(){const{btn:e}=this.elements;this.dsManager.removeListener(N.ADDED,this.binded.onDataSourceManagerAdded),this.dsManager.removeListener(N.UPDATED,this.binded.onDataSourceManagerUpdated),this.dsManager.removeListener(N.REMOVED,this.binded.onDataSourceManagerRemoved),this.stage.removeListener(J.TRACE_ADDED,this.binded.onStageTraceAdded),this.stage.removeListener(J.TRACE_REMOVED,this.binded.onStageTraceRemoved),e.newDataSource.removeEventListener("click",this.binded.onNewDataSourceButtonClick,!1),this.elements.dataSourceMenuList.removePopConfirmButton.removeEventListener("click",this.binded.onDataSourceRemovePopConfirmButtonClick,!1),this.elements.btn.stageTraces.removeEventListener("click",this.binded.onStageTracesButtonClick,!1),this.elements.clearStagePopConfirmButton.removeEventListener("click",this.binded.onClearStagePopConfirmButtonClick,!1)}onDataSourceMenuListButtonClick(e,t){return $e(this,void 0,void 0,(function*(){const n=this.dsManager.getAll()[t];if(n)switch(e){case"edit":{this.dataSourceFormModalContent=new ke({type:"edit",dataSource:n});const e=new ge({content:this.dataSourceFormModalContent.getElement(),onClose:this.binded.onNewDataSourceModalClose,shouldAutoFocusFirstElement:!0});return this.dataSourceFormModalContent.init(),be.getSingleton().show(e),void this.tippyInstaces.dataSources.hide()}case"delete":{const e=this.dataSourcesMenuList.getItems()[t].element.getBoundingClientRect(),i=this.dataSourcesMenuList.element.getBoundingClientRect(),o=this.tippyInstaces.dataSourceRemovePopConfirm;return Object.assign(o.popperInstance.reference,{clientWidth:0,clientHeight:0,getBoundingClientRect:()=>({width:e.width,height:e.height,top:e.top-i.top,bottom:e.bottom-i.top,left:e.left-i.left,right:e.right-i.left})}),o.popperInstance.update(),o.show(),void this.elements.dataSourceMenuList.removePopConfirmButton.setAttribute("data-datasource-id",n.id)}default:console.error(`Unknown data source menu list button id: "${e}"`)}else console.error(`Data source not found at index: ${t}`)}))}onDataSourceMenuListTextClick(e){return $e(this,void 0,void 0,(function*(){this.showDataSourceSearchModal(e)}))}showDataSourceSearchModal(e){return $e(this,void 0,void 0,(function*(){const t=this.dsManager.getAll()[e];t?(this.options.onDataSourceClick(t),this.tippyInstaces.dataSources.hide()):console.error(`Data source not found at index: ${e}`)}))}onDataSourceRemovePopConfirmButtonClick(e){const t=e.target.getAttribute("data-datasource-id");this.dsManager.remove(t),this.tippyInstaces.dataSourceRemovePopConfirm.hide(),window.Countly&&window.Countly.add_event({key:"data_source_removed",count:1,segmentation:{}})}onDataSourceManagerAdded(e){this.updateDataSourceList()}onDataSourceManagerUpdated(e){this.updateDataSourceList()}onDataSourceManagerRemoved(e){this.updateDataSourceList()}onStageTraceAdded(e){this.updateTracesBadgeCount(this.stage.getAllTraces().length)}onStageTraceRemoved(e){this.updateTracesBadgeCount(this.stage.getAllTraces().length)}onStageTracesButtonClick(){const e=new ge({content:this.stageTracesModalContent.getElement(),contentContainerClassName:"stage-traces-modal-container",onClose:this.binded.onStageTracesModalClose,shouldCloseOnEscPress:!0,shouldCloseOnOverlayClick:!0});be.getSingleton().show(e),this.stageTracesModalContent.inited||this.stageTracesModalContent.init(),this.stageTracesModalContent.onShow()}onStageTracesModalClose(e,t){e==de.CLOSE_METHOD_CALL&&"removeFromStage"==(null==t?void 0:t.action)&&t.traceIds.forEach((e=>this.stage.removeTrace(e)))}onClearStagePopConfirmButtonClick(e){this.stage.getAllTraces().forEach((e=>this.stage.removeTrace(e.id))),this.tippyInstaces.clearStagePopConfirm.hide()}onNewDataSourceButtonClick(){this.dataSourceFormModalContent=new ke({type:"new"});const e=new ge({content:this.dataSourceFormModalContent.getElement(),onClose:this.binded.onNewDataSourceModalClose,shouldAutoFocusFirstElement:!0});this.dataSourceFormModalContent.init(),be.getSingleton().show(e),this.tippyInstaces.dataSources.hide(),window.Countly&&window.Countly.add_event({key:"new_data_source_modal_opened",count:1,segmentation:{}})}onNewDataSourceModalClose(e,t){return $e(this,void 0,void 0,(function*(){this.dataSourceFormModalContent&&(this.dataSourceFormModalContent.dispose(),this.dataSourceFormModalContent=null),e==de.CLOSE_METHOD_CALL&&"save"==t.action&&(t.dataSource.id?yield this.dsManager.update(t.dataSource):(t.dataSource.id=he().generate(),yield this.dsManager.add(t.dataSource),window.Countly&&window.Countly.add_event({key:"new_data_source_added",count:1,segmentation:{type:t.dataSource.type}})))}))}onDataSourceSearchModalClosed(e,t){e==de.CLOSE_METHOD_CALL&&"addToStage"==(null==t?void 0:t.action)&&t.traces.forEach((e=>this.stage.addTrace(e)))}dispose(){ce.getSingleton().removeFromSingleton([this.elements.btn.dataSources,this.elements.btn.stageTraces]);for(let e of Object.values(this.tippyInstaces))e.destroy();this.tippyInstaces=null,this.unbindEvents(),this.elements=null}}const qe={key:"trace",name:"Trace",groupBy:(e,t)=>[e.traceId,(null==t?void 0:t.name)||`Trace ${e.traceId}`]};var Ge=n(38863),Xe=n.n(Ge),Ke=n(46388),Qe=n.n(Ke);const Je={key:"process",name:"Process",groupBy:(e,t)=>{let n="unknown",i="unknown";if(e.process&&(n=Qe()(Xe()(e.process,"id")),i=e.process.serviceName),e.localEndpoint){const t=e.localEndpoint.ipv4||"",o=e.localEndpoint.port||"";n=`${e.localEndpoint.serviceName}:${t}:${o}`,i=e.localEndpoint.serviceName,(t||o)&&(i+=` (${t}:${o})`)}return[n,i]}},et={key:"service-name",name:"Service",groupBy:(e,t)=>{let n=tt(e)||"unknown";return[n,n]}};function tt(e){let t;return e.process&&(t=e.process.serviceName),e.localEndpoint&&(t=e.localEndpoint.serviceName),t}var nt=n(36599),it=n(10105),ot=function(e,t,n,i){return new(n||(n=Promise))((function(o,s){function a(e){try{l(i.next(e))}catch(e){s(e)}}function r(e){try{l(i.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,r)}l((i=i.apply(e,t||[])).next())}))};let st;class at{static getSingleton(){return st||(st=new at),st}init(){return ot(this,void 0,void 0,(function*(){nt.languages.typescript.typescriptDefaults.setCompilerOptions({allowNonTsExtensions:!0,target:nt.languages.typescript.ScriptTarget.ES2015,module:nt.languages.typescript.ModuleKind.None}),this.defaultInterfacesDisposable=nt.languages.typescript.typescriptDefaults.addExtraLib("/**\n * This file is going to be used by customization components\n * for monaca editor.\n */\n\nexport interface SpanLog {\n  /**\n   * Log timestamp, in us\n   */\n  timestamp: number;\n  /**\n   * Log `fields` object\n   */\n  fields: { [key: string]: string };\n}\n\nexport interface Span {\n  /**\n   * Span ID\n   */\n  id: string;\n  /**\n   * Span's Trace ID\n   */\n  traceId: string;\n  /**\n   * Operation name\n   */\n  operationName: string;\n  /**\n   * Span start timestamp, in us\n   */\n  startTime: number;\n  /**\n   * Span finish timestamp, in us\n   */\n  finishTime: number; // us\n  /**\n   * Span reference objects\n   */\n  references: {\n    type: 'childOf' | 'followsFrom';\n    spanId: string;\n    traceId: string;\n  }[];\n  /**\n   * Span tags object\n   */\n  tags: { [key: string]: string };\n  /**\n   * Span logs array\n   */\n  logs: SpanLog[];\n  /**\n   * Jaeger-specific `process` object\n   */\n  process?: {\n    /**\n     * Service name\n     */\n    serviceName: string;\n    /**\n     * Jaeger gives id like: `p1`, `p2`...\n     */\n    id: string; // `p1`, `p2` like\n    /**\n     * Process tags object\n     */\n    tags: { [key: string]: string };\n  };\n  /**\n   * Zipkin-specific `localEndpoint` object\n   */\n  localEndpoint?: {\n    /**\n     * Service name\n     */\n    serviceName: string;\n    ipv4?: string;\n    port?: number;\n  };\n}\n\nexport interface Trace {\n  /**\n   * Spans array\n   */\n  spans: Span[];\n  /**\n   * Timestamp of the earliest span in us\n   */\n  startTime: number;\n  /**\n   * Finish timestamp of the latest span in us\n   */\n  finishTime: number;\n  /**\n   * Duration of a trace in us (finishTime - startTime)\n   */\n  duration: number;\n  /**\n   * Root span\n   */\n  rootSpan: Span | undefined;\n  /**\n   * Trace ID\n   */\n  id: string;\n  /**\n   * Root span's operation name (if exists)\n   */\n  name: string | undefined;\n  /**\n   * Total span count\n   */\n  spanCount: number;\n  /**\n   * Count of spans that have `error` tag\n   */\n  errorCount: number;\n}\n".replace(/export/g,""))}))}compile(e){return ot(this,void 0,void 0,(function*(){const t=yield nt.languages.typescript.getTypeScriptWorker(),n=yield t(e),i=e.toString();return(yield n.getEmitOutput(i)).outputFiles[0].text}))}static generateFunction(e,t){return new Function(`${e}; return ${t};`)()}static patchMonacoTypescriptToIgnoreDiagnostics(){it.DiagnostcsAdapter.prototype._doValidate=function(e){this._worker(e).then((t=>{if(!nt.editor.getModel(e))return null;const n=[],{noSyntaxValidation:i,noSemanticValidation:o}=this._defaults.getDiagnosticsOptions();return i||n.push(t.getSyntacticDiagnostics(e.toString())),o||n.push(t.getSemanticDiagnostics(e.toString())),Promise.all(n)})).then((t=>{if(!t||!nt.editor.getModel(e))return;const n=t.reduce(((e,t)=>t.concat(e)),[]).filter((e=>-1===(this._defaults.getDiagnosticsOptions().diagnosticCodesToIgnore||[]).indexOf(e.code))).map((t=>this._convertDiagnostics(e,t)));nt.editor.setModelMarkers(nt.editor.getModel(e),this._selector,n)})).then(void 0,(e=>{console.error(e)}))}}}var rt,lt=function(e,t,n,i){return new(n||(n=Promise))((function(o,s){function a(e){try{l(i.next(e))}catch(e){s(e)}}function r(e){try{l(i.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,r)}l((i=i.apply(e,t||[])).next())}))};let ct;!function(e){e.ADDED="sgm_added",e.REMOVED="sgm_removed"}(rt||(rt={}));class dt extends(U()){constructor(){super(...arguments),this.builtInSpanGroupings=[qe,Je,et],this.customSpanGroupings=[]}static getSingleton(){return ct||(ct=new dt),ct}init(){return lt(this,void 0,void 0,(function*(){yield z.open();const e=yield z.spanGroupings.toArray();yield Promise.all(e.map((e=>this.add(e,!0))))}))}add(e,t=!1){return lt(this,void 0,void 0,(function*(){const n=[...this.builtInSpanGroupings,...this.customSpanGroupings],i={key:e.key,name:e.name,groupBy:at.generateFunction(e.compiledCode,"groupBy")};return!m()(n,(e=>e.key===i.key))&&(this.customSpanGroupings.push(i),t||(yield z.spanGroupings.put(e)),this.emit(rt.ADDED,i),!0)}))}remove(e){return lt(this,void 0,void 0,(function*(){const t=ae()(this.customSpanGroupings,(t=>t.key===e));return 0!==t.length&&(yield z.spanGroupings.delete(e),this.emit(rt.REMOVED,t),!0)}))}getOptions(e){const t=[...this.builtInSpanGroupings,...this.customSpanGroupings];return m()(t,(t=>t.key===e))}}var At=n(95445),pt=n.n(At),ht=n(54056),mt=n.n(ht);class ut{constructor(e){this.index=0,this.colors=[],this.keyColorIndexMap={};const t=(e=xe()({},e||{},{shuffle:!1,excludeColors:["ff0029","000000","252525","525252","737373","969696","bdbdbd","f43600","e7298a","e43872"]})).shuffle?pt()(mt()("mpn65",65)):mt()("mpn65",65);e.excludeColors.length>0&&ae()(t,(t=>e.excludeColors.indexOf(t)>-1)),this.colors=t.map((e=>`#${e}`))}colorFor(e){let t=this.keyColorIndexMap[e];return b()(t)||(t=this.index,this.keyColorIndexMap[e]=t,this.index=(this.index+1)%this.colors.length),this.colors[t]}reset(){this.index=0,this.keyColorIndexMap={}}}const gt=ut;var Ct,bt=n(26822),ft=n.n(bt),Et=function(e,t,n,i){return new(n||(n=Promise))((function(o,s){function a(e){try{l(i.next(e))}catch(e){s(e)}}function r(e){try{l(i.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,r)}l((i=i.apply(e,t||[])).next())}))};let Bt;!function(e){e.ADDED="scm_added",e.REMOVED="scm_removed"}(Ct||(Ct={}));class vt extends(U()){constructor(){super(...arguments),this.builtInOptions=[wt,St,Tt],this.customOptions=[]}static getSingleton(){return Bt||(Bt=new vt),Bt}init(){return Et(this,void 0,void 0,(function*(){yield z.open();const e=yield z.spanColorings.toArray();yield Promise.all(e.map((e=>this.add(e,!0))))}))}add(e,t=!1){return Et(this,void 0,void 0,(function*(){const n=[...this.builtInOptions,...this.customOptions],i={key:e.key,name:e.name,colorBy:at.generateFunction(e.compiledCode,"colorBy")};return!m()(n,(e=>e.key===i.key))&&(this.customOptions.push(i),t||(yield z.spanColorings.put(e)),this.emit(Ct.ADDED,i),!0)}))}remove(e){return Et(this,void 0,void 0,(function*(){const t=ae()(this.customOptions,(t=>t.key===e));return 0!==t.length&&(yield z.spanColorings.delete(e),this.emit(Ct.REMOVED,t),!0)}))}getOptions(e){const t=[...this.builtInOptions,...this.customOptions];return m()(t,(t=>t.key===e))}}const yt=new gt,wt={key:"operation",name:"Operation",colorBy:e=>yt.colorFor(e.operationName)},kt=new gt,St={key:"service",name:"Service",colorBy:e=>{let t="";return v()(e.process)&&e.process.serviceName?t=e.process.serviceName:v()(e.localEndpoint)&&e.localEndpoint.serviceName&&(t=e.localEndpoint.serviceName),kt.colorFor(t)}},xt=bt.scale("RdYlBu").padding([-.15,.3]),Tt={key:"selfTime",name:"Self Time",colorBy:e=>{const t=ie.getSingleton(),n=t.getSpanSelfTime(e.id),i=t.getSpanSelfTimeStats();if(!n||!i)return xt(.5).hex();const o=(n-i.min)/(i.max-i.min);return xt(1-o).hex()}};var Lt,Mt=function(e,t,n,i){return new(n||(n=Promise))((function(o,s){function a(e){try{l(i.next(e))}catch(e){s(e)}}function r(e){try{l(i.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,r)}l((i=i.apply(e,t||[])).next())}))};let It;!function(e){e.ADDED="slm_added",e.REMOVED="slm_removed"}(Lt||(Lt={}));class Dt extends(U()){constructor(){super(...arguments),this.builtInOptions=[Rt,Ot],this.customOptions=[]}static getSingleton(){return It||(It=new Dt),It}init(){return Mt(this,void 0,void 0,(function*(){yield z.open();const e=yield z.spanLabellings.toArray();yield Promise.all(e.map((e=>this.add(e,!0))))}))}add(e,t=!1){return Mt(this,void 0,void 0,(function*(){const n=[...this.builtInOptions,...this.customOptions],i={key:e.key,name:e.name,labelBy:at.generateFunction(e.compiledCode,"labelBy")};return!m()(n,(e=>e.key===i.key))&&(this.customOptions.push(i),t||(yield z.spanLabellings.put(e)),this.emit(Lt.ADDED,i),!0)}))}remove(e){return Mt(this,void 0,void 0,(function*(){const t=ae()(this.customOptions,(t=>t.key===e));return 0!==t.length&&(yield z.spanLabellings.delete(e),this.emit(Lt.REMOVED,t),!0)}))}getOptions(e){const t=[...this.builtInOptions,...this.customOptions];return m()(t,(t=>t.key===e))}}const Rt={key:"operation",name:"Operation",labelBy:e=>e.operationName},Ot={key:"service-operation",name:"Service + Operation",labelBy:e=>{let t="";return v()(e.process)&&e.process.serviceName?t=e.process.serviceName:v()(e.localEndpoint)&&e.localEndpoint.serviceName&&(t=e.localEndpoint.serviceName),`${t}${t?"::":""}${e.operationName}`}};class _t{constructor(e){this.startTime=1/0,this.finishTime=-1/0,this.spanCountsByService={},this.errorCount=0,this.spans=e,this.spanCount=e.length;let t=null;for(let n of e){if(this.startTime=Math.min(this.startTime,n.startTime),this.finishTime=Math.max(this.finishTime,n.finishTime),t){if(n.traceId!=t)throw new Error('All the spans\' "traceId" must be equal')}else t=n.traceId;0===n.references.filter((e=>e.traceId==n.traceId)).length&&(this.rootSpan=n);const e=n.process?n.process.serviceName:n.localEndpoint?n.localEndpoint.serviceName:null;e&&(b()(this.spanCountsByService[e])||(this.spanCountsByService[e]=0),this.spanCountsByService[e]++),n.tags.hasOwnProperty("error")&&this.errorCount++}this.duration=this.finishTime-this.startTime,this.rootSpan?(this.name=this.rootSpan.operationName,this.id=this.rootSpan.traceId):(this.name="<no-root-span>",this.id=t)}}var Pt=n(8309),zt=n.n(Pt),Nt=n(39277),Ft=n.n(Nt),Ut=n(60769),Ht=n.n(Ut),Wt=n(84168),jt=n.n(Wt);const Vt=ft()("white"),Zt=ft()("black");function $t(e){const t=ft()(e);return ft().contrast(t,Vt)>=ft().contrast(t,Zt)?"#fff":"#000"}const Yt="data-view-type";var qt;function Gt(e){return e.tags.hasOwnProperty("error")}function Xt(e,t){return"error"==e||"event"==e&&"error"==t||"level"==e&&"error"==t}!function(e){e.GROUP_VIEW_LABEL_TEXT="group_view_label_text",e.SPAN_VIEW_CONTAINER="span_view_container",e.SPAN_CONNECTION="span_connection"}(qt||(qt={}));const Kt="http://www.w3.org/2000/svg";class Qt{constructor(e){this.container=document.createElementNS(Kt,"g"),this.barRect=document.createElementNS(Kt,"rect"),this.labelText=document.createElementNS(Kt,"text"),this.clipPath=document.createElementNS(Kt,"clipPath"),this.clipPathRect=document.createElementNS(Kt,"rect"),this.errorTriangle=document.createElementNS(Kt,"polygon"),this.logViews=[],this.span=e.span,this.sharedOptions=e.sharedOptions;const t=xe()(e.style,{barRadius:1,barHeight:18,barMinWidth:1,barMarginVertical:3,labelFontSize:10,labelOffsetLeft:5,labelSnappedOffsetLeft:5,labelOffsetTop:1,errorTriangleColor:"#ff0000",errorTriangleSize:10});this.computedStyles=Object.assign(Object.assign({},t),{width:0,x:0,y:0,rowHeight:2*t.barMarginVertical+t.barHeight,barColorDefault:"",barColorHover:"",labelColor:"",borderColor:""}),this.container.style.cursor="pointer",this.labelText.style.cursor="pointer",this.barRect.setAttribute("x","0"),this.barRect.setAttribute("y","0"),this.barRect.setAttribute("rx",t.barRadius+""),this.barRect.setAttribute("ry",t.barRadius+""),this.barRect.setAttribute("height",t.barHeight+""),this.container.appendChild(this.barRect),this.errorTriangle.setAttribute("fill",t.errorTriangleColor),this.labelText.setAttribute("x",t.labelOffsetLeft+""),this.labelText.setAttribute("y",t.barHeight/2+t.barMarginVertical+t.labelOffsetTop+""),this.labelText.setAttribute("font-size",t.labelFontSize+""),this.clipPathRect.setAttribute("rx",t.barRadius+""),this.clipPathRect.setAttribute("ry",t.barRadius+""),this.clipPathRect.setAttribute("height",t.barHeight+""),this.clipPath.appendChild(this.clipPathRect)}mount(e){e.parent.appendChild(this.container),e.svgDefs.appendChild(this.clipPath)}unmount(){const e=this.container.parentElement;null==e||e.removeChild(this.container);const t=this.clipPath.parentElement;null==t||t.removeChild(this.clipPath)}reuse(e){this.span=e;const t=this.sharedOptions.colorFor(e);this.computedStyles.barColorDefault=ft()(t).alpha(.75).css(),this.computedStyles.barColorHover=ft()(t).alpha(1).css();const n=$t(this.computedStyles.barColorDefault);this.computedStyles.labelColor=n,this.computedStyles.borderColor=ft()(t).darken(1).alpha(1).css(),this.updateColorStyle("normal"),this.updateLabelText(),this.hideLabel(),this.container.setAttribute(Yt,qt.SPAN_VIEW_CONTAINER),this.container.setAttribute("data-span-id",e.id),this.clipPath.id=`clip-path-span-${e.id}`,this.labelText.setAttribute("clip-path",`url(#${this.clipPath.id})`),Gt(e)?(this.errorTriangle.setAttribute("clip-path",`url(#${this.clipPath.id})`),this.container.appendChild(this.errorTriangle)):this.errorTriangle.parentElement&&(this.errorTriangle.removeAttribute("clip-path"),this.errorTriangle.parentElement.removeChild(this.errorTriangle));const{x:i,barHeight:o}=this.computedStyles;this.logViews.forEach((e=>this.container.removeChild(e.line))),this.logViews=this.span.logs.map((e=>{const t=pe.generate(),n=document.createElementNS(Kt,"line");n.setAttribute("y1","-4"),n.setAttribute("y2",o+4+""),n.setAttribute("stroke","rgba(0, 0, 0, 0.5)"),n.setAttribute("stroke-width","1");let s=0;(function(e){for(const t in e.fields)if(Xt(t,e.fields[t]))return!0;return!1})(e)&&(n.setAttribute("stroke","rgba(176, 8, 13, 0.9)"),n.setAttribute("stroke-width","2"),s=-1);const a=this.sharedOptions.axis.input2output(e.timestamp)-i+s;return n.setAttribute("x1",a+""),n.setAttribute("x2",a+""),{id:t,log:e,line:n}}))}dispose(){this.unmount()}setSharedOptions(e){this.sharedOptions=e}updateLabelText(){this.labelText.textContent=this.sharedOptions.labelFor(this.span)}updateColorStyle(e){let t=this.computedStyles.barColorDefault,n=this.computedStyles.labelColor,i=0,o="transparent";"hover"===e?(t=this.computedStyles.barColorHover,i=0,o="transparent"):"selected"===e&&(i=3,o=this.computedStyles.borderColor),this.barRect.setAttribute("fill",t),this.barRect.setAttribute("stroke-width",i+""),this.barRect.setAttribute("stroke",o),this.labelText.setAttribute("fill",n)}updateVerticalPosition(e,t=!1){const{x:n,rowHeight:i,barMarginVertical:o}=this.computedStyles,s=e*i+o;this.computedStyles.y=s,!t&&this.container.setAttribute("transform",`translate(${n}, ${s})`)}updateHorizontalPosition(){const{axis:e}=this.sharedOptions,{y:t,labelSnappedOffsetLeft:n,labelOffsetLeft:i}=this.computedStyles,o=e.input2output(this.span.startTime);this.computedStyles.x=o,this.container.setAttribute("transform",`translate(${o}, ${t})`),o<0?this.labelText.setAttribute("x",-o+n+""):this.labelText.setAttribute("x",i+""),this.logViews.forEach((t=>{const n=e.input2output(t.log.timestamp)-o;t.line.setAttribute("x1",n+""),t.line.setAttribute("x2",n+"")}))}updateWidth(){const{axis:e}=this.sharedOptions,{barMinWidth:t,errorTriangleSize:n}=this.computedStyles,i=e.input2output(this.span.startTime),o=Math.max(e.input2output(this.span.finishTime)-i,t);this.computedStyles.width=o,this.barRect.setAttribute("width",o+""),this.clipPathRect.setAttribute("width",o+""),this.errorTriangle.setAttribute("points",`${o-n},0 ${o},0 ${o},${n}`),this.labelText.setAttribute("display",o<30?"none":"")}updateColors(){const e=this.sharedOptions.colorFor(this.span);this.computedStyles.barColorDefault=ft()(e).alpha(.8).css(),this.computedStyles.barColorHover=ft()(e).alpha(1).css();const t=$t(this.computedStyles.barColorDefault);this.computedStyles.labelColor=t,this.computedStyles.borderColor=ft()(e).darken(1).alpha(1).css(),this.barRect.setAttribute("fill",this.computedStyles.barColorDefault),this.labelText.setAttribute("fill",this.computedStyles.labelColor)}showLabel(){this.labelText.parentElement||this.container.appendChild(this.labelText)}hideLabel(){this.labelText.parentElement&&this.container.removeChild(this.labelText)}showLogs(){this.logViews.forEach((({line:e})=>this.container.appendChild(e)))}hideLogs(){this.logViews.forEach((e=>{var t;return null===(t=e.line.parentElement)||void 0===t?void 0:t.removeChild(e.line)}))}getLogViewById(e){return m()(this.logViews,(t=>t.id===e))}getLogViews(){return this.logViews}getNearbyLogViews(e,t=10){const n=[];return this.logViews.forEach((t=>{const i=this.sharedOptions.axis.input2output(t.log.timestamp),o=Math.abs(e-i);o>10||n.push({logView:t,distance:o})})),n}getComputedStyles(){return this.computedStyles}static getPropsFromContainer(e){return{id:e.getAttribute("data-span-id")}}static getPropsFromLogCircle(e){return{id:e.getAttribute("data-log-id"),spanId:e.getAttribute("data-span-id")}}}const Jt="http://www.w3.org/2000/svg";var en;!function(e){e.FILL="fill",e.COMPACT="compact",e.WATERFALL="waterfall"}(en||(en={}));class tn{constructor(e){this.spanViews={},this.spansContainer=document.createElementNS(Jt,"g"),this.seperatorLine=document.createElementNS(Jt,"line"),this.labelText=document.createElementNS(Jt,"text"),this.layoutType=en.FILL,this.rowsAndSpanIntervals=[],this.spanIdToRowIndex={},this.spanGroup=e.group,this.layoutType=e.layoutType,this.label=e.label;const t=xe()(e.style,{spansContainerMarginTop:20,spansContainerMarginBottom:10,labelFontSize:10,labelColor:"#000",labelOffsetX:3,labelOffsetY:13,seperatorLineColor:"#eee",seperatorLineWidth:1});this.computedStyles=Object.assign(Object.assign({},t),{y:0,height:0,isCollapsed:!1}),Object.defineProperty(this.computedStyles,"height",{get:()=>{var e,t;const{isCollapsed:n,spansContainerMarginTop:i,spansContainerMarginBottom:o}=this.computedStyles;if(n)return i;const s=null!==(t=null===(e=Object.values(this.spanViews)[0])||void 0===e?void 0:e.getComputedStyles().rowHeight)&&void 0!==t?t:0;return i+o+this.rowsAndSpanIntervals.length*s}}),this.seperatorLine.setAttribute("x1","0"),this.seperatorLine.setAttribute("x2","0"),this.seperatorLine.setAttribute("y1","0"),this.seperatorLine.setAttribute("y2","0"),this.seperatorLine.setAttribute("stroke",t.seperatorLineColor),this.seperatorLine.setAttribute("stroke-width",t.seperatorLineWidth+"");const n=this.computedStyles.isCollapsed?"►":"▼";this.labelText.textContent=`${n} ${this.label||this.spanGroup.name}`,this.labelText.style.cursor="pointer",this.labelText.setAttribute("fill",t.labelColor),this.labelText.setAttribute("x","0"),this.labelText.setAttribute("y","0"),this.labelText.setAttribute("font-size",`${t.labelFontSize}px`),this.labelText.setAttribute(Yt,qt.GROUP_VIEW_LABEL_TEXT),this.labelText.setAttribute("data-group-id",this.spanGroup.id)}init(e){e.timelinePanel.appendChild(this.spansContainer),e.groupNamePanel.appendChild(this.seperatorLine),e.groupNamePanel.appendChild(this.labelText),this.svgDefs=e.svgDefs,this.spanGroup.getAll().forEach((t=>{const n=new Qt({span:t,sharedOptions:e.spanViewSharedOptions});n.reuse(t),this.spanViews[t.id]=n}))}dispose(){const e=this.spansContainer.parentElement;null==e||e.removeChild(this.spansContainer);const t=this.seperatorLine.parentElement;null==t||t.removeChild(this.seperatorLine);const n=this.labelText.parentElement;null==n||n.removeChild(this.labelText),Object.values(this.spanViews).forEach((e=>e.dispose())),this.spanViews={},this.rowsAndSpanIntervals=[],this.spanIdToRowIndex={}}toggleView(){this.computedStyles.isCollapsed=!this.computedStyles.isCollapsed;const e=this.computedStyles.isCollapsed?"►":"▼";return this.labelText.textContent=`${e} ${this.label||this.spanGroup.name}`,this.layout(),!this.computedStyles.isCollapsed}getSpanViewById(e){return this.spanViews[e]}getAllSpanViews(){return Object.values(this.spanViews)}setSpanViewSharedOptions(e){Object.values(this.spanViews).forEach((t=>t.setSharedOptions(e)))}updatePosition(e){const{labelOffsetX:t,labelOffsetY:n,spansContainerMarginTop:i}=this.computedStyles;this.spansContainer.setAttribute("transform",`translate(0, ${e.y+i})`),this.seperatorLine.setAttribute("transform",`translate(0, ${e.y})`),this.labelText.setAttribute("transform",`translate(${t}, ${e.y+n})`),this.computedStyles.y=e.y}updateSeperatorLineWidths(e){this.seperatorLine.setAttribute("x2",e+"")}updateLabelTextDecoration(){this.labelText.setAttribute("text-decoration",this.computedStyles.isCollapsed?"underline":""),this.labelText.setAttribute("font-style",this.computedStyles.isCollapsed?"italic":"")}bringSpanViewToTop(e){this.spanViews[e].mount({parent:this.spansContainer,svgDefs:this.svgDefs})}setLayoutType(e){this.layoutType=e}layout(){this.rowsAndSpanIntervals=[],this.spanIdToRowIndex={};const{spanGroup:e,spanViews:t}=this,n=[...e.rootNodes,...e.orphanNodes].sort(((t,n)=>{const i=e.get(t.spanId),o=e.get(n.spanId);return i.startTime-o.startTime}));if(e.getAll(),this.computedStyles.isCollapsed)return X()(t,(e=>e.unmount())),this.rowsAndSpanIntervals=[],void(this.spanIdToRowIndex={});let i=0;for(;n.length>0;){const o=n.shift(),s=t[o.spanId],{startTime:a,finishTime:r}=s.span;let l=0;switch(this.layoutType){case en.FILL:l=this.getAvailableRow({startTime:a,finishTime:r});break;case en.COMPACT:{let e=0;if(o.parentOrFollows){let t=this.spanIdToRowIndex[o.parentOrFollows.spanId];b()(t)&&(e=t+1)}l=this.getAvailableRow({startTime:a,finishTime:r,minRowIndex:e});break}case en.WATERFALL:l=i}this.rowsAndSpanIntervals[l]||(this.rowsAndSpanIntervals[l]=[]),this.rowsAndSpanIntervals[l].push([a,r]),this.spanIdToRowIndex[o.spanId]=l,s.showLabel(),s.updateWidth(),s.updateVerticalPosition(l,!0),s.updateHorizontalPosition(),s.mount({parent:this.spansContainer,svgDefs:this.svgDefs}),o.children.sort(((t,n)=>{const i=e.get(t.spanId),o=e.get(n.spanId);return i.startTime-o.startTime})).reverse().forEach((e=>n.unshift(e))),i++}}handleAxisTranslate(){Object.keys(this.spanIdToRowIndex).forEach((e=>{this.spanViews[e].updateHorizontalPosition()}))}handleAxisZoom(){Object.keys(this.spanIdToRowIndex).forEach((e=>{const t=this.spanViews[e],n=this.spanIdToRowIndex[e];t.updateVerticalPosition(n,!0),t.updateHorizontalPosition(),t.updateWidth()}))}handleAxisUpdate(){Object.keys(this.spanIdToRowIndex).forEach((e=>{const t=this.spanViews[e],n=this.spanIdToRowIndex[e];t.updateVerticalPosition(n,!0),t.updateHorizontalPosition(),t.updateWidth()}))}getAvailableRow(e){let t=e.minRowIndex||0;for(;t<this.rowsAndSpanIntervals.length;){const n=this.rowsAndSpanIntervals[t];if(jt()(n,(([t,n])=>e.finishTime<=t||e.startTime>=n)))return t;t++}return t}getComputedStyles(){return this.computedStyles}static getPropsFromLabelText(e){return{id:e.getAttribute("data-group-id")}}}var nn=Math.sqrt(50),on=Math.sqrt(10),sn=Math.sqrt(2);function an(e,t,n){var i,o,s,a,r=-1;if(n=+n,(e=+e)==(t=+t)&&n>0)return[e];if((i=t<e)&&(o=e,e=t,t=o),0===(a=function(e,t,n){var i=(t-e)/Math.max(0,n),o=Math.floor(Math.log(i)/Math.LN10),s=i/Math.pow(10,o);return o>=0?(s>=nn?10:s>=on?5:s>=sn?2:1)*Math.pow(10,o):-Math.pow(10,-o)/(s>=nn?10:s>=on?5:s>=sn?2:1)}(e,t,n))||!isFinite(a))return[];if(a>0)for(e=Math.ceil(e/a),t=Math.floor(t/a),s=new Array(o=Math.ceil(t-e+1));++r<o;)s[r]=(e+r)*a;else for(e=Math.floor(e*a),t=Math.ceil(t*a),s=new Array(o=Math.ceil(e-t+1));++r<o;)s[r]=(e-r)/a;return i&&s.reverse(),s}class rn{constructor(e,t){this.inputRange=e,this.outputRange=t,this.reset(e,t)}getInputRange(){return this.inputRange.slice()}getOutputRange(){return this.outputRange.slice()}reset(e,t){e[1]-e[0]<=0&&(e[1]=e[0]+1),this.inputRange=e,this.outputRange=t,this.scale=(t[1]-t[0])/(e[1]-e[0]),this.offset=t[0]-this.scale*e[0],this.minScale=this.scale}updateOutputRange(e){this.outputRange=e,this.minScale=(e[1]-e[0])/(this.inputRange[1]-this.inputRange[0]),this.scale<this.minScale&&(this.scale=this.minScale,this.offset=e[0]-this.scale*this.inputRange[0]),this.preventTranslatingOutOfRange()}input2output(e){return e*this.scale+this.offset}output2input(e){return(e-this.offset)/this.scale}zoom(e,t){const n=Math.max(this.scale*e,this.minScale);n!==this.scale&&(this.scale=n,this.offset=t*(1-e)+this.offset*e,this.preventTranslatingOutOfRange())}translate(e){this.offset+=e,this.preventTranslatingOutOfRange()}focus(e,t){this.scale=Math.max((t[1]-t[0])/(e[1]-e[0]),this.minScale),this.offset=t[0]-this.scale*e[0],this.preventTranslatingOutOfRange()}preventTranslatingOutOfRange(){const e=this.inputRange[0],t=this.input2output(e);t>this.outputRange[0]&&(this.offset+=this.outputRange[0]-t);const n=this.inputRange[1],i=this.input2output(n);i<this.outputRange[1]&&(this.offset+=this.outputRange[1]-i)}ticks(e){const t=this.inputRange[0];return an(this.output2input(this.outputRange[0])-t,this.output2input(this.outputRange[1])-t,e).map((e=>{const n=e+t;return{inputRelative:e,input:n,output:this.input2output(n)}}))}}var ln=n(98942),cn=n(86704),dn=n(63219);const{send:An,cancel:pn}=ln.Nw;var hn;!function(e){e.CLICK="gh_click",e.DOUBLE_CLICK="gh_double_click",e.PAN_START="gh_pan_start",e.PAN_MOVE="gh_pan_move",e.PAN_END="gh_pan_end",e.WHEEL="gh_wheel",e.IDLE_MOVE="gh_idle_move",e.IDLE_LEAVE="gh_idle_leave"}(hn||(hn={}));class mn extends(U()){constructor(e){super(),this.element=e,this.machine=(0,cn.J)({key:"mouseHandlerStateMachine",initial:"idle",context:{firstDown:null,secondDown:null},states:{idle:{entry:["clearFirstDown","clearSecondDown"],on:{MOUSE_DOWN:{actions:["saveEventAsFirstDown"],target:"waitForInitialUp"},MOUSE_UP:{target:void 0},MOUSE_MOVE:{actions:["emitdIdleMove"],target:void 0},MOUSE_LEAVE:{actions:["emitdIdleLeave"],target:void 0}}},waitForInitialUp:{on:{MOUSE_DOWN:[{actions:["saveEventAsFirstDown"],target:void 0}],MOUSE_UP:[{cond:{type:"isDifferentButton",with:"firstDown"},target:void 0},{cond:{type:"isTooLateForDoubleClick",with:"initialDown"},actions:["emitClickForFirstDown"],target:"idle"},{target:"waitForSecondDown"}],MOUSE_MOVE:[{cond:{type:"isNearby",to:"initialDown"},target:void 0},{target:"pan"}],MOUSE_LEAVE:{target:"idle"}}},waitForSecondDown:{entry:"setDoubleClickTimeout",on:{DOUBLE_CLICK_TIMEOUT:{actions:["clearDoubleClickTimeout","emitClickForFirstDown"],target:"idle"},MOUSE_DOWN:[{cond:{type:"isDifferentButton",with:"firstDown"},actions:["clearDoubleClickTimeout","emitClickForFirstDown","saveEventAsFirstDown"],target:"waitForInitialUp"},{actions:["saveEventAsSecondDown"],target:"waitForSecondUp"}],MOUSE_MOVE:{target:void 0},MOUSE_UP:{target:void 0},MOUSE_LEAVE:{actions:["clearDoubleClickTimeout","emitClickForFirstDown"],target:"idle"}}},waitForSecondUp:{on:{DOUBLE_CLICK_TIMEOUT:{actions:["clearDoubleClickTimeout","emitClickForFirstDown","saveEventAsFirstDown"],target:"waitForInitialUp"},MOUSE_DOWN:[{actions:["clearDoubleClickTimeout","emitClickForFirstDown","saveEventAsFirstDown"],target:"waitForInitialUp"}],MOUSE_UP:[{cond:{type:"isDifferentButton",with:"secondDown"},target:void 0},{cond:{type:"isTooLateForDoubleClick",with:"secondDown"},actions:["clearDoubleClickTimeout","emitClickForFirstDown","emitClickForSecondDown"],target:"idle"},{actions:["clearDoubleClickTimeout","emitDoubleClick"],target:"idle"}],MOUSE_MOVE:[{cond:{type:"isNearby",to:"initialDown"},target:void 0},{actions:["clearDoubleClickTimeout"],target:"pan"}],MOUSE_LEAVE:{actions:["clearDoubleClickTimeout","emitClickForFirstDown"],target:"idle"}}},pan:{entry:["emitPanStart"],exit:["emitPanEnd"],on:{MOUSE_DOWN:{actions:["saveEventAsFirstDown"],target:"waitForInitialUp"},MOUSE_UP:[{cond:{type:"isDifferentButton",with:"firstDown"},target:void 0},{target:"idle"}],MOUSE_MOVE:{actions:["emitPanMove"],target:void 0},MOUSE_LEAVE:{target:"idle"}}}}},{actions:{clearFirstDown:(e,t)=>{e.firstDown=null},clearSecondDown:(e,t)=>{e.secondDown=null},saveEventAsFirstDown:(e,t)=>{e.firstDown=t.mouseEvent},saveEventAsSecondDown:(e,t)=>{e.secondDown=t.mouseEvent},emitdIdleMove:(e,t)=>{this.emit(hn.IDLE_MOVE,t.mouseEvent)},emitdIdleLeave:(e,t)=>{this.emit(hn.IDLE_LEAVE,t.mouseEvent)},emitClickForFirstDown:(e,t)=>{this.emit(hn.CLICK,e.firstDown)},emitClickForSecondDown:(e,t)=>{this.emit(hn.CLICK,e.secondDown)},emitDoubleClick:(e,t)=>{this.emit(hn.DOUBLE_CLICK,e.firstDown)},setDoubleClickTimeout:An("DOUBLE_CLICK_TIMEOUT",{delay:0,id:"doubleClickTimeout"}),clearDoubleClickTimeout:pn("DOUBLE_CLICK_TIMEOUT"),emitPanStart:(e,t)=>{this.emit(hn.PAN_START,t.mouseEvent)},emitPanEnd:(e,t)=>{this.emit(hn.PAN_END,t.mouseEvent)},emitPanMove:(e,t)=>{this.emit(hn.PAN_MOVE,t.mouseEvent)}},guards:{isDifferentButton:(e,t,{cond:n})=>{const i=e[n.with];return!!i&&i.button!==t.mouseEvent.button},isTooLateForDoubleClick:(e,t,{cond:n})=>{const i=e[n.with];return!!i&&t.mouseEvent.timeStamp-i.timeStamp>=0},isNearby:(e,t,{cond:n})=>{const i=e[n.to];if(!i)return!1;const o=Math.abs(t.mouseEvent.offsetX-i.offsetX),s=Math.abs(t.mouseEvent.offsetY-i.offsetY);return o<3&&s<3}}}),this.service=(0,dn.kJ)(this.machine),this.binded={onMouseDown:this.onMouseDown.bind(this),onMouseMove:this.onMouseMove.bind(this),onMouseUp:this.onMouseUp.bind(this),onMouseLeave:this.onMouseLeave.bind(this),onWheel:this.onWheel.bind(this),onContextMenu:this.onContextMenu.bind(this)}}init(){this.element.addEventListener("mousedown",this.binded.onMouseDown,!1),this.element.addEventListener("mousemove",this.binded.onMouseMove,!1),this.element.addEventListener("mouseup",this.binded.onMouseUp,!1),this.element.addEventListener("mouseleave",this.binded.onMouseLeave,!1),this.element.addEventListener("wheel",this.binded.onWheel,!1),this.element.addEventListener("contextmenu",this.binded.onContextMenu,!1),this.service.start()}dispose(){this.element.removeEventListener("mousedown",this.binded.onMouseDown,!1),this.element.removeEventListener("mousemove",this.binded.onMouseMove,!1),this.element.removeEventListener("mouseup",this.binded.onMouseUp,!1),this.element.removeEventListener("mouseleave",this.binded.onMouseLeave,!1),this.element.removeEventListener("wheel",this.binded.onWheel,!1),this.element.removeEventListener("contextmenu",this.binded.onContextMenu,!1),this.removeAllListeners(),this.service.stop()}onMouseDown(e){this.service.send({type:"MOUSE_DOWN",mouseEvent:e})}onMouseMove(e){this.service.send({type:"MOUSE_MOVE",mouseEvent:e})}onMouseUp(e){this.service.send({type:"MOUSE_UP",mouseEvent:e})}onMouseLeave(e){this.service.send({type:"MOUSE_LEAVE",mouseEvent:e})}onWheel(e){this.emit(hn.WHEEL,e)}onContextMenu(e){e.preventDefault()}}class un{constructor(e){this.options=e,this.groups={},this.spanIdToGroupId={}}addSpan(e,t){if(this.spanIdToGroupId[e.id])return;const n=this.options.groupBy(e,t);if(!w()(n)||2!==n.length)throw new Error("Group function must return array with 2 strings: [ groupId, groupName ]");const[i,o]=n;this.groups[i]||(this.groups[i]=new Q(i,o)),this.groups[i].add(e),this.spanIdToGroupId[e.id]=i}removeSpan(e){const t="object"==typeof e?e.id:e,n=this.spanIdToGroupId[t];if(!n)return;delete this.spanIdToGroupId[t];const i=this.groups[n];i.remove(t),0===i.length&&delete this.groups[n]}getAllGroups(){return $()(this.groups)}getGroupById(e){return this.groups[e]}groupOf(e){const t="object"==typeof e?e.id:e,n=this.spanIdToGroupId[t];if(n)return this.groups[n]}}class gn{constructor(e){this.timelineView=e,this.underlayElements=[],this.overlayElements=[]}prepare(...e){}mount(){this.underlayElements.forEach((e=>!e.parentElement&&this.timelineView.decorationUnderlayPanel.appendChild(e))),this.overlayElements.forEach((e=>!e.parentElement&&this.timelineView.decorationOverlayPanel.appendChild(e)))}unmount(){this.underlayElements.forEach((e=>{var t;return null===(t=e.parentElement)||void 0===t?void 0:t.removeChild(e)})),this.overlayElements.forEach((e=>{var t;return null===(t=e.parentElement)||void 0===t?void 0:t.removeChild(e)}))}update(){}}const Cn="http://www.w3.org/2000/svg";class bn extends gn{constructor(){super(...arguments),this.id=pe.generate(),this.settings={spanId1:"",spanId2:"",strokeWidth:1,strokeColor:"rgba(0, 0, 0, 0.5)",strokeDasharray:"0",barHeight:18,hoverStrokeWidth:1,hoverStrokeColor:"rgba(0, 0, 0, 1)"},this.container=document.createElementNS(Cn,"g"),this.path=document.createElementNS(Cn,"path")}prepare(e){var t;this.settings=xe()(e,this.settings),null===(t=this.path.parentElement)||void 0===t||t.removeChild(this.path),this.groupView1=null,this.spanView1=null,this.groupView2=null,this.spanView2=null;const[n,i]=this.timelineView.findSpanView(this.settings.spanId1);if(!n||!i)return!1;this.groupView1=n,this.spanView1=i;const[o,s]=this.timelineView.findSpanView(this.settings.spanId2);if(!o||!s)return!1;this.groupView2=o,this.spanView2=s,this.path.setAttribute("fill","transparent"),this.path.setAttribute("stroke-width",e.strokeWidth+""),this.path.setAttribute("stroke",e.strokeColor),this.path.setAttribute("marker-end","url(#arrow-head)"),this.path.setAttribute("stroke-dasharray",e.strokeDasharray),this.path.setAttribute("cursor","default"),this.path.setAttribute(Yt,qt.SPAN_CONNECTION),this.path.setAttribute("data-span-connection-id",this.id),this.path.setAttribute("data-from-span-id",i.span.id),this.path.setAttribute("data-to-span-id",s.span.id),this.container.appendChild(this.path),this.overlayElements=[this.container]}update(){if(!this.groupView1||!this.spanView1)return;if(!this.groupView2||!this.spanView2)return;const e=this.spanView1.getComputedStyles(),t=this.groupView1.getComputedStyles(),n=this.spanView2.getComputedStyles(),i=this.groupView2.getComputedStyles(),o=this.settings.barHeight/2,s=t.isCollapsed&&i.isCollapsed;let a=Math.min(e.x+e.width,n.x),r=t.y+t.spansContainerMarginTop+(t.isCollapsed?0:e.y)+o,l=(e.x,n.x+-3),c=i.y+i.spansContainerMarginTop+(i.isCollapsed?0:n.y)+o;const d=Math.atan2(c-r,l-a)/Math.PI*180;let A=!1,p=0,h=0,m=0,u=0;if((d>45&&d<135||d<-45&&d>-135)&&(A=!0),A){r<c?(r+=o,h=r+5):r>c&&(r-=o,h=r-5);let e=20;u=c;const t=Math.abs(u-h);t>100?e=50:t>30&&(e=25),p=a,m=l-e}else{p=a+50,h=r,m=l-50,u=c;const t=l-a;r==c&&t<10&&(a=Math.max(a-15,e.x),r-=o,l=Math.min(l+15,n.x+n.width),c-=o- -3,p=a,h=r-15,m=l,u=c-15)}this.path.setAttribute("opacity",s?"0":"1"),this.path.setAttribute("d",`M ${a} ${r} C ${p} ${h}, ${m}  ${u}, ${l} ${c}`)}updateStyle(e){if("normal"==e)return this.path.setAttribute("stroke-width",this.settings.strokeWidth+""),this.path.setAttribute("stroke",this.settings.strokeColor),void this.path.setAttribute("cursor","default");"hover"==e&&(this.path.setAttribute("stroke-width",this.settings.hoverStrokeWidth+""),this.path.setAttribute("stroke",this.settings.hoverStrokeColor),this.path.setAttribute("cursor","pointer"))}static getPropsFromPathElement(e){return{id:e.getAttribute("data-span-connection-id"),fromSpanId:e.getAttribute("data-from-span-id"),toSpanId:e.getAttribute("data-to-span-id")}}}const fn="http://www.w3.org/2000/svg";class En extends gn{constructor(){super(...arguments),this.settings={startTimestamp:0,finishTimestamp:0,lineColor:"#000",lineWidth:1,lineDashArray:"2",fillColor:"transparent"},this.lineLeft=document.createElementNS(fn,"line"),this.lineRight=document.createElementNS(fn,"line"),this.rect=document.createElementNS(fn,"rect")}prepare(e){this.settings=xe()(e,this.settings),[this.lineLeft,this.lineRight].forEach((e=>{e.setAttribute("x1","0"),e.setAttribute("x2","0"),e.setAttribute("y1","0"),e.setAttribute("stroke",this.settings.lineColor),e.setAttribute("stroke-width",this.settings.lineWidth+""),e.setAttribute("stroke-dasharray",this.settings.lineDashArray)})),this.rect.setAttribute("x","0"),this.rect.setAttribute("y","0"),this.rect.setAttribute("fill",this.settings.fillColor),this.underlayElements=[this.rect,this.lineLeft,this.lineRight]}update(){const e=this.timelineView.getComputedStyles(),t=Math.max(e.contentHeight,e.height);this.rect.setAttribute("height",t+""),this.lineLeft.setAttribute("y2",t+""),this.lineRight.setAttribute("y2",t+"");const n=this.timelineView.axis.input2output(this.settings.startTimestamp),i=this.timelineView.axis.input2output(this.settings.finishTimestamp);isNaN(n)||isNaN(i)||(this.rect.setAttribute("width",i-n+""),this.rect.setAttribute("transform",`translate(${n}, 0)`),this.lineLeft.setAttribute("transform",`translate(${n}, 0)`),this.lineRight.setAttribute("transform",`translate(${i}, 0)`))}}var Bn=n(125),vn=n.n(Bn);const yn="http://www.w3.org/2000/svg";class wn{constructor(e){this.startPos={x:0,y:0},this.currentPos={x:0,y:0},this.container=document.createElementNS(yn,"g"),this.rect=document.createElementNS(yn,"rect"),this.durationText=document.createElementNS(yn,"text"),this.options=vn()(e,{style:{backgroundColor:"rgba(58, 122, 217, 0.25)",borderColor:"#3E7CD6",borderWidth:1,textColor:"#3E7CD6",textSize:10}}),this.container.appendChild(this.rect),this.container.appendChild(this.durationText),this.rect.setAttribute("fill",this.options.style.backgroundColor),this.rect.setAttribute("stroke",this.options.style.borderColor),this.rect.setAttribute("stroke-width",this.options.style.borderWidth+""),this.durationText.setAttribute("font-size",this.options.style.textSize+""),this.durationText.setAttribute("fill",this.options.style.textColor),this.durationText.setAttribute("text-anchor","middle")}mount(){!this.container.parentElement&&this.options.parent.appendChild(this.container)}unmount(){var e;null===(e=this.container.parentElement)||void 0===e||e.removeChild(this.container)}start(e,t){this.startPos={x:e,y:t}}calculateRect(e,t){const n=Math.min(e,this.startPos.x),i=Math.min(t,this.startPos.y);return{x:n,y:i,width:Math.max(e,this.startPos.x)-n,height:Math.max(t,this.startPos.y)-i}}update(e,t){this.currentPos={x:e,y:t};const{x:n,y:i,width:o,height:s}=this.calculateRect(e,t),[a,r]=[this.options.axis.output2input(n),this.options.axis.output2input(n+o)];this.rect.setAttribute("x",n+""),this.rect.setAttribute("y",i+""),this.rect.setAttribute("width",o+""),this.rect.setAttribute("height",s+""),this.durationText.textContent=Te(r-a),this.durationText.setAttribute("x",n+o/2+""),this.durationText.setAttribute("y",i+s+14+"")}stop(){const{x:e,y:t}=this.currentPos;return this.calculateRect(e,t)}}var kn=n(38952);s()(kn.Z,{insert:"head",singleton:!1}),kn.Z.locals;var Sn=n(89767),xn=n(21191),Tn=n(58833);class Ln{constructor(e){this.elements={container:document.createElement("div"),header:document.createElement("div"),headerTime:document.createElement("span"),headerOperationName:document.createElement("span"),headerRight:document.createElement("div"),serviceNameContainer:document.createElement("div"),serviceName:document.createElement("span"),tags:document.createElement("div"),processTags:document.createElement("div"),logs:document.createElement("div")},this.stage=ie.getSingleton(),this.nearbyLogsCacheId="",this.options=Object.assign({showNearbyLogs:!0,showServiceName:!1,spanTagsToShow:[],processTagsToShow:[]},e);const t=this.elements;t.header.classList.add("span-tooltip-header"),t.container.appendChild(t.header);const n=document.createElement("div");n.classList.add("left"),t.header.appendChild(n),t.headerRight.classList.add("right"),t.header.appendChild(t.headerRight),t.headerTime.classList.add("span-tooltip-time"),n.appendChild(t.headerTime),t.headerOperationName.classList.add("span-tooltip-operation-name"),n.appendChild(t.headerOperationName),t.serviceNameContainer.classList.add("span-tooltip-tag","span-service-name-container","span-tooltip-border-top"),t.serviceNameContainer.style.display="none",t.container.appendChild(t.serviceNameContainer);const i=document.createElement("span");i.classList.add("tag-path"),i.textContent="Service:",t.serviceNameContainer.appendChild(i),t.serviceName.classList.add("tag-value"),t.serviceNameContainer.appendChild(t.serviceName),t.tags.classList.add("span-tooltip-tags","span-tooltip-border-top"),t.tags.style.display="none",t.container.appendChild(t.tags),t.processTags.classList.add("span-tooltip-process-tags","span-tooltip-border-top"),t.processTags.style.display="none",t.container.appendChild(t.processTags),t.logs.style.display="none",t.container.appendChild(t.logs)}get element(){return this.elements.container}getOptions(){return Re()(this.options)}setShowServiceName(e){this.options.showServiceName=e,this.updateSpan(this.options.spanView)}setShowNearbyLogs(e){this.options.showNearbyLogs=e,this.updateSpan(this.options.spanView)}setSpanTagsToShow(e){this.options.spanTagsToShow=e,this.setupTags()}setProcessTagsToShow(e){this.options.processTagsToShow=e,this.setupProcessTags()}updateSpan(e){this.options.spanView=e;const t=e.span,n=this.elements,i=t.finishTime-t.startTime,o=this.stage.getSpanSelfTime(t.id);let s=Te(t.finishTime-t.startTime);b()(o)&&o!=i&&(s=`${s} (self ${Te(o)})`),n.headerTime.textContent=s,n.headerOperationName.innerHTML=(Gt(t)?`<span class="span-tooltip-error-icon">${Tn.Z}</span>`:"")+t.operationName,n.headerRight.innerHTML=`<span class="span-tooltip-tag-count">${Object.keys(t.tags).length}</span><span class="span-tooltip-tag-icon">${xn.Z}</span><span class="span-tooltip-log-count">${t.logs.length}</span><span class="span-tooltip-log-icon">${Sn.Z}</span>`;const a=tt(t);this.options.showServiceName&&a?(n.serviceName.textContent=a,n.serviceNameContainer.style.display=""):(n.serviceName.textContent="",n.serviceNameContainer.style.display="none"),this.setupTags(),this.setupProcessTags()}setupTags(){if(!this.options.spanView)return!1;const e=this.options.spanView.span,t=this.elements;t.tags.innerHTML='<div class="section-header">Tags</div>';const n=this.options.spanTagsToShow.sort();let i=0;n.forEach((n=>{const o=e.tags[n];if(!o)return;const s=document.createElement("div");s.classList.add("span-tooltip-tag","margin-left"),s.innerHTML=`<span class="tag-path">${n}:</span><span class="tag-value">${o}</span>`,t.tags.appendChild(s),i++})),t.tags.style.display=0==i?"none":"block"}setupProcessTags(){if(!this.options.spanView)return!1;const e=this.options.spanView.span,t=this.elements;t.processTags.innerHTML='<div class="section-header">Process Tags</div>';const n=this.options.processTagsToShow.sort();let i=0;n.forEach((n=>{const o=e.process.tags[n];if(!o)return;const s=document.createElement("div");s.classList.add("span-tooltip-tag","margin-left"),s.innerHTML=`<span class="tag-path">${n}</span><span class="tag-value">${o}</span>`,t.processTags.appendChild(s),i++})),t.processTags.style.display=0==i?"none":"block"}updateMousePos(e,t){const n=this.elements;if(!this.options.showNearbyLogs||!this.options.spanView)return void(n.logs.style.display="none");const i=this.nearbyLogsCacheId,o=this.options.spanView.getNearbyLogViews(e);this.nearbyLogsCacheId=o.map((e=>e.logView.id)).join(""),this.nearbyLogsCacheId!=i&&(n.logs.innerHTML="",o.forEach((e=>{const t=Te(e.logView.log.timestamp-this.options.axis.getInputRange()[0]),i=document.createElement("div");i.classList.add("span-tooltip-log","span-tooltip-border-top");let o=`<div class="section-header">Log @ ${t}</div>`;Object.keys(e.logView.log.fields).forEach((t=>{const n=e.logView.log.fields[t],i=Xt(t,n)?"error":"";n&&(o+=`<span class="log-field-key ${i}">${t}:</span><span class="log-field-value ${i}">${n}</span>`)})),i.innerHTML=o,n.logs.appendChild(i)})),n.logs.style.display=0==o.length?"none":"block")}}const Mn="http://www.w3.org/2000/svg";class In extends gn{constructor(){super(...arguments),this.settings={timestamp:0,lineColor:"#ccc",lineWidth:1,position:"underlay",displayTime:!0,timeOffsetToBottom:10,timeOffsetToLine:5,timeFontColor:"#aaa",timeFontSize:12},this.line=document.createElementNS(Mn,"line"),this.text=document.createElementNS(Mn,"text")}prepare(e){this.settings=xe()(e,this.settings),this.line.setAttribute("x1","0"),this.line.setAttribute("x2","0"),this.line.setAttribute("y1","0"),this.line.setAttribute("stroke",this.settings.lineColor),this.line.setAttribute("stroke-width",this.settings.lineWidth+""),this.text.textContent="",this.text.setAttribute("x","0"),this.text.setAttribute("y","0"),this.text.setAttribute("fill",this.settings.timeFontColor),this.text.setAttribute("font-size",this.settings.timeFontSize+"");const t=this.settings.displayTime?[this.line,this.text]:[this.line];"overlay"===this.settings.position?(this.overlayElements=t,this.underlayElements=[]):(this.overlayElements=[],this.underlayElements=t)}setTimestampFromScreenPositionX(e){this.settings.timestamp=this.timelineView.axis.output2input(e)}update(){if(0==this.settings.timestamp)return;const e=this.timelineView.getComputedStyles(),t=Math.max(e.contentHeight,e.height);this.line.setAttribute("y2",t+"");const n=(this.settings.timestamp-this.timelineView.axis.getInputRange()[0])/1e3;this.text.textContent=Te(n);const i=this.timelineView.axis.input2output(this.settings.timestamp);if(!isNaN(i)){const t=i<=e.width/2,n=t?i+this.settings.timeOffsetToLine:i-this.settings.timeOffsetToLine;this.line.setAttribute("transform",`translate(${i}, 0)`);const o=e.height-this.settings.timeOffsetToBottom-e.panelTranslateY;this.text.setAttribute("transform",`translate(${n}, ${o})`),this.text.setAttribute("text-anchor",t?"start":"end")}}}var Dn=n(36145);s()(Dn.Z,{insert:"head",singleton:!1}),Dn.Z.locals;var Rn=n(17553);s()(Rn.Z,{insert:"head",singleton:!1}),Rn.Z.locals;var On=n(1030),_n=n(87390);class Pn{constructor(e){this.options=e,this.element=document.createElement("div"),this.selectedItemId=null,this.binded={onClick:this.onClick.bind(this)},e.width&&(this.element.style.width=`${e.width}px`),this.element.addEventListener("click",this.binded.onClick,!1),this.render()}updateItems(e){this.options.items=e,this.render()}render(){this.element.innerHTML="",this.options.items.forEach((e=>{const t=document.createElement("div");if("divider"==e.type)return t.classList.add("item-divider"),void this.element.appendChild(t);t.classList.add("item"),e.disabled&&t.classList.add("disabled");let n="",i=e.text,o="";"code-tags"==e.icon?(n=On.Z,i=`<span class="text">${e.text}</span>`):"settings-outline"==e.icon&&(n=_n.Z,i=`<span class="text">${e.text}</span>`),e.altText&&(o=`<span class="alt">${e.altText}</span>`),t.innerHTML=`${n} ${i} ${o}`.trim(),t.setAttribute("data-item-id",e.id),this.element.appendChild(t)}))}select(e){const t=m()(this.options.items,(t=>t.id==e));if(!t)return!1;if("divider"==t.type)return!1;if(t.disabled)return!1;const n=this.element.querySelector(`[data-item-id="${e}"]`);if(!n)return!1;if(this.selectedItemId){const e=this.element.querySelector(`[data-item-id="${this.selectedItemId}"]`);null==e||e.classList.remove("selected")}this.selectedItemId=t.id,n.classList.add("selected")}onClick(e){var t,n;const i=e.target.closest("[data-item-id]");if(!i)return;const o=i.getAttribute("data-item-id"),s=m()(this.options.items,(e=>e.id==o));s&&"divider"!=s.type&&(s.disabled||null===(n=(t=this.options).onSelect)||void 0===n||n.call(t,s))}dispose(){this.element.removeEventListener("click",this.binded.onClick,!1),this.selectedItemId=null}}var zn,Nn=n(33020);let Fn;s()(Nn.Z,{insert:"head",singleton:!1}),Nn.Z.locals,function(e){e.SHOW_SPAN_IN_TABLE_VIEW="showSpanInTableView",e.SHOW_SPAN_IN_TIMELINE_VIEW="showSpanInTimelineView"}(zn||(zn={}));class Un extends(U()){constructor(){super(...arguments),this._isShowing=!1,this.binded={onMenuItemClick:this.onMenuItemClick.bind(this)},this.menuItems=[],this.menu=new Pn({items:[],onSelect:this.binded.onMenuItemClick})}get isShowing(){return this._isShowing}static getSingleton(){return Fn||(Fn=new Un),Fn}init(){this.tippy=(0,i.t)(document.body,{lazy:!1,interactive:!0,duration:0,updateDuration:0,trigger:"custom",arrow:!1,content:this.menu.element,multiple:!0,placement:"bottom-start",theme:"context-menu",onCreate(e){e.popperInstance.reference={clientWidth:0,clientHeight:0,getBoundingClientRect:()=>({width:0,height:0,top:0,bottom:0,left:0,right:0})}},onShow:()=>{this._isShowing=!0},onHide:()=>{this._isShowing=!1}})}show(e){this.menuItems=e.menuItems,this.menu.updateItems(e.menuItems.map((e=>e.selectItem))),Object.assign(this.tippy.popperInstance.reference,{clientWidth:0,clientHeight:0,getBoundingClientRect:()=>({width:0,height:0,top:e.y,bottom:e.y,left:e.x,right:e.x})}),this.tippy.popperInstance.update(),this.tippy.show()}hide(){this.tippy.hide()}onMenuItemClick(e){var t;if("divider"==e.type)return;if(e.disabled)return;const n=m()(this.menuItems,(t=>t.selectItem.id==e.id));n?(null===(t=n.onSelected)||void 0===t||t.call(n),n.emitEvent&&this.emit(n.emitEvent.event,n.emitEvent.data),this.hide()):this.hide()}dispose(){this.tippy.destroy(),this.menuItems=[],this.menu.dispose(),this.removeAllListeners()}}function Hn(e){const t=document.createElement("textarea");t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)}const Wn="http://www.w3.org/2000/svg";var jn,Vn;!function(e){e.SPAN_SELECTED="tve_span_selected"}(jn||(jn={})),function(e){e.MOVE="move",e.RULER="ruler"}(Vn||(Vn={}));class Zn extends(U()){constructor(e){super(),this.svg=document.createElementNS(Wn,"svg"),this.defs=document.createElementNS(Wn,"defs"),this.tickContainer=document.createElementNS(Wn,"g"),this.tickElements=[],this.bodyContainer=document.createElementNS(Wn,"g"),this.bodyClipPath=document.createElementNS(Wn,"clipPath"),this.bodyClipPathRect=document.createElementNS(Wn,"rect"),this.groupNamePanel=document.createElementNS(Wn,"g"),this.timelinePanel=document.createElementNS(Wn,"g"),this.decorationUnderlayPanel=document.createElementNS(Wn,"g"),this.decorationOverlayPanel=document.createElementNS(Wn,"g"),this.decorations={logVerticalLine:new In(this),selectedSpanIntervalHighlight:new En(this),selectedSpanConnections:[],hoveredSpanConnections:[]},this.mouseHandler=new mn(this.svg),this.axis=window.axis=new rn([0,0],[0,0]),this.traces=[],this.groupViews=[],this.groupLayoutMode=en.COMPACT,this.spanViewSharedOptions={axis:this.axis,colorFor:wt.colorBy,labelFor:Rt.labelBy},this.hoveredElements=[],this.selectionView=new wn({parent:this.svg,axis:this.axis}),this._tool=Vn.MOVE,this.spanTooltipContent=new Ln({axis:this.axis}),this.spanTooltipStuffCache={svgBBTop:0,idleMouseClientX:0},this.contextMenuManager=Un.getSingleton(),this.binded={onMouseIdleMove:this.onMouseIdleMove.bind(this),onMouseIdleLeave:this.onMouseIdleLeave.bind(this),onMousePanStart:this.onMousePanStart.bind(this),onMousePanMove:this.onMousePanMove.bind(this),onMousePanEnd:this.onMousePanEnd.bind(this),onWheel:this.onWheel.bind(this),onClick:this.onClick.bind(this)};const t=xe()(null==e?void 0:e.style,{timeRulerHeight:20,timeRulerTickLength:200,timeRulerTickLineColor:"#eee",timeRulerTickTextOffsetTop:14,timeRulerTickTextColor:"#999",timeRulerTickTextSize:10,initialSpanMarginToViewport:5});this.computedStyles=Object.assign(Object.assign({},t),{width:0,height:0,contentHeight:0,panelTranslateY:0}),this.svg.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),this.svg.classList.add("timeline-svg"),this.svg.appendChild(this.defs);const n=document.createElementNS(Wn,"filter");n.id="tooltip-shadow",n.setAttribute("x","-50%"),n.setAttribute("y","-50%"),n.setAttribute("width","200%"),n.setAttribute("height","200%"),n.innerHTML='<feDropShadow stdDeviation="3 3" in="SourceGraphic" dx="0" dy="5" flood-color="#1F3646" flood-opacity="0.5" result="dropShadow"/>',this.defs.appendChild(n);const i=document.createElementNS(Wn,"marker");i.id="arrow-head",i.setAttribute("viewBox","0 0 10 10"),i.setAttribute("refX","5"),i.setAttribute("refY","5"),i.setAttribute("markerWidth","6"),i.setAttribute("markerHeight","6"),i.setAttribute("orient","auto-start-reverse"),i.innerHTML='<path d="M 0 0 L 10 5 L 0 10 z" />',this.defs.appendChild(i),this.spanGrouping=new un(Je)}init(e){let t=null==e?void 0:e.width,n=null==e?void 0:e.height;if(!t||!n)throw new Error("Missing timeline dimensions");this.resize(t,n),this.setupPanels(),this.mouseHandler.init(),this.mouseHandler.on(hn.IDLE_MOVE,this.binded.onMouseIdleMove),this.mouseHandler.on(hn.IDLE_LEAVE,this.binded.onMouseIdleLeave),this.mouseHandler.on(hn.PAN_START,this.binded.onMousePanStart),this.mouseHandler.on(hn.PAN_MOVE,this.binded.onMousePanMove),this.mouseHandler.on(hn.PAN_END,this.binded.onMousePanEnd),this.mouseHandler.on(hn.WHEEL,this.binded.onWheel),this.mouseHandler.on(hn.CLICK,this.binded.onClick),this.spanTooltipTippy=(0,i.t)(document.body,{lazy:!1,duration:0,updateDuration:0,trigger:"custom",arrow:!0,content:this.spanTooltipContent.element,multiple:!0,placement:"top",theme:"span-tooltip",onCreate(e){e.popperInstance.reference={clientWidth:0,clientHeight:0,getBoundingClientRect:()=>({width:0,height:0,top:0,bottom:0,left:0,right:0})}}})}mount(e){e.appendChild(this.svg)}unmount(){var e;null===(e=this.svg.parentElement)||void 0===e||e.removeChild(this.svg)}resize(e,t){this.computedStyles.width=e,this.computedStyles.height=t;const{timeRulerHeight:n,initialSpanMarginToViewport:i}=this.computedStyles;this.svg.setAttribute("width",`${e}`),this.svg.setAttribute("height",`${t}`),this.svg.setAttribute("viewBox",`0 0 ${e} ${t}`),this.bodyClipPathRect.setAttribute("width",`${e}`),this.bodyClipPathRect.setAttribute("height",""+(t-n)),this.axis.updateOutputRange([i,e-i]),this.groupViews.forEach((e=>e.handleAxisUpdate())),this.updateAllDecorations(),this.updateTicks(),this.groupViews.forEach((t=>t.updateSeperatorLineWidths(e))),this.keepPanelTraslateYInScreen();const o=this.svg.getBoundingClientRect();this.spanTooltipStuffCache.svgBBTop=o.top}updateAllDecorations(e=!1){for(const t of Object.values(this.decorations)){const n=w()(t)?t:[t];if(e)for(const e of n)!1===e.prepare({})&&e.unmount();for(const e of n)e.update()}}setupPanels(){const{width:e,height:t,timeRulerHeight:n}=this.computedStyles;this.bodyClipPath.id="body-clip-path",this.bodyClipPathRect.setAttribute("x","0"),this.bodyClipPathRect.setAttribute("y","0"),this.bodyClipPathRect.setAttribute("width",`${e}`),this.bodyClipPathRect.setAttribute("height",""+(t-n)),this.bodyClipPath.appendChild(this.bodyClipPathRect),this.defs.appendChild(this.bodyClipPath),this.svg.appendChild(this.tickContainer),this.bodyContainer.setAttribute("x","0"),this.bodyContainer.setAttribute("y","0"),this.bodyContainer.setAttribute("transform",`translate(0, ${n})`),this.bodyContainer.setAttribute("clip-path","url(#body-clip-path)"),this.bodyContainer.appendChild(this.decorationUnderlayPanel),this.bodyContainer.appendChild(this.groupNamePanel),this.bodyContainer.appendChild(this.timelinePanel),this.bodyContainer.appendChild(this.decorationOverlayPanel),this.svg.appendChild(this.bodyContainer)}getSpanTooltipContent(){return this.spanTooltipContent}getInteractedElementsFromMouseEvent(e){let t=e.target;const n=[];for(;t&&t!==this.svg;)t.hasAttribute(Yt)&&n.push({type:t.getAttribute(Yt),element:t}),t=t.parentElement;return n}dispose(){this.mouseHandler.removeListener(hn.IDLE_MOVE,this.binded.onMouseIdleMove),this.mouseHandler.removeListener(hn.IDLE_LEAVE,this.binded.onMouseIdleLeave),this.mouseHandler.removeListener(hn.PAN_START,this.binded.onMousePanStart),this.mouseHandler.removeListener(hn.PAN_MOVE,this.binded.onMousePanMove),this.mouseHandler.removeListener(hn.WHEEL,this.binded.onWheel),this.mouseHandler.removeListener(hn.CLICK,this.binded.onClick),this.mouseHandler.dispose(),this.removeAllListeners()}updateGroupLayoutMode(e){this.groupLayoutMode=e,this.groupViews.forEach((t=>{t.setLayoutType(e),t.layout()})),this.updateGroupVerticalPositions(),this.updateAllDecorations(),this.keepPanelTraslateYInScreen(),window.Countly&&window.Countly.add_event({key:"draw_layout_changed",count:1,segmentation:{type:e}})}updateSpanGrouping(e){this.spanGrouping=new un(e),this.traces.forEach((e=>e.spans.forEach((t=>this.spanGrouping.addSpan(t,e))))),this.layout(),window.Countly&&window.Countly.add_event({key:"span_grouping_changed",count:1,segmentation:{type:e.key}})}updateSpanColoring(e){this.spanViewSharedOptions.colorFor=e.colorBy,this.groupViews.forEach((e=>{e.setSpanViewSharedOptions(this.spanViewSharedOptions),e.getAllSpanViews().forEach((e=>e.updateColors()))})),window.Countly&&window.Countly.add_event({key:"span_coloring_changed",count:1,segmentation:{type:e.key}})}updateSpanLabelling(e){this.spanViewSharedOptions.labelFor=e.labelBy,this.groupViews.forEach((e=>{e.setSpanViewSharedOptions(this.spanViewSharedOptions),e.getAllSpanViews().forEach((e=>e.updateLabelText()))})),window.Countly&&window.Countly.add_event({key:"span_labeling_changed",count:1,segmentation:{type:e.key}})}get tool(){return this._tool}updateTool(e){this._tool=e}getTraces(){return this.traces}addTrace(e){return!m()(this.traces,(t=>t.id===e.id))&&(this.traces.push(e),e.spans.forEach((t=>this.spanGrouping.addSpan(t,e))),this.layout(),!0)}removeTrace(e){if(0===ae()(this.traces,(t=>t.id===e.id)).length)return!1;let t=!1;return e.spans.forEach((e=>{this.spanGrouping.removeSpan(e),this.selectedSpanId&&e.id==this.selectedSpanId&&(t=!0)})),this.layout(),t&&this.selectSpan(null,!0),!0}findGroupView(e){if(E()(e))return m()(this.groupViews,(t=>t.spanGroup.id===e));if(Ft()(e))return m()(this.groupViews,e);throw new Error("Unsupported argument type")}findSpanView(e){if(E()(e)){const t=m()(this.groupViews,(t=>!!t.getSpanViewById(e)));return[t,null==t?void 0:t.getSpanViewById(e)]}if(Ft()(e)){for(let t of this.groupViews){const n=t.getAllSpanViews(),i=m()(n,e);if(i)return[t,i]}return[void 0,void 0]}throw new Error("Unsupported argument type")}findSpanViews(e){const t=[];for(let n of this.groupViews)n.getAllSpanViews().filter(e).forEach((e=>{t.push([n,e])}));return t}layout(){let e=1/0,t=-1/0;this.traces.forEach((n=>{e=Math.min(e,n.startTime),t=Math.max(t,n.finishTime)}));const{width:n,initialSpanMarginToViewport:i}=this.computedStyles;this.axis.reset([e,t],[i,n-i]),this.groupViews.forEach((e=>e.dispose())),this.groupViews=[];const o=this.spanGrouping.getAllGroups().sort(((e,t)=>e.startTimestamp-t.startTimestamp)),s={};o.forEach((e=>{let t=e.name;s[e.name]||(s[e.name]=0),s[e.name]++,s[e.name]>1&&(t=`${e.name} ${s[e.name]}`);const i=new tn({group:e,layoutType:this.groupLayoutMode,label:t});i.init({groupNamePanel:this.groupNamePanel,timelinePanel:this.timelinePanel,svgDefs:this.defs,spanViewSharedOptions:this.spanViewSharedOptions}),i.updateSeperatorLineWidths(n),i.layout(),this.groupViews.push(i)})),this.updateGroupVerticalPositions(),this.updateAllDecorations(!0),this.updateTicks(),this.setPanelTranslateY(0)}updateGroupVerticalPositions(){let e=0;this.groupViews.forEach(((t,n)=>{t.updatePosition({y:e}),e+=t.getComputedStyles().height})),this.computedStyles.contentHeight=e}translateX(e){this.axis.translate(e),this.groupViews.forEach((e=>e.handleAxisTranslate())),this.updateAllDecorations(),this.updateTicks()}translateY(e){const{height:t,contentHeight:n,panelTranslateY:i,timeRulerHeight:o}=this.computedStyles,s=t-o;if(n<=s)return;const a=i+e,r=Math.min(Math.max(a,s-n),0);this.setPanelTranslateY(r)}setPanelTranslateY(e){this.computedStyles.panelTranslateY=e,this.groupNamePanel.setAttribute("transform",`translate(0, ${e})`),this.timelinePanel.setAttribute("transform",`translate(0, ${e})`),this.decorationUnderlayPanel.setAttribute("transform",`translate(0, ${e})`),this.decorationOverlayPanel.setAttribute("transform",`translate(0, ${e})`)}getComputedStyles(){return this.computedStyles}keepPanelTraslateYInScreen(){const{height:e,panelTranslateY:t,contentHeight:n,timeRulerHeight:i}=this.computedStyles,o=e-i-(t+n);if(o<=0)return;const s=Math.min(t+o,0);this.setPanelTranslateY(s)}zoom(e,t){this.axis.zoom(e,t),this.groupViews.forEach((e=>e.handleAxisZoom())),this.updateAllDecorations(),this.updateTicks()}selectSpan(e,t=!1){if(this.selectedSpanId){const e=this.findSpanView(this.selectedSpanId)[1];e&&(e.updateColorStyle("normal"),e.hideLogs())}this.decorations.selectedSpanIntervalHighlight.unmount(),this.decorations.selectedSpanConnections.forEach((e=>e.unmount())),this.decorations.hoveredSpanConnections.forEach((e=>e.unmount())),this.selectedSpanId=e;const[n,i]=e?this.findSpanView(e):[null,null];e&&i&&n&&(i.updateColorStyle("selected"),i.showLogs(),n.bringSpanViewToTop(e),this.showSelectedSpanConnections(this.selectedSpanId),this.decorations.selectedSpanIntervalHighlight.prepare({startTimestamp:i.span.startTime,finishTimestamp:i.span.finishTime,lineColor:"rgba(62, 124, 214, 0.25)",lineWidth:1,lineDashArray:"2",fillColor:"rgba(58, 122, 217, 0.05)"}),this.decorations.selectedSpanIntervalHighlight.update(),this.decorations.selectedSpanIntervalHighlight.mount()),t||this.emit(jn.SPAN_SELECTED,this.selectedSpanId)}getSelectedSpanId(){return this.selectedSpanId}focusSpans(e){if(!e||0==e.length)return;if(0==this.traces.length)return;e=zt()(e);let t=1/0,n=-1/0,i=1/0,o=-1/0;if(e.forEach((e=>{const[s,a]=this.findSpanView(e);if(!s||!a)return;const r=a.span;t=Math.min(t,r.startTime),n=Math.max(n,r.finishTime);const l=a.getComputedStyles(),c=s.getComputedStyles().y+l.y,d=c+l.rowHeight;i=Math.min(i,c),o=Math.max(o,d)})),!(isFinite(t)&&isFinite(n)&&isFinite(i)&&isFinite(o)))return;const{width:s,height:a,contentHeight:r,timeRulerHeight:l}=this.computedStyles;this.axis.focus([t,n],[s/4,3*s/4]),this.groupViews.forEach((e=>e.handleAxisZoom())),this.updateAllDecorations(),this.updateTicks();const c=a-l;if(r>c){const e=-(i+o)/2+c/2,t=Math.min(Math.max(e,c-r),0);this.setPanelTranslateY(t)}}translateToSpanIfNotInViewport(e){const[t,n]=this.findSpanView(e);if(!t||!n)return;const i=n.span,o=n.getComputedStyles(),s=t.getComputedStyles().y+o.y,a=s+o.rowHeight,{height:r,contentHeight:l,panelTranslateY:c,timeRulerHeight:d}=this.computedStyles,A=r-d;if(l>A){const e=-c,t=-c+A;if(a>t){const e=c-(a-t);this.setPanelTranslateY(e)}else if(s<e){const t=c+(e-s+10);this.setPanelTranslateY(t)}}const p=this.axis.input2output(i.startTime),h=this.axis.input2output(i.finishTime),[m,u]=this.axis.getOutputRange();if(h<m){const e=m-h+50;this.translateX(e)}else if(p>u){const e=u-p-50;this.translateX(e)}}showLogVerticalLine(e){this.decorations.logVerticalLine.prepare({timestamp:e,lineColor:"rgba(0, 0, 0, 0.75)",lineWidth:1,position:"overlay",displayTime:!1}),this.decorations.logVerticalLine.update(),this.decorations.logVerticalLine.mount()}hideLogVerticalLine(){this.decorations.logVerticalLine.unmount()}onMouseIdleMove(e){if(0===this.traces.length)return;if(this.contextMenuManager.isShowing)return;this.spanTooltipContent.updateMousePos(e.offsetX,e.offsetY),this.spanTooltipStuffCache.idleMouseClientX=e.clientX,this.spanTooltipTippy.popperInstance.update();const t=this.getInteractedElementsFromMouseEvent(e),n=this.hoveredElements;this.hoveredElements=t;const i=Ht()(n,t,(({element:e})=>e)),o=Ht()(t,n,(({element:e})=>e));i.forEach((({type:e,element:t})=>{switch(e){case qt.SPAN_VIEW_CONTAINER:{const{id:e}=Qt.getPropsFromContainer(t);if(!e)return;if(this.spanTooltipTippy.hide(),this.selectedSpanId==e)return;const n=this.findSpanView(e)[1];if(!n)return;return n.updateColorStyle("normal"),n.hideLogs(),void this.decorations.hoveredSpanConnections.forEach((e=>e.unmount()))}case qt.SPAN_CONNECTION:{const{id:e}=bn.getPropsFromPathElement(t);if(!e)return;const n=m()(this.decorations.selectedSpanConnections,(t=>t.id==e));if(!n)return;return void n.updateStyle("normal")}}})),o.forEach((({type:e,element:t})=>{switch(e){case qt.SPAN_VIEW_CONTAINER:{const{id:e}=Qt.getPropsFromContainer(t);if(!e)return;const[n,i]=this.findSpanView(e);if(i&&(this.spanTooltipContent.updateSpan(i),Object.assign(this.spanTooltipTippy.popperInstance.reference,{clientWidth:0,clientHeight:0,getBoundingClientRect:()=>{const{panelTranslateY:e,timeRulerHeight:t}=this.computedStyles,o=i.getComputedStyles(),s=n.getComputedStyles(),a=this.spanTooltipStuffCache.svgBBTop+o.y+s.y+s.spansContainerMarginTop+t+e;return{width:0,height:o.barHeight,top:a,bottom:a+o.barHeight,left:this.spanTooltipStuffCache.idleMouseClientX,right:this.spanTooltipStuffCache.idleMouseClientX}}}),this.spanTooltipTippy.popperInstance.update(),this.spanTooltipTippy.show()),this.selectedSpanId==e)return;if(!i)return;return i.updateColorStyle("hover"),i.showLogs(),void this.showHoveredSpanConnections(e)}case qt.SPAN_CONNECTION:{if(!this.selectedSpanId)return;const{id:e,fromSpanId:n,toSpanId:i}=bn.getPropsFromPathElement(t);if(!e)return;if(this.selectedSpanId!=n&&this.selectedSpanId!=i)return;const o=m()(this.decorations.selectedSpanConnections,(t=>t.id==e));if(!o)return;return void o.updateStyle("hover")}}})),0!==i.length||o.length}onMouseIdleLeave(e){this.decorations.hoveredSpanConnections.forEach((e=>e.unmount())),this.spanTooltipTippy.hide()}onMousePanStart(e){this.spanTooltipTippy.hide(),this.selectionView.unmount(),0!==this.traces.length&&this._tool==Vn.RULER&&(this.selectionView.start(e.offsetX,e.offsetY),this.selectionView.update(e.offsetX,e.offsetY),this.selectionView.mount())}onMousePanMove(e){0!==this.traces.length&&(this._tool==Vn.RULER?this.selectionView.update(e.offsetX,e.offsetY):(this.translateX(e.movementX),this.translateY(e.movementY)))}onMousePanEnd(e){if(0===this.traces.length)return;const t="mouseleave"==e.type;this.selectionView.unmount(),this._tool!=Vn.RULER||t||this.selectionView.stop()}onWheel(e){0!==this.traces.length&&(this.spanTooltipTippy.popperInstance.update(),this.zoom(1-.0025*e.deltaY,e.offsetX))}onClick(e){if(this.spanTooltipTippy.hide(),!e)return;const t=this.getInteractedElementsFromMouseEvent(e);let n=null,i=null,o=null;if(X()(t,(({type:e,element:t})=>{switch(e){case qt.SPAN_VIEW_CONTAINER:{const{id:e}=Qt.getPropsFromContainer(t);if(!e)return;return void(n=e)}case qt.GROUP_VIEW_LABEL_TEXT:{const{id:e}=tn.getPropsFromLabelText(t);if(!e)return;return void(i=e)}case qt.SPAN_CONNECTION:{if(!this.selectedSpanId)return;const{id:e,fromSpanId:n,toSpanId:i}=bn.getPropsFromPathElement(t);if(!e)return;if(this.selectedSpanId!=n&&this.selectedSpanId!=i)return;return void(o=n==this.selectedSpanId?i:n)}}})),0==e.button){const e=i&&this.findGroupView(i);return i&&e?(e.toggleView(),this.updateGroupVerticalPositions(),this.keepPanelTraslateYInScreen(),void this.updateAllDecorations()):o?(this.selectSpan(o),void this.translateToSpanIfNotInViewport(o)):void this.selectSpan(n)}return 2==e.button&&n?void this.contextMenuManager.show({x:e.clientX,y:e.clientY,menuItems:[{selectItem:{type:"item",text:"Show in Table View",id:"showInTableView"},emitEvent:{event:zn.SHOW_SPAN_IN_TABLE_VIEW,data:n}},{selectItem:{type:"item",text:"Focus",altText:"F",id:"focus"},onSelected:()=>this.focusSpans([n])},{selectItem:{type:"item",text:"Copy Span To Clipboard",id:"copyToClipboard",altText:"⌘C"},onSelected:()=>this.copySpanToClipboard(n)}]}):void 0}copySpanToClipboard(e){if(!e)return;const[t,n]=this.findSpanView(e);n&&Hn(JSON.stringify(n.span,null,4))}updateTicks(){var e,t;if(0==this.traces.length)return void this.tickElements.forEach((({text:e,line:t})=>{var n,i;null===(n=e.parentElement)||void 0===n||n.removeChild(e),null===(i=t.parentElement)||void 0===i||i.removeChild(t)}));const{width:n,height:i,timeRulerTickLength:o,timeRulerTickLineColor:s,timeRulerTickTextOffsetTop:a,timeRulerTickTextColor:r,timeRulerTickTextSize:l}=this.computedStyles,c=Math.round(n/o),d=this.axis.ticks(c);if(d.forEach(((e,t)=>{this.tickElements[t]||(this.tickElements[t]={line:document.createElementNS(Wn,"line"),text:document.createElementNS(Wn,"text")});const{line:n,text:o}=this.tickElements[t];n.setAttribute("x1",e.output+""),n.setAttribute("x2",e.output+""),n.setAttribute("y1","0"),n.setAttribute("y2",i+""),n.setAttribute("stroke",s),n.setAttribute("stroke-width","1"),this.tickContainer.appendChild(n),o.textContent=Te(e.inputRelative),o.setAttribute("x",e.output-4+""),o.setAttribute("y",a+""),o.setAttribute("fill",r),o.setAttribute("font-size",l+""),o.setAttribute("text-anchor","end"),this.tickContainer.appendChild(o)})),this.tickElements.length>d.length)for(let n=d.length;n<this.tickElements.length;n++){const{line:i,text:o}=this.tickElements[n];null===(e=i.parentElement)||void 0===e||e.removeChild(i),null===(t=o.parentElement)||void 0===t||t.removeChild(o)}}showSelectedSpanConnections(e){const[t,n]=this.findSpanView(e);if(!t||!n)return;const i=n.span,o=this;this.decorations.selectedSpanConnections.forEach((e=>e.unmount())),this.decorations.selectedSpanConnections=[],function e(t){const n=m()(t.references,(e=>"childOf"==e.type||"followsFrom"==e.type));if(!n)return;const[i,s]=o.findSpanView(n.spanId);if(!i||!s)return;const a=new bn(o);a.prepare({spanId1:s.span.id,spanId2:t.id,strokeDasharray:"followsFrom"==n.type?"2":"0"}),a.update(),a.mount(),o.decorations.selectedSpanConnections.push(a),e(s.span)}(i),this.findSpanViews((e=>!!m()(e.span.references,(e=>e.spanId===i.id)))).forEach((([e,t])=>{const n=m()(t.span.references,(e=>e.spanId===i.id)),o=new bn(this);o.prepare({spanId1:i.id,spanId2:t.span.id,strokeDasharray:"followsFrom"==n.type?"2":"0"}),o.update(),o.mount(),this.decorations.selectedSpanConnections.push(o)}))}showHoveredSpanConnections(e){const[t,n]=this.findSpanView(e);if(!t||!n)return;const i=n.span;this.decorations.hoveredSpanConnections.forEach((e=>e.unmount())),this.decorations.hoveredSpanConnections=[],i.references.forEach((e=>{const[t,n]=this.findSpanView(e.spanId);if(!t||!n)return;const o=new bn(this);o.prepare({spanId1:n.span.id,spanId2:i.id,strokeDasharray:"followsFrom"==e.type?"2":"0"}),o.update(),o.mount(),this.decorations.hoveredSpanConnections.push(o)})),this.findSpanViews((e=>!!m()(e.span.references,(e=>e.spanId===i.id)))).forEach((([e,t])=>{const n=m()(t.span.references,(e=>e.spanId===i.id)),o=new bn(this);o.prepare({spanId1:i.id,spanId2:t.span.id,strokeDasharray:"followsFrom"==n.type?"2":"0"}),o.update(),o.mount(),this.decorations.hoveredSpanConnections.push(o)}))}}var $n=n(59935),Yn=n.n($n),qn=n(26617),Gn=n.n(qn),Xn=n(65853),Kn=n.n(Xn),Qn=n(76897),Jn=n.n(Qn),ei=n(60630);s()(ei.Z,{insert:"head",singleton:!1}),ei.Z.locals;class ti{constructor(e){this.options=e,this.elements={container:document.createElement("div"),itemsContainer:document.createElement("div"),searchInput:document.createElement("input")},this.binded={onSearchInput:Jn()(this.onSearchInput.bind(this),100),onItemContainerClick:this.onItemContainerClick.bind(this)};const t=this.elements;t.container.style.overflow="hidden",e.width&&(t.container.style.width=`${e.width}px`),t.searchInput.type="search",t.searchInput.classList.add("widget-toolbar-multi-select-search","small"),t.searchInput.placeholder="Search...",t.searchInput.addEventListener("input",this.binded.onSearchInput,!1),t.container.appendChild(t.searchInput),e.maxItemContainerHeight&&(t.itemsContainer.style.overflowY="auto",t.itemsContainer.style.maxHeight=`${e.maxItemContainerHeight}px`),t.itemsContainer.classList.add("widget-toolbar-multi-select-items"),t.container.appendChild(t.itemsContainer),this.fuse=new(Yn())(e.items,{keys:["id","text"]}),this.render(),t.itemsContainer.addEventListener("click",this.binded.onItemContainerClick,!1)}get element(){return this.elements.container}updateItems(e){this.options.items=e,this.fuse=new(Yn())(e,{keys:["id","text"]}),this.elements.searchInput.value="",this.render()}getSelectedItems(){return this.options.items.filter((e=>e.selected))}render(){if(this.elements.itemsContainer.innerHTML="",0==this.options.items.length)return void(this.elements.itemsContainer.innerHTML=`<div class="empty">${this.options.emptyMessage}</div>`);const e=this.elements.searchInput.value.trim();if(e){const t=this.fuse.search(e);return 0==t.length?void(this.elements.itemsContainer.innerHTML='<div class="empty">No matches</div>'):void t.forEach((e=>{const t=document.createElement("div");t.setAttribute("data-item-id",e.id),t.textContent=e.text,t.classList.add("widget-toolbar-multi-select-item"),e.selected&&t.classList.add("selected"),e.disabled&&t.classList.add("disabled"),this.elements.itemsContainer.appendChild(t)}))}const t=Gn()(this.options.items,(e=>e.category||"")),n=Object.keys(t);n.sort(),n.forEach((e=>{if(e){const t=document.createElement("div");t.classList.add("widget-toolbar-multi-select-category"),t.textContent=e,this.elements.itemsContainer.appendChild(t)}const n=t[e];Kn()(n,(e=>e.text)).forEach((e=>{const t=document.createElement("div");t.setAttribute("data-item-id",e.id),t.textContent=e.text,t.classList.add("widget-toolbar-multi-select-item"),e.selected&&t.classList.add("selected"),e.disabled&&t.classList.add("disabled"),this.elements.itemsContainer.appendChild(t)}))}))}select(e){const t=m()(this.options.items,(t=>t.id==e));if(!t)return!1;if(t.disabled)return!1;const n=this.elements.itemsContainer.querySelector(`[data-item-id="${e}"]`);if(!n)return!1;t.selected=!0,n.classList.add("selected")}unselect(e){const t=m()(this.options.items,(t=>t.id==e));if(!t)return!1;if(t.disabled)return!1;const n=this.elements.itemsContainer.querySelector(`[data-item-id="${e}"]`);if(!n)return!1;t.selected=!1,n.classList.remove("selected")}onSearchInput(e){var t,n;this.render(),null===(n=(t=this.options).onSearchInput)||void 0===n||n.call(t,this.elements.searchInput.value)}onItemContainerClick(e){var t,n,i,o;const s=e.target.closest("[data-item-id]");if(!s)return;const a=s.getAttribute("data-item-id"),r=m()(this.options.items,(e=>e.id==a));r&&(r.selected?null===(n=(t=this.options).onUnselect)||void 0===n||n.call(t,r):null===(o=(i=this.options).onSelect)||void 0===o||o.call(i,r))}dispose(){const e=this.elements;e.searchInput.removeEventListener("input",this.binded.onSearchInput,!1),e.itemsContainer.removeEventListener("click",this.binded.onItemContainerClick,!1)}}var ni=n(42e3),ii=n(84019),oi=n(27265);s()(oi.Z,{insert:"head",singleton:!1}),oi.Z.locals;var si=function(e,t,n,i){return new(n||(n=Promise))((function(o,s){function a(e){try{l(i.next(e))}catch(e){s(e)}}function r(e){try{l(i.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,r)}l((i=i.apply(e,t||[])).next())}))};class ai{constructor(e){this.options=e,this.elements={container:document.createElement("div"),monacoContainer:document.createElement("div"),testResultContainer:document.createElement("div"),cancelButton:document.createElement("button"),saveButton:document.createElement("button"),testButton:document.createElement("button")},this.tsManager=at.getSingleton(),this.stage=ie.getSingleton(),this.binded={onCancelButtonClick:this.onCancelButtonClick.bind(this),onSaveButtonClick:this.onSaveButtonClick.bind(this),onTestButtonClick:this.onTestButtonClick.bind(this),onMonacoEditorContentChange:Fe()(this.onMonacoEditorContentChange.bind(this),100)};const t=this.elements;t.container.classList.add("customization-form-modal-content"),t.monacoContainer.classList.add("monaco-container"),t.container.appendChild(t.monacoContainer),t.testResultContainer.classList.add("test-result"),t.testResultContainer.style.display="none",t.container.appendChild(t.testResultContainer);const n=document.createElement("div");n.classList.add("buttons"),t.container.appendChild(n);const i=document.createElement("div");i.classList.add("left"),n.appendChild(i);const o=document.createElement("div");o.classList.add("right"),n.appendChild(o),t.cancelButton.classList.add("cancel"),t.cancelButton.textContent="Cancel",i.appendChild(t.cancelButton),t.testButton.classList.add("test"),t.testButton.textContent="Test",o.appendChild(t.testButton),t.saveButton.classList.add("save","primary"),t.saveButton.textContent="Save",t.saveButton.disabled=!0,o.appendChild(t.saveButton)}init(){this.elements.cancelButton.addEventListener("click",this.binded.onCancelButtonClick,!1),this.elements.testButton.addEventListener("click",this.binded.onTestButtonClick,!1),this.elements.saveButton.addEventListener("click",this.binded.onSaveButtonClick,!1),this.initMonacoEditor()}initMonacoEditor(){const e=this.options.rawOptions?this.options.rawOptions.rawCode:"// Do something with \"span\" and return a CSS-valid color code\nfunction colorBy(span: Span): string {\n    return '#D0E2F2';\n}\n";this.model=nt.editor.createModel(e,"typescript"),this.editor=nt.editor.create(this.elements.monacoContainer,{minimap:{enabled:!1}}),this.editor.setModel(this.model),this.editor.addCommand(nt.KeyCode.Escape,(()=>{document.activeElement&&document.activeElement.blur()}),"!findWidgetVisible && !inReferenceSearchEditor && !editorHasSelection"),this.editor.focus(),this.editorContentChangeListener=this.model.onDidChangeContent(this.binded.onMonacoEditorContentChange)}getElement(){return this.elements.container}onMonacoEditorContentChange(){this.elements.testResultContainer.style.display="none",this.elements.saveButton.disabled=!0}onCancelButtonClick(){const e=be.getSingleton().findModalFromElement(this.elements.container);if(!e)throw new Error("Could not find modal instance");e.close({data:{action:"cancel"}})}onSaveButtonClick(){return si(this,void 0,void 0,(function*(){try{const e=yield this.onTestButtonClick(),t=be.getSingleton().findModalFromElement(this.elements.container);if(!t)throw new Error("Could not find modal instance");t.close({data:Object.assign({action:"save"},e)})}catch(e){}}))}onTestButtonClick(){return si(this,void 0,void 0,(function*(){this.elements.saveButton.disabled=!0,this.elements.testResultContainer.style.display="none";try{const e=yield this.test();return this.elements.saveButton.disabled=!1,0==e.testedSpans.length?this.showTestResult({type:"warning",title:"No spans in the stage to test",body:"Span coloring function seems OK, you can save it. However it's not tested on any real spans, since there is no trace added to the stage."}):this.showTestResult({type:"success",title:"Test successful",body:`Span coloring function seems OK. It's tested on ${e.testedSpans.length} span(s) in\n            the stage and here are some samples: <br />\n            <ul>\n              ${Ie()(e.testedSpans,3).map((e=>`<li>\n                  ${e.span.operationName} => <pre>${e.rv}</pre>\n                </li>`)).join("")}\n            </ul>`}),e}catch(e){this.showTestResult({type:"error",title:e.message,body:e.description||""})}}))}showTestResult(e){const t=this.elements.testResultContainer;t.classList.remove("success","warning","error"),t.classList.add(e.type);const n={success:ni.Z,warning:ve.Z,error:ii.Z}[e.type];t.innerHTML=`${n}\n      <div class="title">${e.title}</div>\n      <div class="body">${e.body||""}</div>`,t.style.display="block"}test(){return si(this,void 0,void 0,(function*(){if(!this.model)throw new Error("Monaco text model is not ready");if(!this.editor)throw new Error("Monaco editor is not ready");const e=this.editor.getValue(),t=yield this.tsManager.compile(this.model.uri);let n;try{n=at.generateFunction(t,"colorBy")}catch(e){if("colorBy is not defined"==e.message){const e=new Error('Unexpected "colorBy" function');throw e.description='You have to declare a function named "colorBy" and it has to return a color string.',e}throw e}if(!Ft()(n)){const e=new Error('Unexpected "colorBy" function');throw e.description='You have to declare a function named "colorBy" and it has to return a color string.',e}const i=te()(this.stage.getAllTraces(),(e=>e.spans)),o=[];for(let e of i){const t=n(e);if(!E()(t)){console.error(`Return value of "colorBy" function must be string, but recieved "${typeof t}" for span`,e);const n=new Error("Function returned not a string");throw n.description=`Return value of "colorBy" function has to be a string, but got "${typeof t}" for a span. Please check your console for further details. Press Command+Option+I or Ctrl+Option+I to open devtools.`,n}o.push({span:e,rv:t})}return{tsCode:e,compiledJSCode:t,colorBy:n,testedSpans:o}}))}dispose(){var e,t,n;this.elements.cancelButton.removeEventListener("click",this.binded.onCancelButtonClick,!1),this.elements.testButton.removeEventListener("click",this.binded.onTestButtonClick,!1),this.elements.saveButton.removeEventListener("click",this.binded.onSaveButtonClick,!1),null===(e=this.editor)||void 0===e||e.dispose(),null===(t=this.model)||void 0===t||t.dispose(),null===(n=this.editorContentChangeListener)||void 0===n||n.dispose(),this.editor=void 0,this.model=void 0,this.editorContentChangeListener=void 0}}var ri=function(e,t,n,i){return new(n||(n=Promise))((function(o,s){function a(e){try{l(i.next(e))}catch(e){s(e)}}function r(e){try{l(i.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,r)}l((i=i.apply(e,t||[])).next())}))};class li{constructor(e){this.options=e,this.elements={container:document.createElement("div"),monacoContainer:document.createElement("div"),testResultContainer:document.createElement("div"),cancelButton:document.createElement("button"),saveButton:document.createElement("button"),testButton:document.createElement("button")},this.tsManager=at.getSingleton(),this.stage=ie.getSingleton(),this.binded={onCancelButtonClick:this.onCancelButtonClick.bind(this),onSaveButtonClick:this.onSaveButtonClick.bind(this),onTestButtonClick:this.onTestButtonClick.bind(this),onMonacoEditorContentChange:Fe()(this.onMonacoEditorContentChange.bind(this),100)};const t=this.elements;t.container.classList.add("customization-form-modal-content"),t.monacoContainer.classList.add("monaco-container"),t.container.appendChild(t.monacoContainer),t.testResultContainer.classList.add("test-result"),t.testResultContainer.style.display="none",t.container.appendChild(t.testResultContainer);const n=document.createElement("div");n.classList.add("buttons"),t.container.appendChild(n);const i=document.createElement("div");i.classList.add("left"),n.appendChild(i);const o=document.createElement("div");o.classList.add("right"),n.appendChild(o),t.cancelButton.classList.add("cancel"),t.cancelButton.textContent="Cancel",i.appendChild(t.cancelButton),t.testButton.classList.add("test"),t.testButton.textContent="Test",o.appendChild(t.testButton),t.saveButton.classList.add("save","primary"),t.saveButton.textContent="Save",t.saveButton.disabled=!0,o.appendChild(t.saveButton)}init(){this.elements.cancelButton.addEventListener("click",this.binded.onCancelButtonClick,!1),this.elements.testButton.addEventListener("click",this.binded.onTestButtonClick,!1),this.elements.saveButton.addEventListener("click",this.binded.onSaveButtonClick,!1),this.initMonacoEditor()}initMonacoEditor(){const e=this.options.rawOptions?this.options.rawOptions.rawCode:'// Do something with "span" and "trace"\n// and return a tuple [groupId, groupName]\n// where groupId is a unique string to be used for grouping\n// and groupName is human readable string for displaying\nfunction groupBy(span: Span, trace: Trace): [string, string] {\n    // Let\'s group by service name\n    let serviceName = \'unknown\';\n\n    // Handle jaeger spans\n    if (span.process && span.process.serviceName) {\n        serviceName = span.process.serviceName;\n    }\n\n    // Handle zipkin spans\n    if (span.localEndpoint && span.localEndpoint.serviceName) {\n        serviceName = span.localEndpoint.serviceName;\n    }\n\n    return [serviceName, serviceName];\n}\n';this.model=nt.editor.createModel(e,"typescript"),this.editor=nt.editor.create(this.elements.monacoContainer,{minimap:{enabled:!1}}),this.editor.setModel(this.model),this.editor.addCommand(nt.KeyCode.Escape,(()=>{document.activeElement&&document.activeElement.blur()}),"!findWidgetVisible && !inReferenceSearchEditor && !editorHasSelection"),this.editor.focus(),this.editorContentChangeListener=this.model.onDidChangeContent(this.binded.onMonacoEditorContentChange)}getElement(){return this.elements.container}onMonacoEditorContentChange(){this.elements.testResultContainer.style.display="none",this.elements.saveButton.disabled=!0}onCancelButtonClick(){const e=be.getSingleton().findModalFromElement(this.elements.container);if(!e)throw new Error("Could not find modal instance");e.close({data:{action:"cancel"}})}onSaveButtonClick(){return ri(this,void 0,void 0,(function*(){try{const e=yield this.onTestButtonClick(),t=be.getSingleton().findModalFromElement(this.elements.container);if(!t)throw new Error("Could not find modal instance");t.close({data:Object.assign({action:"save"},e)})}catch(e){}}))}onTestButtonClick(){return ri(this,void 0,void 0,(function*(){this.elements.saveButton.disabled=!0,this.elements.testResultContainer.style.display="none";try{const e=yield this.test();return this.elements.saveButton.disabled=!1,0==e.testedSpans.length?this.showTestResult({type:"warning",title:"No spans in the stage to test",body:"Span grouping function seems OK, you can save it. However it's not tested on any real spans, since there is no trace added to the stage."}):this.showTestResult({type:"success",title:"Test successful",body:`Span grouping function seems OK. It's tested on ${e.testedSpans.length} span(s) in\n            the stage and here are some samples: <br />\n            <ul>\n              ${Ie()(e.testedSpans,3).map((e=>`<li>\n                  ${e.span.operationName} => <pre>${e.rv}</pre>\n                </li>`)).join("")}\n            </ul>`}),e}catch(e){this.showTestResult({type:"error",title:e.message,body:e.description||""})}}))}showTestResult(e){const t=this.elements.testResultContainer;t.classList.remove("success","warning","error"),t.classList.add(e.type);const n={success:ni.Z,warning:ve.Z,error:ii.Z}[e.type];t.innerHTML=`${n}\n      <div class="title">${e.title}</div>\n      <div class="body">${e.body||""}</div>`,t.style.display="block"}test(){return ri(this,void 0,void 0,(function*(){if(!this.model)throw new Error("Monaco text model is not ready");if(!this.editor)throw new Error("Monaco editor is not ready");const e=this.editor.getValue(),t=yield this.tsManager.compile(this.model.uri);let n;try{n=at.generateFunction(t,"groupBy")}catch(e){if("groupBy is not defined"==e.message){const e=new Error('Unexpected "groupBy" function');throw e.description='You have to declare a function named "groupBy" and it has to return a tuple [string, string].',e}throw e}if(!Ft()(n)){const e=new Error('Unexpected "groupBy" function');throw e.description='You have to declare a function named "groupBy" and it has to return a tuple [string, string].',e}const i=te()(this.stage.getAllTraces(),(e=>e.spans)),o=[];for(let e of i){const t=n(e);if(!w()(t)){console.error(`Return value of "groupBy" function must be string tuple, but recieved "${typeof t}" for span`,e);const n=new Error("Function returned not a string tuple");throw n.description=`Return value of "groupBy" function has to be a string tuple, but got "${typeof t}" for a span. Please check your console for further details. Press Command+Option+I or Ctrl+Option+I to open devtools.`,n}o.push({span:e,rv:t})}return{tsCode:e,compiledJSCode:t,groupBy:n,testedSpans:o}}))}dispose(){var e,t,n;this.elements.cancelButton.removeEventListener("click",this.binded.onCancelButtonClick,!1),this.elements.testButton.removeEventListener("click",this.binded.onTestButtonClick,!1),this.elements.saveButton.removeEventListener("click",this.binded.onSaveButtonClick,!1),null===(e=this.editor)||void 0===e||e.dispose(),null===(t=this.model)||void 0===t||t.dispose(),null===(n=this.editorContentChangeListener)||void 0===n||n.dispose(),this.editor=void 0,this.model=void 0,this.editorContentChangeListener=void 0}}var ci=function(e,t,n,i){return new(n||(n=Promise))((function(o,s){function a(e){try{l(i.next(e))}catch(e){s(e)}}function r(e){try{l(i.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,r)}l((i=i.apply(e,t||[])).next())}))};class di{constructor(e){this.options=e,this.elements={container:document.createElement("div"),monacoContainer:document.createElement("div"),testResultContainer:document.createElement("div"),cancelButton:document.createElement("button"),saveButton:document.createElement("button"),testButton:document.createElement("button")},this.tsManager=at.getSingleton(),this.stage=ie.getSingleton(),this.binded={onCancelButtonClick:this.onCancelButtonClick.bind(this),onSaveButtonClick:this.onSaveButtonClick.bind(this),onTestButtonClick:this.onTestButtonClick.bind(this),onMonacoEditorContentChange:Fe()(this.onMonacoEditorContentChange.bind(this),100)};const t=this.elements;t.container.classList.add("customization-form-modal-content"),t.monacoContainer.classList.add("monaco-container"),t.container.appendChild(t.monacoContainer),t.testResultContainer.classList.add("test-result"),t.testResultContainer.style.display="none",t.container.appendChild(t.testResultContainer);const n=document.createElement("div");n.classList.add("buttons"),t.container.appendChild(n);const i=document.createElement("div");i.classList.add("left"),n.appendChild(i);const o=document.createElement("div");o.classList.add("right"),n.appendChild(o),t.cancelButton.classList.add("cancel"),t.cancelButton.textContent="Cancel",i.appendChild(t.cancelButton),t.testButton.classList.add("test"),t.testButton.textContent="Test",o.appendChild(t.testButton),t.saveButton.classList.add("save","primary"),t.saveButton.textContent="Save",t.saveButton.disabled=!0,o.appendChild(t.saveButton)}init(){this.elements.cancelButton.addEventListener("click",this.binded.onCancelButtonClick,!1),this.elements.testButton.addEventListener("click",this.binded.onTestButtonClick,!1),this.elements.saveButton.addEventListener("click",this.binded.onSaveButtonClick,!1),this.initMonacoEditor()}initMonacoEditor(){const e=this.options.rawOptions?this.options.rawOptions.rawCode:'// Do something with "span" and return a string\nfunction labelBy(span: Span): string {\n    return span.operationName;\n}\n';this.model=nt.editor.createModel(e,"typescript"),this.editor=nt.editor.create(this.elements.monacoContainer,{minimap:{enabled:!1}}),this.editor.setModel(this.model),this.editor.addCommand(nt.KeyCode.Escape,(()=>{document.activeElement&&document.activeElement.blur()}),"!findWidgetVisible && !inReferenceSearchEditor && !editorHasSelection"),this.editor.focus(),this.editorContentChangeListener=this.model.onDidChangeContent(this.binded.onMonacoEditorContentChange)}getElement(){return this.elements.container}onMonacoEditorContentChange(){this.elements.testResultContainer.style.display="none",this.elements.saveButton.disabled=!0}onCancelButtonClick(){const e=be.getSingleton().findModalFromElement(this.elements.container);if(!e)throw new Error("Could not find modal instance");e.close({data:{action:"cancel"}})}onSaveButtonClick(){return ci(this,void 0,void 0,(function*(){try{const e=yield this.onTestButtonClick(),t=be.getSingleton().findModalFromElement(this.elements.container);if(!t)throw new Error("Could not find modal instance");t.close({data:Object.assign({action:"save"},e)})}catch(e){}}))}onTestButtonClick(){return ci(this,void 0,void 0,(function*(){this.elements.saveButton.disabled=!0,this.elements.testResultContainer.style.display="none";try{const e=yield this.test();return this.elements.saveButton.disabled=!1,0==e.testedSpans.length?this.showTestResult({type:"warning",title:"No spans in the stage to test",body:"Span labelling function seems OK, you can save it. However it's not tested on any real spans, since there is no trace added to the stage."}):this.showTestResult({type:"success",title:"Test successful",body:`Span labelling function seems OK. It's tested on ${e.testedSpans.length} span(s) in\n            the stage and here are some samples: <br />\n            <ul>\n              ${Ie()(e.testedSpans,3).map((e=>`<li>\n                  ${e.span.operationName} => <pre>${e.rv}</pre>\n                </li>`)).join("")}\n            </ul>`}),e}catch(e){this.showTestResult({type:"error",title:e.message,body:e.description||""})}}))}showTestResult(e){const t=this.elements.testResultContainer;t.classList.remove("success","warning","error"),t.classList.add(e.type);const n={success:ni.Z,warning:ve.Z,error:ii.Z}[e.type];t.innerHTML=`${n}\n      <div class="title">${e.title}</div>\n      <div class="body">${e.body||""}</div>`,t.style.display="block"}test(){return ci(this,void 0,void 0,(function*(){if(!this.model)throw new Error("Monaco text model is not ready");if(!this.editor)throw new Error("Monaco editor is not ready");const e=this.editor.getValue(),t=yield this.tsManager.compile(this.model.uri);let n;try{n=at.generateFunction(t,"labelBy")}catch(e){if("labelBy is not defined"==e.message){const e=new Error('Unexpected "labelBy" function');throw e.description='You have to declare a function named "labelBy" and it has to return a string.',e}throw e}if(!Ft()(n)){const e=new Error('Unexpected "labelBy" function');throw e.description='You have to declare a function named "labelBy" and it has to return a string.',e}const i=te()(this.stage.getAllTraces(),(e=>e.spans)),o=[];for(let e of i){const t=n(e);if(!E()(t)){console.error(`Return value of "labelBy" function must be string, but recieved "${typeof t}" for span`,e);const n=new Error("Function returned not a string");throw n.description=`Return value of "labelBy" function has to be a string, but got "${typeof t}" for a span. Please check your console for further details. Press Command+Option+I or Ctrl+Option+I to open devtools.`,n}o.push({span:e,rv:t})}return{tsCode:e,compiledJSCode:t,labelBy:n,testedSpans:o}}))}dispose(){var e,t,n;this.elements.cancelButton.removeEventListener("click",this.binded.onCancelButtonClick,!1),this.elements.testButton.removeEventListener("click",this.binded.onTestButtonClick,!1),this.elements.saveButton.removeEventListener("click",this.binded.onSaveButtonClick,!1),null===(e=this.editor)||void 0===e||e.dispose(),null===(t=this.model)||void 0===t||t.dispose(),null===(n=this.editorContentChangeListener)||void 0===n||n.dispose(),this.editor=void 0,this.model=void 0,this.editorContentChangeListener=void 0}}var Ai=n(61614),pi=n(27771),hi=n(40118),mi=n(3314),ui=n(60746),gi=n(11187),Ci=n(67719);s()(Ci.Z,{insert:"head",singleton:!1}),Ci.Z.locals;var bi=function(e,t,n,i){return new(n||(n=Promise))((function(o,s){function a(e){try{l(i.next(e))}catch(e){s(e)}}function r(e){try{l(i.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,r)}l((i=i.apply(e,t||[])).next())}))};class fi{constructor(){this.timeline=new Zn,this.stage=ie.getSingleton(),this.elements={container:document.createElement("div"),toolbar:document.createElement("div"),toolbarBtn:{moveTool:document.createElement("div"),rulerTool:document.createElement("div"),groupingMode:document.createElement("div"),spanLabellingMode:document.createElement("div"),spanColoringMode:document.createElement("div"),groupLayoutMode:document.createElement("div"),spanTooltipCustomization:document.createElement("div")},timelineContainer:document.createElement("div"),emptyMessage:{container:document.createElement("div"),sampleTraceButtonHotrod:document.createElement("span"),sampleTraceButtonRaftConsensus:document.createElement("span")}},this.spanColoringMode=wt.key,this.spanGroupingMode=Je.key,this.spanLabellingMode=Rt.key,this.groupLayoutMode=en.COMPACT,this.binded={onSpanGroupingModeMenuItemClick:this.onSpanGroupingModeMenuItemClick.bind(this),onCustomSpanGroupingModalClose:this.onCustomSpanGroupingModalClose.bind(this),onSpanLabellingMenuItemClick:this.onSpanLabellingMenuItemClick.bind(this),onCustomSpanLabellingModalClose:this.onCustomSpanLabellingModalClose.bind(this),onSpanColoringMenuItemClick:this.onSpanColoringMenuItemClick.bind(this),onCustomSpanColoringModalClose:this.onCustomSpanColoringModalClose.bind(this),onGroupLayoutMenuItemClick:this.onGroupLayoutMenuItemClick.bind(this),onMoveToolClick:this.onMoveToolClick.bind(this),onRulerToolClick:this.onRulerToolClick.bind(this),onSpanTooltipCustomizationMultiSelectSelect:this.onSpanTooltipCustomizationMultiSelectSelect.bind(this),onSpanTooltipCustomizationMultiSelectUnselect:this.onSpanTooltipCustomizationMultiSelectUnselect.bind(this),onSpanTooltipCustomizationMultiSelectSearchInput:this.onSpanTooltipCustomizationMultiSelectSearchInput.bind(this),onKeyDown:this.onKeyDown.bind(this),onKeyUp:this.onKeyUp.bind(this),onSampleTraceButtonHotrodClick:this.onSampleTraceButtonHotrodClick.bind(this),onSampleTraceButtonRaftConcensusClick:this.onSampleTraceButtonRaftConcensusClick.bind(this)},this.spanGroupingModeMenu=new Pn({items:[{type:"item",text:"Trace",id:qe.key},{type:"item",text:"Process",id:Je.key},{type:"item",text:"Service",id:et.key},{type:"divider"},{type:"item",text:"Custom",icon:"code-tags",id:"custom"}],onSelect:this.binded.onSpanGroupingModeMenuItemClick}),this.spanLabellingModeMenu=new Pn({items:[{type:"item",text:"Operation",id:Rt.key},{type:"item",text:"Service + Operation",id:Ot.key},{type:"divider"},{type:"item",text:"Custom",icon:"code-tags",id:"custom"}],onSelect:this.binded.onSpanLabellingMenuItemClick}),this.spanColoringModeMenu=new Pn({items:[{type:"item",text:"Operation",id:wt.key},{type:"item",text:"Service",id:St.key},{type:"item",text:"Self Time",id:Tt.key},{type:"divider"},{type:"item",text:"Custom",icon:"code-tags",id:"custom"}],onSelect:this.binded.onSpanColoringMenuItemClick}),this.groupLayoutModeMenu=new Pn({items:[{type:"item",text:"Fill",id:en.FILL},{type:"item",text:"Compact",id:en.COMPACT},{type:"item",text:"Waterfall",id:en.WATERFALL}],onSelect:this.binded.onGroupLayoutMenuItemClick}),this.spanTooltipCustomizationMultiSelect=new ti({width:200,maxItemContainerHeight:125,onSelect:this.binded.onSpanTooltipCustomizationMultiSelectSelect,onUnselect:this.binded.onSpanTooltipCustomizationMultiSelectUnselect,onSearchInput:this.binded.onSpanTooltipCustomizationMultiSelectSearchInput,items:[],emptyMessage:"No Fields"});const{container:e,toolbar:t,timelineContainer:n}=this.elements;e.classList.add("timeline-wrapper"),e.setAttribute("tabindex","-1"),e.appendChild(t),n.classList.add("timeline-container"),e.appendChild(n),this.prepareToolbar(),this.prepareEmptyMessage(),this.timeline.mount(n)}prepareEmptyMessage(){const{timelineContainer:e,emptyMessage:t}=this.elements;t.container.classList.add("empty-message-container");const n=document.createElement("div");t.container.appendChild(n);const i=document.createElement("div");i.classList.add("drag-drop-text"),i.innerHTML="• Drag & drop JSON files exported from Jaeger, or Zipkin.",n.appendChild(i);const o=document.createElement("div");o.classList.add("data-sources-text"),o.innerHTML=`• Use Data Sources ${We.Z} to search traces in Jaeger and Zipkin services.`,n.appendChild(o);const s=document.createElement("div");s.classList.add("sample-trace-text"),s.appendChild(document.createTextNode("• Load some example traces to get started easily: ")),t.sampleTraceButtonHotrod.classList.add("empty-message-link"),t.sampleTraceButtonHotrod.textContent="jaeger/hotrod",t.sampleTraceButtonHotrod.addEventListener("click",this.binded.onSampleTraceButtonHotrodClick,!1),s.appendChild(t.sampleTraceButtonHotrod),s.appendChild(document.createTextNode(", ")),t.sampleTraceButtonRaftConsensus.classList.add("empty-message-link"),t.sampleTraceButtonRaftConsensus.textContent="raft-consensus",t.sampleTraceButtonRaftConsensus.addEventListener("click",this.binded.onSampleTraceButtonRaftConcensusClick,!1),s.appendChild(t.sampleTraceButtonRaftConsensus),n.appendChild(s);const a=document.createElement("div");a.classList.add("raft-consensus-demo-app-text"),a.innerHTML='• Use <a href="https://deniz.co/raft-consensus" class="empty-message-link" target="_blank">the demo app</a> that simulates raft consensus algorithm and import traces from there.',n.appendChild(a),e.appendChild(t.container)}prepareToolbar(){const e=this.elements.toolbar,t=this.elements.toolbarBtn;e.classList.add("widget-toolbar","widget-toolbar");const n=document.createElement("div");n.classList.add("widget-toolbar-pane"),e.appendChild(n);const i=document.createElement("div");i.classList.add("widget-toolbar-pane","middle"),e.appendChild(i);const o=document.createElement("div");o.classList.add("widget-toolbar-pane","right"),e.appendChild(o),t.moveTool.classList.add("widget-toolbar-button"),t.moveTool.innerHTML=mi.Z,n.appendChild(t.moveTool),t.rulerTool.classList.add("widget-toolbar-button"),t.rulerTool.innerHTML=ui.Z,n.appendChild(t.rulerTool),t.groupingMode.classList.add("widget-toolbar-button","fix-stroke"),t.groupingMode.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 24 24">\n        <g>\n          <rect height="6" width="18" y="4" x="2" fill="none" stroke-width="2"></rect>\n          <line stroke-dasharray="2,2" y2="14" x2="24" y1="14" x1="0" fill="none" stroke-width="2"></line>\n          <rect height="6" width="18" y="17" x="2" stroke="none"></rect>\n        </g>\n      </svg>',i.appendChild(t.groupingMode),t.spanLabellingMode.classList.add("widget-toolbar-button"),t.spanLabellingMode.innerHTML=Ai.Z,i.appendChild(t.spanLabellingMode),t.spanColoringMode.classList.add("widget-toolbar-button","span-coloring"),t.spanColoringMode.innerHTML=pi.Z,i.appendChild(t.spanColoringMode),t.groupLayoutMode.classList.add("widget-toolbar-button","group-layout"),t.groupLayoutMode.innerHTML=hi.Z,i.appendChild(t.groupLayoutMode),t.spanTooltipCustomization.classList.add("widget-toolbar-button"),t.spanTooltipCustomization.innerHTML=gi.Z,o.appendChild(t.spanTooltipCustomization)}init(e){this.timeline.init({width:e.width,height:e.height-30}),this.initTooltips(),this.initDropdowns(),this.updateSelectedTool();const t=this.elements.toolbarBtn;t.moveTool.addEventListener("click",this.binded.onMoveToolClick,!1),t.rulerTool.addEventListener("click",this.binded.onRulerToolClick,!1),this.spanGroupingModeMenu.select(this.spanGroupingMode),this.spanLabellingModeMenu.select(this.spanLabellingMode),this.spanColoringModeMenu.select(this.spanColoringMode),this.groupLayoutModeMenu.select(this.groupLayoutMode),this.elements.container.addEventListener("keydown",this.binded.onKeyDown,!1),this.elements.container.addEventListener("keyup",this.binded.onKeyUp,!1),this.stage.getAllTraces().forEach((e=>this.addTrace(e)))}initTooltips(){const e=ce.getSingleton(),t=this.elements.toolbarBtn;e.addToSingleton([[t.moveTool,{content:"Move Tool",multiple:!0}],[t.rulerTool,{content:"Ruler Tool",multiple:!0}],[t.groupingMode,{content:"Span Grouping",multiple:!0}],[t.spanLabellingMode,{content:"Span Labelling",multiple:!0}],[t.spanColoringMode,{content:"Span Coloring",multiple:!0}],[t.groupLayoutMode,{content:"Draw Layout",multiple:!0}],[t.spanTooltipCustomization,{content:"Customize Span Tooltip",multiple:!0}]])}initDropdowns(){const e=this.elements.toolbarBtn;this.dropdowns={groupingMode:(0,i.t)(e.groupingMode,{content:this.spanGroupingModeMenu.element,multiple:!0,appendTo:document.body,placement:"bottom",duration:0,updateDuration:0,theme:"widget-toolbar-select",trigger:"click",interactive:!0}),spanLabellingMode:(0,i.t)(e.spanLabellingMode,{content:this.spanLabellingModeMenu.element,multiple:!0,appendTo:document.body,placement:"bottom",duration:0,updateDuration:0,theme:"widget-toolbar-select",trigger:"click",interactive:!0}),spanColoringMode:(0,i.t)(e.spanColoringMode,{content:this.spanColoringModeMenu.element,multiple:!0,appendTo:document.body,placement:"bottom",duration:0,updateDuration:0,theme:"widget-toolbar-select",trigger:"click",interactive:!0}),groupLayoutMode:(0,i.t)(e.groupLayoutMode,{content:this.groupLayoutModeMenu.element,multiple:!0,appendTo:document.body,placement:"bottom",duration:0,updateDuration:0,theme:"widget-toolbar-select",trigger:"click",interactive:!0}),spanTooltipCustomization:(0,i.t)(e.spanTooltipCustomization,{content:this.spanTooltipCustomizationMultiSelect.element,multiple:!0,appendTo:document.body,placement:"bottom",duration:0,updateDuration:0,theme:"widget-toolbar-multi-select",trigger:"click",interactive:!0})}}onKeyDown(e){if(e.target==this.elements.container)switch(e.key){case"f":{const e=this.timeline.getSelectedSpanId();if(!e)return;return void this.timeline.focusSpans([e])}case"w":return void this.timeline.translateY(10);case"a":return void this.timeline.translateX(10);case"s":return void this.timeline.translateY(-10);case"d":return void this.timeline.translateX(-10);case"c":{if(!e.ctrlKey&&!e.metaKey)return;const t=this.timeline.getSelectedSpanId();if(!t)return;const n=this.stage.getMainSpanGroup().get(t);if(!n)return;return void Hn(JSON.stringify(n,null,4))}case"Alt":if(this.timeline.tool==Vn.RULER)return;return this.timelineToolBeforeTemporarySwitchToRulerTool=this.timeline.tool,this.timeline.updateTool(Vn.RULER),void this.updateSelectedTool()}}onKeyUp(e){if(e.target==this.elements.container)switch(e.key){case"Alt":return void(this.timelineToolBeforeTemporarySwitchToRulerTool&&(this.timeline.updateTool(this.timelineToolBeforeTemporarySwitchToRulerTool),this.timelineToolBeforeTemporarySwitchToRulerTool=null,this.updateSelectedTool()))}}onMoveToolClick(){this.timeline.updateTool(Vn.MOVE),this.updateSelectedTool()}onRulerToolClick(){this.timeline.updateTool(Vn.RULER),this.updateSelectedTool()}onSpanGroupingModeMenuItemClick(e){if("divider"==e.type)return;if(this.dropdowns.groupingMode.hide(),"manage-all"===e.id)return;if("custom"===e.id){this.customSpanGroupingFormModalContent=new li({rawOptions:this.customSpanGroupingRawOptions});const e=new ge({content:this.customSpanGroupingFormModalContent.getElement(),onClose:this.binded.onCustomSpanGroupingModalClose,shouldAutoFocusFirstElement:!0});return be.getSingleton().show(e),void this.customSpanGroupingFormModalContent.init()}const t=dt.getSingleton().getOptions(e.id);if(t)try{this.timeline.updateSpanGrouping(t),this.spanGroupingMode=e.id,this.spanGroupingModeMenu.select(e.id)}catch(e){console.error(e),new(Ee())({text:`Unexpected error while grouping spans or layout: "${e.message} <br /><br />"Please check your console for further details. Press Cmd+Option+I or Ctrl+Option+I to open devtools.`,type:"error"}).show()}else new(Ee())({text:`Unknown span grouping: "${e.id}"`,type:"error"}).show()}onCustomSpanGroupingModalClose(e,t){if(this.customSpanGroupingFormModalContent&&(this.customSpanGroupingFormModalContent.dispose(),this.customSpanGroupingFormModalContent=null),e==de.CLOSE_METHOD_CALL&&"save"==t.action){this.customSpanGroupingRawOptions={key:"custom",name:"Custom",rawCode:t.tsCode,compiledCode:t.compiledJSCode};try{this.timeline.updateSpanGrouping({key:"custom",name:"Custom",groupBy:t.groupBy}),this.spanGroupingMode="custom",this.spanGroupingModeMenu.select("custom")}catch(e){console.error(e),new(Ee())({text:`Unexpected error while grouping spans or layout: "${e.message} <br /><br />"Please check your console for further details. Press Cmd+Option+I or Ctrl+Option+I to open devtools.`,type:"error"}).show()}}}onSpanLabellingMenuItemClick(e){if("divider"==e.type)return;if(this.dropdowns.spanLabellingMode.hide(),"manage-all"===e.id)return;if("custom"===e.id){this.customSpanLabellingFormModalContent=new di({rawOptions:this.customSpanLabellingRawOptions});const e=new ge({content:this.customSpanLabellingFormModalContent.getElement(),onClose:this.binded.onCustomSpanLabellingModalClose,shouldAutoFocusFirstElement:!0});return be.getSingleton().show(e),void this.customSpanLabellingFormModalContent.init()}const t=Dt.getSingleton().getOptions(e.id);if(t)try{this.timeline.updateSpanLabelling(t),this.spanLabellingMode=e.id,this.spanLabellingModeMenu.select(e.id)}catch(e){console.error(e),new(Ee())({text:`Unexpected error while labelling spans: "${e.message} <br /><br />"Please check your console for further details. Press Cmd+Option+I or Ctrl+Option+I to open devtools.`,type:"error"})}}onCustomSpanLabellingModalClose(e,t){if(this.customSpanLabellingFormModalContent&&(this.customSpanLabellingFormModalContent.dispose(),this.customSpanLabellingFormModalContent=null),e==de.CLOSE_METHOD_CALL&&"save"==t.action){this.customSpanLabellingRawOptions={key:"custom",name:"Custom",rawCode:t.tsCode,compiledCode:t.compiledJSCode};try{this.timeline.updateSpanLabelling({key:"custom",name:"Custom",labelBy:t.labelBy}),this.spanLabellingMode="custom",this.spanLabellingModeMenu.select("custom")}catch(e){console.error(e),new(Ee())({text:`Unexpected error while labelling spans: "${e.message} <br /><br />"Please check your console for further details. Press Cmd+Option+I or Ctrl+Option+I to open devtools.`,type:"error"})}}}onSpanColoringMenuItemClick(e){if("divider"==e.type)return;if(this.dropdowns.spanColoringMode.hide(),"manage-all"===e.id)return;if("custom"===e.id){this.customSpanColoringFormModalContent=new ai({rawOptions:this.customSpanColoringRawOptions});const e=new ge({content:this.customSpanColoringFormModalContent.getElement(),onClose:this.binded.onCustomSpanColoringModalClose,shouldAutoFocusFirstElement:!0});return be.getSingleton().show(e),void this.customSpanColoringFormModalContent.init()}const t=vt.getSingleton().getOptions(e.id);if(t)try{this.timeline.updateSpanColoring(t),this.spanColoringMode=e.id,this.spanColoringModeMenu.select(e.id)}catch(e){console.error(e),new(Ee())({text:`Unexpected error while coloring spans: "${e.message} <br /><br />"Please check your console for further details. Press Cmd+Option+I or Ctrl+Option+I to open devtools.`,type:"error"}).show()}else new(Ee())({text:` Unknown span coloring: "${e.id}"`,type:"error"})}onCustomSpanColoringModalClose(e,t){if(this.customSpanColoringFormModalContent&&(this.customSpanColoringFormModalContent.dispose(),this.customSpanColoringFormModalContent=null),e==de.CLOSE_METHOD_CALL&&"save"==t.action){this.customSpanColoringRawOptions={key:"custom",name:"Custom",rawCode:t.tsCode,compiledCode:t.compiledJSCode};try{this.timeline.updateSpanColoring({key:"custom",name:"Custom",colorBy:t.colorBy}),this.spanColoringMode="custom",this.spanColoringModeMenu.select("custom")}catch(e){console.error(e),new(Ee())({text:`Unexpected error while coloring spans: "${e.message} <br /><br />"Please check your console for further details. Press Cmd+Option+I or Ctrl+Option+I to open devtools.`,type:"error"}).show()}}}onGroupLayoutMenuItemClick(e){"divider"!=e.type&&(this.timeline.updateGroupLayoutMode(e.id),this.groupLayoutModeMenu.select(e.id),this.dropdowns.groupLayoutMode.hide())}onSpanTooltipCustomizationMultiSelectSelect(e){this.spanTooltipCustomizationMultiSelect.select(e.id);const t=this.timeline.getSpanTooltipContent(),n=t.getOptions();if("serviceName"==e.id)t.setShowServiceName(!0);else if("nearbyLogs"==e.id)t.setShowNearbyLogs(!0);else if(0==e.id.indexOf("tag.")){const i=e.id.replace("tag.",""),o=n.spanTagsToShow.slice();-1==o.indexOf(i)&&(o.push(i),t.setSpanTagsToShow(o))}else if(0==e.id.indexOf("process.tag.")){const i=e.id.replace("process.tag.",""),o=n.processTagsToShow.slice();-1==o.indexOf(i)&&(o.push(i),t.setProcessTagsToShow(o))}else console.warn(`Unknown span tooltip field: "${e.id}"`)}onSpanTooltipCustomizationMultiSelectUnselect(e){this.spanTooltipCustomizationMultiSelect.unselect(e.id);const t=this.timeline.getSpanTooltipContent(),n=t.getOptions();if("serviceName"==e.id)t.setShowServiceName(!1);else if("nearbyLogs"==e.id)t.setShowNearbyLogs(!1);else if(0==e.id.indexOf("tag.")){const i=e.id.replace("tag.",""),o=n.spanTagsToShow.slice();o.indexOf(i)>-1&&(o.splice(o.indexOf(i),1),t.setSpanTagsToShow(o))}else if(0==e.id.indexOf("process.tag.")){const i=e.id.replace("process.tag.",""),o=n.processTagsToShow.slice();o.indexOf(i)>-1&&(o.splice(o.indexOf(i),1),t.setProcessTagsToShow(o))}else console.warn(`Unknown span tooltip field: "${e.id}"`)}onSpanTooltipCustomizationMultiSelectSearchInput(){this.dropdowns.spanTooltipCustomization.popperInstance.update()}updateSelectedTool(){const e=this.elements.toolbarBtn,t={[Vn.MOVE]:e.moveTool,[Vn.RULER]:e.rulerTool};Object.values(t).forEach((e=>e.classList.remove("selected")));const n=t[this.timeline.tool];null==n||n.classList.add("selected")}updateSpanTooltipCustomizationMultiSelect(){const e=this.timeline.getSpanTooltipContent().getOptions(),t=[{id:"serviceName",text:"Service Name",selected:e.showServiceName},{id:"nearbyLogs",text:"Nearby Logs",selected:e.showNearbyLogs}];Object.keys(this.stage.getAllSpanTags()).forEach((e=>{t.push({id:`tag.${e}`,text:`tag.${e}`,category:"Span Tags"})})),Object.keys(this.stage.getAllProcessTags()).forEach((e=>{t.push({id:`process.tag.${e}`,text:`process.tag.${e}`,category:"Process Tags"})})),this.spanTooltipCustomizationMultiSelect.updateItems(t)}onSampleTraceButtonHotrodClick(e){return bi(this,void 0,void 0,(function*(){const e=I((yield n.e(144).then(n.t.bind(n,26420,19))).default.data[0]),t=new _t(e);this.stage.addTrace(t),window.Countly&&window.Countly.add_event({key:"trace_added_example",count:1,segmentation:{trace:"jaeger/hotrod"}})}))}onSampleTraceButtonRaftConcensusClick(e){return bi(this,void 0,void 0,(function*(){(yield n.e(290).then(n.t.bind(n,83346,19))).default.traces.forEach((e=>{const t=new _t(e);this.stage.addTrace(t)})),window.Countly&&window.Countly.add_event({key:"trace_added_example",count:1,segmentation:{trace:"raft-concensus"}})}))}addTrace(e){try{this.timeline.addTrace(e),this.updateSpanTooltipCustomizationMultiSelect(),this.elements.emptyMessage.container.style.display=this.timeline.getTraces().length>0?"none":""}catch(e){console.error(e),new(Ee())({text:`Unexpected error while adding trace: "${e.message} <br /><br />"Please check your console for further details. Press Cmd+Option+I or Ctrl+Option+I to open devtools.`,type:"error"}).show()}}removeTrace(e){try{this.timeline.removeTrace(e),this.updateSpanTooltipCustomizationMultiSelect(),this.elements.emptyMessage.container.style.display=this.timeline.getTraces().length>0?"none":""}catch(e){console.error(e),new(Ee())({text:`Unexpected error while adding trace: "${e.message} <br /><br />"Please check your console for further details. Press Cmd+Option+I or Ctrl+Option+I to open devtools.`,type:"error"}).show()}}mount(e){e.appendChild(this.elements.container)}unmount(){const e=this.elements.container.parentElement;null==e||e.removeChild(this.elements.container)}resize(e,t){this.timeline.resize(e,t-30)}dispose(){const e=ce.getSingleton(),t=this.elements.toolbarBtn;e.removeFromSingleton([t.moveTool,t.rulerTool,t.groupingMode,t.spanLabellingMode,t.spanColoringMode,t.groupLayoutMode,t.spanTooltipCustomization]);const{emptyMessage:n}=this.elements;for(let e of Object.values(this.dropdowns))e.destroy();this.dropdowns=null,this.elements.container.removeEventListener("keydown",this.binded.onKeyDown,!1),this.elements.container.removeEventListener("keyup",this.binded.onKeyUp,!1),t.moveTool.removeEventListener("click",this.binded.onMoveToolClick,!1),t.rulerTool.removeEventListener("click",this.binded.onRulerToolClick,!1),n.sampleTraceButtonHotrod.removeEventListener("click",this.binded.onSampleTraceButtonHotrodClick,!1),n.sampleTraceButtonRaftConsensus.removeEventListener("click",this.binded.onSampleTraceButtonRaftConcensusClick,!1),this.spanGroupingModeMenu.dispose(),this.groupLayoutModeMenu.dispose(),this.spanColoringModeMenu.dispose(),this.spanLabellingModeMenu.dispose()}}var Ei=n(4398),Bi=n(23079),vi=n.n(Bi);class yi extends Ei.Widget{constructor(e){super(),this.options=e,this.title.label=e.title,this.title.closable=!vi()(e.closable)||e.closable}onResize(e){var t,n;null===(n=(t=this.options).onResize)||void 0===n||n.call(t,e)}onCloseRequest(e){var t,n;super.onCloseRequest(e),null===(n=(t=this.options).onClose)||void 0===n||n.call(t)}onAfterShow(e){var t,n;super.onAfterShow(e),null===(n=(t=this.options).onAfterShow)||void 0===n||n.call(t)}}var wi=function(e,t,n,i){return new(n||(n=Promise))((function(o,s){function a(e){try{l(i.next(e))}catch(e){s(e)}}function r(e){try{l(i.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,r)}l((i=i.apply(e,t||[])).next())}))};class ki{constructor(e){this.options=e,this.elements={container:document.createElement("div"),monacoContainer:document.createElement("div"),testResultContainer:document.createElement("div"),cancelButton:document.createElement("button"),saveButton:document.createElement("button"),testButton:document.createElement("button")},this.tsManager=at.getSingleton(),this.stage=ie.getSingleton(),this.binded={onCancelButtonClick:this.onCancelButtonClick.bind(this),onSaveButtonClick:this.onSaveButtonClick.bind(this),onTestButtonClick:this.onTestButtonClick.bind(this),onMonacoEditorContentChange:Fe()(this.onMonacoEditorContentChange.bind(this),100)};const t=this.elements;t.container.classList.add("customization-form-modal-content"),t.monacoContainer.classList.add("monaco-container"),t.container.appendChild(t.monacoContainer),t.testResultContainer.classList.add("test-result"),t.testResultContainer.style.display="none",t.container.appendChild(t.testResultContainer);const n=document.createElement("div");n.classList.add("buttons"),t.container.appendChild(n);const i=document.createElement("div");i.classList.add("left"),n.appendChild(i);const o=document.createElement("div");o.classList.add("right"),n.appendChild(o),t.cancelButton.classList.add("cancel"),t.cancelButton.textContent="Cancel",i.appendChild(t.cancelButton),t.testButton.classList.add("test"),t.testButton.textContent="Test",o.appendChild(t.testButton),t.saveButton.classList.add("save","primary"),t.saveButton.textContent="Save",t.saveButton.disabled=!0,o.appendChild(t.saveButton)}init(){this.elements.cancelButton.addEventListener("click",this.binded.onCancelButtonClick,!1),this.elements.testButton.addEventListener("click",this.binded.onTestButtonClick,!1),this.elements.saveButton.addEventListener("click",this.binded.onSaveButtonClick,!1),this.initMonacoEditor()}initMonacoEditor(){const e=this.options.rawOptions?this.options.rawOptions.rawCode:'// Do something with "span" and return a boolean\nfunction filterBy(span: Span): boolean {\n    return (/keyword/ig).test(span.operationName);\n}\n';this.model=nt.editor.createModel(e,"typescript"),this.editor=nt.editor.create(this.elements.monacoContainer,{minimap:{enabled:!1}}),this.editor.setModel(this.model),this.editor.addCommand(nt.KeyCode.Escape,(()=>{document.activeElement&&document.activeElement.blur()}),"!findWidgetVisible && !inReferenceSearchEditor && !editorHasSelection"),this.editor.focus(),this.editorContentChangeListener=this.model.onDidChangeContent(this.binded.onMonacoEditorContentChange)}getElement(){return this.elements.container}onMonacoEditorContentChange(){this.elements.testResultContainer.style.display="none",this.elements.saveButton.disabled=!0}onCancelButtonClick(){const e=be.getSingleton().findModalFromElement(this.elements.container);if(!e)throw new Error("Could not find modal instance");e.close({data:{action:"cancel"}})}onSaveButtonClick(){return wi(this,void 0,void 0,(function*(){try{const e=yield this.onTestButtonClick(),t=be.getSingleton().findModalFromElement(this.elements.container);if(!t)throw new Error("Could not find modal instance");t.close({data:Object.assign({action:"save"},e)})}catch(e){}}))}onTestButtonClick(){return wi(this,void 0,void 0,(function*(){this.elements.saveButton.disabled=!0,this.elements.testResultContainer.style.display="none";try{const e=yield this.test();return this.elements.saveButton.disabled=!1,0==e.testedSpans.length?this.showTestResult({type:"warning",title:"No spans in the stage to test",body:"Span filtering function seems OK, you can save it. However it's not tested on any real spans, since there is no trace added to the stage."}):this.showTestResult({type:"success",title:"Test successful",body:`Span filtering function seems OK. It's tested on ${e.testedSpans.length} span(s) in\n            the stage and here are some samples: <br />\n            <ul>\n              ${Ie()(e.testedSpans,3).map((e=>`<li>\n                  ${e.span.operationName} => <pre>${e.rv}</pre>\n                </li>`)).join("")}\n            </ul>`}),e}catch(e){this.showTestResult({type:"error",title:e.message,body:e.description||""})}}))}showTestResult(e){const t=this.elements.testResultContainer;t.classList.remove("success","warning","error"),t.classList.add(e.type);const n={success:ni.Z,warning:ve.Z,error:ii.Z}[e.type];t.innerHTML=`${n}\n      <div class="title">${e.title}</div>\n      <div class="body">${e.body||""}</div>`,t.style.display="block"}test(){return wi(this,void 0,void 0,(function*(){if(!this.model)throw new Error("Monaco text model is not ready");if(!this.editor)throw new Error("Monaco editor is not ready");const e=this.editor.getValue(),t=yield this.tsManager.compile(this.model.uri);let n;try{n=at.generateFunction(t,"filterBy")}catch(e){if("filterBy is not defined"==e.message){const e=new Error('Unexpected "filterBy" function');throw e.description='You have to declare a function named "filterBy" and it has to return a boolean.',e}throw e}if(!Ft()(n)){const e=new Error('Unexpected "filterBy" function');throw e.description='You have to declare a function named "filterBy" and it has to return a boolean.',e}const i=this.stage.getAllSpans(),o=[];for(let e of i){const t=n(e);if(!vi()(t)){console.error(`Return value of "filterBy" function must be a boolean, but recieved "${typeof t}" for span`,e);const n=new Error("Function returned not a boolean");throw n.description=`Return value of "filterBy" function has to be a string, but got "${typeof t}" for a span. Please check your console for further details. Press Command+Option+I or Ctrl+Option+I to open devtools.`,n}o.push({span:e,rv:t})}return{tsCode:e,compiledJSCode:t,filterBy:n,testedSpans:o}}))}dispose(){var e,t,n;this.elements.cancelButton.removeEventListener("click",this.binded.onCancelButtonClick,!1),this.elements.testButton.removeEventListener("click",this.binded.onTestButtonClick,!1),this.elements.saveButton.removeEventListener("click",this.binded.onSaveButtonClick,!1),null===(e=this.editor)||void 0===e||e.dispose(),null===(t=this.model)||void 0===t||t.dispose(),null===(n=this.editorContentChangeListener)||void 0===n||n.dispose(),this.editor=void 0,this.model=void 0,this.editorContentChangeListener=void 0}}var Si=n(45472),xi=n(66924),Ti=n(8928),Li=n(12705);s()(Li.Z,{insert:"head",singleton:!1}),Li.Z.locals;var Mi,Ii=function(e,t,n,i){return new(n||(n=Promise))((function(o,s){function a(e){try{l(i.next(e))}catch(e){s(e)}}function r(e){try{l(i.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,r)}l((i=i.apply(e,t||[])).next())}))};!function(e){e.SPAN_SELECTED="span_selected"}(Mi||(Mi={}));class Di extends(U()){constructor(){super(),this.stage=ie.getSingleton(),this.contextMenuManager=Un.getSingleton(),this.spanRows=[],this.elements={container:document.createElement("div"),toolbar:document.createElement("div"),toolbarBtn:{filter:document.createElement("div"),removeFilter:document.createElement("div"),columns:document.createElement("div")},tableContainer:document.createElement("div")},this.viewPropertiesCache={width:0,height:0},this.binded={onTraceAdded:this.onTraceAdded.bind(this),onTraceRemoved:this.onTraceRemoved.bind(this),onColumnsMultiSelectSelect:this.onColumnsMultiSelectSelect.bind(this),onColumnsMultiSelectUnselect:this.onColumnsMultiSelectUnselect.bind(this),onColumnsMultiSelectSearchInput:this.onColumnsMultiSelectSearchInput.bind(this),onFilterButtonClick:this.onFilterButtonClick.bind(this),onRemoveFilterButtonClick:this.onRemoveFilterButtonClick.bind(this),onSpanFilteringModalClose:this.onSpanFilteringModalClose.bind(this),formatTimestamp:this.formatTimestamp.bind(this),formatDuration:this.formatDuration.bind(this),formatTags:this.formatTags.bind(this),formatProcessTags:this.formatProcessTags.bind(this),onRowClick:this.onRowClick.bind(this),onRowContext:this.onRowContext.bind(this),onKeyDown:this.onKeyDown.bind(this)},this.columnDefinitions={id:{title:"Span ID",field:"span.id"},traceId:{title:"Trace ID",field:"span.traceId"},operationName:{title:"Operation Name",field:"span.operationName"},serviceName:{title:"Service Name",field:"serviceName"},startTime:{title:"Start Time",field:"span.startTime",formatter:this.binded.formatTimestamp},finishTime:{title:"Finish Time",field:"span.finishTime",formatter:this.binded.formatTimestamp},totalTime:{title:"Total Time",field:"totalTime",formatter:this.binded.formatDuration},selfTime:{title:"Self Time",field:"selfTime",formatter:this.binded.formatDuration},tags:{title:"Tags",field:"span.tags",formatter:this.binded.formatTags,headerSort:!1},processTags:{title:"Process Tags",field:"span.process.tags",formatter:this.binded.formatProcessTags,headerSort:!1}},this.columnsMultiSelect=new ti({width:200,maxItemContainerHeight:125,onSelect:this.binded.onColumnsMultiSelectSelect,onUnselect:this.binded.onColumnsMultiSelectUnselect,onSearchInput:this.binded.onColumnsMultiSelectSearchInput,items:[],emptyMessage:"No Spans"});const{container:e,toolbar:t,tableContainer:n}=this.elements;e.classList.add("spans-table-view"),e.appendChild(t),e.appendChild(n),this.prepareToolbar()}prepareToolbar(){const e=this.elements.toolbar,t=this.elements.toolbarBtn;e.classList.add("widget-toolbar","widget-toolbar");const n=document.createElement("div");n.classList.add("widget-toolbar-pane"),e.appendChild(n);const i=document.createElement("div");i.classList.add("widget-toolbar-pane","middle"),e.appendChild(i);const o=document.createElement("div");o.classList.add("widget-toolbar-pane","right"),e.appendChild(o),t.filter.classList.add("widget-toolbar-button"),t.filter.innerHTML=Si.Z,n.appendChild(t.filter),t.removeFilter.classList.add("widget-toolbar-button"),t.removeFilter.innerHTML=xi.Z,t.removeFilter.classList.add("disabled"),n.appendChild(t.removeFilter),t.columns.classList.add("widget-toolbar-button"),t.columns.innerHTML=Ti.Z,o.appendChild(t.columns)}init(e){this.viewPropertiesCache={width:e.width,height:e.height},this.initTooltips(),this.initDropdowns(),this.stage.on(J.TRACE_ADDED,this.binded.onTraceAdded),this.stage.on(J.TRACE_REMOVED,this.binded.onTraceRemoved),this.elements.toolbarBtn.filter.addEventListener("click",this.binded.onFilterButtonClick,!1),this.elements.toolbarBtn.removeFilter.addEventListener("click",this.binded.onRemoveFilterButtonClick,!1),this.elements.container.addEventListener("keydown",this.binded.onKeyDown,!1),this.spanRows=this.stage.getAllSpans().map((e=>this.span2RowData(e))),this.table=new Le(this.elements.tableContainer,{autoResize:!1,height:this.viewPropertiesCache.height-27,data:this.spanRows,layout:"fitDataFill",movableColumns:!0,selectable:1,columns:[this.columnDefinitions.startTime,this.columnDefinitions.totalTime,this.columnDefinitions.selfTime,this.columnDefinitions.operationName,this.columnDefinitions.serviceName],initialSort:[{column:this.columnDefinitions.startTime.field,dir:"asc"}],rowClick:this.binded.onRowClick,rowContext:this.binded.onRowContext,keybindings:!1}),this.updateColumnsMultiSelectItems()}initTooltips(){const e=ce.getSingleton(),t=this.elements.toolbarBtn;e.addToSingleton([[t.filter,{content:"Filter Spans",multiple:!0}]]),e.addToSingleton([[t.removeFilter,{content:"Remove Span Filter",multiple:!0}]]),e.addToSingleton([[t.columns,{content:"Customize Columns",multiple:!0}]])}initDropdowns(){this.dropdowns={columnsSelection:(0,i.t)(this.elements.toolbarBtn.columns,{content:this.columnsMultiSelect.element,multiple:!0,appendTo:document.body,placement:"bottom",duration:0,updateDuration:0,theme:"widget-toolbar-multi-select",trigger:"click",interactive:!0})}}onTraceAdded(e){return Ii(this,void 0,void 0,(function*(){let t=!1;if(e.spans.forEach((e=>{e.tags.hasOwnProperty("error")&&(t=!0),this.spanRows.push(this.span2RowData(e))})),t){const e=this.table.getColumnDefinitions();m()(e,(e=>e.field==Pi("error")))||this.addColumnGracefullyBeforeTagsOrProcessTagsColumn({title:_i("error"),field:Pi("error"),formatter:e=>e.getRow().getData().span.tags.error||""})}this.updateColumnsMultiSelectItems(),yield this.updateTableData()}))}onTraceRemoved(e){return Ii(this,void 0,void 0,(function*(){e.spans.forEach((e=>ae()(this.spanRows,(t=>t.span.id==e.id)))),this.updateColumnsMultiSelectItems(),yield this.updateTableData()}))}updateColumnsMultiSelectItems(){const e=this.table.getColumnDefinitions(),t=Object.keys(this.columnDefinitions).map((t=>{const n=this.columnDefinitions[t],i=!!m()(e,(e=>e.field==n.field));return{id:t,text:n.title,selected:i}}));Object.keys(this.stage.getAllSpanTags()).forEach((n=>{const i=!!m()(e,(e=>e.field==Pi(n)));t.push({id:_i(n),text:_i(n),category:"Span Tags",selected:i})})),Object.keys(this.stage.getAllProcessTags()).forEach((n=>{const i=!!m()(e,(e=>e.field==function(e){return`span.process.tags.${e}`}(n)));t.push({id:zi(n),text:zi(n),category:"Process Tags",selected:i})})),e.forEach((e=>{m()(t,(t=>t.text==e.title))||t.push({id:e.title,text:e.title,category:0==e.title.indexOf(Ri)?"Span Tags":0==e.title.indexOf(Oi)?"Process Tags":void 0,selected:!0})})),this.columnsMultiSelect.updateItems(t)}onColumnsMultiSelectSelect(e){this.columnsMultiSelect.select(e.id);let t=this.columnDefinitions[e.id];if(!t&&0==e.id.indexOf(Ri)){const n=e.id.replace(Ri,"");t={title:e.id,field:`span.tags.${n}`,formatter:e=>e.getRow().getData().span.tags[n]||""}}if(!t&&0==e.id.indexOf(Oi)){const n=e.id.replace(Oi,"");t={title:e.id,field:`span.process.tags.${n}`,formatter:e=>{const t=e.getRow().getData();return(t.span.process&&t.span.process.tags||{})[n]||""}}}if(!t)throw console.error(`Unknown column id: "${e.id}"`,e),new Error(`Unknown column id: "${e.id}"`);this.addColumnGracefullyBeforeTagsOrProcessTagsColumn(t)}addColumnGracefullyBeforeTagsOrProcessTagsColumn(e){const t=this.table.getColumnDefinitions(),n=m()(t,(e=>e.field==this.columnDefinitions.tags.field||e.field==this.columnDefinitions.processTags.field));n?this.table.addColumn(e,!0,n.field):this.table.addColumn(e)}onColumnsMultiSelectUnselect(e){this.columnsMultiSelect.unselect(e.id);let t="";if(this.columnDefinitions[e.id]&&(t=this.columnDefinitions[e.id].field),t||0!=e.id.indexOf(Ri)||(t=`span.tags.${e.id.replace(Ri,"")}`),t||0!=e.id.indexOf(Oi)||(t=`span.process.tags.${e.id.replace(Oi,"")}`),!t)throw console.error(`Unknown column id: "${e.id}"`,e),new Error(`Unknown column id: "${e.id}"`);this.table.deleteColumn(t)}onColumnsMultiSelectSearchInput(){this.dropdowns.columnsSelection.popperInstance.update()}span2RowData(e){const t=e.finishTime-e.startTime,n=this.stage.getSpanSelfTime(e.id),i=tt(e),o=Re()(e);return{id:e.id,span:o,spanOriginal:e,totalTime:t,selfTime:n,serviceName:i}}formatTimestamp(e){return Te(e.getValue()-this.stage.startTimestamp)}formatDuration(e){return Te(e.getValue())}formatTags(e){const t=e.getRow().getData();let n="";return Object.keys(t.spanOriginal.tags).sort(((e,t)=>e>t?1:e<t?-1:0)).forEach((e=>{const i=t.spanOriginal.tags[e];n+=`<span class="spans-table-tag">${e}:</span>\n        <span class="spans-table-value">${i}</span>`})),n}formatProcessTags(e){const t=e.getRow().getData();let n="";return Object.keys(t.spanOriginal.process&&t.spanOriginal.process.tags||{}).sort(((e,t)=>e>t?1:e<t?-1:0)).forEach((e=>{const i=t.spanOriginal.process.tags[e];n+=`<span class="spans-table-tag">${e}:</span>\n        <span class="spans-table-value">${i}</span>`})),n}updateTableData(){return Ii(this,void 0,void 0,(function*(){const e=this.spanFilteringFn;if(e)try{const t=this.spanRows.filter((t=>e(t.spanOriginal)));yield this.table.replaceData(t),this.updateRowSelectionGracefully()}catch(e){console.error(e),new(Ee())({text:`Unexpected error while filtering spans: "${e.message} <br /><br />"Please check your console for further details. Press Command+Option+I or Ctrl+Option+I to open devtools.`,type:"error"}).show()}else yield this.table.replaceData(this.spanRows),this.updateRowSelectionGracefully()}))}updateRowSelectionGracefully(){this.selectedSpanId&&this.selectSpan(this.selectedSpanId,!0)}showFilterModal(){this.spanFilteringFormModalContent=new ki({rawOptions:this.spanFilteringRawOptions});const e=new ge({content:this.spanFilteringFormModalContent.getElement(),onClose:this.binded.onSpanFilteringModalClose,shouldAutoFocusFirstElement:!0});be.getSingleton().show(e),this.spanFilteringFormModalContent.init()}onFilterButtonClick(){this.showFilterModal()}onSpanFilteringModalClose(e,t){return Ii(this,void 0,void 0,(function*(){this.spanFilteringFormModalContent&&(this.spanFilteringFormModalContent.dispose(),this.spanFilteringFormModalContent=null),e==de.CLOSE_METHOD_CALL&&"save"==t.action&&(this.spanFilteringRawOptions={key:"custom",name:"Custom",rawCode:t.tsCode,compiledCode:t.compiledJSCode},this.spanFilteringFn=t.filterBy,this.elements.toolbarBtn.filter.classList.add("selected"),this.elements.toolbarBtn.removeFilter.classList.remove("disabled"),yield this.updateTableData())}))}onRemoveFilterButtonClick(){return Ii(this,void 0,void 0,(function*(){yield this.removeFilter()}))}removeFilter(){return Ii(this,void 0,void 0,(function*(){this.spanFilteringFn=null,this.elements.toolbarBtn.filter.classList.remove("selected"),this.elements.toolbarBtn.removeFilter.classList.add("disabled"),yield this.updateTableData()}))}selectSpan(e,t=!1){if(!e)return this.selectedSpanId=null,this.table.deselectRow(),void(!t&&this.emit(Mi.SPAN_SELECTED,null));const n=this.table.getRow(e);if(!n)return this.selectedSpanId=null,this.table.deselectRow(),void(!t&&this.emit(Mi.SPAN_SELECTED,null));this.selectedSpanId=e,this.table.deselectRow(),n.select(),!t&&this.emit(Mi.SPAN_SELECTED,e)}focusSpan(e){this.table.getRow(e)&&this.table.scrollToRow(e)}redrawTable(){let e=!1;const t=this.table.getColumnDefinitions().length;for(let n=1;n<=t;n++){const t=this.elements.tableContainer.querySelectorAll(`.tabulator-table > .tabulator-row .tabulator-cell:nth-child(${n})`),i=Ie()(t,5);if(i.length>2){const t=i[0].offsetWidth;if(!i.every((e=>e.offsetWidth===t))){e=!0;break}}}this.table.redraw(e)}onRowClick(e,t){const n=t.getData();this.selectSpan(n.span.id)}onRowContext(e,t){e.preventDefault();const n=t.getData();this.contextMenuManager.show({x:e.clientX,y:e.clientY,menuItems:[{selectItem:{type:"item",text:"Show in Timeline View",id:"showInTimelineView"},emitEvent:{event:zn.SHOW_SPAN_IN_TIMELINE_VIEW,data:n.span.id}},{selectItem:{type:"item",text:"Copy Span To Clipboard",id:"copyToClipboard",altText:"⌘C"},onSelected:()=>this.copySpanToClipboard(n.span.id)}]})}copySpanToClipboard(e){if(!e)return;const t=m()(this.spanRows,(t=>t.span.id==e));t&&Hn(JSON.stringify(t.spanOriginal,null,4))}getSelectedSpanId(){return this.selectedSpanId}onKeyDown(e){if(!(e.target instanceof HTMLInputElement||e.target instanceof HTMLTextAreaElement))if("f"!=e.key||!e.ctrlKey&&!e.metaKey)if("c"!=e.key||!e.ctrlKey&&!e.metaKey);else{if(!this.selectedSpanId)return;const e=this.stage.getMainSpanGroup().get(this.selectedSpanId);if(!e)return;Hn(JSON.stringify(e,null,4))}else this.showFilterModal()}mount(e){e.appendChild(this.elements.container)}unmount(){const e=this.elements.container.parentElement;null==e||e.removeChild(this.elements.container)}resize(e,t){this.viewPropertiesCache={width:e,height:t},this.table.setHeight(t-27),this.redrawTable()}dispose(){var e;null===(e=this.table)||void 0===e||e.destroy(),this.table=null,this.elements.toolbarBtn.filter.removeEventListener("click",this.binded.onFilterButtonClick,!1),this.elements.toolbarBtn.removeFilter.removeEventListener("click",this.binded.onRemoveFilterButtonClick,!1),this.elements.container.removeEventListener("keydown",this.binded.onKeyDown,!1),this.stage.removeListener(J.TRACE_ADDED,this.binded.onTraceAdded),this.stage.removeListener(J.TRACE_ADDED,this.binded.onTraceRemoved);const t=ce.getSingleton(),n=this.elements.toolbarBtn;t.removeFromSingleton([n.columns]);for(let e of Object.values(this.dropdowns))e.destroy();this.dropdowns=null,this.removeAllListeners()}}const Ri="tag.",Oi="process.tag.";function _i(e){return`${Ri}${e}`}function Pi(e){return`span.tags.${e}`}function zi(e){return`${Oi}${e}`}var Ni=n(85805),Fi=n(87034);s()(Fi.Z,{insert:"head",singleton:!1}),Fi.Z.locals;class Ui{constructor(){this.stage=ie.getSingleton(),this.contextMenuManager=Un.getSingleton(),this.elements={container:document.createElement("div")},this.binded={onTimelineSpanSelected:this.onTimelineSpanSelected.bind(this),onSpansTableSpanSelected:this.onSpansTableSpanSelected.bind(this),onStageTraceRemoved:this.onStageTraceRemoved.bind(this),onContextMenu:this.onContextMenu.bind(this)};const{container:e}=this.elements;e.classList.add("span-summary")}init(e){this.timeline=e.timeline,this.spansTable=e.spansTable,this.timeline.on(jn.SPAN_SELECTED,this.binded.onTimelineSpanSelected),this.spansTable.on(Mi.SPAN_SELECTED,this.binded.onSpansTableSpanSelected),this.stage.on(J.TRACE_REMOVED,this.binded.onStageTraceRemoved),this.elements.container.addEventListener("contextmenu",this.binded.onContextMenu,!1),this.render(this.timeline.getSelectedSpanId()||this.spansTable.getSelectedSpanId())}onTimelineSpanSelected(e){this.render(e)}onSpansTableSpanSelected(e){this.render(e)}render(e){if(!e)return this.selectedSpanId=null,void(this.elements.container.innerHTML=`<div class="no-span-selected">\n        ${Ni.Z}\n        <span>No Span Selected</span>\n      </div>`);if(e==this.selectedSpanId)return;this.selectedSpanId=e;const t=this.stage.getMainSpanGroup(),n=t.get(e);if(!n)return void(this.elements.container.innerHTML=`<div class="no-span-selected">\n        ${ve.Z}\n        <span>Span not found: "${e}"</span>\n      </div>`);let i="";i=0==n.references.length?'<span class="no-references">\n        This span has no references, it\'s a root span.\n      </span>':n.references.map((e=>{const n=t.get(e.spanId);return n?`<div class="key-value-row" data-ref-span-id="${e.spanId}">\n          <div class="key">${e.type}:</div>\n          <div class="value bold">${n.operationName}</div>\n        </div>`:`<div class="key-value-row">\n            <div class="key">${e.type}:</div>\n            <div class="value bold alert" title="Span not found in the stage">${e.spanId} ${Tn.Z}</div>\n          </div>`})).join(""),this.elements.container.innerHTML=`<div class="span-summary-content">\n      <div class="operation-name">${n.operationName}</div>\n      <div class="key-value-row">\n        <div class="key">Service:</div>\n        <div class="value bold">${tt(n)}</div>\n      </div>\n      <div class="key-value-row">\n        <div class="key">Total Time:</div>\n        <div class="value bold">${Te(n.finishTime-n.startTime)}</div>\n      </div>\n      <div class="key-value-row">\n        <div class="key">Self Time:</div>\n        <div class="value bold">${Te(this.stage.getSpanSelfTime(n.id))}</div>\n      </div>\n      <div class="key-value-row" title="Relative to stage beginning">\n        <div class="key">Start Time:</div>\n        <div class="value">${Te(n.startTime-this.stage.startTimestamp)}</div>\n      </div>\n      <div class="key-value-row" title="Relative to stage beginning">\n        <div class="key">Finish Time:</div>\n        <div class="value">${Te(n.finishTime-this.stage.startTimestamp)}</div>\n      </div>\n      <div class="key-value-row">\n        <div class="key">Span ID:</div>\n        <div class="value">${n.id}</div>\n      </div>\n      <div class="key-value-row">\n        <div class="key">Trace ID:</div>\n        <div class="value">${n.traceId}</div>\n      </div>\n\n      <div class="references-title">References</div>\n      ${i}\n    </div>`}onStageTraceRemoved(){this.selectedSpanId&&(this.stage.getMainSpanGroup().get(this.selectedSpanId)||this.render(null))}onContextMenu(e){const t=e.target.closest("[data-ref-span-id]");if(!t)return;e.preventDefault();const n=t.getAttribute("data-ref-span-id");this.contextMenuManager.show({x:e.clientX,y:e.clientY,menuItems:[{selectItem:{type:"item",text:"Show Span in Timeline View",id:"showInTimelineView"},emitEvent:{event:zn.SHOW_SPAN_IN_TIMELINE_VIEW,data:n}},{selectItem:{type:"item",text:"Show Span in Table View",id:"showInTableView"},emitEvent:{event:zn.SHOW_SPAN_IN_TABLE_VIEW,data:n}}]})}mount(e){e.appendChild(this.elements.container)}unmount(){const e=this.elements.container.parentElement;null==e||e.removeChild(this.elements.container)}resize(e,t){}dispose(){this.timeline.removeListener(jn.SPAN_SELECTED,this.binded.onTimelineSpanSelected),this.spansTable.removeListener(Mi.SPAN_SELECTED,this.binded.onSpansTableSpanSelected),this.stage.removeListener(J.TRACE_REMOVED,this.binded.onStageTraceRemoved),this.elements.container.removeEventListener("contextmenu",this.binded.onContextMenu,!1)}}function Hi(e){const t=new RegExp("\x3c!--[\\s\\S]*?(?:--\x3e)?\x3c!---+>?|<!(?![dD][oO][cC][tT][yY][pP][eE]|\\[CDATA\\[)[^>]*>?|<[?][^>]*>?","g"),n=document.createElement("div");return n.innerHTML=e.trim().replace(t,""),n.firstChild}var Wi=n(67120),ji=n(99557),Vi=n(66155);s()(Vi.Z,{insert:"head",singleton:!1}),Vi.Z.locals;class Zi{constructor(){this.stage=ie.getSingleton(),this.tagItems=[],this.fuse=new(Yn())([],{keys:["key","value"]}),this.elements={container:document.createElement("div"),toolbar:document.createElement("div"),searchInput:document.createElement("input"),contentContainer:document.createElement("div")},this.binded={onSearchInput:Jn()(this.onSearchInput.bind(this),100),onTimelineSpanSelected:this.onTimelineSpanSelected.bind(this),onSpansTableSpanSelected:this.onSpansTableSpanSelected.bind(this),onStageTraceRemoved:this.onStageTraceRemoved.bind(this)};const{container:e,toolbar:t,contentContainer:n}=this.elements;e.classList.add("span-tags"),this.prepareToolbar(),e.appendChild(t),n.classList.add("content-container"),e.appendChild(n)}prepareToolbar(){const e=this.elements.toolbar,t=this.elements.searchInput;e.classList.add("widget-toolbar");const n=document.createElement("div");n.classList.add("input-with-svg-icon-container"),e.appendChild(n),t.type="search",t.placeholder="Search...",t.classList.add("small","borderless"),n.appendChild(t),n.appendChild(Hi(Wi.Z))}init(e){this.timeline=e.timeline,this.spansTable=e.spansTable,this.elements.searchInput.addEventListener("input",this.binded.onSearchInput,!1),this.timeline.on(jn.SPAN_SELECTED,this.binded.onTimelineSpanSelected),this.spansTable.on(Mi.SPAN_SELECTED,this.binded.onSpansTableSpanSelected),this.stage.on(J.TRACE_REMOVED,this.binded.onStageTraceRemoved),this.render()}render(){if(!this.selectedSpanId)return void(this.elements.contentContainer.innerHTML=`<div class="content-message">\n        ${Ni.Z}\n        <span>No Span Selected</span>\n      </div>`);const e=this.elements.searchInput.value.trim();if(e){const t=this.fuse.search(e);return 0==t.length?void(this.elements.contentContainer.innerHTML=`<div class="content-message">\n          ${ji.Z}\n          <span>No Result</span>\n        </div>`):void this.renderTagItems(t)}0!=this.tagItems.length?this.renderTagItems(this.tagItems):this.elements.contentContainer.innerHTML=`<div class="content-message">\n        ${ji.Z}\n        <span>No Tags</span>\n      </div>`}renderTagItems(e){this.elements.contentContainer.innerHTML=e.map((({key:e,value:t})=>`<div class="key-value-row ${function(e,t){return"error"==e}(e)?"error":""}">\n        <div class="key">${e}:</div>\n        <div class="value bold">${t}</div>\n      </div>`)).join("")}onSearchInput(e){this.render()}onTimelineSpanSelected(e){this.updateSpan(e)}onSpansTableSpanSelected(e){this.updateSpan(e)}updateSpan(e){if(this.selectedSpanId==e)return;if(!e)return this.selectedSpanId=null,this.tagItems=[],this.fuse=new(Yn())([],{keys:["key","value"]}),void this.render();const t=this.stage.getMainSpanGroup().get(e);this.selectedSpanId=e,this.tagItems=Object.keys(t.tags).sort(((e,t)=>e<t?-1:e>t?1:0)).map((e=>({key:e,value:t.tags[e]}))),this.fuse=new(Yn())(this.tagItems,{keys:["key","value"]}),this.render()}onStageTraceRemoved(){this.selectedSpanId&&(this.stage.getMainSpanGroup().get(this.selectedSpanId)||this.updateSpan(null))}mount(e){e.appendChild(this.elements.container)}unmount(){const e=this.elements.container.parentElement;null==e||e.removeChild(this.elements.container)}resize(e,t){}dispose(){this.elements.searchInput.removeEventListener("input",this.binded.onSearchInput,!1),this.timeline.removeListener(jn.SPAN_SELECTED,this.binded.onTimelineSpanSelected),this.spansTable.removeListener(Mi.SPAN_SELECTED,this.binded.onSpansTableSpanSelected),this.stage.removeListener(J.TRACE_REMOVED,this.binded.onStageTraceRemoved)}}var $i=n(24226);s()($i.Z,{insert:"head",singleton:!1}),$i.Z.locals;class Yi{constructor(){this.stage=ie.getSingleton(),this.processTagItems=[],this.fuse=new(Yn())([],{keys:["key","value"]}),this.elements={container:document.createElement("div"),toolbar:document.createElement("div"),searchInput:document.createElement("input"),contentContainer:document.createElement("div")},this.binded={onSearchInput:Jn()(this.onSearchInput.bind(this),100),onTimelineSpanSelected:this.onTimelineSpanSelected.bind(this),onSpansTableSpanSelected:this.onSpansTableSpanSelected.bind(this),onStageTraceRemoved:this.onStageTraceRemoved.bind(this)};const{container:e,toolbar:t,contentContainer:n}=this.elements;e.classList.add("span-process-tags"),this.prepareToolbar(),e.appendChild(t),n.classList.add("content-container"),e.appendChild(n)}prepareToolbar(){const e=this.elements.toolbar,t=this.elements.searchInput;e.classList.add("widget-toolbar");const n=document.createElement("div");n.classList.add("input-with-svg-icon-container"),e.appendChild(n),t.type="search",t.placeholder="Search...",t.classList.add("small","borderless"),n.appendChild(t),n.appendChild(Hi(Wi.Z))}init(e){this.timeline=e.timeline,this.spansTable=e.spansTable,this.elements.searchInput.addEventListener("input",this.binded.onSearchInput,!1),this.timeline.on(jn.SPAN_SELECTED,this.binded.onTimelineSpanSelected),this.spansTable.on(Mi.SPAN_SELECTED,this.binded.onSpansTableSpanSelected),this.stage.on(J.TRACE_REMOVED,this.binded.onStageTraceRemoved),this.render()}render(){if(!this.selectedSpanId)return void(this.elements.contentContainer.innerHTML=`<div class="content-message">\n        ${Ni.Z}\n        <span>No Span Selected</span>\n      </div>`);const e=this.elements.searchInput.value.trim();if(e){const t=this.fuse.search(e);return 0==t.length?void(this.elements.contentContainer.innerHTML=`<div class="content-message">\n          ${ji.Z}\n          <span>No Result</span>\n        </div>`):void this.renderTagItems(t)}0!=this.processTagItems.length?this.renderTagItems(this.processTagItems):this.elements.contentContainer.innerHTML=`<div class="content-message">\n        ${ji.Z}\n        <span>No Tags</span>\n      </div>`}renderTagItems(e){this.elements.contentContainer.innerHTML=e.map((({key:e,value:t})=>`<div class="key-value-row ${"error"==e.toLowerCase()?"error":""}">\n        <div class="key">${e}:</div>\n        <div class="value bold">${t}</div>\n      </div>`)).join("")}onSearchInput(e){this.render()}onTimelineSpanSelected(e){this.updateSpan(e)}onSpansTableSpanSelected(e){this.updateSpan(e)}updateSpan(e){if(this.selectedSpanId==e)return;if(!e)return this.selectedSpanId=null,this.processTagItems=[],this.fuse=new(Yn())([],{keys:["key","value"]}),void this.render();const t=this.stage.getMainSpanGroup().get(e);this.selectedSpanId=e;const n=t.process&&t.process.tags||{};this.processTagItems=Object.keys(n).sort(((e,t)=>e<t?-1:e>t?1:0)).map((e=>({key:e,value:n[e]}))),this.fuse=new(Yn())(this.processTagItems,{keys:["key","value"]}),this.render()}onStageTraceRemoved(){this.selectedSpanId&&(this.stage.getMainSpanGroup().get(this.selectedSpanId)||this.updateSpan(null))}mount(e){e.appendChild(this.elements.container)}unmount(){const e=this.elements.container.parentElement;null==e||e.removeChild(this.elements.container)}resize(e,t){}dispose(){this.elements.searchInput.removeEventListener("input",this.binded.onSearchInput,!1),this.timeline.removeListener(jn.SPAN_SELECTED,this.binded.onTimelineSpanSelected),this.spansTable.removeListener(Mi.SPAN_SELECTED,this.binded.onSpansTableSpanSelected),this.stage.removeListener(J.TRACE_REMOVED,this.binded.onStageTraceRemoved)}}var qi=n(59222);s()(qi.Z,{insert:"head",singleton:!1}),qi.Z.locals;class Gi{constructor(){this.stage=ie.getSingleton(),this.elements={container:document.createElement("div"),header:document.createElement("div"),body:document.createElement("div")},this.fields=[],this.binded={onHeaderClick:this.onHeaderClick.bind(this)};const e=this.elements;e.container.classList.add("span-log-item"),e.header.classList.add("span-log-item-header"),e.container.appendChild(e.header),e.body.classList.add("span-log-item-body"),e.container.appendChild(e.body)}init(e){if(this.options=xe()(e,{log:null,isExpanded:!1,title:null}),!this.options.title){const e=Te(this.options.log.timestamp-this.stage.startTimestamp);this.options.title=`t = ${e}`}this.fields=Object.keys(this.options.log.fields).sort(((e,t)=>e<t?-1:e>t?1:0)).map((e=>({key:e,value:this.options.log.fields[e]}))),this.elements.header.addEventListener("click",this.binded.onHeaderClick,!1),this.render()}expand(){this.options.isExpanded=!0,this.render()}collapse(){this.options.isExpanded=!1,this.render()}render(){this.elements.container.setAttribute("data-log-timestamp",`${this.options.log.timestamp}`),this.options.isExpanded?this.renderExpanded():this.renderCollapsed()}renderCollapsed(){const e=this.elements;let t=!1;const n=Object.keys(this.options.log.fields).sort(((e,t)=>e<t?-1:e>t?1:0)).map((e=>{const n=this.options.log.fields[e];return Xt(e,n)&&(t=!0),`<span class="key">${e}:</span>\n          <span class="value">${n}</span>`})).join(" ");e.header.innerHTML=`<span class="arrow-right">►</span>\n      <span class="title" title="Relative to stage beginning">${this.options.title}</span>\n      ${t?Tn.Z:""}\n      <span class="curly">{</span>\n      <span class="inline-fields">${n}</span>\n      <span class="curly">}</span>`,e.body.innerHTML=""}renderExpanded(){const e=this.elements;let t=!1;const n=Object.keys(this.options.log.fields).sort(((e,t)=>e<t?-1:e>t?1:0)).map((e=>{const n=this.options.log.fields[e];return Xt(e,n)&&(t=!0),`<div class="body-row">\n          <span class="key">${e}:</span>\n          <span class="value">${n}</span>\n        </div>`})).join("");e.header.innerHTML=`<span class="arrow-down">▼</span>\n      <span class="title">${this.options.title}</span>\n      ${t?Tn.Z:""}\n      <span class="curly">{</span>`,e.body.innerHTML=`${n}\n      <span class="curly">}</span>`}onHeaderClick(){this.options.isExpanded=!this.options.isExpanded,this.render()}getLog(){return this.options.log}isEqual(e){if(this.options.log.timestamp!=e.timestamp)return!1;for(const t in this.options.log.fields)if(this.options.log.fields[t]!=e.fields[t])return!1;return!0}getElement(){return this.elements.container}highlight(){this.elements.container.classList.add("highlighted")}unhighlight(){this.elements.container.classList.remove("highlighted")}mount(e){e.appendChild(this.elements.container)}unmount(){const e=this.elements.container.parentElement;null==e||e.removeChild(this.elements.container)}dispose(){this.elements.header.removeEventListener("click",this.binded.onHeaderClick,!1)}}var Xi=n(4646),Ki=n(73703),Qi=n(70954);s()(Qi.Z,{insert:"head",singleton:!1}),Qi.Z.locals;class Ji{constructor(){this.stage=ie.getSingleton(),this.logItemViews=[],this.fuse=new(Yn())([],{keys:["fields.key","fields.value"]}),this.elements={container:document.createElement("div"),toolbar:document.createElement("div"),toolbarBtn:{expandAll:document.createElement("div"),collapseAll:document.createElement("div")},searchInput:document.createElement("input"),contentContainer:document.createElement("div")},this.binded={onSearchInput:Jn()(this.onSearchInput.bind(this),100),onTimelineSpanSelected:this.onTimelineSpanSelected.bind(this),onSpansTableSpanSelected:this.onSpansTableSpanSelected.bind(this),onExpandAllClick:this.onExpandAllClick.bind(this),onCollapseAllClick:this.onCollapseAllClick.bind(this),onMouseMove:this.onMouseMove.bind(this),onMouseLeave:this.onMouseLeave.bind(this),onScroll:this.onScroll.bind(this),onStageTraceRemoved:this.onStageTraceRemoved.bind(this)};const{container:e,toolbar:t,contentContainer:n}=this.elements;e.classList.add("span-logs"),this.prepareToolbar(),e.appendChild(t),n.classList.add("content-container"),e.appendChild(n)}prepareToolbar(){const e=this.elements.toolbar,t=this.elements.toolbarBtn,n=this.elements.searchInput;e.classList.add("widget-toolbar");const i=document.createElement("div");i.classList.add("widget-toolbar-pane"),e.appendChild(i);const o=document.createElement("div");o.classList.add("widget-toolbar-pane","right"),e.appendChild(o);const s=document.createElement("div");s.classList.add("input-with-svg-icon-container"),i.appendChild(s),n.type="search",n.placeholder="Search...",n.classList.add("small","borderless"),s.appendChild(n),s.appendChild(Hi(Wi.Z)),t.expandAll.classList.add("widget-toolbar-button"),t.expandAll.innerHTML=Xi.Z,o.appendChild(t.expandAll),t.collapseAll.classList.add("widget-toolbar-button"),t.collapseAll.innerHTML=Ki.Z,o.appendChild(t.collapseAll)}init(e){this.timeline=e.timeline,this.spansTable=e.spansTable,this.initTooltips(),this.elements.searchInput.addEventListener("input",this.binded.onSearchInput,!1),this.timeline.on(jn.SPAN_SELECTED,this.binded.onTimelineSpanSelected),this.spansTable.on(Mi.SPAN_SELECTED,this.binded.onSpansTableSpanSelected),this.elements.toolbarBtn.expandAll.addEventListener("click",this.binded.onExpandAllClick,!1),this.elements.toolbarBtn.collapseAll.addEventListener("click",this.binded.onCollapseAllClick,!1),this.elements.contentContainer.addEventListener("scroll",this.binded.onScroll,!1),this.elements.contentContainer.addEventListener("mousemove",this.binded.onMouseMove,!1),this.elements.contentContainer.addEventListener("mouseleave",this.binded.onMouseLeave,!1),this.stage.on(J.TRACE_REMOVED,this.binded.onStageTraceRemoved),this.render()}initTooltips(){const e=ce.getSingleton(),t=this.elements.toolbarBtn;e.addToSingleton([[t.expandAll,{content:"Expand All",multiple:!0}],[t.collapseAll,{content:"Collapse All",multiple:!0}]])}render(){if(!this.selectedSpanId)return void(this.elements.contentContainer.innerHTML=`<div class="content-message">\n        ${Ni.Z}\n        <span>No Span Selected</span>\n      </div>`);const e=this.elements.searchInput.value.trim();if(e){const t=this.fuse.search(e);return 0==t.length?void(this.elements.contentContainer.innerHTML=`<div class="content-message">\n          ${ji.Z}\n          <span>No Result</span>\n        </div>`):void this.renderLogItems(t)}0!=this.logItemViews.length?this.renderLogItems(this.logItemViews):this.elements.contentContainer.innerHTML=`<div class="content-message">\n        ${ji.Z}\n        <span>No Logs</span>\n      </div>`}renderLogItems(e){this.logItemViews.forEach((e=>e.unmount())),this.elements.contentContainer.innerHTML="",e.forEach((e=>e.mount(this.elements.contentContainer)))}onSearchInput(e){this.render()}onTimelineSpanSelected(e){this.updateSpan(e),this.logItemViews.forEach((e=>e.unhighlight()))}onSpansTableSpanSelected(e){this.updateSpan(e),this.logItemViews.forEach((e=>e.unhighlight()))}updateSpan(e){if(this.selectedSpanId==e)return;if(!e)return this.selectedSpanId=null,this.logItemViews.forEach((e=>{e.unmount(),e.dispose()})),this.logItemViews=[],this.fuse=new(Yn())([],{keys:["fields.key","fields.value"]}),void this.render();const t=this.stage.getMainSpanGroup().get(e);this.selectedSpanId=e,this.logItemViews=t.logs.map((e=>{const t=new Gi;return t.init({log:e}),t})),this.fuse=new(Yn())(this.logItemViews,{keys:["fields.key","fields.value"]}),this.render()}onExpandAllClick(){this.logItemViews.forEach((e=>e.expand()))}onCollapseAllClick(){this.logItemViews.forEach((e=>e.collapse()))}onScroll(e){this.timeline.hideLogVerticalLine()}onMouseMove(e){const t=e.target.closest("[data-log-timestamp]");if(!t)return this.timeline.hideLogVerticalLine();const n=t.getAttribute("data-log-timestamp"),i=Number(n);if(isNaN(i))return this.timeline.hideLogVerticalLine();this.timeline.showLogVerticalLine(i)}onMouseLeave(e){this.timeline.hideLogVerticalLine()}onStageTraceRemoved(){this.selectedSpanId&&(this.stage.getMainSpanGroup().get(this.selectedSpanId)||this.updateSpan(null))}mount(e){e.appendChild(this.elements.container)}unmount(){const e=this.elements.container.parentElement;null==e||e.removeChild(this.elements.container)}resize(e,t){}dispose(){this.elements.searchInput.removeEventListener("input",this.binded.onSearchInput,!1),this.timeline.removeListener(jn.SPAN_SELECTED,this.binded.onTimelineSpanSelected),this.spansTable.removeListener(Mi.SPAN_SELECTED,this.binded.onSpansTableSpanSelected),this.elements.toolbarBtn.expandAll.removeEventListener("click",this.binded.onExpandAllClick,!1),this.elements.toolbarBtn.collapseAll.removeEventListener("click",this.binded.onCollapseAllClick,!1),this.elements.contentContainer.removeEventListener("mousemove",this.binded.onMouseMove,!1),this.elements.contentContainer.removeEventListener("mouseleave",this.binded.onMouseLeave,!1),this.elements.contentContainer.removeEventListener("scroll",this.binded.onScroll,!1),this.stage.removeListener(J.TRACE_REMOVED,this.binded.onStageTraceRemoved)}}var eo,to=function(e,t,n,i){return new(n||(n=Promise))((function(o,s){function a(e){try{l(i.next(e))}catch(e){s(e)}}function r(e){try{l(i.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,r)}l((i=i.apply(e,t||[])).next())}))};let no;!function(e){e.DOCK_LAYOUT="dock_layout"}(eo||(eo={}));class io{constructor(){this.values={}}static getSingleton(){return no||(no=new io),no}init(){return to(this,void 0,void 0,(function*(){yield z.open(),(yield z.settings.toArray()).forEach((({key:e,value:t})=>{this.values[e]=t}))}))}get(e){return this.values[e]}set(e,t){return to(this,void 0,void 0,(function*(){this.values.hasOwnProperty(e)?yield z.settings.update(e,{key:e,value:t}):yield z.settings.put({key:e,value:t}),this.values[e]=t}))}}var oo=n(76411),so=n(29579);s()(so.Z,{insert:"head",singleton:!1}),so.Z.locals;var ao,ro=function(e,t,n,i){return new(n||(n=Promise))((function(o,s){function a(e){try{l(i.next(e))}catch(e){s(e)}}function r(e){try{l(i.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,r)}l((i=i.apply(e,t||[])).next())}))};!function(e){e.SELECTIONS_UPDATED="selections_updated",e.TRACE_DOUBLE_CLICKED="trace_double_clicked"}(ao||(ao={}));class lo extends(U()){constructor(){super(),this.stage=ie.getSingleton(),this.traceRows=[],this.elements={container:document.createElement("div"),tableContainer:document.createElement("div"),loadingContainer:document.createElement("div")},this.viewPropertiesCache={width:0,height:0},this.binded={formatTimestamp:this.formatTimestamp.bind(this),formatDuration:this.formatDuration.bind(this),formatServices:this.formatServices.bind(this),formatInStage:this.formatInStage.bind(this),rowSelectionChanged:this.rowSelectionChanged.bind(this),rowDblClick:this.rowDblClick.bind(this),rowFormatter:this.rowFormatter.bind(this),onKeyDown:this.onKeyDown.bind(this)},this.columnDefinitions={inStage:{title:"",field:"inStage",formatter:this.binded.formatInStage,headerSort:!1},id:{title:"Id",field:"id"},startTime:{title:"Date",field:"startTime",formatter:this.binded.formatTimestamp},duration:{title:"Duration",field:"duration",formatter:this.binded.formatDuration},name:{title:"Root Span",field:"name"},spanCount:{title:"Span(s)",field:"spanCount"},errorCount:{title:"Error(s)",field:"errorCount"},services:{title:"Services & Span(s)",field:"services",formatter:this.binded.formatServices,headerSort:!1}};const{container:e,tableContainer:t,loadingContainer:n}=this.elements;e.classList.add("search-modal-traces-table-view"),e.appendChild(t),n.classList.add("loading-container"),n.innerHTML='<div class="sk-circle">\n      <div class="sk-circle1 sk-child"></div>\n      <div class="sk-circle2 sk-child"></div>\n      <div class="sk-circle3 sk-child"></div>\n      <div class="sk-circle4 sk-child"></div>\n      <div class="sk-circle5 sk-child"></div>\n      <div class="sk-circle6 sk-child"></div>\n      <div class="sk-circle7 sk-child"></div>\n      <div class="sk-circle8 sk-child"></div>\n      <div class="sk-circle9 sk-child"></div>\n      <div class="sk-circle10 sk-child"></div>\n      <div class="sk-circle11 sk-child"></div>\n      <div class="sk-circle12 sk-child"></div>\n    </div>',this.toggleLoading(!1),e.appendChild(n)}init(e){this.options=e,this.viewPropertiesCache={width:e.width,height:e.height},this.elements.container.addEventListener("keydown",this.binded.onKeyDown,!1);const t=[];this.options.showInStageColumn&&t.push(this.columnDefinitions.inStage),t.push(this.columnDefinitions.startTime,this.columnDefinitions.name,this.columnDefinitions.duration,this.columnDefinitions.spanCount,this.columnDefinitions.errorCount,this.columnDefinitions.services),this.table=new Le(this.elements.tableContainer,{autoResize:!1,height:this.viewPropertiesCache.height||-1,data:this.traceRows,layout:"fitDataFill",movableColumns:!0,selectable:!0,columns:t,initialSort:[{column:this.columnDefinitions.startTime.field,dir:"desc"}],rowFormatter:this.binded.rowFormatter,rowSelectionChanged:this.binded.rowSelectionChanged,rowDblClick:this.binded.rowDblClick,selectableRangeMode:"click",keybindings:!1,footerElement:this.options.footerElement,placeholder:this.options.placeholderElement})}updateTraces(e){return ro(this,void 0,void 0,(function*(){this.traceRows=e.map((e=>this.trace2RowData(e))),yield this.table.replaceData(this.traceRows)}))}reloadData(){return ro(this,void 0,void 0,(function*(){yield this.table.replaceData(this.traceRows)}))}rowSelectionChanged(e,t){this.emit(ao.SELECTIONS_UPDATED,e)}rowDblClick(e,t){const n=t.getData();this.emit(ao.TRACE_DOUBLE_CLICKED,n)}trace2RowData(e){return{id:e.id,startTime:e.startTime,finishTime:e.finishTime,duration:e.duration,name:e.name,spanCount:e.spanCount,errorCount:e.errorCount,services:Re()(e.spanCountsByService)}}formatTimestamp(e){return(0,Oe.Z)(e.getValue()/1e3,"MMM dd, HH:mm:ss.SSS")}formatDuration(e){return Te(e.getValue())}formatServices(e){const t=e.getRow().getData();let n="";return Object.keys(t.services).sort(((e,t)=>e>t?1:e<t?-1:0)).forEach((e=>{const i=t.services[e];i&&(n+=`<span class="traces-table-tag">${e}:</span>\n        <span class="traces-table-value">${i}</span>`)})),n}formatInStage(e){const t=e.getRow().getData();let n="";const i=m()(this.stage.getAllTraces(),(e=>e.id==t.id));return i?(n=i.spanCount==t.spanCount?`<div class="in-stage-cell check" title="Trace is already in the stage">${oo.Z}</div>`:`<div class="in-stage-cell alert" title="Trace has been updated since it was added to stage">${Tn.Z}</div>`,n):n}rowFormatter(e){const t=e.getData(),n=e.getElement();if(this.options.indicateTracesOverlappingWithStage)if(this.stage.getAllTraces().length>0){o={start:this.stage.startTimestamp,end:this.stage.finishTimestamp},(i={start:t.startTime,end:t.finishTime}).start<=o.end&&o.start<=i.end?n.style.fontWeight="700":n.style.fontWeight=""}else n.style.fontWeight="";var i,o}onKeyDown(e){if(!(e.target instanceof HTMLInputElement||e.target instanceof HTMLTextAreaElement))if("a"!=e.key||!e.ctrlKey&&!e.metaKey){if(27==e.which){if(0==this.table.getSelectedRows().length)return;return this.selectTrace(null),void e.stopPropagation()}}else this.table.selectRow()}toggleLoading(e){this.elements.loadingContainer.style.display=e?"":"none"}redrawTable(e=!1){if(!this.table)return;let t=e;const n=this.elements.tableContainer.querySelectorAll(".tabulator-table > .tabulator-row .tabulator-cell:first-child"),i=Ie()(n,10);if(i.length>2){const e=i[0].offsetWidth;i.every((t=>t.offsetWidth===e))||(t=!0)}this.table.redraw(t)}selectTrace(e){if(!e)return void this.table.deselectRow();const t=this.table.getRow(e);t?(this.table.deselectRow(),t.select()):this.table.deselectRow()}focusTrace(e){this.table.getRow(e)&&this.table.scrollToRow(e)}mount(e){e.appendChild(this.elements.container)}unmount(){const e=this.elements.container.parentElement;null==e||e.removeChild(this.elements.container)}resize(e,t){this.viewPropertiesCache={width:e,height:t},this.table.setHeight(t),this.redrawTable()}dispose(){var e;null===(e=this.table)||void 0===e||e.destroy(),this.table=null,this.elements.container.removeEventListener("keydown",this.binded.onKeyDown,!1)}}var co=n(90072),Ao=n(49430);function po(e,t,n,i,o){const s=(e-t)/(n-t)*(o-i)+i;return i<o?ho(s,i,o):ho(s,o,i)}function ho(e,t,n){return Math.max(Math.min(e,n),t)}var mo=n(12475),uo=n(90163);s()(uo.Z,{insert:"head",singleton:!1}),uo.Z.locals;class go{constructor(){this.elements={container:document.createElement("div"),time:document.createElement("span"),name:document.createElement("span"),right:document.createElement("div")};const e=this.elements;e.container.classList.add("trace-tooltip");const t=document.createElement("div");t.classList.add("left"),e.container.appendChild(t),e.right.classList.add("right"),e.container.appendChild(e.right),e.time.classList.add("trace-tooltip-time"),t.appendChild(e.time),e.name.classList.add("trace-tooltip-name"),t.appendChild(e.name)}get element(){return this.elements.container}updateTrace(e){this.trace=e;const t=this.elements,n=Te(e.duration);t.time.textContent=n,t.name.textContent=e.name,e.errorCount>0?t.right.innerHTML=`<span class="trace-tooltip-span-count">${e.spanCount} span(s)</span><span class="trace-tooltip-error-count">${e.errorCount}</span><span class="trace-tooltip-error-icon">${Tn.Z}</span>`:t.right.innerHTML=`<span class="trace-tooltip-span-count">${e.spanCount} span(s)</span>`}}const Co="http://www.w3.org/2000/svg";var bo;!function(e){e.POINT_HOVERED="tsp_point_hovered",e.POINT_UNHOVERED="tsp_point_unhovered",e.POINT_CLICKED="tsp_point_clicked"}(bo||(bo={}));class fo extends(U()){constructor(e){var t;super(),this.options=e,this.stage=ie.getSingleton(),this.elements={svg:document.createElementNS(Co,"svg"),defs:document.createElementNS(Co,"defs"),chartContainer:document.createElementNS(Co,"g"),xAxisLine:document.createElementNS(Co,"line"),yAxisLine:document.createElementNS(Co,"line"),stageRect:document.createElementNS(Co,"rect")},this.colorAssigner=new ut,this.traceTooltipContent=new go,this.traceTooltipStuffCache={svgBBTop:0,svgBBLeft:0},this.points=[],this.xAxisTicks=[],this.yAxisTicks=[],this.binded={onMouseMove:this.onMouseMove.bind(this),onMouseLeave:this.onMouseLeave.bind(this),onClick:this.onClick.bind(this),onStageUpdated:this.onStageUpdated.bind(this)};const n=xe()(null==e?void 0:e.style,{xAxisTickInterval:250,yAxisTickInterval:80,axisTickLength:5,axisTickWidth:1,axisTickLabelColor:"#333",axisTickLabelSize:10,axisTickLabelOffset:3,axisMarginTop:20,axisMarginBottom:30,axisMarginLeft:50,axisMarginRight:20,axisLineColor:"#999",axisLineWidth:1,pointFillOpacity:.3,pointFillOpacityHover:1,pointRadius:6,pointsMarginLeft:20,pointsMarginTop:10,pointsMarginRight:20,pointsMarginBottom:10});this.computedStyles=Object.assign(Object.assign({},n),{width:0,height:0});const{svg:o,defs:s,chartContainer:a,xAxisLine:r,yAxisLine:l,stageRect:c}=this.elements;o.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),o.classList.add("scatter-plot-svg"),o.appendChild(s),a.setAttribute("x","0"),a.setAttribute("y","0"),o.appendChild(a),r.setAttribute("stroke",n.axisLineColor),r.setAttribute("stroke-width",`${n.axisLineWidth}`),r.setAttribute("shape-rendering","crispEdges"),a.appendChild(r),l.setAttribute("stroke",n.axisLineColor),l.setAttribute("stroke-width",`${n.axisLineWidth}`),l.setAttribute("shape-rendering","crispEdges"),a.appendChild(l),c.setAttribute("fill","rgba(171, 196, 226, 0.25)"),c.setAttribute("display","none"),a.appendChild(c),this.elements.svg.addEventListener("mousemove",this.binded.onMouseMove,!1),this.elements.svg.addEventListener("mouseleave",this.binded.onMouseLeave,!1),this.elements.svg.addEventListener("click",this.binded.onClick,!1),(null===(t=this.options)||void 0===t?void 0:t.showStageBoundaries)&&(this.stage.on(J.TRACE_ADDED,this.binded.onStageUpdated),this.stage.on(J.TRACE_REMOVED,this.binded.onStageUpdated),this.onStageUpdated()),this.traceTooltipTippy=(0,i.t)(document.body,{lazy:!1,duration:0,updateDuration:0,trigger:"custom",arrow:!0,content:this.traceTooltipContent.element,multiple:!0,placement:"top",theme:"trace-tooltip",onCreate(e){e.popperInstance.reference={clientWidth:0,clientHeight:0,getBoundingClientRect:()=>({width:0,height:0,top:0,bottom:0,left:0,right:0})}}})}mount(e){e.appendChild(this.elements.svg)}unmount(){var e;const{svg:t}=this.elements;null===(e=t.parentElement)||void 0===e||e.removeChild(t)}init(e){this.resize(e.width,e.height)}setTraces(e){let t=1/0,n=-1/0,i=1/0,o=-1/0;e.forEach((e=>{t=Math.min(t,e.duration),n=Math.max(n,e.duration),i=Math.min(i,e.startTime),o=Math.max(o,e.startTime)})),1==e.length&&(t-=t/2,n+=n/2,i-=6e7,o+=6e7),this.sceneStats={minDuration:t,maxDuration:n,minStartTime:i,maxStartTime:o},this.points.forEach((e=>{var t;return null===(t=e.circle.parentElement)||void 0===t?void 0:t.removeChild(e.circle)}));const s=this.computedStyles;this.points=e.map((e=>{const t=document.createElementNS(Co,"circle"),n=this.getX(e.startTime),i=this.getY(e.duration);return t.setAttribute("cx",`${n}`),t.setAttribute("cy",`${i}`),t.setAttribute("r",`${s.pointRadius}`),t.setAttribute("fill",`${this.colorAssigner.colorFor(e.name)}`),t.setAttribute("opacity",`${s.pointFillOpacity}`),t.setAttribute("cursor","pointer"),t.setAttribute("data-trace-id",`${e.id}`),this.elements.chartContainer.appendChild(t),{trace:e,circle:t}})),this.yAxisTicks.forEach((e=>{var t,n;null===(t=e.tickLine.parentElement)||void 0===t||t.removeChild(e.tickLine),null===(n=e.labelText.parentElement)||void 0===n||n.removeChild(e.labelText)})),this.yAxisTicks=an(t,n,Math.ceil(s.height/s.yAxisTickInterval)).map((e=>{const t=document.createElementNS(Co,"line"),n=document.createElementNS(Co,"text"),i=this.getY(e);return t.setAttribute("x1",""+(s.axisMarginLeft-s.axisTickLength/2)),t.setAttribute("x2",`${s.axisMarginLeft+s.axisTickLength/2}`),t.setAttribute("y1",`${i}`),t.setAttribute("y2",`${i}`),t.setAttribute("stroke",s.axisLineColor),t.setAttribute("stroke-width",`${s.axisTickWidth}`),t.setAttribute("shape-rendering","crispEdges"),this.elements.chartContainer.appendChild(t),n.setAttribute("text-anchor","end"),n.setAttribute("alignment-baseline","central"),n.setAttribute("text-rendering","optimizeLegibility"),n.setAttribute("x",""+(s.axisMarginLeft-s.axisTickLength/2-s.axisTickLabelOffset)),n.setAttribute("y",`${i}`),n.setAttribute("fill",s.axisTickLabelColor),n.setAttribute("stroke","none"),n.setAttribute("font-size",`${s.axisTickLabelSize}`),n.textContent=Te(e),this.elements.chartContainer.appendChild(n),{duration:e,tickLine:t,labelText:n}})),this.xAxisTicks.forEach((e=>{var t,n;null===(t=e.tickLine.parentElement)||void 0===t||t.removeChild(e.tickLine),null===(n=e.labelText.parentElement)||void 0===n||n.removeChild(e.labelText)}));const a=an(i,o,Math.ceil(s.width/s.xAxisTickInterval));let r=!0;if(a.length>1){const e=new Date(a[0]/1e3);for(let t=1;t<a.length;t++){const n=new Date(a[t]/1e3);if(!(0,mo.Z)(e,n)){r=!1;break}}}this.xAxisTicks=a.map((e=>{const t=document.createElementNS(Co,"line"),n=document.createElementNS(Co,"text"),i=this.getX(e);return t.setAttribute("x1",`${i}`),t.setAttribute("x2",`${i}`),t.setAttribute("y1",""+(s.height-s.axisMarginBottom-s.axisTickLength/2)),t.setAttribute("y2",""+(s.height-s.axisMarginBottom+s.axisTickLength/2)),t.setAttribute("stroke",s.axisLineColor),t.setAttribute("stroke-width",`${s.axisTickWidth}`),t.setAttribute("shape-rendering","crispEdges"),this.elements.chartContainer.appendChild(t),n.setAttribute("text-anchor","middle"),n.setAttribute("alignment-baseline","before-edge"),n.setAttribute("text-rendering","optimizeLegibility"),n.setAttribute("x",`${i}`),n.setAttribute("y",`${s.height-s.axisMarginBottom+s.axisTickLength/2+s.axisTickLabelOffset}`),n.setAttribute("fill",s.axisTickLabelColor),n.setAttribute("stroke","none"),n.setAttribute("font-size",`${s.axisTickLabelSize}`),n.textContent=(0,Oe.Z)(new Date(e/1e3),r?"HH:mm:ss":"MMM dd, HH:mm:ss"),this.elements.chartContainer.appendChild(n),{ts:e,tickLine:t,labelText:n}})),this.updateStageRect()}resize(e,t){this.computedStyles.width=e,this.computedStyles.height=t;const{svg:n}=this.elements;n.setAttribute("width",`${e}`),n.setAttribute("height",`${t}`),n.setAttribute("viewBox",`0 0 ${e} ${t}`);const i=n.getBoundingClientRect();this.traceTooltipStuffCache.svgBBTop=i.top,this.traceTooltipStuffCache.svgBBLeft=i.left,this.updateAxises(),this.updatePoints(),this.updateTicks(),this.updateStageRect()}updateAxises(){const{xAxisLine:e,yAxisLine:t}=this.elements,n=this.computedStyles;e.setAttribute("x1",`${n.axisMarginLeft}`),e.setAttribute("y1",""+(n.height-n.axisMarginBottom)),e.setAttribute("x2",""+(n.width-n.axisMarginRight)),e.setAttribute("y2",""+(n.height-n.axisMarginBottom)),t.setAttribute("x1",`${n.axisMarginLeft}`),t.setAttribute("y1",`${n.axisMarginTop}`),t.setAttribute("x2",`${n.axisMarginLeft}`),t.setAttribute("y2",""+(n.height-n.axisMarginBottom))}updatePoints(){0!=this.points.length&&this.points.forEach((e=>{const t=this.getX(e.trace.startTime),n=this.getY(e.trace.duration);e.circle.setAttribute("cx",`${t}`),e.circle.setAttribute("cy",`${n}`)}))}updateTicks(){const e=this.computedStyles;this.yAxisTicks.forEach((t=>{const n=this.getY(t.duration);t.tickLine.setAttribute("x1",""+(e.axisMarginLeft-e.axisTickLength/2)),t.tickLine.setAttribute("x2",`${e.axisMarginLeft+e.axisTickLength/2}`),t.tickLine.setAttribute("y1",`${n}`),t.tickLine.setAttribute("y2",`${n}`)})),this.xAxisTicks.forEach((t=>{const n=this.getX(t.ts);t.tickLine.setAttribute("x1",`${n}`),t.tickLine.setAttribute("x2",`${n}`),t.tickLine.setAttribute("y1",""+(e.height-e.axisMarginBottom-e.axisTickLength/2)),t.tickLine.setAttribute("y2",""+(e.height-e.axisMarginBottom+e.axisTickLength/2)),t.labelText.setAttribute("x",`${n}`),t.labelText.setAttribute("y",`${e.height-e.axisMarginBottom+e.axisTickLength/2+e.axisTickLabelOffset}`)}))}getX(e){const t=this.computedStyles;return po(e,this.sceneStats.minStartTime,this.sceneStats.maxStartTime,t.axisMarginLeft+t.pointsMarginLeft,t.width-t.axisMarginRight-t.pointsMarginRight)}getY(e){const t=this.computedStyles;return po(e,this.sceneStats.minDuration,this.sceneStats.maxDuration,t.height-t.axisMarginBottom-t.pointsMarginBottom,t.axisMarginTop+t.pointsMarginTop)}onMouseMove(e){const t=this.getPointFromMouseEvent(e),n=this.computedStyles;if(this.hoveredPoint&&this.hoveredPoint.trace.id!=(null==t?void 0:t.trace.id)){this.traceTooltipTippy.hide();const e=this.hoveredPoint;this.hoveredPoint=null,e.circle.setAttribute("opacity",`${n.pointFillOpacity}`),this.emit(bo.POINT_UNHOVERED,e.trace)}t&&(this.traceTooltipContent.updateTrace(t.trace),Object.assign(this.traceTooltipTippy.popperInstance.reference,{clientWidth:0,clientHeight:0,getBoundingClientRect:()=>{const{svgBBTop:e,svgBBLeft:n}=this.traceTooltipStuffCache,i=this.computedStyles.pointRadius,o=Number(t.circle.getAttribute("cx")),s=e+Number(t.circle.getAttribute("cy"))-i;return{width:0,height:2*i,top:s,bottom:s+2*i,left:n+o,right:n+o}}}),this.traceTooltipTippy.popperInstance.update(),this.traceTooltipTippy.show(),t.circle.setAttribute("opacity",`${n.pointFillOpacityHover}`),this.hoveredPoint=t,this.emit(bo.POINT_HOVERED,t))}onMouseLeave(e){if(this.traceTooltipTippy.hide(),!this.hoveredPoint)return;const t=this.computedStyles,n=this.hoveredPoint;this.hoveredPoint=null,n.circle.setAttribute("opacity",`${t.pointFillOpacity}`),this.emit(bo.POINT_UNHOVERED,n.trace)}onClick(e){const t=this.getPointFromMouseEvent(e);t&&this.emit(bo.POINT_CLICKED,t.trace)}onStageUpdated(){0!=this.stage.getAllTraces().length?(this.stageInterval={startTime:this.stage.startTimestamp,finishTime:this.stage.finishTimestamp},this.updateStageRect()):this.stageInterval=null}updateStageRect(){var e;const{stageRect:t}=this.elements;if(!(null===(e=this.options)||void 0===e?void 0:e.showStageBoundaries)||!this.stageInterval||!this.sceneStats)return void t.setAttribute("display","none");var n,i;if(n={start:this.sceneStats.minStartTime,end:this.sceneStats.maxStartTime},i={start:this.stageInterval.startTime,end:this.stageInterval.finishTime},!(n.start<=i.end&&i.start<=n.end))return void t.setAttribute("display","none");const o=Math.max(this.sceneStats.minStartTime,this.stageInterval.startTime),s=Math.min(this.sceneStats.maxStartTime,this.stageInterval.finishTime),a=this.computedStyles,r=this.getX(o),l=this.getX(s);t.setAttribute("display",""),t.setAttribute("x",`${r}`),t.setAttribute("y",`${a.axisMarginTop}`),t.setAttribute("width",""+(l-r)),t.setAttribute("height",""+(a.height-a.axisMarginTop-a.axisMarginBottom))}getPointFromMouseEvent(e){let t=e.target;for(;t&&t!==this.elements.svg;){if(t.hasAttribute("data-trace-id")){const e=t.getAttribute("data-trace-id");return m()(this.points,(t=>t.trace.id==e))}t=t.parentElement}}dispose(){this.elements.svg.removeEventListener("mousemove",this.binded.onMouseMove,!1),this.elements.svg.removeEventListener("mouseleave",this.binded.onMouseLeave,!1),this.elements.svg.removeEventListener("click",this.binded.onClick,!1),this.stage.removeListener(J.TRACE_ADDED,this.binded.onStageUpdated),this.stage.removeListener(J.TRACE_REMOVED,this.binded.onStageUpdated)}}function Eo(e){return t=this,n=void 0,o=function*(){try{return[void 0,yield e]}catch(e){return[e,void 0]}},new((i=void 0)||(i=Promise))((function(e,s){function a(e){try{l(o.next(e))}catch(e){s(e)}}function r(e){try{l(o.throw(e))}catch(e){s(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(e){e(n)}))).then(a,r)}l((o=o.apply(t,n||[])).next())}));var t,n,i,o}var Bo=n(20011),vo=n(64345),yo=n(20873),wo=n(45394),ko=n(84899);s()(ko.Z,{insert:"head",singleton:!1}),ko.Z.locals;var So,xo=function(e,t,n,i){return new(n||(n=Promise))((function(o,s){function a(e){try{l(i.next(e))}catch(e){s(e)}}function r(e){try{l(i.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,r)}l((i=i.apply(e,t||[])).next())}))};!function(e){e.LAST_HOUR="1h",e.LAST_2_HOURS="2h",e.LAST_3_HOURS="3h",e.LAST_6_HOURS="6h",e.LAST_12_HOURS="12h",e.LAST_24_HOURS="24h",e.LAST_2_DAYS="2d",e.LAST_7_DAYS="7d",e.CUSTOM="custom"}(So||(So={}));class To{constructor(e){this.options=e,this.dsManager=j.getSingleton(),this.tracesTable=new lo,this.tracesScatterPlot=new fo({showStageBoundaries:!0}),this.traceResults=[],this.selectedTraceIds=[],this.isSearchFormHidden=!1,this.elements={container:document.createElement("div"),header:{statusContainer:document.createElement("span"),statusContent:document.createElement("div")},mainContainer:document.createElement("div"),result:{container:document.createElement("div"),scatterPlotContainer:document.createElement("div"),tableContainer:document.createElement("div"),overlayContainer:document.createElement("div")},footer:{container:document.createElement("div"),selectionText:document.createElement("span"),addToStageButton:document.createElement("button")},searchByTraceId:{form:document.createElement("form"),input:document.createElement("input"),button:document.createElement("button")},searchFormToggle:document.createElement("div"),search:{container:document.createElement("div"),form:document.createElement("form"),serviceSelect:document.createElement("select"),operationSelect:document.createElement("select"),tagsInput:document.createElement("input"),lookbackSelect:document.createElement("select"),customLookbackInput:document.createElement("input"),minDurationInput:document.createElement("input"),maxDurationInput:document.createElement("input"),limitInput:document.createElement("input"),button:document.createElement("button")}},this.binded={onDataSourceManagerUpdate:this.onDataSourceManagerUpdate.bind(this),onSearchByTraceIdFormSubmit:this.onSearchByTraceIdFormSubmit.bind(this),onSearcFormSubmit:this.onSearchFormSubmit.bind(this),onServiceSelectChange:this.onServiceSelectChange.bind(this),onLookbackSelectChange:this.onLookbackSelectChange.bind(this),onTableSelectionUpdated:this.onTableSelectionUpdated.bind(this),onTableTraceDoubleClicked:this.onTableTraceDoubleClicked.bind(this),onAddToStageButtonClick:this.onAddToStageButtonClick.bind(this),onTraceScatterPointClick:this.onTraceScatterPointClick.bind(this),onStatusClick:this.onStatusClick.bind(this),onSearchFormToggleClick:this.onSearchFormToggleClick.bind(this)},this.api=this.dsManager.apiFor(this.options.dataSource);const t=this.elements;t.container.classList.add("jaeger-search-modal-content");const n=document.createElement("div");n.classList.add("header"),t.container.appendChild(n),t.mainContainer.classList.add("main"),this.isSearchFormHidden&&t.mainContainer.classList.add("search-form-hidden"),t.container.appendChild(t.mainContainer),t.search.container.classList.add("search-form-container"),t.mainContainer.appendChild(t.search.container),t.searchFormToggle.classList.add("search-form-toggle"),t.searchFormToggle.innerHTML=this.isSearchFormHidden?wo.Z:yo.Z,t.mainContainer.appendChild(t.searchFormToggle),t.result.container.classList.add("result"),t.mainContainer.appendChild(t.result.container),t.result.scatterPlotContainer.classList.add("scatter-plot-container"),t.result.container.appendChild(t.result.scatterPlotContainer),t.result.tableContainer.classList.add("table-container"),t.result.container.appendChild(t.result.tableContainer),t.footer.container.classList.add("footer"),t.result.container.appendChild(t.footer.container),t.result.overlayContainer.classList.add("overlay-container"),t.result.container.appendChild(t.result.overlayContainer),this.toggleRightPanelOverlay("ready");const i=document.createElement("div");i.classList.add("title-container"),n.appendChild(i);const o=document.createElement("span");o.textContent="API Status:",i.appendChild(o),t.header.statusContainer.classList.add("status"),i.appendChild(t.header.statusContainer);{const{form:e,input:t,button:i}=this.elements.searchByTraceId;e.classList.add("search-by-trace-id","input-button-group"),n.appendChild(e),t.classList.add("small"),t.required=!0,t.placeholder="Search by Trace ID...",e.appendChild(t),i.textContent="Search",i.type="submit",i.classList.add("secondary","small"),e.appendChild(i)}{const{form:e,serviceSelect:n,operationSelect:i,tagsInput:o,lookbackSelect:s,customLookbackInput:a,minDurationInput:r,maxDurationInput:l,limitInput:c,button:d}=this.elements.search;t.search.container.appendChild(e);const A=document.createElement("div");A.classList.add("field"),e.appendChild(A);const p=document.createElement("div");p.textContent="Service",p.classList.add("field-title"),A.appendChild(p),n.classList.add("small"),n.required=!0,A.appendChild(n);const h=document.createElement("div");h.classList.add("field"),e.appendChild(h);const m=document.createElement("div");m.textContent="Operation",m.classList.add("field-title"),h.appendChild(m),i.classList.add("small"),i.required=!0,h.appendChild(i);const u=document.createElement("div");u.classList.add("field"),e.appendChild(u);const g=document.createElement("div");g.textContent="Tags",g.classList.add("field-title"),u.appendChild(g),o.classList.add("small"),o.placeholder="http.status_code=200 error=true",u.appendChild(o);const C=document.createElement("div");C.classList.add("field"),e.appendChild(C);const b=document.createElement("div");b.textContent="Lookback",b.classList.add("field-title"),C.appendChild(b),s.classList.add("small"),s.required=!0,C.appendChild(s),s.innerHTML=`<option value="${So.LAST_HOUR}">Last Hour</option>\n      <option value="${So.LAST_2_HOURS}">Last 2 Hours</option>\n      <option value="${So.LAST_3_HOURS}">Last 3 Hours</option>\n      <option value="${So.LAST_6_HOURS}">Last 6 Hours</option>\n      <option value="${So.LAST_12_HOURS}">Last 12 Hours</option>\n      <option value="${So.LAST_24_HOURS}">Last 24 Hours</option>\n      <option value="${So.LAST_2_DAYS}">Last 2 Days</option>\n      <option value="${So.LAST_7_DAYS}">Last 7 Days</option>\n      <option value="${So.CUSTOM}">Custom</option>`,C.appendChild(a);const f=document.createElement("div");f.classList.add("field"),e.appendChild(f);const E=document.createElement("div");E.textContent="Min Duration",E.classList.add("field-title"),f.appendChild(E),r.classList.add("small"),r.placeholder="e.g. 1.2s, 100ms, 500us",f.appendChild(r);const B=document.createElement("div");B.classList.add("field"),e.appendChild(B);const v=document.createElement("div");v.textContent="Max Duration",v.classList.add("field-title"),B.appendChild(v),l.classList.add("small"),l.placeholder="e.g. 1.2s, 100ms, 500us",B.appendChild(l);const y=document.createElement("div");y.classList.add("field"),e.appendChild(y);const w=document.createElement("div");w.textContent="Limit",w.classList.add("field-title"),y.appendChild(w),c.classList.add("small"),c.type="number",c.min="1",c.value="100",c.required=!0,y.appendChild(c),d.textContent="Search",d.type="submit",d.classList.add("secondary","small"),e.appendChild(d)}t.footer.selectionText.innerHTML="No trace selected",t.footer.container.appendChild(t.footer.selectionText),t.footer.addToStageButton.classList.add("primary","small"),t.footer.addToStageButton.textContent="Add to Stage",t.footer.addToStageButton.disabled=!0,t.footer.container.appendChild(t.footer.addToStageButton)}init(){this.initTippyInstances(),this.dsManager.on(N.UPDATED,this.binded.onDataSourceManagerUpdate),this.tracesTable.on(ao.SELECTIONS_UPDATED,this.binded.onTableSelectionUpdated),this.tracesTable.on(ao.TRACE_DOUBLE_CLICKED,this.binded.onTableTraceDoubleClicked),this.elements.header.statusContainer.addEventListener("click",this.binded.onStatusClick,!1),this.elements.searchByTraceId.form.addEventListener("submit",this.binded.onSearchByTraceIdFormSubmit,!1),this.elements.searchFormToggle.addEventListener("click",this.binded.onSearchFormToggleClick,!1),this.elements.search.form.addEventListener("submit",this.binded.onSearcFormSubmit,!1),this.elements.search.serviceSelect.addEventListener("change",this.binded.onServiceSelectChange,!1),this.elements.search.lookbackSelect.addEventListener("change",this.binded.onLookbackSelectChange,!1),this.elements.footer.addToStageButton.addEventListener("click",this.binded.onAddToStageButtonClick,!1),this.customLookbackFlatpickr=(0,Ao.Z)(this.elements.search.customLookbackInput,{mode:"range",enableTime:!0,time_24hr:!0,dateFormat:"Z",altInput:!0,altFormat:"M d, H:i",locale:{rangeSeparator:" - ",firstDayOfWeek:1}}),this.onLookbackSelectChange();const{tableContainer:e}=this.elements.result;this.tracesTable.mount(e),this.tracesTable.init({width:e.offsetWidth,height:e.offsetHeight,showInStageColumn:!0,indicateTracesOverlappingWithStage:!0});const{scatterPlotContainer:t}=this.elements.result;this.tracesScatterPlot.mount(t),this.tracesScatterPlot.init({width:t.offsetWidth,height:t.offsetHeight}),this.tracesScatterPlot.on(bo.POINT_CLICKED,this.binded.onTraceScatterPointClick)}initTippyInstances(){this.tippyInstaces={status:(0,i.t)(this.elements.header.statusContainer,{delay:0,duration:0,updateDuration:0,content:this.elements.header.statusContent,theme:"tooltip",placement:"top"})}}testApiAndFetchServices(){return xo(this,void 0,void 0,(function*(){const e=this.elements;e.header.statusContainer.classList.remove("success","error","warning"),e.header.statusContainer.innerHTML='<div class="sk-circle">\n      <div class="sk-circle1 sk-child"></div>\n      <div class="sk-circle2 sk-child"></div>\n      <div class="sk-circle3 sk-child"></div>\n      <div class="sk-circle4 sk-child"></div>\n      <div class="sk-circle5 sk-child"></div>\n      <div class="sk-circle6 sk-child"></div>\n      <div class="sk-circle7 sk-child"></div>\n      <div class="sk-circle8 sk-child"></div>\n      <div class="sk-circle9 sk-child"></div>\n      <div class="sk-circle10 sk-child"></div>\n      <div class="sk-circle11 sk-child"></div>\n      <div class="sk-circle12 sk-child"></div>\n    </div>',e.header.statusContent.textContent="Testing the API...";const[t]=yield Eo(this.api.test());if(t)return e.header.statusContainer.classList.add("error"),e.header.statusContainer.innerHTML=Bo.Z,void(e.header.statusContent.textContent=t.message);const[n,i]=yield Eo(this.api.getServices());if(n)return e.header.statusContainer.classList.add("error"),e.header.statusContainer.innerHTML=Bo.Z,void(e.header.statusContent.textContent=`Could not get services from API: "${n.message}"`);if(!i.data)return e.header.statusContainer.classList.add("warning"),e.header.statusContainer.innerHTML=Tn.Z,void(e.header.statusContent.textContent="There is no services found");const o=i.data.sort();this.elements.search.serviceSelect.innerHTML=o.map((e=>`<option value="${e}">${e}</option>`)).join("");const s=this.elements.search.serviceSelect.value;o.indexOf(s)>-1&&(this.elements.search.serviceSelect.value=s),this.updateOperationsSelect(),e.header.statusContainer.classList.add("success"),e.header.statusContainer.innerHTML=oo.Z,e.header.statusContent.textContent="API is OK"}))}onShow(){const{tableContainer:e,scatterPlotContainer:t}=this.elements.result;this.tracesScatterPlot.resize(t.offsetWidth,t.offsetHeight),this.tracesTable.resize(e.offsetWidth,e.offsetHeight),this.tracesTable.redrawTable(!0),this.testApiAndFetchServices()}updateOperationsSelect(){return xo(this,void 0,void 0,(function*(){const e=this.elements.search.serviceSelect.value,t=this.elements.search.operationSelect.value;try{const n=["all",...(yield this.api.getOperations(e)).data.sort()];this.elements.search.operationSelect.innerHTML=n.map((e=>`<option value="${e}">${e}</option>`)).join(""),n.indexOf(t)>-1&&(this.elements.search.operationSelect.value=t)}catch(e){new(Ee())({text:`Could not fetch operations from API: "${e.message}"`,type:"error"}).show()}}))}onDataSourceManagerUpdate(e){e.id==this.options.dataSource.id&&(this.options.dataSource=e,this.api=this.dsManager.apiFor(e))}onSearchByTraceIdFormSubmit(e){return xo(this,void 0,void 0,(function*(){e.preventDefault(),this.traceResults=[],this.elements.searchByTraceId.button.disabled=!0,this.toggleRightPanelOverlay("loading");try{const e=this.elements.searchByTraceId,t=yield this.api.getTrace(e.input.value);this.traceResults=t.map((e=>new _t(e))),this.tracesScatterPlot.setTraces(this.traceResults),this.tracesTable.updateTraces(this.traceResults),this.toggleRightPanelOverlay(0==this.traceResults.length&&"no-results"),window.Countly&&window.Countly.add_event({key:"trace_searched_by_id",count:1,segmentation:{type:"jaeger",resultCount:this.traceResults.length}})}catch(e){this.toggleRightPanelOverlay("error",e.message),window.Countly&&window.Countly.add_event({key:"trace_search_by_id_error",count:1,segmentation:{type:"jaeger",message:e.message}})}this.elements.searchByTraceId.button.disabled=!1}))}onSearchFormSubmit(e){return xo(this,void 0,void 0,(function*(){e.preventDefault(),this.traceResults=[],this.elements.search.button.disabled=!0,this.toggleRightPanelOverlay("loading");try{const e=this.elements.search,t={service:e.serviceSelect.value};if(e.operationSelect.value&&"all"!=e.operationSelect.value&&(t.operation=e.operationSelect.value),e.tagsInput.value&&(t.tags=e.tagsInput.value),e.lookbackSelect.value==So.CUSTOM){const e=this.customLookbackFlatpickr.input.value.trim().split(" - ");if(2!=e.length)throw new Error("Unsupported custom lookback");t.start=1e3*new Date(e[0]).getTime(),t.end=1e3*new Date(e[1]).getTime()}else{const n=(0,co.Z)(e.lookbackSelect.value);t.end=1e3*Date.now(),t.start=t.end-1e3*n}e.minDurationInput.value&&(t.minDuration=e.minDurationInput.value),e.maxDurationInput.value&&(t.maxDuration=e.maxDurationInput.value);const n=parseInt(e.limitInput.value,10);if(isNaN(n))throw new Error("Unsupported limit value");t.limit=n;const i=yield this.api.search(t);this.traceResults=i.map((e=>new _t(e))),this.tracesScatterPlot.setTraces(this.traceResults),this.tracesTable.updateTraces(this.traceResults),this.toggleRightPanelOverlay(0==this.traceResults.length&&"no-results"),window.Countly&&window.Countly.add_event({key:"trace_searched",count:1,segmentation:{type:"jaeger",resultCount:this.traceResults.length}})}catch(e){this.toggleRightPanelOverlay("error",e.message),window.Countly&&window.Countly.add_event({key:"trace_search_error",count:1,segmentation:{type:"jaeger",message:e.message}})}this.elements.search.button.disabled=!1}))}onServiceSelectChange(){this.updateOperationsSelect()}onLookbackSelectChange(){this.elements.search.lookbackSelect.value==So.CUSTOM?(this.customLookbackFlatpickr.altInput.style.display="",this.customLookbackFlatpickr.open()):this.customLookbackFlatpickr.altInput.style.display="none"}resize(){const{tableContainer:e,scatterPlotContainer:t}=this.elements.result;this.tracesScatterPlot.resize(t.offsetWidth,t.offsetHeight),this.tracesTable.resize(e.offsetWidth,e.offsetHeight)}onTableSelectionUpdated(e){return xo(this,void 0,void 0,(function*(){if(this.selectedTraceIds=e.map((e=>e.id)),0==e.length)return this.elements.footer.addToStageButton.disabled=!0,void(this.elements.footer.selectionText.textContent="No trace selected");let t=`${e.length} traces`;1==e.length&&(t="1 trace"),this.elements.footer.selectionText.innerHTML=`<strong>${t}</strong> selected`,this.elements.footer.addToStageButton.disabled=!1}))}onTableTraceDoubleClicked(e){var t,n;return xo(this,void 0,void 0,(function*(){const i=this.traceResults.filter((t=>t.id==e.id));null===(n=(t=this.options).onTracesAdd)||void 0===n||n.call(t,i),this.tracesTable.selectTrace(null),this.reloadTableData()}))}onAddToStageButtonClick(){var e,t;const n=this.selectedTraceIds.map((e=>m()(this.traceResults,(t=>t.id==e))));null===(t=(e=this.options).onTracesAdd)||void 0===t||t.call(e,n),this.tracesTable.selectTrace(null),this.reloadTableData()}onTraceScatterPointClick(e){this.tracesTable.selectTrace(e.id),this.tracesTable.focusTrace(e.id)}onStatusClick(){this.testApiAndFetchServices()}reloadTableData(){this.tracesTable.reloadData()}onSearchFormToggleClick(){const e=this.elements;this.isSearchFormHidden=!this.isSearchFormHidden,this.isSearchFormHidden?(e.mainContainer.classList.add("search-form-hidden"),e.searchFormToggle.innerHTML=wo.Z):(e.mainContainer.classList.remove("search-form-hidden"),e.searchFormToggle.innerHTML=yo.Z),this.resize()}toggleRightPanelOverlay(e,t){const{overlayContainer:n}=this.elements.result;if(e)return"loading"==e?(n.innerHTML='<div class="sk-circle">\n        <div class="sk-circle1 sk-child"></div>\n        <div class="sk-circle2 sk-child"></div>\n        <div class="sk-circle3 sk-child"></div>\n        <div class="sk-circle4 sk-child"></div>\n        <div class="sk-circle5 sk-child"></div>\n        <div class="sk-circle6 sk-child"></div>\n        <div class="sk-circle7 sk-child"></div>\n        <div class="sk-circle8 sk-child"></div>\n        <div class="sk-circle9 sk-child"></div>\n        <div class="sk-circle10 sk-child"></div>\n        <div class="sk-circle11 sk-child"></div>\n        <div class="sk-circle12 sk-child"></div>\n      </div>',void(n.style.display="")):"no-results"==e?(n.innerHTML=`<div class="message">\n        ${ji.Z}\n        <span>No results found</span>\n      </div>`,void(n.style.display="")):"ready"==e?(n.innerHTML=`<div class="message">\n        ${vo.Z}\n        <span>Ready to search traces</span>\n      </div>`,void(n.style.display="")):"error"==e?(n.innerHTML=`<div class="message">\n        ${ve.Z}\n        <span>${t}</span>\n      </div>`,void(n.style.display="")):void 0;n.style.display="none"}getElement(){return this.elements.container}dispose(){this.dsManager.removeListener(N.UPDATED,this.binded.onDataSourceManagerUpdate),this.tracesTable.removeListener(ao.SELECTIONS_UPDATED,this.binded.onTableSelectionUpdated),this.tracesTable.removeListener(ao.TRACE_DOUBLE_CLICKED,this.binded.onTableTraceDoubleClicked),this.elements.header.statusContainer.removeEventListener("click",this.binded.onStatusClick,!1),this.elements.searchByTraceId.form.removeEventListener("submit",this.binded.onSearchByTraceIdFormSubmit,!1),this.elements.search.form.removeEventListener("submit",this.binded.onSearcFormSubmit,!1),this.elements.search.serviceSelect.removeEventListener("change",this.binded.onServiceSelectChange,!1),this.elements.search.lookbackSelect.removeEventListener("change",this.binded.onLookbackSelectChange,!1),this.elements.footer.addToStageButton.removeEventListener("click",this.binded.onAddToStageButtonClick,!1),this.elements.searchFormToggle.removeEventListener("click",this.binded.onSearchFormToggleClick,!1),this.tracesScatterPlot.removeListener(bo.POINT_CLICKED,this.binded.onTraceScatterPointClick),Object.values(this.tippyInstaces).forEach((e=>e.destroy())),this.tracesTable.dispose(),this.tracesScatterPlot.dispose(),this.customLookbackFlatpickr.destroy()}}var Lo=n(58131);s()(Lo.Z,{insert:"head",singleton:!1}),Lo.Z.locals;var Mo,Io=function(e,t,n,i){return new(n||(n=Promise))((function(o,s){function a(e){try{l(i.next(e))}catch(e){s(e)}}function r(e){try{l(i.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,r)}l((i=i.apply(e,t||[])).next())}))};!function(e){e.LAST_HOUR="1h",e.LAST_2_HOURS="2h",e.LAST_3_HOURS="3h",e.LAST_6_HOURS="6h",e.LAST_12_HOURS="12h",e.LAST_24_HOURS="24h",e.LAST_2_DAYS="2d",e.LAST_7_DAYS="7d",e.CUSTOM="custom"}(Mo||(Mo={}));class Do{constructor(e){this.options=e,this.dsManager=j.getSingleton(),this.tracesTable=new lo,this.tracesScatterPlot=new fo({showStageBoundaries:!0}),this.traceResults=[],this.selectedTraceIds=[],this.isSearchFormHidden=!1,this.elements={container:document.createElement("div"),header:{statusContainer:document.createElement("span"),statusContent:document.createElement("div")},mainContainer:document.createElement("div"),result:{container:document.createElement("div"),scatterPlotContainer:document.createElement("div"),tableContainer:document.createElement("div"),overlayContainer:document.createElement("div")},footer:{container:document.createElement("div"),selectionText:document.createElement("span"),addToStageButton:document.createElement("button")},searchByTraceId:{form:document.createElement("form"),input:document.createElement("input"),button:document.createElement("button")},searchFormToggle:document.createElement("div"),search:{container:document.createElement("div"),form:document.createElement("form"),serviceSelect:document.createElement("select"),operationSelect:document.createElement("select"),tagsInput:document.createElement("input"),lookbackSelect:document.createElement("select"),customLookbackInput:document.createElement("input"),minDurationInput:document.createElement("input"),maxDurationInput:document.createElement("input"),limitInput:document.createElement("input"),button:document.createElement("button")}},this.binded={onDataSourceManagerUpdate:this.onDataSourceManagerUpdate.bind(this),onSearchByTraceIdFormSubmit:this.onSearchByTraceIdFormSubmit.bind(this),onSearcFormSubmit:this.onSearchFormSubmit.bind(this),onServiceSelectChange:this.onServiceSelectChange.bind(this),onLookbackSelectChange:this.onLookbackSelectChange.bind(this),onTableSelectionUpdated:this.onTableSelectionUpdated.bind(this),onTableTraceDoubleClicked:this.onTableTraceDoubleClicked.bind(this),onAddToStageButtonClick:this.onAddToStageButtonClick.bind(this),onTraceScatterPointClick:this.onTraceScatterPointClick.bind(this),onStatusClick:this.onStatusClick.bind(this),onSearchFormToggleClick:this.onSearchFormToggleClick.bind(this)},this.api=this.dsManager.apiFor(this.options.dataSource);const t=this.elements;t.container.classList.add("zipkin-search-modal-content");const n=document.createElement("div");n.classList.add("header"),t.container.appendChild(n),t.mainContainer.classList.add("main"),this.isSearchFormHidden&&t.mainContainer.classList.add("search-form-hidden"),t.container.appendChild(t.mainContainer),t.search.container.classList.add("search-form-container"),t.mainContainer.appendChild(t.search.container),t.searchFormToggle.classList.add("search-form-toggle"),t.searchFormToggle.innerHTML=this.isSearchFormHidden?wo.Z:yo.Z,t.mainContainer.appendChild(t.searchFormToggle),t.result.container.classList.add("result"),t.mainContainer.appendChild(t.result.container),t.result.scatterPlotContainer.classList.add("scatter-plot-container"),t.result.container.appendChild(t.result.scatterPlotContainer),t.result.tableContainer.classList.add("table-container"),t.result.container.appendChild(t.result.tableContainer),t.footer.container.classList.add("footer"),t.result.container.appendChild(t.footer.container),t.result.overlayContainer.classList.add("overlay-container"),t.result.container.appendChild(t.result.overlayContainer),this.toggleRightPanelOverlay("ready");const i=document.createElement("div");i.classList.add("title-container"),n.appendChild(i);const o=document.createElement("span");o.textContent="API Status:",i.appendChild(o),t.header.statusContainer.classList.add("status"),i.appendChild(t.header.statusContainer);{const{form:e,input:t,button:i}=this.elements.searchByTraceId;e.classList.add("search-by-trace-id","input-button-group"),n.appendChild(e),t.classList.add("small"),t.required=!0,t.placeholder="Search by Trace ID...",e.appendChild(t),i.textContent="Search",i.type="submit",i.classList.add("secondary","small"),e.appendChild(i)}{const{form:e,serviceSelect:n,operationSelect:i,tagsInput:o,lookbackSelect:s,customLookbackInput:a,minDurationInput:r,maxDurationInput:l,limitInput:c,button:d}=this.elements.search;t.search.container.appendChild(e);const A=document.createElement("div");A.classList.add("field"),e.appendChild(A);const p=document.createElement("div");p.textContent="Service",p.classList.add("field-title"),A.appendChild(p),n.classList.add("small"),n.required=!0,A.appendChild(n);const h=document.createElement("div");h.classList.add("field"),e.appendChild(h);const m=document.createElement("div");m.textContent="Operation",m.classList.add("field-title"),h.appendChild(m),i.classList.add("small"),i.required=!0,h.appendChild(i);const u=document.createElement("div");u.classList.add("field"),e.appendChild(u);const g=document.createElement("div");g.textContent="Tags",g.classList.add("field-title"),u.appendChild(g),o.classList.add("small"),o.placeholder="http.uri=/foo and retried",u.appendChild(o);const C=document.createElement("div");C.classList.add("field"),e.appendChild(C);const b=document.createElement("div");b.textContent="Lookback",b.classList.add("field-title"),C.appendChild(b),s.classList.add("small"),s.required=!0,C.appendChild(s),s.innerHTML=`<option value="${Mo.LAST_HOUR}">Last Hour</option>\n      <option value="${Mo.LAST_2_HOURS}">Last 2 Hours</option>\n      <option value="${Mo.LAST_3_HOURS}">Last 3 Hours</option>\n      <option value="${Mo.LAST_6_HOURS}">Last 6 Hours</option>\n      <option value="${Mo.LAST_12_HOURS}">Last 12 Hours</option>\n      <option value="${Mo.LAST_24_HOURS}">Last 24 Hours</option>\n      <option value="${Mo.LAST_2_DAYS}">Last 2 Days</option>\n      <option value="${Mo.LAST_7_DAYS}">Last 7 Days</option>\n      <option value="${Mo.CUSTOM}">Custom</option>`,C.appendChild(a);const f=document.createElement("div");f.classList.add("field"),e.appendChild(f);const E=document.createElement("div");E.textContent="Min Duration",E.classList.add("field-title"),f.appendChild(E),r.classList.add("small"),r.placeholder="e.g. 1.2s, 100ms, 500us",f.appendChild(r);const B=document.createElement("div");B.classList.add("field"),e.appendChild(B);const v=document.createElement("div");v.textContent="Max Duration",v.classList.add("field-title"),B.appendChild(v),l.classList.add("small"),l.placeholder="e.g. 1.2s, 100ms, 500us",B.appendChild(l);const y=document.createElement("div");y.classList.add("field"),e.appendChild(y);const w=document.createElement("div");w.textContent="Limit",w.classList.add("field-title"),y.appendChild(w),c.classList.add("small"),c.type="number",c.min="1",c.value="100",c.required=!0,y.appendChild(c),d.textContent="Search",d.type="submit",d.classList.add("secondary","small"),e.appendChild(d)}t.footer.selectionText.innerHTML="No trace selected",t.footer.container.appendChild(t.footer.selectionText),t.footer.addToStageButton.classList.add("primary","small"),t.footer.addToStageButton.textContent="Add to Stage",t.footer.addToStageButton.disabled=!0,t.footer.container.appendChild(t.footer.addToStageButton)}init(){this.initTippyInstances(),this.dsManager.on(N.UPDATED,this.binded.onDataSourceManagerUpdate),this.tracesTable.on(ao.SELECTIONS_UPDATED,this.binded.onTableSelectionUpdated),this.tracesTable.on(ao.TRACE_DOUBLE_CLICKED,this.binded.onTableTraceDoubleClicked),this.elements.header.statusContainer.addEventListener("click",this.binded.onStatusClick,!1),this.elements.searchByTraceId.form.addEventListener("submit",this.binded.onSearchByTraceIdFormSubmit,!1),this.elements.searchFormToggle.addEventListener("click",this.binded.onSearchFormToggleClick,!1),this.elements.search.form.addEventListener("submit",this.binded.onSearcFormSubmit,!1),this.elements.search.serviceSelect.addEventListener("change",this.binded.onServiceSelectChange,!1),this.elements.search.lookbackSelect.addEventListener("change",this.binded.onLookbackSelectChange,!1),this.elements.footer.addToStageButton.addEventListener("click",this.binded.onAddToStageButtonClick,!1),this.customLookbackFlatpickr=(0,Ao.Z)(this.elements.search.customLookbackInput,{mode:"range",enableTime:!0,time_24hr:!0,dateFormat:"Z",altInput:!0,altFormat:"M d, H:i",locale:{rangeSeparator:" - ",firstDayOfWeek:1}}),this.onLookbackSelectChange();const{tableContainer:e}=this.elements.result;this.tracesTable.mount(e),this.tracesTable.init({width:e.offsetWidth,height:e.offsetHeight,showInStageColumn:!0,indicateTracesOverlappingWithStage:!0});const{scatterPlotContainer:t}=this.elements.result;this.tracesScatterPlot.mount(t),this.tracesScatterPlot.init({width:t.offsetWidth,height:t.offsetHeight}),this.tracesScatterPlot.on(bo.POINT_CLICKED,this.binded.onTraceScatterPointClick)}initTippyInstances(){this.tippyInstaces={status:(0,i.t)(this.elements.header.statusContainer,{delay:0,duration:0,updateDuration:0,content:this.elements.header.statusContent,theme:"tooltip",placement:"top"})}}testApiAndFetchServices(){return Io(this,void 0,void 0,(function*(){const e=this.elements;e.header.statusContainer.classList.remove("success","error","warning"),e.header.statusContainer.innerHTML='<div class="sk-circle">\n      <div class="sk-circle1 sk-child"></div>\n      <div class="sk-circle2 sk-child"></div>\n      <div class="sk-circle3 sk-child"></div>\n      <div class="sk-circle4 sk-child"></div>\n      <div class="sk-circle5 sk-child"></div>\n      <div class="sk-circle6 sk-child"></div>\n      <div class="sk-circle7 sk-child"></div>\n      <div class="sk-circle8 sk-child"></div>\n      <div class="sk-circle9 sk-child"></div>\n      <div class="sk-circle10 sk-child"></div>\n      <div class="sk-circle11 sk-child"></div>\n      <div class="sk-circle12 sk-child"></div>\n    </div>',e.header.statusContent.textContent="Testing the API...";const[t]=yield Eo(this.api.test());if(t)return e.header.statusContainer.classList.add("error"),e.header.statusContainer.innerHTML=Bo.Z,void(e.header.statusContent.textContent=t.message);const[n,i]=yield Eo(this.api.getServices());if(n)return e.header.statusContainer.classList.add("error"),e.header.statusContainer.innerHTML=Bo.Z,void(e.header.statusContent.textContent=`Could not get services from API: "${n.message}"`);if(!i||!i.length)return e.header.statusContainer.classList.add("warning"),e.header.statusContainer.innerHTML=Tn.Z,void(e.header.statusContent.textContent="There is no services found");const o=i.sort();this.elements.search.serviceSelect.innerHTML=o.map((e=>`<option value="${e}">${e}</option>`)).join("");const s=this.elements.search.serviceSelect.value;o.indexOf(s)>-1&&(this.elements.search.serviceSelect.value=s),this.updateOperationsSelect(),e.header.statusContainer.classList.add("success"),e.header.statusContainer.innerHTML=oo.Z,e.header.statusContent.textContent="API is OK"}))}onShow(){const{tableContainer:e,scatterPlotContainer:t}=this.elements.result;this.tracesScatterPlot.resize(t.offsetWidth,t.offsetHeight),this.tracesTable.resize(e.offsetWidth,e.offsetHeight),this.tracesTable.redrawTable(!0),this.testApiAndFetchServices()}updateOperationsSelect(){return Io(this,void 0,void 0,(function*(){const e=this.elements.search.serviceSelect.value,t=this.elements.search.operationSelect.value;try{const n=["all",...(yield this.api.getSpans(e)).sort()];this.elements.search.operationSelect.innerHTML=n.map((e=>`<option value="${e}">${e}</option>`)).join(""),n.indexOf(t)>-1&&(this.elements.search.operationSelect.value=t)}catch(e){new(Ee())({text:`Could not fetch operations from API: "${e.message}"`,type:"error"}).show()}}))}onDataSourceManagerUpdate(e){e.id==this.options.dataSource.id&&(this.options.dataSource=e,this.api=this.dsManager.apiFor(e))}onSearchByTraceIdFormSubmit(e){return Io(this,void 0,void 0,(function*(){e.preventDefault(),this.traceResults=[],this.elements.searchByTraceId.button.disabled=!0,this.toggleRightPanelOverlay("loading");try{const e=this.elements.searchByTraceId,t=yield this.api.getTrace(e.input.value);this.traceResults=t.length>0?[new _t(t)]:[],this.tracesScatterPlot.setTraces(this.traceResults),this.tracesTable.updateTraces(this.traceResults),this.toggleRightPanelOverlay(0==this.traceResults.length&&"no-results"),window.Countly&&window.Countly.add_event({key:"trace_searched_by_id",count:1,segmentation:{type:"zipkin",resultCount:this.traceResults.length}})}catch(e){this.toggleRightPanelOverlay("error",e.message),window.Countly&&window.Countly.add_event({key:"trace_search_by_id_error",count:1,segmentation:{type:"zipkin",message:e.message}})}this.elements.searchByTraceId.button.disabled=!1}))}onSearchFormSubmit(e){return Io(this,void 0,void 0,(function*(){e.preventDefault(),this.traceResults=[],this.elements.search.button.disabled=!0,this.toggleRightPanelOverlay("loading");try{const e=this.elements.search,t={serviceName:e.serviceSelect.value};if(e.operationSelect.value&&"all"!=e.operationSelect.value&&(t.spanName=e.operationSelect.value),e.tagsInput.value&&(t.annotationQuery=e.tagsInput.value),e.lookbackSelect.value==Mo.CUSTOM){const e=this.customLookbackFlatpickr.input.value.trim().split(" - ");if(2!=e.length)throw new Error("Unsupported custom lookback");t.endTs=new Date(e[1]).getTime(),t.lookback=t.endTs-new Date(e[0]).getTime()}else{const n=(0,co.Z)(e.lookbackSelect.value);t.endTs=Date.now(),t.lookback=n}e.minDurationInput.value&&(t.minDuration=1e3*(0,co.Z)(e.minDurationInput.value)),e.maxDurationInput.value&&(t.maxDuration=1e3*(0,co.Z)(e.maxDurationInput.value));const n=parseInt(e.limitInput.value,10);if(isNaN(n))throw new Error("Unsupported limit value");t.limit=n;const i=yield this.api.search(t);this.traceResults=i.map((e=>new _t(e))),this.tracesScatterPlot.setTraces(this.traceResults),this.tracesTable.updateTraces(this.traceResults),this.toggleRightPanelOverlay(0==this.traceResults.length&&"no-results"),window.Countly&&window.Countly.add_event({key:"trace_searched",count:1,segmentation:{type:"zipkin",resultCount:this.traceResults.length}})}catch(e){this.toggleRightPanelOverlay("error",e.message),window.Countly&&window.Countly.add_event({key:"trace_search_error",count:1,segmentation:{type:"zipkin",message:e.message}})}this.elements.search.button.disabled=!1}))}onServiceSelectChange(){this.updateOperationsSelect()}onLookbackSelectChange(){this.elements.search.lookbackSelect.value==Mo.CUSTOM?(this.customLookbackFlatpickr.altInput.style.display="",this.customLookbackFlatpickr.open()):this.customLookbackFlatpickr.altInput.style.display="none"}resize(){const{tableContainer:e,scatterPlotContainer:t}=this.elements.result;this.tracesScatterPlot.resize(t.offsetWidth,t.offsetHeight),this.tracesTable.resize(e.offsetWidth,e.offsetHeight)}onTableSelectionUpdated(e){return Io(this,void 0,void 0,(function*(){if(this.selectedTraceIds=e.map((e=>e.id)),0==e.length)return this.elements.footer.addToStageButton.disabled=!0,void(this.elements.footer.selectionText.textContent="No trace selected");let t=`${e.length} traces`;1==e.length&&(t="1 trace"),this.elements.footer.selectionText.innerHTML=`<strong>${t}</strong> selected`,this.elements.footer.addToStageButton.disabled=!1}))}onTableTraceDoubleClicked(e){var t,n;return Io(this,void 0,void 0,(function*(){const i=this.traceResults.filter((t=>t.id==e.id));null===(n=(t=this.options).onTracesAdd)||void 0===n||n.call(t,i),this.tracesTable.selectTrace(null),this.reloadTableData()}))}onAddToStageButtonClick(){var e,t;const n=this.selectedTraceIds.map((e=>m()(this.traceResults,(t=>t.id==e))));null===(t=(e=this.options).onTracesAdd)||void 0===t||t.call(e,n),this.tracesTable.selectTrace(null),this.reloadTableData()}onTraceScatterPointClick(e){this.tracesTable.selectTrace(e.id),this.tracesTable.focusTrace(e.id)}onStatusClick(){this.testApiAndFetchServices()}reloadTableData(){this.tracesTable.reloadData()}onSearchFormToggleClick(){const e=this.elements;this.isSearchFormHidden=!this.isSearchFormHidden,this.isSearchFormHidden?(e.mainContainer.classList.add("search-form-hidden"),e.searchFormToggle.innerHTML=wo.Z):(e.mainContainer.classList.remove("search-form-hidden"),e.searchFormToggle.innerHTML=yo.Z),this.resize()}toggleRightPanelOverlay(e,t){const{overlayContainer:n}=this.elements.result;if(e)return"loading"==e?(n.innerHTML='<div class="sk-circle">\n        <div class="sk-circle1 sk-child"></div>\n        <div class="sk-circle2 sk-child"></div>\n        <div class="sk-circle3 sk-child"></div>\n        <div class="sk-circle4 sk-child"></div>\n        <div class="sk-circle5 sk-child"></div>\n        <div class="sk-circle6 sk-child"></div>\n        <div class="sk-circle7 sk-child"></div>\n        <div class="sk-circle8 sk-child"></div>\n        <div class="sk-circle9 sk-child"></div>\n        <div class="sk-circle10 sk-child"></div>\n        <div class="sk-circle11 sk-child"></div>\n        <div class="sk-circle12 sk-child"></div>\n      </div>',void(n.style.display="")):"no-results"==e?(n.innerHTML=`<div class="message">\n        ${ji.Z}\n        <span>No results found</span>\n      </div>`,void(n.style.display="")):"ready"==e?(n.innerHTML=`<div class="message">\n        ${vo.Z}\n        <span>Ready to search traces</span>\n      </div>`,void(n.style.display="")):"error"==e?(n.innerHTML=`<div class="message">\n        ${ve.Z}\n        <span>${t}</span>\n      </div>`,void(n.style.display="")):void 0;n.style.display="none"}getElement(){return this.elements.container}dispose(){this.dsManager.removeListener(N.UPDATED,this.binded.onDataSourceManagerUpdate),this.tracesTable.removeListener(ao.SELECTIONS_UPDATED,this.binded.onTableSelectionUpdated),this.tracesTable.removeListener(ao.TRACE_DOUBLE_CLICKED,this.binded.onTableTraceDoubleClicked),this.elements.header.statusContainer.removeEventListener("click",this.binded.onStatusClick,!1),this.elements.searchByTraceId.form.removeEventListener("submit",this.binded.onSearchByTraceIdFormSubmit,!1),this.elements.search.form.removeEventListener("submit",this.binded.onSearcFormSubmit,!1),this.elements.search.serviceSelect.removeEventListener("change",this.binded.onServiceSelectChange,!1),this.elements.search.lookbackSelect.removeEventListener("change",this.binded.onLookbackSelectChange,!1),this.elements.footer.addToStageButton.removeEventListener("click",this.binded.onAddToStageButtonClick,!1),this.elements.searchFormToggle.removeEventListener("click",this.binded.onSearchFormToggleClick,!1),this.tracesScatterPlot.removeListener(bo.POINT_CLICKED,this.binded.onTraceScatterPointClick),Object.values(this.tippyInstaces).forEach((e=>e.destroy())),this.tracesTable.dispose(),this.tracesScatterPlot.dispose(),this.customLookbackFlatpickr.destroy()}}n(26592),n(38657),n(62363);var Ro=n(89780);s()(Ro.Z,{insert:"head",singleton:!1}),Ro.Z.locals;var Oo=n(33598);s()(Oo.Z,{insert:"head",singleton:!1}),Oo.Z.locals;var _o=n(76056);s()(_o.Z,{insert:"head",singleton:!1}),_o.Z.locals;var Po=n(27001);s()(Po.Z,{insert:"head",singleton:!1}),Po.Z.locals;var zo=n(58997);s()(zo.Z,{insert:"head",singleton:!1}),zo.Z.locals;var No,Fo=function(e,t,n,i){return new(n||(n=Promise))((function(o,s){function a(e){try{l(i.next(e))}catch(e){s(e)}}function r(e){try{l(i.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,r)}l((i=i.apply(e,t||[])).next())}))};!function(e){e.TIMELINE="timeline-view",e.SPANS_TABLE="spans-table",e.SPAN_SUMMARY="span-summary",e.SPAN_TAGS="span-tags",e.SPAN_PROCESS_TAGS="span-process-tags",e.SPAN_LOGS="span-logs"}(No||(No={}));class Uo{constructor(e){this.options=e,this.stage=ie.getSingleton(),this.contextMenuManager=Un.getSingleton(),this.settingsManager=io.getSingleton(),this.timeline=new fi,this.spanSummary=new Ui,this.spanTags=new Zi,this.spanProcessTags=new Yi,this.spanLogs=new Ji,this.spansTable=new Di,this.dockPanel=new Ei.DockPanel,this.widgets={},this.dropZoneEl=document.createElement("div"),this.dataSourceSearchWidgets={},this.binded={onStageTraceAdded:this.onStageTraceAdded.bind(this),onStageTraceRemoved:this.onStageTraceRemoved.bind(this),onTimelineSpanSelected:this.onTimelineSpanSelected.bind(this),onSpansTableSpanSelected:this.onSpansTableSpanSelected.bind(this),onWindowResize:this.onWindowResize.bind(this),onDrop:this.onDrop.bind(this),onDragOver:this.onDragOver.bind(this),onDragLeave:this.onDragLeave.bind(this),showSpanInTableView:this.showSpanInTableView.bind(this),showSpanInTimelineView:this.showSpanInTimelineView.bind(this),onKeyDown:this.onKeyDown.bind(this),onToolbarDataSourceClick:this.onToolbarDataSourceClick.bind(this)},this.toolbar=new Ye({onDataSourceClick:this.binded.onToolbarDataSourceClick})}init(){return Fo(this,void 0,void 0,(function*(){yield Promise.all([io.getSingleton().init(),j.getSingleton().init(),dt.getSingleton().init(),vt.getSingleton().init(),Dt.getSingleton().init(),at.getSingleton().init()]),this.contextMenuManager.init(),this.initDockPanelAndWidgets(),this.toolbar.mount(this.options.element);const e=this.widgets[No.TIMELINE].node;this.timeline.mount(e);const{offsetWidth:t,offsetHeight:n}=e;this.timeline.init({width:t,height:n}),this.toolbar.init();const i=this.widgets[No.SPANS_TABLE].node;this.spansTable.mount(i);const{offsetWidth:o,offsetHeight:s}=i;this.spansTable.init({width:o,height:s});const a=this.widgets[No.SPAN_SUMMARY].node;this.spanSummary.mount(a),this.spanSummary.init({timeline:this.timeline.timeline,spansTable:this.spansTable});const r=this.widgets[No.SPAN_TAGS].node;this.spanTags.mount(r),this.spanTags.init({timeline:this.timeline.timeline,spansTable:this.spansTable});const l=this.widgets[No.SPAN_PROCESS_TAGS].node;this.spanProcessTags.mount(l),this.spanProcessTags.init({timeline:this.timeline.timeline,spansTable:this.spansTable});const c=this.widgets[No.SPAN_LOGS].node;this.spanLogs.mount(c),this.spanLogs.init({timeline:this.timeline.timeline,spansTable:this.spansTable}),this.initDropZone(),this.stage.on(J.TRACE_ADDED,this.binded.onStageTraceAdded),this.stage.on(J.TRACE_REMOVED,this.binded.onStageTraceRemoved),this.timeline.timeline.on(jn.SPAN_SELECTED,this.binded.onTimelineSpanSelected),this.spansTable.on(Mi.SPAN_SELECTED,this.binded.onSpansTableSpanSelected),window.addEventListener("resize",this.binded.onWindowResize,!1),this.options.element.addEventListener("drop",this.binded.onDrop,!1),this.options.element.addEventListener("dragover",this.binded.onDragOver,!1),this.dropZoneEl.addEventListener("dragleave",this.binded.onDragLeave,!1),this.contextMenuManager.on(zn.SHOW_SPAN_IN_TABLE_VIEW,this.binded.showSpanInTableView),this.contextMenuManager.on(zn.SHOW_SPAN_IN_TIMELINE_VIEW,this.binded.showSpanInTimelineView),document.addEventListener("keydown",this.binded.onKeyDown,!1);const d=document.getElementById("initial-loading");d&&(d.addEventListener("transitionend",(()=>{document.body.removeChild(d)}),{once:!0}),d.classList.add("hidden")),window.Countly&&window.Countly.add_event({key:"ready",count:1,segmentation:{}}),matchMedia("(hover: none)").matches&&this.showTouchDeviceWarningModal(),window.opener&&(window.addEventListener("message",(e=>{try{const t=JSON.parse(e.data);Object.values(t).forEach((e=>{const t=new _t(e);this.stage.addTrace(t)})),window.Countly&&window.Countly.add_event({key:"trace_added_from_postmessage",count:1,segmentation:{traceCount:Object.keys(t).length}})}catch(t){console.error("Could not parse incoming message, it must be JSON",e.data)}})),window.opener.postMessage("ready"))}))}initDockPanelAndWidgets(){this.dockPanel.id="app-dock-panel",this.widgets[No.TIMELINE]=new yi({title:"Timeline View",onResize:Fe()((e=>{this.onTimelineWidgetResize(e)}),100),closable:!1}),this.widgets[No.SPANS_TABLE]=new yi({title:"Table View",onResize:Fe()((e=>{this.spansTable.resize(e.width,e.height)}),100),onAfterShow:()=>this.spansTable.redrawTable(),closable:!1}),this.widgets[No.SPAN_SUMMARY]=new yi({title:"Span Summary",onResize:Fe()((e=>{this.spanSummary.resize(e.width,e.height)}),100),closable:!1}),this.widgets[No.SPAN_TAGS]=new yi({title:"Span Tags",onResize:Fe()((e=>{this.spanTags.resize(e.width,e.height)}),100),closable:!1}),this.widgets[No.SPAN_PROCESS_TAGS]=new yi({title:"Process Tags",onResize:Fe()((e=>{this.spanProcessTags.resize(e.width,e.height)}),100),closable:!1}),this.widgets[No.SPAN_LOGS]=new yi({title:"Span Logs",onResize:Fe()((e=>{this.spanLogs.resize(e.width,e.height)}),100),closable:!1}),this.dockPanel.restoreLayout(this.getDockPanelLayout()),Ei.DockPanel.attach(this.dockPanel,this.options.element)}onStageTraceAdded(e){this.timeline.addTrace(e)}onStageTraceRemoved(e){this.timeline.removeTrace(e),Object.values(this.dataSourceSearchWidgets).forEach((({component:e})=>{e.reloadTableData()}))}onTimelineSpanSelected(e){this.spansTable.selectSpan(e,!0),this.spansTable.focusSpan(e)}onSpansTableSpanSelected(e){this.timeline.timeline.selectSpan(e,!0),this.timeline.timeline.focusSpans([e])}onWindowResize(){this.dockPanel.update()}onTimelineWidgetResize(e){this.timeline.resize(e.width,e.height)}initDropZone(){this.dropZoneEl.id="drop-zone",this.dropZoneEl.innerHTML='<div class="border"></div>\n      <div class="overlay-text">Drop JSON trace file(s) here</div>',this.options.element.appendChild(this.dropZoneEl)}onDrop(e){return Fo(this,void 0,void 0,(function*(){e.preventDefault(),this.dropZoneEl.style.display="none";const t=[],n=Array.from(e.dataTransfer.items).map((e=>Fo(this,void 0,void 0,(function*(){if("file"!=e.kind)return void t.push("Only files can be dropped");const n=e.getAsFile();if("application/json"!=n.type)return void t.push(`${n.name}: Not a JSON file`);let i,o="";try{o=yield function(e){return Fo(this,void 0,void 0,(function*(){return new Promise(((t,n)=>{const i=new FileReader;i.onerror=n,i.onload=()=>t(i.result),i.readAsText(e)}))}))}(n)}catch(e){return void t.push(`${n.name}: Could not read its content -- ${e.message}`)}try{i=JSON.parse(o)}catch(e){return void t.push(`${n.name}: Invalid JSON`)}try{this.openDroppedJSONFiles(i)}catch(e){t.push(`${n.name}: ${e.message}`)}}))));if(yield Promise.all(n),t.length>0){const e=`Following errors occured while importing:\n        <ul>${t.map((e=>`<li>${e}</li>`)).join("")}</ul>`;new(Ee())({text:e,type:"error"}).show()}window.Countly&&window.Countly.add_event({key:"json_file_dropped",count:1,segmentation:{errorCount:t.length}})}))}onDragOver(e){e.preventDefault(),this.dropZoneEl.style.display="block"}onDragLeave(e){this.dropZoneEl.style.display="none"}openDroppedJSONFiles(e){if(function(e){if(!v()(e))return!1;if(!w()(e.data))return!1;if(0===e.data.length)return!0;const t=e.data[0];return!!v()(t)&&E()(t.traceID)&&w()(t.spans)}(e))return e.data.forEach((e=>{const t=I(e),n=new _t(t);this.stage.addTrace(n)})),void(window.Countly&&window.Countly.add_event({key:"trace_added_from_json_file",count:1,segmentation:{type:"jaeger",traceCount:e.data.length}}));if(function(e){if(!w()(e))return!1;const t=e[0];if(w()(t)){const e=t[0];return!!v()(e)&&E()(e.traceId)&&E()(e.id)}if(v()(t)){const e=t;return E()(e.traceId)&&E()(e.id)}return!1}(e)){if(w()(e[0]))return e.forEach((e=>{const t=O(e),n=new _t(t);this.stage.addTrace(n)})),void(window.Countly&&window.Countly.add_event({key:"trace_added_from_json_file",count:1,segmentation:{type:"zipkin",traceCount:e.length}}));if(v()(e[0])){const t=O(e),n=new _t(t);return this.stage.addTrace(n),void(window.Countly&&window.Countly.add_event({key:"trace_added_from_json_file",count:1,segmentation:{type:"zipkin",traceCount:1}}))}throw new Error("Unrecognized Zipkin format")}throw window.Countly&&window.Countly.add_event({key:"unrecognized_json_file",count:1,segmentation:{}}),new Error("Unrecognized JSON file")}showSpanInTableView(e){return Fo(this,void 0,void 0,(function*(){e&&(yield this.spansTable.removeFilter(),this.spansTable.selectSpan(e,!0),this.dockPanel.activateWidget(this.widgets[No.SPANS_TABLE]),setTimeout((()=>this.spansTable.focusSpan(e)),100))}))}showSpanInTimelineView(e){e&&(this.timeline.timeline.selectSpan(e,!0),this.timeline.timeline.focusSpans([e]),this.dockPanel.activateWidget(this.widgets[No.TIMELINE]))}onKeyDown(e){e.target instanceof HTMLInputElement||e.target instanceof HTMLTextAreaElement||"a"!=e.key||!e.ctrlKey&&!e.metaKey||e.preventDefault()}onToolbarDataSourceClick(e){if(this.dataSourceSearchWidgets[e.id]){const t=this.dataSourceSearchWidgets[e.id].widgetWrapper;return void this.dockPanel.activateWidget(t)}let t;if(e.type==p.JAEGER)t=new To({dataSource:e,onTracesAdd:e=>{e.forEach((e=>this.stage.addTrace(e))),this.dockPanel.activateWidget(this.widgets[No.TIMELINE]),window.Countly&&window.Countly.add_event({key:"trace_added_from_data_source",count:1,segmentation:{type:"jaeger",traceCount:e.length}})}});else{if(e.type!=p.ZIPKIN)throw new Error(`Unexpected data source type "${e.type}"`);t=new Do({dataSource:e,onTracesAdd:e=>{e.forEach((e=>this.stage.addTrace(e))),this.dockPanel.activateWidget(this.widgets[No.TIMELINE]),window.Countly&&window.Countly.add_event({key:"trace_added_from_data_source",count:1,segmentation:{type:"zipkin",traceCount:e.length}})}})}const n=new yi({title:`Search: ${e.name}`,onResize:Fe()((()=>t.resize()),100),onAfterShow:()=>t.onShow(),closable:!0,onClose:()=>{t.dispose(),delete this.dataSourceSearchWidgets[e.id]}});n.node.appendChild(t.getElement()),this.dockPanel.addWidget(n),t.init(),this.dockPanel.activateWidget(n),this.dataSourceSearchWidgets[e.id]={dataSource:e,widgetWrapper:n,component:t}}getDockPanelLayout(){return{main:{children:[{type:"tab-area",currentIndex:0,widgets:[this.widgets[No.TIMELINE],this.widgets[No.SPANS_TABLE]]},{type:"split-area",orientation:"horizontal",sizes:[.33,.33,.33],children:[{type:"tab-area",currentIndex:0,widgets:[this.widgets[No.SPAN_SUMMARY]]},{type:"tab-area",currentIndex:0,widgets:[this.widgets[No.SPAN_TAGS],this.widgets[No.SPAN_PROCESS_TAGS]]},{type:"tab-area",currentIndex:0,widgets:[this.widgets[No.SPAN_LOGS]]}]}],orientation:"vertical",sizes:[.7,.3],type:"split-area"}}}showTouchDeviceWarningModal(){const e=document.createElement("div");e.classList.add("touch-device-warning"),e.innerHTML=`\n      <div>\n        <div>${Tn.Z}</div>\n        <div class="message">\n          Stalk is not optimized for touch devices. Please use a desktop browser for the best experience.\n        </div>\n        <button class="primary">Okay</button>\n      </div>\n    `.trim();const t=e.querySelector("button.primary"),n=new ge({content:e,shouldCloseOnEscPress:!0,shouldCloseOnOverlayClick:!0});t.addEventListener("click",(()=>{n.close()}),{once:!0}),be.getSingleton().show(n)}dispose(){window.removeEventListener("resize",this.binded.onWindowResize,!1),this.options.element.removeEventListener("drop",this.binded.onDrop,!1),this.options.element.removeEventListener("dragover",this.binded.onDragOver,!1),this.dropZoneEl.removeEventListener("dragleave",this.binded.onDragLeave,!1),this.contextMenuManager.removeListener(zn.SHOW_SPAN_IN_TABLE_VIEW,this.binded.showSpanInTableView),this.contextMenuManager.removeListener(zn.SHOW_SPAN_IN_TIMELINE_VIEW,this.binded.showSpanInTimelineView),document.removeEventListener("keydown",this.binded.onKeyDown,!1),this.toolbar.dispose(),this.toolbar=null,this.timeline.dispose(),this.timeline=null,this.options=null}}},73804:()=>{},52361:()=>{},94616:()=>{}}]);
//# sourceMappingURL=app.js.map